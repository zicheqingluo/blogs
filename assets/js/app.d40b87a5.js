(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],r=!0,s=1;s<e.length;s++){var l=e[s];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),n=a(a.s=e[0]))}return n}var r={},i={2:0},o=[];function a(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.e=function(n){var t=[],e=i[n];if(0!==e)if(e)t.push(e[2]);else{var r=new Promise((function(t,r){e=i[n]=[t,r]}));t.push(e[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(n){return a.p+"assets/js/"+({}[n]||n)+"."+{1:"82139cbe",3:"6d6f7fe5",4:"f90eb11f",5:"8774cf59",6:"2aedd5ee",7:"a381cca3",8:"309e478e",9:"1c01e9f4",10:"3a4eb520",11:"fa3dfb67",12:"c2ee6b66",13:"f28da33f",14:"f0e6ba78",15:"e54940a3",16:"d47385d7",17:"daa3c9ab",18:"61fd8428",19:"65b8b43d",20:"2edf6af0",21:"1b1c0276",22:"700094c9",23:"ddcfecc5",24:"65af54e8",25:"9f100f25",26:"1ed5da43",27:"8f60ccf7",28:"f154a4cf",29:"c6e3498b",30:"0c632ca4",31:"b0f5c35f",32:"a0698157",33:"226802c4",34:"cd1ed406",35:"5e596539",36:"d6479099",37:"708a39c7",38:"45843ea4",39:"6c1fc61e",40:"7f282eb6",41:"573a66d6",42:"943af4c9",43:"6c0558ad",44:"b44c6c13",45:"1ab10f63",46:"150b2dbf",47:"effe2ad7",48:"01a86185",49:"44c01b3e",50:"2e731699",51:"4c5976eb",52:"6cbdb7ab",53:"59fdbe6c",54:"e8ee9e30",55:"1a04e07c",56:"3ad2af91",57:"67169572",58:"de1bad3e",59:"9372813a",60:"12e987d9",61:"aed8dd65",62:"ad0029af",63:"91ca13a1",64:"b4072c37",65:"25a39b2e",66:"6a0c5450",67:"a2b59e9e",68:"078b97e3",69:"f7864b29",70:"e067ae54",71:"1916ad01",72:"52416b3f",73:"ff024745",74:"4dbfcf1c",75:"0f749e9e"}[n]+".js"}(n);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var e=i[n];if(0!==e){if(e){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,e[1](l)}i[n]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=n,a.c=r,a.d=function(n,t,e){a.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},a.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},a.t=function(n,t){if(1&t&&(n=a(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)a.d(e,r,function(t){return n[t]}.bind(null,r));return e},a.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(t,"a",t),t},a.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},a.p="/",a.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([142,0]),e()}([function(n,t,e){"use strict";e.d(t,"a",(function(){return Wn})),e.d(t,"b",(function(){return er})),e.d(t,"c",(function(){return Qt})),e.d(t,"d",(function(){return dn})),e.d(t,"e",(function(){return Yt})),e.d(t,"f",(function(){return Xt})),e.d(t,"g",(function(){return Fn})),e.d(t,"h",(function(){return Un})),e.d(t,"i",(function(){return qn}));
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(n){return null==n}function a(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var p=Object.prototype.toString;function d(n){return"[object Object]"===p.call(n)}function m(n){return"[object RegExp]"===p.call(n)}function h(n){var t=parseFloat(String(n));return t>=0&&Math.floor(t)===t&&isFinite(n)}function g(n){return a(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function f(n){return null==n?"":Array.isArray(n)||d(n)&&n.toString===p?JSON.stringify(n,null,2):String(n)}function v(n){var t=parseFloat(n);return isNaN(t)?n:t}function y(n,t){for(var e=Object.create(null),r=n.split(","),i=0;i<r.length;i++)e[r[i]]=!0;return t?function(n){return e[n.toLowerCase()]}:function(n){return e[n]}}y("slot,component",!0);var b=y("key,ref,slot,slot-scope,is");function _(n,t){var e=n.length;if(e){if(t===n[e-1])return void(n.length=e-1);var r=n.indexOf(t);if(r>-1)return n.splice(r,1)}}var w=Object.prototype.hasOwnProperty;function x(n,t){return w.call(n,t)}function $(n){var t=Object.create(null);return function(e){return t[e]||(t[e]=n(e))}}var k=/-(\w)/g,T=$((function(n){return n.replace(k,(function(n,t){return t?t.toUpperCase():""}))})),E=$((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),A=/\B([A-Z])/g,D=$((function(n){return n.replace(A,"-$1").toLowerCase()}));var C=Function.prototype.bind?function(n,t){return n.bind(t)}:function(n,t){function e(e){var r=arguments.length;return r?r>1?n.apply(t,arguments):n.call(t,e):n.call(t)}return e._length=n.length,e};function P(n,t){t=t||0;for(var e=n.length-t,r=new Array(e);e--;)r[e]=n[e+t];return r}function S(n,t){for(var e in t)n[e]=t[e];return n}function I(n){for(var t={},e=0;e<n.length;e++)n[e]&&S(t,n[e]);return t}function j(n,t,e){}var O=function(n,t,e){return!1},L=function(n){return n};function M(n,t){if(n===t)return!0;var e=u(n),r=u(t);if(!e||!r)return!e&&!r&&String(n)===String(t);try{var i=Array.isArray(n),o=Array.isArray(t);if(i&&o)return n.length===t.length&&n.every((function(n,e){return M(n,t[e])}));if(n instanceof Date&&t instanceof Date)return n.getTime()===t.getTime();if(i||o)return!1;var a=Object.keys(n),s=Object.keys(t);return a.length===s.length&&a.every((function(e){return M(n[e],t[e])}))}catch(n){return!1}}function F(n,t){for(var e=0;e<n.length;e++)if(M(n[e],t))return e;return-1}function z(n){var t=!1;return function(){t||(t=!0,n.apply(this,arguments))}}function R(n,t){return n===t?0===n&&1/n!=1/t:n==n||t==t}var B=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:j,parsePlatformTagName:L,mustUseProp:O,async:!0,_lifecycleHooks:N},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(n){var t=(n+"").charCodeAt(0);return 36===t||95===t}function q(n,t,e,r){Object.defineProperty(n,t,{value:e,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^".concat(V.source,".$_\\d]"));var W="__proto__"in{},Y="undefined"!=typeof window,X=Y&&window.navigator.userAgent.toLowerCase(),Q=X&&/msie|trident/.test(X),J=X&&X.indexOf("msie 9.0")>0,K=X&&X.indexOf("edge/")>0;X&&X.indexOf("android");var Z=X&&/iphone|ipad|ipod|ios/.test(X);X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X);var nn,tn=X&&X.match(/firefox\/(\d+)/),en={}.watch,rn=!1;if(Y)try{var on={};Object.defineProperty(on,"passive",{get:function(){rn=!0}}),window.addEventListener("test-passive",null,on)}catch(n){}var an=function(){return void 0===nn&&(nn=!Y&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),nn},sn=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ln(n){return"function"==typeof n&&/native code/.test(n.toString())}var cn,un="undefined"!=typeof Symbol&&ln(Symbol)&&"undefined"!=typeof Reflect&&ln(Reflect.ownKeys);cn="undefined"!=typeof Set&&ln(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function dn(){return pn&&{proxy:pn}}function mn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var hn=function(){function n(n,t,e,r,i,o,a,s){this.tag=n,this.data=t,this.children=e,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),gn=function(n){void 0===n&&(n="");var t=new hn;return t.text=n,t.isComment=!0,t};function fn(n){return new hn(void 0,void 0,void 0,String(n))}function vn(n){var t=new hn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return t.ns=n.ns,t.isStatic=n.isStatic,t.key=n.key,t.isComment=n.isComment,t.fnContext=n.fnContext,t.fnOptions=n.fnOptions,t.fnScopeId=n.fnScopeId,t.asyncMeta=n.asyncMeta,t.isCloned=!0,t}var yn=0,bn=[],_n=function(){function n(){this._pending=!1,this.id=yn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,bn.push(this))},n.prototype.depend=function(t){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var t=this.subs.filter((function(n){return n}));for(var e=0,r=t.length;e<r;e++){0,t[e].update()}},n}();_n.target=null;var wn=[];function xn(n){wn.push(n),_n.target=n}function $n(){wn.pop(),_n.target=wn[wn.length-1]}var kn=Array.prototype,Tn=Object.create(kn);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var t=kn[n];q(Tn,n,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o=t.apply(this,e),a=this.__ob__;switch(n){case"push":case"unshift":i=e;break;case"splice":i=e.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var En=Object.getOwnPropertyNames(Tn),An={},Dn=!0;function Cn(n){Dn=n}var Pn={notify:j,depend:j,addSub:j,removeSub:j},Sn=function(){function n(n,t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this.value=n,this.shallow=t,this.mock=e,this.dep=e?Pn:new _n,this.vmCount=0,q(n,"__ob__",this),i(n)){if(!e)if(W)n.__proto__=Tn;else for(var r=0,o=En.length;r<o;r++){q(n,s=En[r],Tn[s])}t||this.observeArray(n)}else{var a=Object.keys(n);for(r=0;r<a.length;r++){var s;jn(n,s=a[r],An,void 0,t,e)}}}return n.prototype.observeArray=function(n){for(var t=0,e=n.length;t<e;t++)In(n[t],!1,this.mock)},n}();function In(n,t,e){return n&&x(n,"__ob__")&&n.__ob__ instanceof Sn?n.__ob__:!Dn||!e&&an()||!i(n)&&!d(n)||!Object.isExtensible(n)||n.__v_skip||Nn(n)||n instanceof hn?void 0:new Sn(n,t,e)}function jn(n,t,e,r,o,a){var s=new _n,l=Object.getOwnPropertyDescriptor(n,t);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||e!==An&&2!==arguments.length||(e=n[t]);var p=!o&&In(e,!1,a);return Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=c?c.call(n):e;return _n.target&&(s.depend(),p&&(p.dep.depend(),i(t)&&Mn(t))),Nn(t)&&!o?t.value:t},set:function(t){var r=c?c.call(n):e;if(R(r,t)){if(u)u.call(n,t);else{if(c)return;if(!o&&Nn(r)&&!Nn(t))return void(r.value=t);e=t}p=!o&&In(t,!1,a),s.notify()}}}),s}}function On(n,t,e){if(!Bn(n)){var r=n.__ob__;return i(n)&&h(t)?(n.length=Math.max(n.length,t),n.splice(t,1,e),r&&!r.shallow&&r.mock&&In(e,!1,!0),e):t in n&&!(t in Object.prototype)?(n[t]=e,e):n._isVue||r&&r.vmCount?e:r?(jn(r.value,t,e,void 0,r.shallow,r.mock),r.dep.notify(),e):(n[t]=e,e)}}function Ln(n,t){if(i(n)&&h(t))n.splice(t,1);else{var e=n.__ob__;n._isVue||e&&e.vmCount||Bn(n)||x(n,t)&&(delete n[t],e&&e.dep.notify())}}function Mn(n){for(var t=void 0,e=0,r=n.length;e<r;e++)(t=n[e])&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&Mn(t)}function Fn(n){return Rn(n,!1),n}function zn(n){return Rn(n,!0),q(n,"__v_isShallow",!0),n}function Rn(n,t){if(!Bn(n)){In(n,t,an());0}}function Bn(n){return!(!n||!n.__v_isReadonly)}function Nn(n){return!(!n||!0!==n.__v_isRef)}function Un(n){return Vn(n,!1)}function Vn(n,t){if(Nn(n))return n;var e={};return q(e,"__v_isRef",!0),q(e,"__v_isShallow",t),q(e,"dep",jn(e,"value",n,null,t,an())),e}function Gn(n,t,e){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var n=t[e];if(Nn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=t[e];Nn(r)&&!Nn(n)?r.value=n:t[e]=n}})}function qn(n){var t=i(n)?new Array(n.length):{};for(var e in n)t[e]=Hn(n,e);return t}function Hn(n,t,e){var r=n[t];if(Nn(r))return r;var i={get value(){var r=n[t];return void 0===r?e:r},set value(e){n[t]=e}};return q(i,"__v_isRef",!0),i}function Wn(n,t){var e,r,i=c(n);i?(e=n,r=j):(e=n.get,r=n.set);var o=an()?null:new te(pn,e,j,{lazy:!0});var a={effect:o,get value(){return o?(o.dirty&&o.evaluate(),_n.target&&o.depend(),o.value):e()},set value(n){r(n)}};return q(a,"__v_isRef",!0),q(a,"__v_isReadonly",i),a}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Yn;var Xn=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!n&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var t=Yn;try{return Yn=this,n()}finally{Yn=t}}else 0},n.prototype.on=function(){Yn=this},n.prototype.off=function(){Yn=this.parent},n.prototype.stop=function(n){if(this.active){var t=void 0,e=void 0;for(t=0,e=this.effects.length;t<e;t++)this.effects[t].teardown();for(t=0,e=this.cleanups.length;t<e;t++)this.cleanups[t]();if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Qn(n){var t=n._provided,e=n.$parent&&n.$parent._provided;return e===t?n._provided=Object.create(e):t}var Jn=$((function(n){var t="&"===n.charAt(0),e="~"===(n=t?n.slice(1):n).charAt(0),r="!"===(n=e?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:e,capture:r,passive:t}}));function Kn(n,t){function e(){var n=e.fns;if(!i(n))return Ot(n,null,arguments,t,"v-on handler");for(var r=n.slice(),o=0;o<r.length;o++)Ot(r[o],null,arguments,t,"v-on handler")}return e.fns=n,e}function Zn(n,t,e,r,i,a){var l,c,u,p;for(l in n)c=n[l],u=t[l],p=Jn(l),o(c)||(o(u)?(o(c.fns)&&(c=n[l]=Kn(c,a)),s(p.once)&&(c=n[l]=i(p.name,c,p.capture)),e(p.name,c,p.capture,p.passive,p.params)):c!==u&&(u.fns=c,n[l]=u));for(l in t)o(n[l])&&r((p=Jn(l)).name,t[l],p.capture)}function nt(n,t,e){var r;n instanceof hn&&(n=n.data.hook||(n.data.hook={}));var i=n[t];function l(){e.apply(this,arguments),_(r.fns,l)}o(i)?r=Kn([l]):a(i.fns)&&s(i.merged)?(r=i).fns.push(l):r=Kn([i,l]),r.merged=!0,n[t]=r}function tt(n,t,e,r,i){if(a(t)){if(x(t,e))return n[e]=t[e],i||delete t[e],!0;if(x(t,r))return n[e]=t[r],i||delete t[r],!0}return!1}function et(n){return l(n)?[fn(n)]:i(n)?function n(t,e){var r,c,u,p,d=[];for(r=0;r<t.length;r++)o(c=t[r])||"boolean"==typeof c||(u=d.length-1,p=d[u],i(c)?c.length>0&&(rt((c=n(c,"".concat(e||"","_").concat(r)))[0])&&rt(p)&&(d[u]=fn(p.text+c[0].text),c.shift()),d.push.apply(d,c)):l(c)?rt(p)?d[u]=fn(p.text+c):""!==c&&d.push(fn(c)):rt(c)&&rt(p)?d[u]=fn(p.text+c.text):(s(t._isVList)&&a(c.tag)&&o(c.key)&&a(e)&&(c.key="__vlist".concat(e,"_").concat(r,"__")),d.push(c)));return d}(n):void 0}function rt(n){return a(n)&&a(n.text)&&!1===n.isComment}function it(n,t){var e,r,o,s,l=null;if(i(n)||"string"==typeof n)for(l=new Array(n.length),e=0,r=n.length;e<r;e++)l[e]=t(n[e],e);else if("number"==typeof n)for(l=new Array(n),e=0;e<n;e++)l[e]=t(e+1,e);else if(u(n))if(un&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),p=c.next();!p.done;)l.push(t(p.value,l.length)),p=c.next()}else for(o=Object.keys(n),l=new Array(o.length),e=0,r=o.length;e<r;e++)s=o[e],l[e]=t(n[s],s,e);return a(l)||(l=[]),l._isVList=!0,l}function ot(n,t,e,r){var i,o=this.$scopedSlots[n];o?(e=e||{},r&&(e=S(S({},r),e)),i=o(e)||(c(t)?t():t)):i=this.$slots[n]||(c(t)?t():t);var a=e&&e.slot;return a?this.$createElement("template",{slot:a},i):i}function at(n){return Be(this.$options,"filters",n,!0)||L}function st(n,t){return i(n)?-1===n.indexOf(t):n!==t}function lt(n,t,e,r,i){var o=U.keyCodes[t]||e;return i&&r&&!U.keyCodes[t]?st(i,r):o?st(o,n):r?D(r)!==t:void 0===n}function ct(n,t,e,r,o){if(e)if(u(e)){i(e)&&(e=I(e));var a=void 0,s=function(i){if("class"===i||"style"===i||b(i))a=n;else{var s=n.attrs&&n.attrs.type;a=r||U.mustUseProp(t,s,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=T(i),c=D(i);l in a||c in a||(a[i]=e[i],o&&((n.on||(n.on={}))["update:".concat(i)]=function(n){e[i]=n}))};for(var l in e)s(l)}else;return n}function ut(n,t){var e=this._staticTrees||(this._staticTrees=[]),r=e[n];return r&&!t||dt(r=e[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function pt(n,t,e){return dt(n,"__once__".concat(t).concat(e?"_".concat(e):""),!0),n}function dt(n,t,e){if(i(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&mt(n[r],"".concat(t,"_").concat(r),e);else mt(n,t,e)}function mt(n,t,e){n.isStatic=!0,n.key=t,n.isOnce=e}function ht(n,t){if(t)if(d(t)){var e=n.on=n.on?S({},n.on):{};for(var r in t){var i=e[r],o=t[r];e[r]=i?[].concat(i,o):o}}else;return n}function gt(n,t,e,r){t=t||{$stable:!e};for(var o=0;o<n.length;o++){var a=n[o];i(a)?gt(a,t,e):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return r&&(t.$key=r),t}function ft(n,t){for(var e=0;e<t.length;e+=2){var r=t[e];"string"==typeof r&&r&&(n[t[e]]=t[e+1])}return n}function vt(n,t){return"string"==typeof n?t+n:n}function yt(n){n._o=pt,n._n=v,n._s=f,n._l=it,n._t=ot,n._q=M,n._i=F,n._m=ut,n._f=at,n._k=lt,n._b=ct,n._v=fn,n._e=gn,n._u=gt,n._g=ht,n._d=ft,n._p=vt}function bt(n,t){if(!n||!n.length)return{};for(var e={},r=0,i=n.length;r<i;r++){var o=n[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(e.default||(e.default=[])).push(o);else{var s=a.slot,l=e[s]||(e[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in e)e[c].every(_t)&&delete e[c];return e}function _t(n){return n.isComment&&!n.asyncFactory||" "===n.text}function wt(n){return n.isComment&&n.asyncFactory}function xt(n,t,e,i){var o,a=Object.keys(e).length>0,s=t?!!t.$stable:!a,l=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==r&&l===i.$key&&!a&&!i.$hasNormal)return i;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=$t(n,e,c,t[c]))}else o={};for(var u in e)u in o||(o[u]=kt(e,u));return t&&Object.isExtensible(t)&&(t._normalized=o),q(o,"$stable",s),q(o,"$key",l),q(o,"$hasNormal",a),o}function $t(n,t,e,r){var o=function(){var t=pn;mn(n);var e=arguments.length?r.apply(null,arguments):r({}),o=(e=e&&"object"==typeof e&&!i(e)?[e]:et(e))&&e[0];return mn(t),e&&(!o||1===e.length&&o.isComment&&!wt(o))?void 0:e};return r.proxy&&Object.defineProperty(t,e,{get:o,enumerable:!0,configurable:!0}),o}function kt(n,t){return function(){return n[t]}}function Tt(n){return{get attrs(){if(!n._attrsProxy){var t=n._attrsProxy={};q(t,"_v_attr_proxy",!0),Et(t,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||Et(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||Dt(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:C(n.$emit,n),expose:function(t){t&&Object.keys(t).forEach((function(e){return Gn(n,t,e)}))}}}function Et(n,t,e,r,i){var o=!1;for(var a in t)a in n?t[a]!==e[a]&&(o=!0):(o=!0,At(n,a,r,i));for(var a in n)a in t||(o=!0,delete n[a]);return o}function At(n,t,e,r){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){return e[r][t]}})}function Dt(n,t){for(var e in t)n[e]=t[e];for(var e in n)e in t||delete n[e]}var Ct=null;function Pt(n,t){return(n.__esModule||un&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?t.extend(n):n}function St(n){if(i(n))for(var t=0;t<n.length;t++){var e=n[t];if(a(e)&&(a(e.componentOptions)||wt(e)))return e}}function It(n,t,e,r,p,d){return(i(e)||l(e))&&(p=r,r=e,e=void 0),s(d)&&(p=2),function(n,t,e,r,l){if(a(e)&&a(e.__ob__))return gn();a(e)&&a(e.is)&&(t=e.is);if(!t)return gn();0;i(r)&&c(r[0])&&((e=e||{}).scopedSlots={default:r[0]},r.length=0);2===l?r=et(r):1===l&&(r=function(n){for(var t=0;t<n.length;t++)if(i(n[t]))return Array.prototype.concat.apply([],n);return n}(r));var p,d;if("string"==typeof t){var m=void 0;d=n.$vnode&&n.$vnode.ns||U.getTagNamespace(t),p=U.isReservedTag(t)?new hn(U.parsePlatformTagName(t),e,r,void 0,void 0,n):e&&e.pre||!a(m=Be(n.$options,"components",t))?new hn(t,e,r,void 0,void 0,n):Pe(m,e,n,r,t)}else p=Pe(t,e,n,r);return i(p)?p:a(p)?(a(d)&&function n(t,e,r){t.ns=e,"foreignObject"===t.tag&&(e=void 0,r=!0);if(a(t.children))for(var i=0,l=t.children.length;i<l;i++){var c=t.children[i];a(c.tag)&&(o(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,e,r)}}(p,d),a(e)&&function(n){u(n.style)&&Kt(n.style);u(n.class)&&Kt(n.class)}(e),p):gn()}(n,t,e,r,p)}function jt(n,t,e){xn();try{if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,n,t,e))return}catch(n){Lt(n,r,"errorCaptured hook")}}Lt(n,t,e)}finally{$n()}}function Ot(n,t,e,r,i){var o;try{(o=e?n.apply(t,e):n.call(t))&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(n){return jt(n,r,i+" (Promise/async)")})),o._handled=!0)}catch(n){jt(n,r,i)}return o}function Lt(n,t,e){if(U.errorHandler)try{return U.errorHandler.call(null,n,t,e)}catch(t){t!==n&&Mt(t,null,"config.errorHandler")}Mt(n,t,e)}function Mt(n,t,e){if(!Y||"undefined"==typeof console)throw n;console.error(n)}var Ft,zt=!1,Rt=[],Bt=!1;function Nt(){Bt=!1;var n=Rt.slice(0);Rt.length=0;for(var t=0;t<n.length;t++)n[t]()}if("undefined"!=typeof Promise&&ln(Promise)){var Ut=Promise.resolve();Ft=function(){Ut.then(Nt),Z&&setTimeout(j)},zt=!0}else if(Q||"undefined"==typeof MutationObserver||!ln(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ft="undefined"!=typeof setImmediate&&ln(setImmediate)?function(){setImmediate(Nt)}:function(){setTimeout(Nt,0)};else{var Vt=1,Gt=new MutationObserver(Nt),qt=document.createTextNode(String(Vt));Gt.observe(qt,{characterData:!0}),Ft=function(){Vt=(Vt+1)%2,qt.data=String(Vt)},zt=!0}function Ht(n,t){var e;if(Rt.push((function(){if(n)try{n.call(t)}catch(n){jt(n,t,"nextTick")}else e&&e(t)})),Bt||(Bt=!0,Ft()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){e=n}))}function Wt(n){return function(t,e){if(void 0===e&&(e=pn),e)return function(n,t,e){var r=n.$options;r[t]=Me(r[t],e)}(e,n,t)}}Wt("beforeMount");var Yt=Wt("mounted"),Xt=(Wt("beforeUpdate"),Wt("updated"));Wt("beforeDestroy"),Wt("destroyed"),Wt("activated"),Wt("deactivated"),Wt("serverPrefetch"),Wt("renderTracked"),Wt("renderTriggered"),Wt("errorCaptured");function Qt(n){return n}var Jt=new cn;function Kt(n){return function n(t,e){var r,o,a=i(t);if(!a&&!u(t)||t.__v_skip||Object.isFrozen(t)||t instanceof hn)return;if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(a)for(r=t.length;r--;)n(t[r],e);else if(Nn(t))n(t.value,e);else for(o=Object.keys(t),r=o.length;r--;)n(t[o[r]],e)}(n,Jt),Jt.clear(),n}var Zt,ne=0,te=function(){function n(n,t,e,r,i){var o,a;o=this,void 0===(a=Yn&&!Yn._vm?Yn:n?n._scope:void 0)&&(a=Yn),a&&a.active&&a.effects.push(o),(this.vm=n)&&i&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=e,this.id=++ne,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new cn,this.newDepIds=new cn,this.expression="",c(t)?this.getter=t:(this.getter=function(n){if(!H.test(n)){var t=n.split(".");return function(n){for(var e=0;e<t.length;e++){if(!n)return;n=n[t[e]]}return n}}}(t),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;xn(this);var t=this.vm;try{n=this.getter.call(t,t)}catch(n){if(!this.user)throw n;jt(n,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Kt(n),$n(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var t=n.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(n),this.depIds.has(t)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var t=this.deps[n];this.newDepIds.has(t.id)||t.removeSub(this)}var e=this.depIds;this.depIds=this.newDepIds,this.newDepIds=e,this.newDepIds.clear(),e=this.deps,this.deps=this.newDeps,this.newDeps=e,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():xe(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var t=this.value;if(this.value=n,this.user){var e='callback for watcher "'.concat(this.expression,'"');Ot(this.cb,this.vm,[n,t],this.vm,e)}else this.cb.call(this.vm,n,t)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&_(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function ee(n,t){Zt.$on(n,t)}function re(n,t){Zt.$off(n,t)}function ie(n,t){var e=Zt;return function r(){var i=t.apply(null,arguments);null!==i&&e.$off(n,r)}}function oe(n,t,e){Zt=n,Zn(t,e||{},ee,re,ie,n),Zt=void 0}var ae=null;function se(n){var t=ae;return ae=n,function(){ae=t}}function le(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function ce(n,t){if(t){if(n._directInactive=!1,le(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var e=0;e<n.$children.length;e++)ce(n.$children[e]);ue(n,"activated")}}function ue(n,t,e,r){void 0===r&&(r=!0),xn();var i=pn;r&&mn(n);var o=n.$options[t],a="".concat(t," hook");if(o)for(var s=0,l=o.length;s<l;s++)Ot(o[s],n,e||null,n,a);n._hasHookEvent&&n.$emit("hook:"+t),r&&mn(i),$n()}var pe=[],de=[],me={},he=!1,ge=!1,fe=0;var ve=0,ye=Date.now;if(Y&&!Q){var be=window.performance;be&&"function"==typeof be.now&&ye()>document.createEvent("Event").timeStamp&&(ye=function(){return be.now()})}var _e=function(n,t){if(n.post){if(!t.post)return 1}else if(t.post)return-1;return n.id-t.id};function we(){var n,t;for(ve=ye(),ge=!0,pe.sort(_e),fe=0;fe<pe.length;fe++)(n=pe[fe]).before&&n.before(),t=n.id,me[t]=null,n.run();var e=de.slice(),r=pe.slice();fe=pe.length=de.length=0,me={},he=ge=!1,function(n){for(var t=0;t<n.length;t++)n[t]._inactive=!0,ce(n[t],!0)}(e),function(n){var t=n.length;for(;t--;){var e=n[t],r=e.vm;r&&r._watcher===e&&r._isMounted&&!r._isDestroyed&&ue(r,"updated")}}(r),function(){for(var n=0;n<bn.length;n++){var t=bn[n];t.subs=t.subs.filter((function(n){return n})),t._pending=!1}bn.length=0}(),sn&&U.devtools&&sn.emit("flush")}function xe(n){var t=n.id;if(null==me[t]&&(n!==_n.target||!n.noRecurse)){if(me[t]=!0,ge){for(var e=pe.length-1;e>fe&&pe[e].id>n.id;)e--;pe.splice(e+1,0,n)}else pe.push(n);he||(he=!0,Ht(we))}}function $e(n,t){if(n){for(var e=Object.create(null),r=un?Reflect.ownKeys(n):Object.keys(n),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=n[o].from;if(a in t._provided)e[o]=t._provided[a];else if("default"in n[o]){var s=n[o].default;e[o]=c(s)?s.call(t):s}else 0}}return e}}function ke(n,t,e,o,a){var l,c=this,u=a.options;x(o,"_uid")?(l=Object.create(o))._original=o:(l=o,o=o._original);var p=s(u._compiled),d=!p;this.data=n,this.props=t,this.children=e,this.parent=o,this.listeners=n.on||r,this.injections=$e(u.inject,o),this.slots=function(){return c.$slots||xt(o,n.scopedSlots,c.$slots=bt(e,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return xt(o,n.scopedSlots,this.slots())}}),p&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=xt(o,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,t,e,r){var a=It(l,n,t,e,r,d);return a&&!i(a)&&(a.fnScopeId=u._scopeId,a.fnContext=o),a}:this._c=function(n,t,e,r){return It(l,n,t,e,r,d)}}function Te(n,t,e,r,i){var o=vn(n);return o.fnContext=e,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ee(n,t){for(var e in t)n[T(e)]=t[e]}function Ae(n){return n.name||n.__name||n._componentTag}yt(ke.prototype);var De={init:function(n,t){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var e=n;De.prepatch(e,e)}else{(n.componentInstance=function(n,t){var e={_isComponent:!0,_parentVnode:n,parent:t},r=n.data.inlineTemplate;a(r)&&(e.render=r.render,e.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(e)}(n,ae)).$mount(t?n.elm:void 0,t)}},prepatch:function(n,t){var e=t.componentOptions;!function(n,t,e,i,o){var a=i.data.scopedSlots,s=n.$scopedSlots,l=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&n.$scopedSlots.$key!==a.$key||!a&&n.$scopedSlots.$key),c=!!(o||n.$options._renderChildren||l),u=n.$vnode;n.$options._parentVnode=i,n.$vnode=i,n._vnode&&(n._vnode.parent=i),n.$options._renderChildren=o;var p=i.data.attrs||r;n._attrsProxy&&Et(n._attrsProxy,p,u.data&&u.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=p,e=e||r;var d=n.$options._parentListeners;if(n._listenersProxy&&Et(n._listenersProxy,e,d||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=e,oe(n,e,d),t&&n.$options.props){Cn(!1);for(var m=n._props,h=n.$options._propKeys||[],g=0;g<h.length;g++){var f=h[g],v=n.$options.props;m[f]=Ne(f,v,t,n)}Cn(!0),n.$options.propsData=t}c&&(n.$slots=bt(o,i.context),n.$forceUpdate())}(t.componentInstance=n.componentInstance,e.propsData,e.listeners,t,e.children)},insert:function(n){var t,e=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,ue(r,"mounted")),n.data.keepAlive&&(e._isMounted?((t=r)._inactive=!1,de.push(t)):ce(r,!0))},destroy:function(n){var t=n.componentInstance;t._isDestroyed||(n.data.keepAlive?function n(t,e){if(!(e&&(t._directInactive=!0,le(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)n(t.$children[r]);ue(t,"deactivated")}}(t,!0):t.$destroy())}},Ce=Object.keys(De);function Pe(n,t,e,l,c){if(!o(n)){var p=e.$options._base;if(u(n)&&(n=p.extend(n)),"function"==typeof n){var d;if(o(n.cid)&&void 0===(n=function(n,t){if(s(n.error)&&a(n.errorComp))return n.errorComp;if(a(n.resolved))return n.resolved;var e=Ct;if(e&&a(n.owners)&&-1===n.owners.indexOf(e)&&n.owners.push(e),s(n.loading)&&a(n.loadingComp))return n.loadingComp;if(e&&!a(n.owners)){var r=n.owners=[e],i=!0,l=null,c=null;e.$on("hook:destroyed",(function(){return _(r,e)}));var p=function(n){for(var t=0,e=r.length;t<e;t++)r[t].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},d=z((function(e){n.resolved=Pt(e,t),i?r.length=0:p(!0)})),m=z((function(t){a(n.errorComp)&&(n.error=!0,p(!0))})),h=n(d,m);return u(h)&&(g(h)?o(n.resolved)&&h.then(d,m):g(h.component)&&(h.component.then(d,m),a(h.error)&&(n.errorComp=Pt(h.error,t)),a(h.loading)&&(n.loadingComp=Pt(h.loading,t),0===h.delay?n.loading=!0:l=setTimeout((function(){l=null,o(n.resolved)&&o(n.error)&&(n.loading=!0,p(!1))}),h.delay||200)),a(h.timeout)&&(c=setTimeout((function(){c=null,o(n.resolved)&&m(null)}),h.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(d=n,p)))return function(n,t,e,r,i){var o=gn();return o.asyncFactory=n,o.asyncMeta={data:t,context:e,children:r,tag:i},o}(d,t,e,l,c);t=t||{},tr(n),a(t.model)&&function(n,t){var e=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(t.attrs||(t.attrs={}))[e]=t.model.value;var o=t.on||(t.on={}),s=o[r],l=t.model.callback;a(s)?(i(s)?-1===s.indexOf(l):s!==l)&&(o[r]=[l].concat(s)):o[r]=l}(n.options,t);var m=function(n,t,e){var r=t.options.props;if(!o(r)){var i={},s=n.attrs,l=n.props;if(a(s)||a(l))for(var c in r){var u=D(c);tt(i,l,c,u,!0)||tt(i,s,c,u,!1)}return i}}(t,n);if(s(n.options.functional))return function(n,t,e,o,s){var l=n.options,c={},u=l.props;if(a(u))for(var p in u)c[p]=Ne(p,u,t||r);else a(e.attrs)&&Ee(c,e.attrs),a(e.props)&&Ee(c,e.props);var d=new ke(e,c,s,o,n),m=l.render.call(null,d._c,d);if(m instanceof hn)return Te(m,e,d.parent,l,d);if(i(m)){for(var h=et(m)||[],g=new Array(h.length),f=0;f<h.length;f++)g[f]=Te(h[f],e,d.parent,l,d);return g}}(n,m,t,e,l);var h=t.on;if(t.on=t.nativeOn,s(n.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}!function(n){for(var t=n.hook||(n.hook={}),e=0;e<Ce.length;e++){var r=Ce[e],i=t[r],o=De[r];i===o||i&&i._merged||(t[r]=i?Se(o,i):o)}}(t);var v=Ae(n.options)||c;return new hn("vue-component-".concat(n.cid).concat(v?"-".concat(v):""),t,void 0,void 0,void 0,e,{Ctor:n,propsData:m,listeners:h,tag:c,children:l},d)}}}function Se(n,t){var e=function(e,r){n(e,r),t(e,r)};return e._merged=!0,e}var Ie=j,je=U.optionMergeStrategies;function Oe(n,t,e){if(void 0===e&&(e=!0),!t)return n;for(var r,i,o,a=un?Reflect.ownKeys(t):Object.keys(t),s=0;s<a.length;s++)"__ob__"!==(r=a[s])&&(i=n[r],o=t[r],e&&x(n,r)?i!==o&&d(i)&&d(o)&&Oe(i,o):On(n,r,o));return n}function Le(n,t,e){return e?function(){var r=c(t)?t.call(e,e):t,i=c(n)?n.call(e,e):n;return r?Oe(r,i):i}:t?n?function(){return Oe(c(t)?t.call(this,this):t,c(n)?n.call(this,this):n)}:t:n}function Me(n,t){var e=t?n?n.concat(t):i(t)?t:[t]:n;return e?function(n){for(var t=[],e=0;e<n.length;e++)-1===t.indexOf(n[e])&&t.push(n[e]);return t}(e):e}function Fe(n,t,e,r){var i=Object.create(n||null);return t?S(i,t):i}je.data=function(n,t,e){return e?Le(n,t,e):t&&"function"!=typeof t?n:Le(n,t)},N.forEach((function(n){je[n]=Me})),B.forEach((function(n){je[n+"s"]=Fe})),je.watch=function(n,t,e,r){if(n===en&&(n=void 0),t===en&&(t=void 0),!t)return Object.create(n||null);if(!n)return t;var o={};for(var a in S(o,n),t){var s=o[a],l=t[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(l):i(l)?l:[l]}return o},je.props=je.methods=je.inject=je.computed=function(n,t,e,r){if(!n)return t;var i=Object.create(null);return S(i,n),t&&S(i,t),i},je.provide=function(n,t){return n?function(){var e=Object.create(null);return Oe(e,c(n)?n.call(this):n),t&&Oe(e,c(t)?t.call(this):t,!1),e}:t};var ze=function(n,t){return void 0===t?n:t};function Re(n,t,e){if(c(t)&&(t=t.options),function(n,t){var e=n.props;if(e){var r,o,a={};if(i(e))for(r=e.length;r--;)"string"==typeof(o=e[r])&&(a[T(o)]={type:null});else if(d(e))for(var s in e)o=e[s],a[T(s)]=d(o)?o:{type:o};else 0;n.props=a}}(t),function(n,t){var e=n.inject;if(e){var r=n.inject={};if(i(e))for(var o=0;o<e.length;o++)r[e[o]]={from:e[o]};else if(d(e))for(var a in e){var s=e[a];r[a]=d(s)?S({from:a},s):{from:s}}else 0}}(t),function(n){var t=n.directives;if(t)for(var e in t){var r=t[e];c(r)&&(t[e]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(n=Re(n,t.extends,e)),t.mixins))for(var r=0,o=t.mixins.length;r<o;r++)n=Re(n,t.mixins[r],e);var a,s={};for(a in n)l(a);for(a in t)x(n,a)||l(a);function l(r){var i=je[r]||ze;s[r]=i(n[r],t[r],e,r)}return s}function Be(n,t,e,r){if("string"==typeof e){var i=n[t];if(x(i,e))return i[e];var o=T(e);if(x(i,o))return i[o];var a=E(o);return x(i,a)?i[a]:i[e]||i[o]||i[a]}}function Ne(n,t,e,r){var i=t[n],o=!x(e,n),a=e[n],s=qe(Boolean,i.type);if(s>-1)if(o&&!x(i,"default"))a=!1;else if(""===a||a===D(n)){var l=qe(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(n,t,e){if(!x(t,"default"))return;var r=t.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[e]&&void 0!==n._props[e])return n._props[e];return c(r)&&"Function"!==Ve(t.type)?r.call(n):r}(r,i,n);var u=Dn;Cn(!0),In(a),Cn(u)}return a}var Ue=/^\s*function (\w+)/;function Ve(n){var t=n&&n.toString().match(Ue);return t?t[1]:""}function Ge(n,t){return Ve(n)===Ve(t)}function qe(n,t){if(!i(t))return Ge(t,n)?0:-1;for(var e=0,r=t.length;e<r;e++)if(Ge(t[e],n))return e;return-1}var He={enumerable:!0,configurable:!0,get:j,set:j};function We(n,t,e){He.get=function(){return this[t][e]},He.set=function(n){this[t][e]=n},Object.defineProperty(n,e,He)}function Ye(n){var t=n.$options;if(t.props&&function(n,t){var e=n.$options.propsData||{},r=n._props=zn({}),i=n.$options._propKeys=[];n.$parent&&Cn(!1);var o=function(o){i.push(o);var a=Ne(o,t,e,n);jn(r,o,a),o in n||We(n,"_props",o)};for(var a in t)o(a);Cn(!0)}(n,t.props),function(n){var t=n.$options,e=t.setup;if(e){var r=n._setupContext=Tt(n);mn(n),xn();var i=Ot(e,null,[n._props||zn({}),r],n,"setup");if($n(),mn(),c(i))t.render=i;else if(u(i))if(n._setupState=i,i.__sfc){var o=n._setupProxy={};for(var a in i)"__sfc"!==a&&Gn(o,i,a)}else for(var a in i)G(a)||Gn(n,i,a);else 0}}(n),t.methods&&function(n,t){n.$options.props;for(var e in t)n[e]="function"!=typeof t[e]?j:C(t[e],n)}(n,t.methods),t.data)!function(n){var t=n.$options.data;d(t=n._data=c(t)?function(n,t){xn();try{return n.call(t,t)}catch(n){return jt(n,t,"data()"),{}}finally{$n()}}(t,n):t||{})||(t={});var e=Object.keys(t),r=n.$options.props,i=(n.$options.methods,e.length);for(;i--;){var o=e[i];0,r&&x(r,o)||G(o)||We(n,"_data",o)}var a=In(t);a&&a.vmCount++}(n);else{var e=In(n._data={});e&&e.vmCount++}t.computed&&function(n,t){var e=n._computedWatchers=Object.create(null),r=an();for(var i in t){var o=t[i],a=c(o)?o:o.get;0,r||(e[i]=new te(n,a||j,j,Xe)),i in n||Qe(n,i,o)}}(n,t.computed),t.watch&&t.watch!==en&&function(n,t){for(var e in t){var r=t[e];if(i(r))for(var o=0;o<r.length;o++)Ze(n,e,r[o]);else Ze(n,e,r)}}(n,t.watch)}var Xe={lazy:!0};function Qe(n,t,e){var r=!an();c(e)?(He.get=r?Je(t):Ke(e),He.set=j):(He.get=e.get?r&&!1!==e.cache?Je(t):Ke(e.get):j,He.set=e.set||j),Object.defineProperty(n,t,He)}function Je(n){return function(){var t=this._computedWatchers&&this._computedWatchers[n];if(t)return t.dirty&&t.evaluate(),_n.target&&t.depend(),t.value}}function Ke(n){return function(){return n.call(this,this)}}function Ze(n,t,e,r){return d(e)&&(r=e,e=e.handler),"string"==typeof e&&(e=n[e]),n.$watch(t,e,r)}var nr=0;function tr(n){var t=n.options;if(n.super){var e=tr(n.super);if(e!==n.superOptions){n.superOptions=e;var r=function(n){var t,e=n.options,r=n.sealedOptions;for(var i in e)e[i]!==r[i]&&(t||(t={}),t[i]=e[i]);return t}(n);r&&S(n.extendOptions,r),(t=n.options=Re(e,n.extendOptions)).name&&(t.components[t.name]=n)}}return t}function er(n){this._init(n)}function rr(n){n.cid=0;var t=1;n.extend=function(n){n=n||{};var e=this,r=e.cid,i=n._Ctor||(n._Ctor={});if(i[r])return i[r];var o=Ae(n)||Ae(e.options);var a=function(n){this._init(n)};return(a.prototype=Object.create(e.prototype)).constructor=a,a.cid=t++,a.options=Re(e.options,n),a.super=e,a.options.props&&function(n){var t=n.options.props;for(var e in t)We(n.prototype,"_props",e)}(a),a.options.computed&&function(n){var t=n.options.computed;for(var e in t)Qe(n.prototype,e,t[e])}(a),a.extend=e.extend,a.mixin=e.mixin,a.use=e.use,B.forEach((function(n){a[n]=e[n]})),o&&(a.options.components[o]=a),a.superOptions=e.options,a.extendOptions=n,a.sealedOptions=S({},a.options),i[r]=a,a}}function ir(n){return n&&(Ae(n.Ctor.options)||n.tag)}function or(n,t){return i(n)?n.indexOf(t)>-1:"string"==typeof n?n.split(",").indexOf(t)>-1:!!m(n)&&n.test(t)}function ar(n,t){var e=n.cache,r=n.keys,i=n._vnode;for(var o in e){var a=e[o];if(a){var s=a.name;s&&!t(s)&&sr(e,o,r,i)}}}function sr(n,t,e,r){var i=n[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),n[t]=null,_(e,t)}!function(n){n.prototype._init=function(n){var t=this;t._uid=nr++,t._isVue=!0,t.__v_skip=!0,t._scope=new Xn(!0),t._scope._vm=!0,n&&n._isComponent?function(n,t){var e=n.$options=Object.create(n.constructor.options),r=t._parentVnode;e.parent=t.parent,e._parentVnode=r;var i=r.componentOptions;e.propsData=i.propsData,e._parentListeners=i.listeners,e._renderChildren=i.children,e._componentTag=i.tag,t.render&&(e.render=t.render,e.staticRenderFns=t.staticRenderFns)}(t,n):t.$options=Re(tr(t.constructor),n||{},t),t._renderProxy=t,t._self=t,function(n){var t=n.$options,e=t.parent;if(e&&!t.abstract){for(;e.$options.abstract&&e.$parent;)e=e.$parent;e.$children.push(n)}n.$parent=e,n.$root=e?e.$root:n,n.$children=[],n.$refs={},n._provided=e?e._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(t),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var t=n.$options._parentListeners;t&&oe(n,t)}(t),function(n){n._vnode=null,n._staticTrees=null;var t=n.$options,e=n.$vnode=t._parentVnode,i=e&&e.context;n.$slots=bt(t._renderChildren,i),n.$scopedSlots=e?xt(n.$parent,e.data.scopedSlots,n.$slots):r,n._c=function(t,e,r,i){return It(n,t,e,r,i,!1)},n.$createElement=function(t,e,r,i){return It(n,t,e,r,i,!0)};var o=e&&e.data;jn(n,"$attrs",o&&o.attrs||r,null,!0),jn(n,"$listeners",t._parentListeners||r,null,!0)}(t),ue(t,"beforeCreate",void 0,!1),function(n){var t=$e(n.$options.inject,n);t&&(Cn(!1),Object.keys(t).forEach((function(e){jn(n,e,t[e])})),Cn(!0))}(t),Ye(t),function(n){var t=n.$options.provide;if(t){var e=c(t)?t.call(n):t;if(!u(e))return;for(var r=Qn(n),i=un?Reflect.ownKeys(e):Object.keys(e),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(e,a))}}}(t),ue(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(er),function(n){var t={get:function(){return this._data}},e={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",t),Object.defineProperty(n.prototype,"$props",e),n.prototype.$set=On,n.prototype.$delete=Ln,n.prototype.$watch=function(n,t,e){if(d(t))return Ze(this,n,t,e);(e=e||{}).user=!0;var r=new te(this,n,t,e);if(e.immediate){var i='callback for immediate watcher "'.concat(r.expression,'"');xn(),Ot(t,this,[r.value],this,i),$n()}return function(){r.teardown()}}}(er),function(n){var t=/^hook:/;n.prototype.$on=function(n,e){var r=this;if(i(n))for(var o=0,a=n.length;o<a;o++)r.$on(n[o],e);else(r._events[n]||(r._events[n]=[])).push(e),t.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,t){var e=this;function r(){e.$off(n,r),t.apply(e,arguments)}return r.fn=t,e.$on(n,r),e},n.prototype.$off=function(n,t){var e=this;if(!arguments.length)return e._events=Object.create(null),e;if(i(n)){for(var r=0,o=n.length;r<o;r++)e.$off(n[r],t);return e}var a,s=e._events[n];if(!s)return e;if(!t)return e._events[n]=null,e;for(var l=s.length;l--;)if((a=s[l])===t||a.fn===t){s.splice(l,1);break}return e},n.prototype.$emit=function(n){var t=this,e=t._events[n];if(e){e=e.length>1?P(e):e;for(var r=P(arguments,1),i='event handler for "'.concat(n,'"'),o=0,a=e.length;o<a;o++)Ot(e[o],t,r,t,i)}return t}}(er),function(n){n.prototype._update=function(n,t){var e=this,r=e.$el,i=e._vnode,o=se(e);e._vnode=n,e.$el=i?e.__patch__(i,n):e.__patch__(e.$el,n,t,!1),o(),r&&(r.__vue__=null),e.$el&&(e.$el.__vue__=e);for(var a=e;a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode;)a.$parent.$el=a.$el,a=a.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){ue(n,"beforeDestroy"),n._isBeingDestroyed=!0;var t=n.$parent;!t||t._isBeingDestroyed||n.$options.abstract||_(t.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),ue(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(er),function(n){yt(n.prototype),n.prototype.$nextTick=function(n){return Ht(n,this)},n.prototype._render=function(){var n,t=this,e=t.$options,r=e.render,o=e._parentVnode;o&&t._isMounted&&(t.$scopedSlots=xt(t.$parent,o.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Dt(t._slotsProxy,t.$scopedSlots)),t.$vnode=o;try{mn(t),Ct=t,n=r.call(t._renderProxy,t.$createElement)}catch(e){jt(e,t,"render"),n=t._vnode}finally{Ct=null,mn()}return i(n)&&1===n.length&&(n=n[0]),n instanceof hn||(n=gn()),n.parent=o,n}}(er);var lr=[String,RegExp,Array],cr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:lr,exclude:lr,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,t=this.keys,e=this.vnodeToCache,r=this.keyToCache;if(e){var i=e.tag,o=e.componentInstance,a=e.componentOptions;n[r]={name:ir(a),tag:i,componentInstance:o},t.push(r),this.max&&t.length>parseInt(this.max)&&sr(n,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)sr(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(t){ar(n,(function(n){return or(t,n)}))})),this.$watch("exclude",(function(t){ar(n,(function(n){return!or(t,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,t=St(n),e=t&&t.componentOptions;if(e){var r=ir(e),i=this.include,o=this.exclude;if(i&&(!r||!or(i,r))||o&&r&&or(o,r))return t;var a=this.cache,s=this.keys,l=null==t.key?e.Ctor.cid+(e.tag?"::".concat(e.tag):""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,_(s,l),s.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||n&&n[0]}}};!function(n){var t={get:function(){return U}};Object.defineProperty(n,"config",t),n.util={warn:Ie,extend:S,mergeOptions:Re,defineReactive:jn},n.set=On,n.delete=Ln,n.nextTick=Ht,n.observable=function(n){return In(n),n},n.options=Object.create(null),B.forEach((function(t){n.options[t+"s"]=Object.create(null)})),n.options._base=n,S(n.options.components,cr),function(n){n.use=function(n){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(n)>-1)return this;var e=P(arguments,1);return e.unshift(this),c(n.install)?n.install.apply(n,e):c(n)&&n.apply(null,e),t.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Re(this.options,n),this}}(n),rr(n),function(n){B.forEach((function(t){n[t]=function(n,e){return e?("component"===t&&d(e)&&(e.name=e.name||n,e=this.options._base.extend(e)),"directive"===t&&c(e)&&(e={bind:e,update:e}),this.options[t+"s"][n]=e,e):this.options[t+"s"][n]}}))}(n)}(er),Object.defineProperty(er.prototype,"$isServer",{get:an}),Object.defineProperty(er.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(er,"FunctionalRenderContext",{value:ke}),er.version="2.7.14";var ur=y("style,class"),pr=y("input,textarea,option,select,progress"),dr=y("contenteditable,draggable,spellcheck"),mr=y("events,caret,typing,plaintext-only"),hr=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),gr="http://www.w3.org/1999/xlink",fr=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},vr=function(n){return fr(n)?n.slice(6,n.length):""},yr=function(n){return null==n||!1===n};function br(n){for(var t=n.data,e=n,r=n;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=_r(r.data,t));for(;a(e=e.parent);)e&&e.data&&(t=_r(t,e.data));return function(n,t){if(a(n)||a(t))return wr(n,xr(t));return""}(t.staticClass,t.class)}function _r(n,t){return{staticClass:wr(n.staticClass,t.staticClass),class:a(n.class)?[n.class,t.class]:t.class}}function wr(n,t){return n?t?n+" "+t:n:t||""}function xr(n){return Array.isArray(n)?function(n){for(var t,e="",r=0,i=n.length;r<i;r++)a(t=xr(n[r]))&&""!==t&&(e&&(e+=" "),e+=t);return e}(n):u(n)?function(n){var t="";for(var e in n)n[e]&&(t&&(t+=" "),t+=e);return t}(n):"string"==typeof n?n:""}var $r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},kr=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Tr=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Er=function(n){return kr(n)||Tr(n)};var Ar=Object.create(null);var Dr=y("text,number,password,search,email,tel,url");var Cr=Object.freeze({__proto__:null,createElement:function(n,t){var e=document.createElement(n);return"select"!==n||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&e.setAttribute("multiple","multiple"),e},createElementNS:function(n,t){return document.createElementNS($r[n],t)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,t,e){n.insertBefore(t,e)},removeChild:function(n,t){n.removeChild(t)},appendChild:function(n,t){n.appendChild(t)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,t){n.textContent=t},setStyleScope:function(n,t){n.setAttribute(t,"")}}),Pr={create:function(n,t){Sr(t)},update:function(n,t){n.data.ref!==t.data.ref&&(Sr(n,!0),Sr(t))},destroy:function(n){Sr(n,!0)}};function Sr(n,t){var e=n.data.ref;if(a(e)){var r=n.context,o=n.componentInstance||n.elm,s=t?null:o,l=t?void 0:o;if(c(e))Ot(e,r,[s],r,"template ref function");else{var u=n.data.refInFor,p="string"==typeof e||"number"==typeof e,d=Nn(e),m=r.$refs;if(p||d)if(u){var h=p?m[e]:e.value;t?i(h)&&_(h,o):i(h)?h.includes(o)||h.push(o):p?(m[e]=[o],Ir(r,e,m[e])):e.value=[o]}else if(p){if(t&&m[e]!==o)return;m[e]=l,Ir(r,e,s)}else if(d){if(t&&e.value!==o)return;e.value=s}else 0}}}function Ir(n,t,e){var r=n._setupState;r&&x(r,t)&&(Nn(r[t])?r[t].value=e:r[t]=e)}var jr=new hn("",{},[]),Or=["create","activate","update","remove","destroy"];function Lr(n,t){return n.key===t.key&&n.asyncFactory===t.asyncFactory&&(n.tag===t.tag&&n.isComment===t.isComment&&a(n.data)===a(t.data)&&function(n,t){if("input"!==n.tag)return!0;var e,r=a(e=n.data)&&a(e=e.attrs)&&e.type,i=a(e=t.data)&&a(e=e.attrs)&&e.type;return r===i||Dr(r)&&Dr(i)}(n,t)||s(n.isAsyncPlaceholder)&&o(t.asyncFactory.error))}function Mr(n,t,e){var r,i,o={};for(r=t;r<=e;++r)a(i=n[r].key)&&(o[i]=r);return o}var Fr={create:zr,update:zr,destroy:function(n){zr(n,jr)}};function zr(n,t){(n.data.directives||t.data.directives)&&function(n,t){var e,r,i,o=n===jr,a=t===jr,s=Br(n.data.directives,n.context),l=Br(t.data.directives,t.context),c=[],u=[];for(e in l)r=s[e],i=l[e],r?(i.oldValue=r.value,i.oldArg=r.arg,Ur(i,"update",t,n),i.def&&i.def.componentUpdated&&u.push(i)):(Ur(i,"bind",t,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var p=function(){for(var e=0;e<c.length;e++)Ur(c[e],"inserted",t,n)};o?nt(t,"insert",p):p()}u.length&&nt(t,"postpatch",(function(){for(var e=0;e<u.length;e++)Ur(u[e],"componentUpdated",t,n)}));if(!o)for(e in s)l[e]||Ur(s[e],"unbind",n,n,a)}(n,t)}var Rr=Object.create(null);function Br(n,t){var e,r,i=Object.create(null);if(!n)return i;for(e=0;e<n.length;e++){if((r=n[e]).modifiers||(r.modifiers=Rr),i[Nr(r)]=r,t._setupState&&t._setupState.__sfc){var o=r.def||Be(t,"_setupState","v-"+r.name);r.def="function"==typeof o?{bind:o,update:o}:o}r.def=r.def||Be(t.$options,"directives",r.name)}return i}function Nr(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ur(n,t,e,r,i){var o=n.def&&n.def[t];if(o)try{o(e.elm,n,e,r,i)}catch(r){jt(r,e.context,"directive ".concat(n.name," ").concat(t," hook"))}}var Vr=[Pr,Fr];function Gr(n,t){var e=t.componentOptions;if(!(a(e)&&!1===e.Ctor.options.inheritAttrs||o(n.data.attrs)&&o(t.data.attrs))){var r,i,l=t.elm,c=n.data.attrs||{},u=t.data.attrs||{};for(r in(a(u.__ob__)||s(u._v_attr_proxy))&&(u=t.data.attrs=S({},u)),u)i=u[r],c[r]!==i&&qr(l,r,i,t.data.pre);for(r in(Q||K)&&u.value!==c.value&&qr(l,"value",u.value),c)o(u[r])&&(fr(r)?l.removeAttributeNS(gr,vr(r)):dr(r)||l.removeAttribute(r))}}function qr(n,t,e,r){r||n.tagName.indexOf("-")>-1?Hr(n,t,e):hr(t)?yr(e)?n.removeAttribute(t):(e="allowfullscreen"===t&&"EMBED"===n.tagName?"true":t,n.setAttribute(t,e)):dr(t)?n.setAttribute(t,function(n,t){return yr(t)||"false"===t?"false":"contenteditable"===n&&mr(t)?t:"true"}(t,e)):fr(t)?yr(e)?n.removeAttributeNS(gr,vr(t)):n.setAttributeNS(gr,t,e):Hr(n,t,e)}function Hr(n,t,e){if(yr(e))n.removeAttribute(t);else{if(Q&&!J&&"TEXTAREA"===n.tagName&&"placeholder"===t&&""!==e&&!n.__ieph){var r=function(t){t.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(t,e)}}var Wr={create:Gr,update:Gr};function Yr(n,t){var e=t.elm,r=t.data,i=n.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=br(t),l=e._transitionClasses;a(l)&&(s=wr(s,xr(l))),s!==e._prevClass&&(e.setAttribute("class",s),e._prevClass=s)}}var Xr,Qr={create:Yr,update:Yr};function Jr(n,t,e){var r=Xr;return function i(){var o=t.apply(null,arguments);null!==o&&ni(n,i,e,r)}}var Kr=zt&&!(tn&&Number(tn[1])<=53);function Zr(n,t,e,r){if(Kr){var i=ve,o=t;t=o._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return o.apply(this,arguments)}}Xr.addEventListener(n,t,rn?{capture:e,passive:r}:e)}function ni(n,t,e,r){(r||Xr).removeEventListener(n,t._wrapper||t,e)}function ti(n,t){if(!o(n.data.on)||!o(t.data.on)){var e=t.data.on||{},r=n.data.on||{};Xr=t.elm||n.elm,function(n){if(a(n.__r)){var t=Q?"change":"input";n[t]=[].concat(n.__r,n[t]||[]),delete n.__r}a(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(e),Zn(e,r,Zr,ni,Jr,t.context),Xr=void 0}}var ei,ri={create:ti,update:ti,destroy:function(n){return ti(n,jr)}};function ii(n,t){if(!o(n.data.domProps)||!o(t.data.domProps)){var e,r,i=t.elm,l=n.data.domProps||{},c=t.data.domProps||{};for(e in(a(c.__ob__)||s(c._v_attr_proxy))&&(c=t.data.domProps=S({},c)),l)e in c||(i[e]="");for(e in c){if(r=c[e],"textContent"===e||"innerHTML"===e){if(t.children&&(t.children.length=0),r===l[e])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===e&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);oi(i,u)&&(i.value=u)}else if("innerHTML"===e&&Tr(i.tagName)&&o(i.innerHTML)){(ei=ei||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var p=ei.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;p.firstChild;)i.appendChild(p.firstChild)}else if(r!==l[e])try{i[e]=r}catch(n){}}}}function oi(n,t){return!n.composing&&("OPTION"===n.tagName||function(n,t){var e=!0;try{e=document.activeElement!==n}catch(n){}return e&&n.value!==t}(n,t)||function(n,t){var e=n.value,r=n._vModifiers;if(a(r)){if(r.number)return v(e)!==v(t);if(r.trim)return e.trim()!==t.trim()}return e!==t}(n,t))}var ai={create:ii,update:ii},si=$((function(n){var t={},e=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(e);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function li(n){var t=ci(n.style);return n.staticStyle?S(n.staticStyle,t):t}function ci(n){return Array.isArray(n)?I(n):"string"==typeof n?si(n):n}var ui,pi=/^--/,di=/\s*!important$/,mi=function(n,t,e){if(pi.test(t))n.style.setProperty(t,e);else if(di.test(e))n.style.setProperty(D(t),e.replace(di,""),"important");else{var r=gi(t);if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)n.style[r]=e[i];else n.style[r]=e}},hi=["Webkit","Moz","ms"],gi=$((function(n){if(ui=ui||document.createElement("div").style,"filter"!==(n=T(n))&&n in ui)return n;for(var t=n.charAt(0).toUpperCase()+n.slice(1),e=0;e<hi.length;e++){var r=hi[e]+t;if(r in ui)return r}}));function fi(n,t){var e=t.data,r=n.data;if(!(o(e.staticStyle)&&o(e.style)&&o(r.staticStyle)&&o(r.style))){var i,s,l=t.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},p=c||u,d=ci(t.data.style)||{};t.data.normalizedStyle=a(d.__ob__)?S({},d):d;var m=function(n,t){var e,r={};if(t)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(e=li(i.data))&&S(r,e);(e=li(n.data))&&S(r,e);for(var o=n;o=o.parent;)o.data&&(e=li(o.data))&&S(r,e);return r}(t,!0);for(s in p)o(m[s])&&mi(l,s,"");for(s in m)(i=m[s])!==p[s]&&mi(l,s,null==i?"":i)}}var vi={create:fi,update:fi},yi=/\s+/;function bi(n,t){if(t&&(t=t.trim()))if(n.classList)t.indexOf(" ")>-1?t.split(yi).forEach((function(t){return n.classList.add(t)})):n.classList.add(t);else{var e=" ".concat(n.getAttribute("class")||""," ");e.indexOf(" "+t+" ")<0&&n.setAttribute("class",(e+t).trim())}}function _i(n,t){if(t&&(t=t.trim()))if(n.classList)t.indexOf(" ")>-1?t.split(yi).forEach((function(t){return n.classList.remove(t)})):n.classList.remove(t),n.classList.length||n.removeAttribute("class");else{for(var e=" ".concat(n.getAttribute("class")||""," "),r=" "+t+" ";e.indexOf(r)>=0;)e=e.replace(r," ");(e=e.trim())?n.setAttribute("class",e):n.removeAttribute("class")}}function wi(n){if(n){if("object"==typeof n){var t={};return!1!==n.css&&S(t,xi(n.name||"v")),S(t,n),t}return"string"==typeof n?xi(n):void 0}}var xi=$((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),$i=Y&&!J,ki="transition",Ti="transitionend",Ei="animation",Ai="animationend";$i&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ki="WebkitTransition",Ti="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ei="WebkitAnimation",Ai="webkitAnimationEnd"));var Di=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Ci(n){Di((function(){Di(n)}))}function Pi(n,t){var e=n._transitionClasses||(n._transitionClasses=[]);e.indexOf(t)<0&&(e.push(t),bi(n,t))}function Si(n,t){n._transitionClasses&&_(n._transitionClasses,t),_i(n,t)}function Ii(n,t,e){var r=Oi(n,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return e();var s="transition"===i?Ti:Ai,l=0,c=function(){n.removeEventListener(s,u),e()},u=function(t){t.target===n&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),o+1),n.addEventListener(s,u)}var ji=/\b(transform|all)(,|$)/;function Oi(n,t){var e,r=window.getComputedStyle(n),i=(r[ki+"Delay"]||"").split(", "),o=(r[ki+"Duration"]||"").split(", "),a=Li(i,o),s=(r[Ei+"Delay"]||"").split(", "),l=(r[Ei+"Duration"]||"").split(", "),c=Li(s,l),u=0,p=0;return"transition"===t?a>0&&(e="transition",u=a,p=o.length):"animation"===t?c>0&&(e="animation",u=c,p=l.length):p=(e=(u=Math.max(a,c))>0?a>c?"transition":"animation":null)?"transition"===e?o.length:l.length:0,{type:e,timeout:u,propCount:p,hasTransform:"transition"===e&&ji.test(r[ki+"Property"])}}function Li(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map((function(t,e){return Mi(t)+Mi(n[e])})))}function Mi(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function Fi(n,t){var e=n.elm;a(e._leaveCb)&&(e._leaveCb.cancelled=!0,e._leaveCb());var r=wi(n.data.transition);if(!o(r)&&!a(e._enterCb)&&1===e.nodeType){for(var i=r.css,s=r.type,l=r.enterClass,p=r.enterToClass,d=r.enterActiveClass,m=r.appearClass,h=r.appearToClass,g=r.appearActiveClass,f=r.beforeEnter,y=r.enter,b=r.afterEnter,_=r.enterCancelled,w=r.beforeAppear,x=r.appear,$=r.afterAppear,k=r.appearCancelled,T=r.duration,E=ae,A=ae.$vnode;A&&A.parent;)E=A.context,A=A.parent;var D=!E._isMounted||!n.isRootInsert;if(!D||x||""===x){var C=D&&m?m:l,P=D&&g?g:d,S=D&&h?h:p,I=D&&w||f,j=D&&c(x)?x:y,O=D&&$||b,L=D&&k||_,M=v(u(T)?T.enter:T);0;var F=!1!==i&&!J,R=Bi(j),B=e._enterCb=z((function(){F&&(Si(e,S),Si(e,P)),B.cancelled?(F&&Si(e,C),L&&L(e)):O&&O(e),e._enterCb=null}));n.data.show||nt(n,"insert",(function(){var t=e.parentNode,r=t&&t._pending&&t._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),j&&j(e,B)})),I&&I(e),F&&(Pi(e,C),Pi(e,P),Ci((function(){Si(e,C),B.cancelled||(Pi(e,S),R||(Ri(M)?setTimeout(B,M):Ii(e,s,B)))}))),n.data.show&&(t&&t(),j&&j(e,B)),F||R||B()}}}function zi(n,t){var e=n.elm;a(e._enterCb)&&(e._enterCb.cancelled=!0,e._enterCb());var r=wi(n.data.transition);if(o(r)||1!==e.nodeType)return t();if(!a(e._leaveCb)){var i=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,p=r.leaveActiveClass,d=r.beforeLeave,m=r.leave,h=r.afterLeave,g=r.leaveCancelled,f=r.delayLeave,y=r.duration,b=!1!==i&&!J,_=Bi(m),w=v(u(y)?y.leave:y);0;var x=e._leaveCb=z((function(){e.parentNode&&e.parentNode._pending&&(e.parentNode._pending[n.key]=null),b&&(Si(e,c),Si(e,p)),x.cancelled?(b&&Si(e,l),g&&g(e)):(t(),h&&h(e)),e._leaveCb=null}));f?f($):$()}function $(){x.cancelled||(!n.data.show&&e.parentNode&&((e.parentNode._pending||(e.parentNode._pending={}))[n.key]=n),d&&d(e),b&&(Pi(e,l),Pi(e,p),Ci((function(){Si(e,l),x.cancelled||(Pi(e,c),_||(Ri(w)?setTimeout(x,w):Ii(e,s,x)))}))),m&&m(e,x),b||_||x())}}function Ri(n){return"number"==typeof n&&!isNaN(n)}function Bi(n){if(o(n))return!1;var t=n.fns;return a(t)?Bi(Array.isArray(t)?t[0]:t):(n._length||n.length)>1}function Ni(n,t){!0!==t.data.show&&Fi(t)}var Ui=function(n){var t,e,r={},c=n.modules,u=n.nodeOps;for(t=0;t<Or.length;++t)for(r[Or[t]]=[],e=0;e<c.length;++e)a(c[e][Or[t]])&&r[Or[t]].push(c[e][Or[t]]);function p(n){var t=u.parentNode(n);a(t)&&u.removeChild(t,n)}function d(n,t,e,i,o,l,c){if(a(n.elm)&&a(l)&&(n=l[c]=vn(n)),n.isRootInsert=!o,!function(n,t,e,i){var o=n.data;if(a(o)){var l=a(n.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(n,!1),a(n.componentInstance))return m(n,t),h(e,n.elm,i),s(l)&&function(n,t,e,i){var o,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](jr,s);t.push(s);break}h(e,n.elm,i)}(n,t,e,i),!0}}(n,t,e,i)){var p=n.data,d=n.children,f=n.tag;a(f)?(n.elm=n.ns?u.createElementNS(n.ns,f):u.createElement(f,n),b(n),g(n,d,t),a(p)&&v(n,t),h(e,n.elm,i)):s(n.isComment)?(n.elm=u.createComment(n.text),h(e,n.elm,i)):(n.elm=u.createTextNode(n.text),h(e,n.elm,i))}}function m(n,t){a(n.data.pendingInsert)&&(t.push.apply(t,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,f(n)?(v(n,t),b(n)):(Sr(n),t.push(n))}function h(n,t,e){a(n)&&(a(e)?u.parentNode(e)===n&&u.insertBefore(n,t,e):u.appendChild(n,t))}function g(n,t,e){if(i(t)){0;for(var r=0;r<t.length;++r)d(t[r],e,n.elm,null,!0,t,r)}else l(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function f(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return a(n.tag)}function v(n,e){for(var i=0;i<r.create.length;++i)r.create[i](jr,n);a(t=n.data.hook)&&(a(t.create)&&t.create(jr,n),a(t.insert)&&e.push(n))}function b(n){var t;if(a(t=n.fnScopeId))u.setStyleScope(n.elm,t);else for(var e=n;e;)a(t=e.context)&&a(t=t.$options._scopeId)&&u.setStyleScope(n.elm,t),e=e.parent;a(t=ae)&&t!==n.context&&t!==n.fnContext&&a(t=t.$options._scopeId)&&u.setStyleScope(n.elm,t)}function _(n,t,e,r,i,o){for(;r<=i;++r)d(e[r],o,n,t,!1,e,r)}function w(n){var t,e,i=n.data;if(a(i))for(a(t=i.hook)&&a(t=t.destroy)&&t(n),t=0;t<r.destroy.length;++t)r.destroy[t](n);if(a(t=n.children))for(e=0;e<n.children.length;++e)w(n.children[e])}function x(n,t,e){for(;t<=e;++t){var r=n[t];a(r)&&(a(r.tag)?($(r),w(r)):p(r.elm))}}function $(n,t){if(a(t)||a(n.data)){var e,i=r.remove.length+1;for(a(t)?t.listeners+=i:t=function(n,t){function e(){0==--e.listeners&&p(n)}return e.listeners=t,e}(n.elm,i),a(e=n.componentInstance)&&a(e=e._vnode)&&a(e.data)&&$(e,t),e=0;e<r.remove.length;++e)r.remove[e](n,t);a(e=n.data.hook)&&a(e=e.remove)?e(n,t):t()}else p(n.elm)}function k(n,t,e,r){for(var i=e;i<r;i++){var o=t[i];if(a(o)&&Lr(n,o))return i}}function T(n,t,e,i,l,c){if(n!==t){a(t.elm)&&a(i)&&(t=i[l]=vn(t));var p=t.elm=n.elm;if(s(n.isAsyncPlaceholder))a(t.asyncFactory.resolved)?D(n.elm,t,e):t.isAsyncPlaceholder=!0;else if(s(t.isStatic)&&s(n.isStatic)&&t.key===n.key&&(s(t.isCloned)||s(t.isOnce)))t.componentInstance=n.componentInstance;else{var m,h=t.data;a(h)&&a(m=h.hook)&&a(m=m.prepatch)&&m(n,t);var g=n.children,v=t.children;if(a(h)&&f(t)){for(m=0;m<r.update.length;++m)r.update[m](n,t);a(m=h.hook)&&a(m=m.update)&&m(n,t)}o(t.text)?a(g)&&a(v)?g!==v&&function(n,t,e,r,i){var s,l,c,p=0,m=0,h=t.length-1,g=t[0],f=t[h],v=e.length-1,y=e[0],b=e[v],w=!i;for(0;p<=h&&m<=v;)o(g)?g=t[++p]:o(f)?f=t[--h]:Lr(g,y)?(T(g,y,r,e,m),g=t[++p],y=e[++m]):Lr(f,b)?(T(f,b,r,e,v),f=t[--h],b=e[--v]):Lr(g,b)?(T(g,b,r,e,v),w&&u.insertBefore(n,g.elm,u.nextSibling(f.elm)),g=t[++p],b=e[--v]):Lr(f,y)?(T(f,y,r,e,m),w&&u.insertBefore(n,f.elm,g.elm),f=t[--h],y=e[++m]):(o(s)&&(s=Mr(t,p,h)),o(l=a(y.key)?s[y.key]:k(y,t,p,h))?d(y,r,n,g.elm,!1,e,m):Lr(c=t[l],y)?(T(c,y,r,e,m),t[l]=void 0,w&&u.insertBefore(n,c.elm,g.elm)):d(y,r,n,g.elm,!1,e,m),y=e[++m]);p>h?_(n,o(e[v+1])?null:e[v+1].elm,e,m,v,r):m>v&&x(t,p,h)}(p,g,v,e,c):a(v)?(a(n.text)&&u.setTextContent(p,""),_(p,null,v,0,v.length-1,e)):a(g)?x(g,0,g.length-1):a(n.text)&&u.setTextContent(p,""):n.text!==t.text&&u.setTextContent(p,t.text),a(h)&&a(m=h.hook)&&a(m=m.postpatch)&&m(n,t)}}}function E(n,t,e){if(s(e)&&a(n.parent))n.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var A=y("attrs,class,staticClass,staticStyle,key");function D(n,t,e,r){var i,o=t.tag,l=t.data,c=t.children;if(r=r||l&&l.pre,t.elm=n,s(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(i=l.hook)&&a(i=i.init)&&i(t,!0),a(i=t.componentInstance)))return m(t,e),!0;if(a(o)){if(a(c))if(n.hasChildNodes())if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var u=!0,p=n.firstChild,d=0;d<c.length;d++){if(!p||!D(p,c[d],e,r)){u=!1;break}p=p.nextSibling}if(!u||p)return!1}else g(t,c,e);if(a(l)){var h=!1;for(var f in l)if(!A(f)){h=!0,v(t,e);break}!h&&l.class&&Kt(l.class)}}else n.data!==t.text&&(n.data=t.text);return!0}return function(n,t,e,i){if(!o(t)){var l,c=!1,p=[];if(o(n))c=!0,d(t,p);else{var m=a(n.nodeType);if(!m&&Lr(n,t))T(n,t,p,null,null,i);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),e=!0),s(e)&&D(n,t,p))return E(t,p,!0),n;l=n,n=new hn(u.tagName(l).toLowerCase(),{},[],void 0,l)}var h=n.elm,g=u.parentNode(h);if(d(t,p,h._leaveCb?null:g,u.nextSibling(h)),a(t.parent))for(var v=t.parent,y=f(t);v;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=t.elm,y){for(var _=0;_<r.create.length;++_)r.create[_](jr,v);var $=v.data.hook.insert;if($.merged)for(var k=1;k<$.fns.length;k++)$.fns[k]()}else Sr(v);v=v.parent}a(g)?x([n],0,0):a(n.tag)&&w(n)}}return E(t,p,c),t.elm}a(n)&&w(n)}}({nodeOps:Cr,modules:[Wr,Qr,ri,ai,vi,Y?{create:Ni,activate:Ni,remove:function(n,t){!0!==n.data.show?zi(n,t):t()}}:{}].concat(Vr)});J&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&Qi(n,"input")}));var Vi={inserted:function(n,t,e,r){"select"===e.tag?(r.elm&&!r.elm._vOptions?nt(e,"postpatch",(function(){Vi.componentUpdated(n,t,e)})):Gi(n,t,e.context),n._vOptions=[].map.call(n.options,Wi)):("textarea"===e.tag||Dr(n.type))&&(n._vModifiers=t.modifiers,t.modifiers.lazy||(n.addEventListener("compositionstart",Yi),n.addEventListener("compositionend",Xi),n.addEventListener("change",Xi),J&&(n.vmodel=!0)))},componentUpdated:function(n,t,e){if("select"===e.tag){Gi(n,t,e.context);var r=n._vOptions,i=n._vOptions=[].map.call(n.options,Wi);if(i.some((function(n,t){return!M(n,r[t])})))(n.multiple?t.value.some((function(n){return Hi(n,i)})):t.value!==t.oldValue&&Hi(t.value,i))&&Qi(n,"change")}}};function Gi(n,t,e){qi(n,t,e),(Q||K)&&setTimeout((function(){qi(n,t,e)}),0)}function qi(n,t,e){var r=t.value,i=n.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=n.options.length;s<l;s++)if(a=n.options[s],i)o=F(r,Wi(a))>-1,a.selected!==o&&(a.selected=o);else if(M(Wi(a),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));i||(n.selectedIndex=-1)}}function Hi(n,t){return t.every((function(t){return!M(t,n)}))}function Wi(n){return"_value"in n?n._value:n.value}function Yi(n){n.target.composing=!0}function Xi(n){n.target.composing&&(n.target.composing=!1,Qi(n.target,"input"))}function Qi(n,t){var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),n.dispatchEvent(e)}function Ji(n){return!n.componentInstance||n.data&&n.data.transition?n:Ji(n.componentInstance._vnode)}var Ki={model:Vi,show:{bind:function(n,t,e){var r=t.value,i=(e=Ji(e)).data&&e.data.transition,o=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&i?(e.data.show=!0,Fi(e,(function(){n.style.display=o}))):n.style.display=r?o:"none"},update:function(n,t,e){var r=t.value;!r!=!t.oldValue&&((e=Ji(e)).data&&e.data.transition?(e.data.show=!0,r?Fi(e,(function(){n.style.display=n.__vOriginalDisplay})):zi(e,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,t,e,r,i){i||(n.style.display=n.__vOriginalDisplay)}}},Zi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function no(n){var t=n&&n.componentOptions;return t&&t.Ctor.options.abstract?no(St(t.children)):n}function to(n){var t={},e=n.$options;for(var r in e.propsData)t[r]=n[r];var i=e._parentListeners;for(var r in i)t[T(r)]=i[r];return t}function eo(n,t){if(/\d-keep-alive$/.test(t.tag))return n("keep-alive",{props:t.componentOptions.propsData})}var ro=function(n){return n.tag||wt(n)},io=function(n){return"show"===n.name},oo={name:"transition",props:Zi,abstract:!0,render:function(n){var t=this,e=this.$slots.default;if(e&&(e=e.filter(ro)).length){0;var r=this.mode;0;var i=e[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var o=no(i);if(!o)return i;if(this._leaving)return eo(n,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:l(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=to(this),c=this._vnode,u=no(c);if(o.data.directives&&o.data.directives.some(io)&&(o.data.show=!0),u&&u.data&&!function(n,t){return t.key===n.key&&t.tag===n.tag}(o,u)&&!wt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var p=u.data.transition=S({},s);if("out-in"===r)return this._leaving=!0,nt(p,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),eo(n,i);if("in-out"===r){if(wt(o))return c;var d,m=function(){d()};nt(s,"afterEnter",m),nt(s,"enterCancelled",m),nt(p,"delayLeave",(function(n){d=n}))}}return i}}},ao=S({tag:String,moveClass:String},Zi);function so(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function lo(n){n.data.newPos=n.elm.getBoundingClientRect()}function co(n){var t=n.data.pos,e=n.data.newPos,r=t.left-e.left,i=t.top-e.top;if(r||i){n.data.moved=!0;var o=n.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}delete ao.mode;var uo={Transition:oo,TransitionGroup:{props:ao,beforeMount:function(){var n=this,t=this._update;this._update=function(e,r){var i=se(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),t.call(n,e,r)}},render:function(n){for(var t=this.tag||this.$vnode.data.tag||"span",e=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=to(this),s=0;s<i.length;s++){if((u=i[s]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),e[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){var l=[],c=[];for(s=0;s<r.length;s++){var u;(u=r[s]).data.transition=a,u.data.pos=u.elm.getBoundingClientRect(),e[u.key]?l.push(u):c.push(u)}this.kept=n(t,null,l),this.removed=c}return n(t,null,o)},updated:function(){var n=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,t)&&(n.forEach(so),n.forEach(lo),n.forEach(co),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var e=n.elm,r=e.style;Pi(e,t),r.transform=r.WebkitTransform=r.transitionDuration="",e.addEventListener(Ti,e._moveCb=function n(r){r&&r.target!==e||r&&!/transform$/.test(r.propertyName)||(e.removeEventListener(Ti,n),e._moveCb=null,Si(e,t))})}})))},methods:{hasMove:function(n,t){if(!$i)return!1;if(this._hasMove)return this._hasMove;var e=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){_i(e,n)})),bi(e,t),e.style.display="none",this.$el.appendChild(e);var r=Oi(e);return this.$el.removeChild(e),this._hasMove=r.hasTransform}}}};er.config.mustUseProp=function(n,t,e){return"value"===e&&pr(n)&&"button"!==t||"selected"===e&&"option"===n||"checked"===e&&"input"===n||"muted"===e&&"video"===n},er.config.isReservedTag=Er,er.config.isReservedAttr=ur,er.config.getTagNamespace=function(n){return Tr(n)?"svg":"math"===n?"math":void 0},er.config.isUnknownElement=function(n){if(!Y)return!0;if(Er(n))return!1;if(n=n.toLowerCase(),null!=Ar[n])return Ar[n];var t=document.createElement(n);return n.indexOf("-")>-1?Ar[n]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ar[n]=/HTMLUnknownElement/.test(t.toString())},S(er.options.directives,Ki),S(er.options.components,uo),er.prototype.__patch__=Y?Ui:j,er.prototype.$mount=function(n,t){return function(n,t,e){var r;n.$el=t,n.$options.render||(n.$options.render=gn),ue(n,"beforeMount"),r=function(){n._update(n._render(),e)},new te(n,r,j,{before:function(){n._isMounted&&!n._isDestroyed&&ue(n,"beforeUpdate")}},!0),e=!1;var i=n._preWatchers;if(i)for(var o=0;o<i.length;o++)i[o].run();return null==n.$vnode&&(n._isMounted=!0,ue(n,"mounted")),n}(this,n=n&&Y?function(n){if("string"==typeof n){var t=document.querySelector(n);return t||document.createElement("div")}return n}(n):void 0,t)},Y&&setTimeout((function(){U.devtools&&sn&&sn.emit("init",er)}),0)},function(n,t,e){"use strict";function r(n,t,e,r,i,o,a,s){var l,c="function"==typeof n?n.options:n;if(t&&(c.render=t,c.staticRenderFns=e,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(n,t){return l.call(t),u(n,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}e.d(t,"a",(function(){return r}))},function(n,t,e){"use strict";e.d(t,"a",(function(){return p}));var r=e(0);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function i(n){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function l(n,t){c(n,t),Object.getOwnPropertyNames(t.prototype).forEach((function(e){c(n.prototype,t.prototype,e)})),Object.getOwnPropertyNames(t).forEach((function(e){c(n,t,e)}))}function c(n,t,e){(e?Reflect.getOwnMetadataKeys(t,e):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var i=e?Reflect.getOwnMetadata(r,t,e):Reflect.getOwnMetadata(r,t);e?Reflect.defineMetadata(r,i,n,e):Reflect.defineMetadata(r,i,n)}))}var u={__proto__:[]}instanceof Array;function p(n){return function(t,e,r){var i="function"==typeof t?t:t.constructor;i.__decorators__||(i.__decorators__=[]),"number"!=typeof r&&(r=void 0),i.__decorators__.push((function(t){return n(t,e,r)}))}}function d(n,t){var e=t.prototype._init;t.prototype._init=function(){var t=this,e=Object.getOwnPropertyNames(n);if(n.$options.props)for(var r in n.$options.props)n.hasOwnProperty(r)||e.push(r);e.forEach((function(e){Object.defineProperty(t,e,{get:function(){return n[e]},set:function(t){n[e]=t},configurable:!0})}))};var r=new t;t.prototype._init=e;var i={};return Object.keys(r).forEach((function(n){void 0!==r[n]&&(i[n]=r[n])})),i}var m=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function h(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||n._componentTag||n.name;var e=n.prototype;Object.getOwnPropertyNames(e).forEach((function(n){if("constructor"!==n)if(m.indexOf(n)>-1)t[n]=e[n];else{var r=Object.getOwnPropertyDescriptor(e,n);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[n]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return o({},n,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[n]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return d(this,n)}});var i=n.__decorators__;i&&(i.forEach((function(n){return n(t)})),delete n.__decorators__);var a=Object.getPrototypeOf(n.prototype),c=a instanceof r.b?a.constructor:r.b,u=c.extend(t);return f(u,n,c),s()&&l(u,n),u}var g={prototype:!0,arguments:!0,callee:!0,caller:!0};function f(n,t,e){Object.getOwnPropertyNames(t).forEach((function(r){if(!g[r]){var o=Object.getOwnPropertyDescriptor(n,r);if(!o||o.configurable){var a,s,l=Object.getOwnPropertyDescriptor(t,r);if(!u){if("cid"===r)return;var c=Object.getOwnPropertyDescriptor(e,r);if(a=l.value,s=i(a),null!=a&&("object"===s||"function"===s)&&c&&c.value===l.value)return}0,Object.defineProperty(n,r,l)}}}))}function v(n){return"function"==typeof n?h(n):function(t){return h(t,n)}}v.registerHooks=function(n){m.push.apply(m,a(n))},t.b=v},function(n,t,e){var r=e(71),i=r.all;n.exports=r.IS_HTMLDDA?function(n){return"function"==typeof n||n===i}:function(n){return"function"==typeof n}},function(n,t,e){"use strict";var r=e(113),i=Object.prototype.toString;function o(n){return"[object Array]"===i.call(n)}function a(n){return void 0===n}function s(n){return null!==n&&"object"==typeof n}function l(n){if("[object Object]"!==i.call(n))return!1;var t=Object.getPrototypeOf(n);return null===t||t===Object.prototype}function c(n){return"[object Function]"===i.call(n)}function u(n,t){if(null!=n)if("object"!=typeof n&&(n=[n]),o(n))for(var e=0,r=n.length;e<r;e++)t.call(null,n[e],e,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.call(null,n[i],i,n)}n.exports={isArray:o,isArrayBuffer:function(n){return"[object ArrayBuffer]"===i.call(n)},isBuffer:function(n){return null!==n&&!a(n)&&null!==n.constructor&&!a(n.constructor)&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)},isFormData:function(n){return"undefined"!=typeof FormData&&n instanceof FormData},isArrayBufferView:function(n){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer&&n.buffer instanceof ArrayBuffer},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n},isObject:s,isPlainObject:l,isUndefined:a,isDate:function(n){return"[object Date]"===i.call(n)},isFile:function(n){return"[object File]"===i.call(n)},isBlob:function(n){return"[object Blob]"===i.call(n)},isFunction:c,isStream:function(n){return s(n)&&c(n.pipe)},isURLSearchParams:function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function n(){var t={};function e(e,r){l(t[r])&&l(e)?t[r]=n(t[r],e):l(e)?t[r]=n({},e):o(e)?t[r]=e.slice():t[r]=e}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],e);return t},extend:function(n,t,e){return u(t,(function(t,i){n[i]=e&&"function"==typeof t?r(t,e):t})),n},trim:function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")},stripBOM:function(n){return 65279===n.charCodeAt(0)&&(n=n.slice(1)),n}}},function(n,t,e){n.exports=e(313)},function(n,t,e){var r=e(41),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);n.exports=r?a:function(n){return function(){return o.apply(n,arguments)}}},function(n,t){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,t){var e=function(n){return n&&n.Math==Math&&n};n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},function(n,t,e){var r=e(7);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,t,e){"use strict";var r=e(21),i=e(29),o=e(30),a=e(164),s=e(166);r({target:"Array",proto:!0,arity:1,forced:e(7)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var t=i(this),e=o(t),r=arguments.length;s(e+r);for(var l=0;l<r;l++)t[e]=arguments[l],e++;return a(t,e),e}})},function(n,t,e){var r=e(88),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},function(n,t){var e=Array.isArray;n.exports=e},function(n,t,e){var r=e(6),i=e(29),o=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,t){return o(i(n),t)}},function(n,t,e){var r=e(3),i=e(71),o=i.all;n.exports=i.IS_HTMLDDA?function(n){return"object"==typeof n?null!==n:r(n)||n===o}:function(n){return"object"==typeof n?null!==n:r(n)}},function(n,t,e){var r=e(198),i=e(201);n.exports=function(n,t){var e=i(n,t);return r(e)?e:void 0}},function(n,t,e){var r=e(301),i=e(111),o=/[T ]/,a=/:/,s=/^(\d{2})$/,l=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],c=/^(\d{4})/,u=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],p=/^-(\d{2})$/,d=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,g=/^-?W(\d{2})-?(\d{1})$/,f=/^(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,_=/^(Z)$/,w=/^([+-])(\d{2})$/,x=/^([+-])(\d{2}):?(\d{2})$/;function $(n,t,e){t=t||0,e=e||0;var r=new Date(0);r.setUTCFullYear(n,0,4);var i=7*t+e+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}n.exports=function(n,t){if(i(n))return new Date(n.getTime());if("string"!=typeof n)return new Date(n);var e=(t||{}).additionalDigits;e=null==e?2:Number(e);var k=function(n){var t,e={},r=n.split(o);a.test(r[0])?(e.date=null,t=r[0]):(e.date=r[0],t=r[1]);if(t){var i=b.exec(t);i?(e.time=t.replace(i[1],""),e.timezone=i[1]):e.time=t}return e}(n),T=function(n,t){var e,r=l[t],i=u[t];if(e=c.exec(n)||i.exec(n)){var o=e[1];return{year:parseInt(o,10),restDateString:n.slice(o.length)}}if(e=s.exec(n)||r.exec(n)){var a=e[1];return{year:100*parseInt(a,10),restDateString:n.slice(a.length)}}return{year:null}}(k.date,e),E=T.year,A=function(n,t){if(null===t)return null;var e,r,i,o;if(0===n.length)return(r=new Date(0)).setUTCFullYear(t),r;if(e=p.exec(n))return r=new Date(0),i=parseInt(e[1],10)-1,r.setUTCFullYear(t,i),r;if(e=d.exec(n)){r=new Date(0);var a=parseInt(e[1],10);return r.setUTCFullYear(t,0,a),r}if(e=m.exec(n)){r=new Date(0),i=parseInt(e[1],10)-1;var s=parseInt(e[2],10);return r.setUTCFullYear(t,i,s),r}if(e=h.exec(n))return o=parseInt(e[1],10)-1,$(t,o);if(e=g.exec(n)){o=parseInt(e[1],10)-1;var l=parseInt(e[2],10)-1;return $(t,o,l)}return null}(T.restDateString,E);if(A){var D,C=A.getTime(),P=0;if(k.time&&(P=function(n){var t,e,r;if(t=f.exec(n))return(e=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=v.exec(n))return e=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),e%24*36e5+6e4*r;if(t=y.exec(n)){e=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return e%24*36e5+6e4*r+1e3*i}return null}(k.time)),k.timezone)D=6e4*function(n){var t,e;if(t=_.exec(n))return 0;if(t=w.exec(n))return e=60*parseInt(t[2],10),"+"===t[1]?-e:e;if(t=x.exec(n))return e=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-e:e;return 0}(k.timezone);else{var S=C+P,I=new Date(S);D=r(I);var j=new Date(S);j.setDate(I.getDate()+1);var O=r(j)-r(I);O>0&&(D+=O)}return new Date(C+P+D)}return new Date(n)}},function(n,t,e){"use strict";e.d(t,"c",(function(){return o})),e.d(t,"i",(function(){return a})),e.d(t,"f",(function(){return l})),e.d(t,"g",(function(){return c})),e.d(t,"h",(function(){return u})),e.d(t,"d",(function(){return p})),e.d(t,"e",(function(){return d})),e.d(t,"k",(function(){return m})),e.d(t,"l",(function(){return h})),e.d(t,"j",(function(){return g})),e.d(t,"b",(function(){return v})),e.d(t,"a",(function(){return y}));e(10);const r=/#.*$/,i=/\.(md|html)$/,o=/\/$/,a=/^(https?:|mailto:|tel:)/;function s(n){return decodeURI(n).replace(r,"").replace(i,"")}function l(n){return a.test(n)}function c(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function p(n){if(l(n))return n;const t=n.match(r),e=t?t[0]:"",i=s(n);return o.test(i)?n:i+".html"+e}function d(n,t){const e=n.hash,i=function(n){const t=n.match(r);if(t)return t[0]}(t);if(i&&e!==i)return!1;return s(n.path)===s(t)}function m(n,t,e){e&&(t=function(n,t,e){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return t+n;const i=t.split("/");e&&i[i.length-1]||i.pop();const o=n.replace(/^\//,"").split("/");for(let n=0;n<o.length;n++){const t=o[n];".."===t?i.pop():"."!==t&&i.push(t)}""!==i[0]&&i.unshift("");return i.join("/")}(t,e));const r=s(t);for(let t=0;t<n.length;t++)if(s(n[t].regularPath)===r)return Object.assign({},n[t],{type:"page",path:p(n[t].path)});return console.error(`[vuepress] No matching page found for sidebar item "${t}"`),{}}function h(n,t,e,r){const{pages:i,themeConfig:o}=e,a=(r&&o.locales&&o.locales[r]||o).sidebar||o.sidebar,{base:s,config:l}=function(n,t){if(Array.isArray(t))return{base:"/",config:t};for(const r in t)if(0===(e=n,/(\.html|\/)$/.test(e)?e:e+"/").indexOf(encodeURI(r)))return{base:r,config:t[r]};var e;return{}}(t,a);return l?l.map(n=>function n(t,e,r,i=1){if("string"==typeof t)return m(e,t,r);if(Array.isArray(t))return Object.assign(m(e,t[0],r),{title:t[1]});{i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const o=t.children||[];return 0===o.length&&t.path?Object.assign(m(e,t.path,r),{title:t.title}):{type:"group",path:t.path,title:t.title,sidebarDepth:t.sidebarDepth,children:o.map(t=>n(t,e,r,i+1)),collapsable:!1!==t.collapsable}}}(n,i,s)):[]}function g(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function f(n){return n?new Date(n).getTime():0}function v(n,t){const e=f(n.frontmatter.date),r=f(t.frontmatter.date);return 0===e||0===r?0:r-e}function y(n){const t=document.createElement("link");t.rel="stylesheet",t.href=n,document.head.append(t)}},function(n,t,e){var r=e(9),i=e(80),o=e(82),a=e(23),s=e(70),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=r?o?function(n,t,e){if(a(n),t=s(t),a(e),"function"==typeof n&&"prototype"===t&&"value"in e&&"writable"in e&&!e.writable){var r=u(n,t);r&&r.writable&&(n[t]=e.value,e={configurable:"configurable"in e?e.configurable:r.configurable,enumerable:"enumerable"in e?e.enumerable:r.enumerable,writable:!1})}return c(n,t,e)}:c:function(n,t,e){if(a(n),t=s(t),a(e),i)try{return c(n,t,e)}catch(n){}if("get"in e||"set"in e)throw l("Accessors not supported");return"value"in e&&(n[t]=e.value),n}},function(n,t){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,t,e){"use strict";var r=e(288),i=e(299),o=e(61);n.exports={formats:o,parse:i,stringify:r}},function(n,t,e){var r=e(8),i=e(68).f,o=e(22),a=e(138),s=e(47),l=e(84),c=e(160);n.exports=function(n,t){var e,u,p,d,m,h=n.target,g=n.global,f=n.stat;if(e=g?r:f?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in t){if(d=t[u],p=n.dontCallGetSet?(m=i(e,u))&&m.value:e[u],!c(g?u:h+(f?".":"#")+u,n.forced)&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(n.sham||p&&p.sham)&&o(d,"sham",!0),a(e,u,d,n)}}},function(n,t,e){var r=e(9),i=e(18),o=e(44);n.exports=r?function(n,t,e){return i.f(n,t,o(1,e))}:function(n,t,e){return n[t]=e,n}},function(n,t,e){var r=e(14),i=String,o=TypeError;n.exports=function(n){if(r(n))return n;throw o(i(n)+" is not an object")}},function(n,t,e){var r=e(11).Symbol;n.exports=r},function(n,t,e){var r=e(24),i=e(183),o=e(184),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?i(n):o(n)}},function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"b",(function(){return a}));var r=e(17);function i(n,t){return n=n.filter((e,r)=>{const{title:i,frontmatter:{home:o,date:a,publish:s}}=e;if(n.indexOf(e)!==r)return!1;{const n=!0===o||null==i||!1===s;return!0===t?!(n||void 0===a):!n}})}function o(n){n.sort((n,t)=>{const e=n.frontmatter.sticky,i=t.frontmatter.sticky;return e&&i?e==i?Object(r.b)(n,t):e-i:e&&!i?-1:!e&&i?1:Object(r.b)(n,t)})}function a(n){n.sort((n,t)=>Object(r.b)(n,t))}},function(n,t,e){var r=e(6),i=r({}.toString),o=r("".slice);n.exports=function(n){return o(i(n),8,-1)}},function(n,t,e){var r=e(8),i=e(77),o=e(13),a=e(79),s=e(75),l=e(74),c=r.Symbol,u=i("wks"),p=l?c.for||c:c&&c.withoutSetter||a;n.exports=function(n){return o(u,n)||(u[n]=s&&o(c,n)?c[n]:p("Symbol."+n)),u[n]}},function(n,t,e){var r=e(45),i=Object;n.exports=function(n){return i(r(n))}},function(n,t,e){var r=e(158);n.exports=function(n){return r(n.length)}},function(n,t,e){var r=e(65),i=e(45);n.exports=function(n){return r(i(n))}},function(n,t,e){var r=e(8),i=e(3),o=function(n){return i(n)?n:void 0};n.exports=function(n,t){return arguments.length<2?o(r[n]):r[n]&&r[n][t]}},function(n,t,e){var r=e(157);n.exports=function(n){var t=+n;return t!=t||0===t?0:r(t)}},function(n,t,e){var r=e(188),i=e(189),o=e(190),a=e(191),s=e(192);function l(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,t,e){var r=e(90);n.exports=function(n,t){for(var e=n.length;e--;)if(r(n[e][0],t))return e;return-1}},function(n,t,e){var r=e(15)(Object,"create");n.exports=r},function(n,t,e){var r=e(210);n.exports=function(n,t){var e=n.__data__;return r(t)?e["string"==typeof t?"string":"hash"]:e.map}},function(n,t,e){var r=e(57);n.exports=function(n){if("string"==typeof n||r(n))return n;var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}},function(n,t,e){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var n,t,e={version:"0.2.0"},r=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,t,e){return n<t?t:n>e?e:n}function o(n){return 100*(-1+n)}e.configure=function(n){var t,e;for(t in n)void 0!==(e=n[t])&&n.hasOwnProperty(t)&&(r[t]=e);return this},e.status=null,e.set=function(n){var t=e.isStarted();n=i(n,r.minimum,1),e.status=1===n?null:n;var l=e.render(!t),c=l.querySelector(r.barSelector),u=r.speed,p=r.easing;return l.offsetWidth,a((function(t){""===r.positionUsing&&(r.positionUsing=e.getPositioningCSS()),s(c,function(n,t,e){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+o(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+o(n)+"%,0)"}:{"margin-left":o(n)+"%"}).transition="all "+t+"ms "+e,i}(n,u,p)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){e.remove(),t()}),u)}),u)):setTimeout(t,u)})),this},e.isStarted=function(){return"number"==typeof e.status},e.start=function(){e.status||e.set(0);var n=function(){setTimeout((function(){e.status&&(e.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},e.done=function(n){return n||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(n){var t=e.status;return t?("number"!=typeof n&&(n=(1-t)*i(Math.random()*t,.1,.95)),t=i(t+n,0,.994),e.set(t)):e.start()},e.trickle=function(){return e.inc(Math.random()*r.trickleRate)},n=0,t=0,e.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&e.start(),n++,t++,r.always((function(){0==--t?(n=0,e.done()):e.set((n-t)/n)})),this):this},e.render=function(n){if(e.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=r.template;var i,a=t.querySelector(r.barSelector),l=n?"-100":o(e.status||0),u=document.querySelector(r.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(i=t.querySelector(r.spinnerSelector))&&d(i),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(t),t},e.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&d(n)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var n=document.body.style,t="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return t+"Perspective"in n?"translate3d":t+"Transform"in n?"translate":"margin"};var a=function(){var n=[];function t(){var e=n.shift();e&&e(t)}return function(e){n.push(e),1==n.length&&t()}}(),s=function(){var n=["Webkit","O","Moz","ms"],t={};function e(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,t){return t.toUpperCase()})),t[e]||(t[e]=function(t){var e=document.body.style;if(t in e)return t;for(var r,i=n.length,o=t.charAt(0).toUpperCase()+t.slice(1);i--;)if((r=n[i]+o)in e)return r;return t}(e))}function r(n,t,r){t=e(t),n.style[t]=r}return function(n,t){var e,i,o=arguments;if(2==o.length)for(e in t)void 0!==(i=t[e])&&t.hasOwnProperty(e)&&r(n,e,i);else r(n,o[1],o[2])}}();function l(n,t){return("string"==typeof n?n:p(n)).indexOf(" "+t+" ")>=0}function c(n,t){var e=p(n),r=e+t;l(e,t)||(n.className=r.substring(1))}function u(n,t){var e,r=p(n);l(n,t)&&(e=r.replace(" "+t+" "," "),n.className=e.substring(1,e.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function d(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return e})?r.call(t,e,t,n):r)||(n.exports=i)},function(n,t,e){"use strict";e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return o}));e(10),e(17);function r(){const n=["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87","#e15b64","#f47e60","#f8b26a","#f26d6d","#67cc86","#fb9b5f","#3498db"];return n[Math.floor(Math.random()*n.length)]}function i(n){const t=n.__proto__.push;n.__proto__.push=function(n){return t.call(this,n).catch(n=>n)}}function o(n){const t=n.getRoutes();n.beforeEach((n,e,r)=>{const i=t.find(t=>t.regex.test(n.path));return/\.html$/.test(n.path)||i&&"*"!==i.path&&!i.redirect?r():decodeURIComponent(n.path)!==n.path?r(Object.assign({},n,{path:decodeURIComponent(n.path),fullPath:decodeURIComponent(n.fullPath)})):void r()})}},function(n,t,e){var r=e(7);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,t,e){var r=e(3),i=e(147),o=TypeError;n.exports=function(n){if(r(n))return n;throw o(i(n)+" is not a function")}},function(n,t,e){var r=e(41),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t,e){var r=e(69),i=TypeError;n.exports=function(n){if(r(n))throw i("Can't call method on "+n);return n}},function(n,t,e){var r=e(8),i=e(47),o=r["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=o},function(n,t,e){var r=e(8),i=Object.defineProperty;n.exports=function(n,t){try{i(r,n,{value:t,configurable:!0,writable:!0})}catch(e){r[n]=t}return t}},function(n,t){n.exports={}},function(n,t){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,t,e){var r=e(182),i=e(19),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return i(n)&&a.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,t,e){var r=e(15)(e(11),"Map");n.exports=r},function(n,t){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},function(n,t,e){var r=e(202),i=e(209),o=e(211),a=e(212),s=e(213);function l(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,t){n.exports=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n){e[++t]=n})),e}},function(n,t){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,t,e){var r=e(12),i=e(57),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;n.exports=function(n,t){if(r(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!i(n))||(a.test(n)||!o.test(n)||null!=t&&n in Object(t))}},function(n,t,e){var r=e(25),i=e(19);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},function(n,t){n.exports=function(n){return n}},function(n,t,e){"use strict";var r=SyntaxError,i=Function,o=TypeError,a=function(n){try{return i('"use strict"; return ('+n+").constructor;")()}catch(n){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(n){s=null}var l=function(){throw new o},c=s?function(){try{return l}catch(n){try{return s(arguments,"callee").get}catch(n){return l}}}():l,u=e(290)(),p=e(292)(),d=Object.getPrototypeOf||(p?function(n){return n.__proto__}:null),m={},h="undefined"!=typeof Uint8Array&&d?d(Uint8Array):void 0,g={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u&&d?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":m,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&d?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&d?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&d?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&d?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(d)try{null.error}catch(n){var f=d(d(n));g["%Error.prototype%"]=f}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=e(60),b=e(294),_=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),$=y.call(Function.call,String.prototype.slice),k=y.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,A=function(n){var t=$(n,0,1),e=$(n,-1);if("%"===t&&"%"!==e)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===e&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return x(n,T,(function(n,t,e,r){i[i.length]=e?x(r,E,"$1"):t||n})),i},D=function(n,t){var e,i=n;if(b(v,i)&&(i="%"+(e=v[i])[0]+"%"),b(g,i)){var s=g[i];if(s===m&&(s=function n(t){var e;if("%AsyncFunction%"===t)e=a("async function () {}");else if("%GeneratorFunction%"===t)e=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)e=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=n("%AsyncGeneratorFunction%");r&&(e=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=n("%AsyncGenerator%");i&&d&&(e=d(i.prototype))}return g[t]=e,e}(i)),void 0===s&&!t)throw new o("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:e,name:i,value:s}}throw new r("intrinsic "+n+" does not exist!")};n.exports=function(n,t){if("string"!=typeof n||0===n.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,n))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var e=A(n),i=e.length>0?e[0]:"",a=D("%"+i+"%",t),l=a.name,c=a.value,u=!1,p=a.alias;p&&(i=p[0],w(e,_([0,1],p)));for(var d=1,m=!0;d<e.length;d+=1){var h=e[d],f=$(h,0,1),v=$(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===v||"'"===v||"`"===v)&&f!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==h&&m||(u=!0),b(g,l="%"+(i+="."+h)+"%"))c=g[l];else if(null!=c){if(!(h in c)){if(!t)throw new o("base intrinsic for "+n+" exists, but the property is not available.");return}if(s&&d+1>=e.length){var y=s(c,h);c=(m=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[h]}else m=b(c,h),c=c[h];m&&!u&&(g[l]=c)}}return c}},function(n,t,e){"use strict";var r=e(293);n.exports=Function.prototype.bind||r},function(n,t,e){"use strict";var r=String.prototype.replace,i=/%20/g,o="RFC1738",a="RFC3986";n.exports={default:a,formatters:{RFC1738:function(n){return r.call(n,i,"+")},RFC3986:function(n){return String(n)}},RFC1738:o,RFC3986:a}},function(n,t,e){var r=e(306);n.exports=function(n){return r(n,{weekStartsOn:1})}},function(n,t,e){"use strict";var r=e(4),i=e(318),o=e(115),a={"Content-Type":"application/x-www-form-urlencoded"};function s(n,t){!r.isUndefined(n)&&r.isUndefined(n["Content-Type"])&&(n["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=e(116)),l),transformRequest:[function(n,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(n)||r.isArrayBuffer(n)||r.isBuffer(n)||r.isStream(n)||r.isFile(n)||r.isBlob(n)?n:r.isArrayBufferView(n)?n.buffer:r.isURLSearchParams(n)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):r.isObject(n)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(n,t,e){if(r.isString(n))try{return(t||JSON.parse)(n),r.trim(n)}catch(n){if("SyntaxError"!==n.name)throw n}return(e||JSON.stringify)(n)}(n)):n}],transformResponse:[function(n){var t=this.transitional,e=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!e&&"json"===this.responseType;if(a||i&&r.isString(n)&&n.length)try{return JSON.parse(n)}catch(n){if(a){if("SyntaxError"===n.name)throw o(n,this,"E_JSON_PARSE");throw n}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(n){c.headers[n]={}})),r.forEach(["post","put","patch"],(function(n){c.headers[n]=r.merge(a)})),n.exports=c},function(n,t,e){var r=e(174),i=String;n.exports=function(n){if("Symbol"===r(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,t,e){var r=e(6),i=e(7),o=e(27),a=Object,s=r("".split);n.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?s(n,""):a(n)}:a},function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,t,e){"use strict";var r=e(21),i=e(161).left,o=e(162),a=e(76);r({target:"Array",proto:!0,forced:!e(163)&&a>79&&a<83||!o("reduce")},{reduce:function(n){var t=arguments.length;return i(this,n,t,t>1?arguments[1]:void 0)}})},function(n,t,e){var r=e(9),i=e(43),o=e(143),a=e(44),s=e(31),l=e(70),c=e(13),u=e(80),p=Object.getOwnPropertyDescriptor;t.f=r?p:function(n,t){if(n=s(n),t=l(t),u)try{return p(n,t)}catch(n){}if(c(n,t))return a(!i(o.f,n,t),n[t])}},function(n,t){n.exports=function(n){return null==n}},function(n,t,e){var r=e(144),i=e(72);n.exports=function(n){var t=r(n,"string");return i(t)?t:t+""}},function(n,t){var e="object"==typeof document&&document.all,r=void 0===e&&void 0!==e;n.exports={all:e,IS_HTMLDDA:r}},function(n,t,e){var r=e(32),i=e(3),o=e(73),a=e(74),s=Object;n.exports=a?function(n){return"symbol"==typeof n}:function(n){var t=r("Symbol");return i(t)&&o(t.prototype,s(n))}},function(n,t,e){var r=e(6);n.exports=r({}.isPrototypeOf)},function(n,t,e){var r=e(75);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,t,e){var r=e(76),i=e(7),o=e(8).String;n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol();return!o(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,t,e){var r,i,o=e(8),a=e(145),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},function(n,t,e){var r=e(78),i=e(46);(n.exports=function(n,t){return i[n]||(i[n]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,t){n.exports=!1},function(n,t,e){var r=e(6),i=0,o=Math.random(),a=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+a(++i+o,36)}},function(n,t,e){var r=e(9),i=e(7),o=e(81);n.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(n,t,e){var r=e(8),i=e(14),o=r.document,a=i(o)&&i(o.createElement);n.exports=function(n){return a?o.createElement(n):{}}},function(n,t,e){var r=e(9),i=e(7);n.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,t,e){var r=e(77),i=e(79),o=r("keys");n.exports=function(n){return o[n]||(o[n]=i(n))}},function(n,t,e){var r=e(13),i=e(153),o=e(68),a=e(18);n.exports=function(n,t,e){for(var s=i(t),l=a.f,c=o.f,u=0;u<s.length;u++){var p=s[u];r(n,p)||e&&r(e,p)||l(n,p,c(t,p))}}},function(n,t,e){var r=e(6),i=e(13),o=e(31),a=e(155).indexOf,s=e(48),l=r([].push);n.exports=function(n,t){var e,r=o(n),c=0,u=[];for(e in r)!i(s,e)&&i(r,e)&&l(u,e);for(;t.length>c;)i(r,e=t[c++])&&(~a(u,e)||l(u,e));return u}},function(n,t,e){var r=e(169),i=e(23),o=e(170);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,t=!1,e={};try{(n=r(Object.prototype,"__proto__","set"))(e,[]),t=e instanceof Array}catch(n){}return function(e,r){return i(e),o(r),t?n(e,r):e.__proto__=r,e}}():void 0)},function(n,t){n.exports=function(n,t){for(var e=-1,r=t.length,i=n.length;++e<r;)n[i+e]=t[e];return n}},function(n,t){var e="object"==typeof global&&global&&global.Object===Object&&global;n.exports=e},function(n,t,e){var r=e(34),i=e(193),o=e(194),a=e(195),s=e(196),l=e(197);function c(n){var t=this.__data__=new r(n);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,t){n.exports=function(n,t){return n===t||n!=n&&t!=t}},function(n,t,e){var r=e(25),i=e(52);n.exports=function(n){if(!i(n))return!1;var t=r(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(n,t){var e=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return e.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,t,e){var r=e(214),i=e(19);n.exports=function n(t,e,o,a,s){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!=t&&e!=e:r(t,e,o,a,n,s))}},function(n,t,e){var r=e(95),i=e(217),o=e(96);n.exports=function(n,t,e,a,s,l){var c=1&e,u=n.length,p=t.length;if(u!=p&&!(c&&p>u))return!1;var d=l.get(n),m=l.get(t);if(d&&m)return d==t&&m==n;var h=-1,g=!0,f=2&e?new r:void 0;for(l.set(n,t),l.set(t,n);++h<u;){var v=n[h],y=t[h];if(a)var b=c?a(y,v,h,t,n,l):a(v,y,h,n,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(f){if(!i(t,(function(n,t){if(!o(f,t)&&(v===n||s(v,n,e,a,l)))return f.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,e,a,l)){g=!1;break}}return l.delete(n),l.delete(t),g}},function(n,t,e){var r=e(53),i=e(215),o=e(216);function a(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new r;++t<e;)this.add(n[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,n.exports=a},function(n,t){n.exports=function(n,t){return n.has(t)}},function(n,t,e){var r=e(227),i=e(233),o=e(101);n.exports=function(n){return o(n)?r(n):i(n)}},function(n,t,e){(function(n){var r=e(11),i=e(229),o=t&&!t.nodeType&&t,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;n.exports=l}).call(this,e(66)(n))},function(n,t){var e=/^(?:0|[1-9]\d*)$/;n.exports=function(n,t){var r=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&e.test(n))&&n>-1&&n%1==0&&n<t}},function(n,t,e){var r=e(230),i=e(231),o=e(232),a=o&&o.isTypedArray,s=a?i(a):r;n.exports=s},function(n,t,e){var r=e(91),i=e(55);n.exports=function(n){return null!=n&&i(n.length)&&!r(n)}},function(n,t,e){var r=e(15)(e(11),"Set");n.exports=r},function(n,t,e){var r=e(52);n.exports=function(n){return n==n&&!r(n)}},function(n,t){n.exports=function(n,t){return function(e){return null!=e&&(e[n]===t&&(void 0!==t||n in Object(e)))}}},function(n,t,e){var r=e(106),i=e(38);n.exports=function(n,t){for(var e=0,o=(t=r(t,n)).length;null!=n&&e<o;)n=n[i(t[e++])];return e&&e==o?n:void 0}},function(n,t,e){var r=e(12),i=e(56),o=e(244),a=e(247);n.exports=function(n,t){return r(n)?n:i(n,t)?[n]:o(a(n))}},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){"use strict";var r=e(61),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var n=[],t=0;t<256;++t)n.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return n}(),s=function(n,t){for(var e=t&&t.plainObjects?Object.create(null):{},r=0;r<n.length;++r)void 0!==n[r]&&(e[r]=n[r]);return e};n.exports={arrayToObject:s,assign:function(n,t){return Object.keys(t).reduce((function(n,e){return n[e]=t[e],n}),n)},combine:function(n,t){return[].concat(n,t)},compact:function(n){for(var t=[{obj:{o:n},prop:"o"}],e=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===e.indexOf(u)&&(t.push({obj:a,prop:c}),e.push(u))}return function(n){for(;n.length>1;){var t=n.pop(),e=t.obj[t.prop];if(o(e)){for(var r=[],i=0;i<e.length;++i)void 0!==e[i]&&r.push(e[i]);t.obj[t.prop]=r}}}(t),n},decode:function(n,t,e){var r=n.replace(/\+/g," ");if("iso-8859-1"===e)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(n){return r}},encode:function(n,t,e,i,o){if(0===n.length)return n;var s=n;if("symbol"==typeof n?s=Symbol.prototype.toString.call(n):"string"!=typeof n&&(s=String(n)),"iso-8859-1"===e)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"}));for(var l="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?l+=s.charAt(c):u<128?l+=a[u]:u<2048?l+=a[192|u>>6]+a[128|63&u]:u<55296||u>=57344?l+=a[224|u>>12]+a[128|u>>6&63]+a[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),l+=a[240|u>>18]+a[128|u>>12&63]+a[128|u>>6&63]+a[128|63&u])}return l},isBuffer:function(n){return!(!n||"object"!=typeof n)&&!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},isRegExp:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},maybeMap:function(n,t){if(o(n)){for(var e=[],r=0;r<n.length;r+=1)e.push(t(n[r]));return e}return t(n)},merge:function n(t,e,r){if(!e)return t;if("object"!=typeof e){if(o(t))t.push(e);else{if(!t||"object"!=typeof t)return[t,e];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,e))&&(t[e]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(e);var a=t;return o(t)&&!o(e)&&(a=s(t,r)),o(t)&&o(e)?(e.forEach((function(e,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&e&&"object"==typeof e?t[o]=n(a,e,r):t.push(e)}else t[o]=e})),t):Object.keys(e).reduce((function(t,o){var a=e[o];return i.call(t,o)?t[o]=n(t[o],a,r):t[o]=a,t}),a)}}},function(n,t){n.exports=function(n){return n instanceof Date}},function(n,t,e){var r=e(16),i=e(62);n.exports=function(n){var t=r(n),e=t.getFullYear(),o=new Date(0);o.setFullYear(e+1,0,4),o.setHours(0,0,0,0);var a=i(o),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var l=i(s);return t.getTime()>=a.getTime()?e+1:t.getTime()>=l.getTime()?e:e-1}},function(n,t,e){"use strict";n.exports=function(n,t){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];return n.apply(t,e)}}},function(n,t,e){"use strict";var r=e(4);function i(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}n.exports=function(n,t,e){if(!t)return n;var o;if(e)o=e(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(n,t){null!=n&&(r.isArray(n)?t+="[]":n=[n],r.forEach(n,(function(n){r.isDate(n)?n=n.toISOString():r.isObject(n)&&(n=JSON.stringify(n)),a.push(i(t)+"="+i(n))})))})),o=a.join("&")}if(o){var s=n.indexOf("#");-1!==s&&(n=n.slice(0,s)),n+=(-1===n.indexOf("?")?"?":"&")+o}return n}},function(n,t,e){"use strict";n.exports=function(n,t,e,r,i){return n.config=t,e&&(n.code=e),n.request=r,n.response=i,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}},function(n,t,e){"use strict";var r=e(4),i=e(319),o=e(320),a=e(114),s=e(321),l=e(324),c=e(325),u=e(117);n.exports=function(n){return new Promise((function(t,e){var p=n.data,d=n.headers,m=n.responseType;r.isFormData(p)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(n.auth){var g=n.auth.username||"",f=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+f)}var v=s(n.baseURL,n.url);function y(){if(h){var r="getAllResponseHeaders"in h?l(h.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:n,request:h};i(t,e,o),h=null}}if(h.open(n.method.toUpperCase(),a(v,n.params,n.paramsSerializer),!0),h.timeout=n.timeout,"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(y)},h.onabort=function(){h&&(e(u("Request aborted",n,"ECONNABORTED",h)),h=null)},h.onerror=function(){e(u("Network Error",n,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+n.timeout+"ms exceeded";n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),e(u(t,n,n.transitional&&n.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var b=(n.withCredentials||c(v))&&n.xsrfCookieName?o.read(n.xsrfCookieName):void 0;b&&(d[n.xsrfHeaderName]=b)}"setRequestHeader"in h&&r.forEach(d,(function(n,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,n)})),r.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),m&&"json"!==m&&(h.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&h.addEventListener("progress",n.onDownloadProgress),"function"==typeof n.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",n.onUploadProgress),n.cancelToken&&n.cancelToken.promise.then((function(n){h&&(h.abort(),e(n),h=null)})),p||(p=null),h.send(p)}))}},function(n,t,e){"use strict";var r=e(115);n.exports=function(n,t,e,i,o){var a=new Error(n);return r(a,t,e,i,o)}},function(n,t,e){"use strict";n.exports=function(n){return!(!n||!n.__CANCEL__)}},function(n,t,e){"use strict";var r=e(4);n.exports=function(n,t){t=t||{};var e={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function l(n,t){return r.isPlainObject(n)&&r.isPlainObject(t)?r.merge(n,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(n[i])||(e[i]=l(void 0,n[i])):e[i]=l(n[i],t[i])}r.forEach(i,(function(n){r.isUndefined(t[n])||(e[n]=l(void 0,t[n]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(n[i])||(e[i]=l(void 0,n[i])):e[i]=l(void 0,t[i])})),r.forEach(s,(function(r){r in t?e[r]=l(n[r],t[r]):r in n&&(e[r]=l(void 0,n[r]))}));var u=i.concat(o).concat(a).concat(s),p=Object.keys(n).concat(Object.keys(t)).filter((function(n){return-1===u.indexOf(n)}));return r.forEach(p,c),e}},function(n,t,e){"use strict";function r(n){this.message=n}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,n.exports=r},function(n,t,e){},function(n,t,e){n.exports=function(){"use strict";var n=6e4,t=36e5,e="millisecond",r="second",i="minute",o="hour",a="day",s="week",l="month",c="quarter",u="year",p="date",d="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var t=["th","st","nd","rd"],e=n%100;return"["+n+(t[(e-20)%10]||t[e]||t[0])+"]"}},f=function(n,t,e){var r=String(n);return!r||r.length>=t?n:""+Array(t+1-r.length).join(e)+n},v={s:f,z:function(n){var t=-n.utcOffset(),e=Math.abs(t),r=Math.floor(e/60),i=e%60;return(t<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function n(t,e){if(t.date()<e.date())return-n(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(r,l),o=e-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(e-i)/(o?i-a:a-i))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:l,y:u,w:s,d:a,D:p,h:o,m:i,s:r,ms:e,Q:c}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},y="en",b={};b[y]=g;var _=function(n){return n instanceof k},w=function n(t,e,r){var i;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),e&&(b[o]=e,i=o);var a=t.split("-");if(!i&&a.length>1)return n(a[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(y=i),i||!r&&y},x=function(n,t){if(_(n))return n.clone();var e="object"==typeof t?t:{};return e.date=n,e.args=arguments,new k(e)},$=v;$.l=w,$.i=_,$.w=function(n,t){return x(n,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function g(n){this.$L=w(n.locale,null,!0),this.parse(n)}var f=g.prototype;return f.parse=function(n){this.$d=function(n){var t=n.date,e=n.utc;if(null===t)return new Date(NaN);if($.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(n),this.$x=n.x||{},this.init()},f.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},f.$utils=function(){return $},f.isValid=function(){return!(this.$d.toString()===d)},f.isSame=function(n,t){var e=x(n);return this.startOf(t)<=e&&e<=this.endOf(t)},f.isAfter=function(n,t){return x(n)<this.startOf(t)},f.isBefore=function(n,t){return this.endOf(t)<x(n)},f.$g=function(n,t,e){return $.u(n)?this[t]:this.set(e,n)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(n,t){var e=this,c=!!$.u(t)||t,d=$.p(n),m=function(n,t){var r=$.w(e.$u?Date.UTC(e.$y,t,n):new Date(e.$y,t,n),e);return c?r:r.endOf(a)},h=function(n,t){return $.w(e.toDate()[n].apply(e.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),e)},g=this.$W,f=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case u:return c?m(1,0):m(31,11);case l:return c?m(1,f):m(0,f+1);case s:var b=this.$locale().weekStart||0,_=(g<b?g+7:g)-b;return m(c?v-_:v+(6-_),f);case a:case p:return h(y+"Hours",0);case o:return h(y+"Minutes",1);case i:return h(y+"Seconds",2);case r:return h(y+"Milliseconds",3);default:return this.clone()}},f.endOf=function(n){return this.startOf(n,!1)},f.$set=function(n,t){var s,c=$.p(n),d="set"+(this.$u?"UTC":""),m=(s={},s[a]=d+"Date",s[p]=d+"Date",s[l]=d+"Month",s[u]=d+"FullYear",s[o]=d+"Hours",s[i]=d+"Minutes",s[r]=d+"Seconds",s[e]=d+"Milliseconds",s)[c],h=c===a?this.$D+(t-this.$W):t;if(c===l||c===u){var g=this.clone().set(p,1);g.$d[m](h),g.init(),this.$d=g.set(p,Math.min(this.$D,g.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},f.set=function(n,t){return this.clone().$set(n,t)},f.get=function(n){return this[$.p(n)]()},f.add=function(e,c){var p,d=this;e=Number(e);var m=$.p(c),h=function(n){var t=x(d);return $.w(t.date(t.date()+Math.round(n*e)),d)};if(m===l)return this.set(l,this.$M+e);if(m===u)return this.set(u,this.$y+e);if(m===a)return h(1);if(m===s)return h(7);var g=(p={},p[i]=n,p[o]=t,p[r]=1e3,p)[m]||1,f=this.$d.getTime()+e*g;return $.w(f,this)},f.subtract=function(n,t){return this.add(-1*n,t)},f.format=function(n){var t=this,e=this.$locale();if(!this.isValid())return e.invalidDate||d;var r=n||"YYYY-MM-DDTHH:mm:ssZ",i=$.z(this),o=this.$H,a=this.$m,s=this.$M,l=e.weekdays,c=e.months,u=e.meridiem,p=function(n,e,i,o){return n&&(n[e]||n(t,r))||i[e].slice(0,o)},m=function(n){return $.s(o%12||12,n,"0")},g=u||function(n,t,e){var r=n<12?"AM":"PM";return e?r.toLowerCase():r};return r.replace(h,(function(n,r){return r||function(n){switch(n){case"YY":return String(t.$y).slice(-2);case"YYYY":return $.s(t.$y,4,"0");case"M":return s+1;case"MM":return $.s(s+1,2,"0");case"MMM":return p(e.monthsShort,s,c,3);case"MMMM":return p(c,s);case"D":return t.$D;case"DD":return $.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(e.weekdaysMin,t.$W,l,2);case"ddd":return p(e.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return $.s(o,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return g(o,a,!0);case"A":return g(o,a,!1);case"m":return String(a);case"mm":return $.s(a,2,"0");case"s":return String(t.$s);case"ss":return $.s(t.$s,2,"0");case"SSS":return $.s(t.$ms,3,"0");case"Z":return i}return null}(n)||i.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,p,d){var m,h=this,g=$.p(p),f=x(e),v=(f.utcOffset()-this.utcOffset())*n,y=this-f,b=function(){return $.m(h,f)};switch(g){case u:m=b()/12;break;case l:m=b();break;case c:m=b()/3;break;case s:m=(y-v)/6048e5;break;case a:m=(y-v)/864e5;break;case o:m=y/t;break;case i:m=y/n;break;case r:m=y/1e3;break;default:m=y}return d?m:$.a(m)},f.daysInMonth=function(){return this.endOf(l).$D},f.$locale=function(){return b[this.$L]},f.locale=function(n,t){if(!n)return this.$L;var e=this.clone(),r=w(n,t,!0);return r&&(e.$L=r),e},f.clone=function(){return $.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},g}(),T=k.prototype;return x.prototype=T,[["$ms",e],["$s",r],["$m",i],["$H",o],["$W",a],["$M",l],["$y",u],["$D",p]].forEach((function(n){T[n[1]]=function(t){return this.$g(t,n[0],n[1])}})),x.extend=function(n,t){return n.$i||(n(t,k,x),n.$i=!0),x},x.locale=w,x.isDayjs=_,x.unix=function(n){return x(1e3*n)},x.en=b[y],x.Ls=b,x.p={},x}()},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){var r=e(180),i=e(185),o=e(256),a=e(264),s=e(273),l=e(274),c=o((function(n){var t=l(n);return s(t)&&(t=void 0),a(r(n,1,s,!0),i(t,2))}));n.exports=c},function(n,t,e){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var t,e=""+n,i=r.exec(e);if(!i)return e;var o="",a=0,s=0;for(a=i.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(o+=e.substring(s,a)),s=a+1,o+=t}return s!==a?o+e.substring(s,a):o}},function(n,t){var e=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,m=function(){return c.Date.now()};function h(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function g(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(h(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=h(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(e,"");var s=i.test(n);return s||o.test(n)?a(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,t,e){var r,i,o,a,s,l,c=0,u=!1,f=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(t){var e=r,o=i;return r=i=void 0,c=t,a=n.apply(o,e)}function b(n){return c=n,s=setTimeout(w,t),u?y(n):a}function _(n){var e=n-l;return void 0===l||e>=t||e<0||f&&n-c>=o}function w(){var n=m();if(_(n))return x(n);s=setTimeout(w,function(n){var e=t-(n-l);return f?d(e,o-(n-c)):e}(n))}function x(n){return s=void 0,v&&r?y(n):(r=i=void 0,a)}function $(){var n=m(),e=_(n);if(r=arguments,i=this,l=n,e){if(void 0===s)return b(l);if(f)return s=setTimeout(w,t),y(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=g(t)||0,h(e)&&(u=!!e.leading,o=(f="maxWait"in e)?p(g(e.maxWait)||0,t):o,v="trailing"in e?!!e.trailing:v),$.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},$.flush=function(){return void 0===s?a:x(m())},$}},function(n,t,e){!function(){"use strict";n.exports={polyfill:function(){var n=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===n.__forceSmoothScrollPolyfill__){var e,r=n.HTMLElement||n.Element,i={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},o=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now,a=(e=n.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)?1:0);n.scroll=n.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?h.call(n,t.body,void 0!==arguments[0].left?~~arguments[0].left:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:n.scrollY||n.pageYOffset):i.scroll.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:n.scrollY||n.pageYOffset))},n.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?i.scrollBy.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(n,t.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var n=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===n?this.scrollLeft:~~n,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var e=d(this),r=e.getBoundingClientRect(),o=this.getBoundingClientRect();e!==t.body?(h.call(this,e,e.scrollLeft+o.left-r.left,e.scrollTop+o.top-r.top),"fixed"!==n.getComputedStyle(e).position&&n.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):n.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(n,t){this.scrollLeft=n,this.scrollTop=t}function l(n){if(null===n||"object"!=typeof n||void 0===n.behavior||"auto"===n.behavior||"instant"===n.behavior)return!0;if("object"==typeof n&&"smooth"===n.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+n.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(n,t){return"Y"===t?n.clientHeight+a<n.scrollHeight:"X"===t?n.clientWidth+a<n.scrollWidth:void 0}function u(t,e){var r=n.getComputedStyle(t,null)["overflow"+e];return"auto"===r||"scroll"===r}function p(n){var t=c(n,"Y")&&u(n,"Y"),e=c(n,"X")&&u(n,"X");return t||e}function d(n){for(;n!==t.body&&!1===p(n);)n=n.parentNode||n.host;return n}function m(t){var e,r,i,a,s=(o()-t.startTime)/468;a=s=s>1?1:s,e=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*e,i=t.startY+(t.y-t.startY)*e,t.method.call(t.scrollable,r,i),r===t.x&&i===t.y||n.requestAnimationFrame(m.bind(n,t))}function h(e,r,a){var l,c,u,p,d=o();e===t.body?(l=n,c=n.scrollX||n.pageXOffset,u=n.scrollY||n.pageYOffset,p=i.scroll):(l=e,c=e.scrollLeft,u=e.scrollTop,p=s),m({scrollable:l,method:p,startTime:d,startX:c,startY:u,x:r,y:a})}}}}()},function(n){n.exports=JSON.parse('{"en-US":{"author":"author","beforeAuthor":"Copyright © ","afterAuthor":"\\nLink: "},"zh-CN":{"author":"作者","beforeAuthor":"著作权归","afterAuthor":"所有。\\n链接："}}')},function(n,t,e){var r=e(300),i=e(305),o=e(112),a=e(16),s=e(308),l=e(309);var c={M:function(n){return n.getMonth()+1},MM:function(n){return d(n.getMonth()+1,2)},Q:function(n){return Math.ceil((n.getMonth()+1)/3)},D:function(n){return n.getDate()},DD:function(n){return d(n.getDate(),2)},DDD:function(n){return r(n)},DDDD:function(n){return d(r(n),3)},d:function(n){return n.getDay()},E:function(n){return n.getDay()||7},W:function(n){return i(n)},WW:function(n){return d(i(n),2)},YY:function(n){return d(n.getFullYear(),4).substr(2)},YYYY:function(n){return d(n.getFullYear(),4)},GG:function(n){return String(o(n)).substr(2)},GGGG:function(n){return o(n)},H:function(n){return n.getHours()},HH:function(n){return d(n.getHours(),2)},h:function(n){var t=n.getHours();return 0===t?12:t>12?t%12:t},hh:function(n){return d(c.h(n),2)},m:function(n){return n.getMinutes()},mm:function(n){return d(n.getMinutes(),2)},s:function(n){return n.getSeconds()},ss:function(n){return d(n.getSeconds(),2)},S:function(n){return Math.floor(n.getMilliseconds()/100)},SS:function(n){return d(Math.floor(n.getMilliseconds()/10),2)},SSS:function(n){return d(n.getMilliseconds(),3)},Z:function(n){return p(n.getTimezoneOffset(),":")},ZZ:function(n){return p(n.getTimezoneOffset())},X:function(n){return Math.floor(n.getTime()/1e3)},x:function(n){return n.getTime()}};function u(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|]$/g,""):n.replace(/\\/g,"")}function p(n,t){t=t||"";var e=n>0?"-":"+",r=Math.abs(n),i=r%60;return e+d(Math.floor(r/60),2)+t+d(i,2)}function d(n,t){for(var e=Math.abs(n).toString();e.length<t;)e="0"+e;return e}n.exports=function(n,t,e){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(e||{}).locale,o=l.format.formatters,p=l.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(o=i.format.formatters,i.format.formattingTokensRegExp&&(p=i.format.formattingTokensRegExp));var d=a(n);return s(d)?function(n,t,e){var r,i,o=n.match(e),a=o.length;for(r=0;r<a;r++)i=t[o[r]]||c[o[r]],o[r]=i||u(o[r]);return function(n){for(var t="",e=0;e<a;e++)o[e]instanceof Function?t+=o[e](n,c):t+=o[e];return t}}(r,o,p)(d):"Invalid Date"}},function(n,t,e){function r(){var n;try{n=t.storage.debug}catch(n){}return!n&&"undefined"!=typeof process&&"env"in process&&(n=process.env.DEBUG),n}(t=n.exports=e(334)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(n){var e=this.useColors;if(n[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+n[0]+(e?"%c ":" ")+"+"+t.humanize(this.diff),!e)return;var r="color: "+this.color;n.splice(1,0,r,"color: inherit");var i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,(function(n){"%%"!==n&&(i++,"%c"===n&&(o=i))})),n.splice(o,0,r)},t.save=function(n){try{null==n?t.storage.removeItem("debug"):t.storage.debug=n}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(n){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(n){try{return JSON.stringify(n)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}},t.enable(r())},function(n,t,e){var r=e(3),i=e(18),o=e(140),a=e(47);n.exports=function(n,t,e,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(e)&&o(e,c,s),s.global)l?n[t]=e:a(t,e);else{try{s.unsafe?n[t]&&(l=!0):delete n[t]}catch(n){}l?n[t]=e:i.f(n,t,{value:e,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,t,e){var r=e(21),i=e(8),o=e(167),a=e(168),s=i.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,t){var e={};e[n]=a(n,t,l),r({global:!0,constructor:!0,arity:1,forced:l},e)},u=function(n,t){if(s&&s[n]){var e={};e[n]=a("WebAssembly."+n,t,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},e)}};c("Error",(function(n){return function(t){return o(n,this,arguments)}})),c("EvalError",(function(n){return function(t){return o(n,this,arguments)}})),c("RangeError",(function(n){return function(t){return o(n,this,arguments)}})),c("ReferenceError",(function(n){return function(t){return o(n,this,arguments)}})),c("SyntaxError",(function(n){return function(t){return o(n,this,arguments)}})),c("TypeError",(function(n){return function(t){return o(n,this,arguments)}})),c("URIError",(function(n){return function(t){return o(n,this,arguments)}})),u("CompileError",(function(n){return function(t){return o(n,this,arguments)}})),u("LinkError",(function(n){return function(t){return o(n,this,arguments)}})),u("RuntimeError",(function(n){return function(t){return o(n,this,arguments)}}))},function(n,t,e){var r=e(6),i=e(7),o=e(3),a=e(13),s=e(9),l=e(149).CONFIGURABLE,c=e(150),u=e(151),p=u.enforce,d=u.get,m=String,h=Object.defineProperty,g=r("".slice),f=r("".replace),v=r([].join),y=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=n.exports=function(n,t,e){"Symbol("===g(m(t),0,7)&&(t="["+f(m(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!a(n,"name")||l&&n.name!==t)&&(s?h(n,"name",{value:t,configurable:!0}):n.name=t),y&&e&&a(e,"arity")&&n.length!==e.arity&&h(n,"length",{value:e.arity});try{e&&a(e,"constructor")&&e.constructor?s&&h(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=p(n);return a(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),n};Function.prototype.toString=_((function(){return o(this)&&d(this).source||c(this)}),"toString")},function(n,t,e){var r=e(28),i=e(280),o=e(18).f,a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:i(null)}),n.exports=function(n){s[a][n]=!0}},function(n,t,e){n.exports=e(346)},function(n,t,e){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(n){var t=i(this,n);return!!t&&t.enumerable}:r},function(n,t,e){var r=e(43),i=e(14),o=e(72),a=e(146),s=e(148),l=e(28),c=TypeError,u=l("toPrimitive");n.exports=function(n,t){if(!i(n)||o(n))return n;var e,l=a(n,u);if(l){if(void 0===t&&(t="default"),e=r(l,n,t),!i(e)||o(e))return e;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(n,t)}},function(n,t){n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,t,e){var r=e(42),i=e(69);n.exports=function(n,t){var e=n[t];return i(e)?void 0:r(e)}},function(n,t){var e=String;n.exports=function(n){try{return e(n)}catch(n){return"Object"}}},function(n,t,e){var r=e(43),i=e(3),o=e(14),a=TypeError;n.exports=function(n,t){var e,s;if("string"===t&&i(e=n.toString)&&!o(s=r(e,n)))return s;if(i(e=n.valueOf)&&!o(s=r(e,n)))return s;if("string"!==t&&i(e=n.toString)&&!o(s=r(e,n)))return s;throw a("Can't convert object to primitive value")}},function(n,t,e){var r=e(9),i=e(13),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,t,e){var r=e(6),i=e(3),o=e(46),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(n){return a(n)}),n.exports=o.inspectSource},function(n,t,e){var r,i,o,a=e(152),s=e(8),l=e(14),c=e(22),u=e(13),p=e(46),d=e(83),m=e(48),h=s.TypeError,g=s.WeakMap;if(a||p.state){var f=p.state||(p.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,r=function(n,t){if(f.has(n))throw h("Object already initialized");return t.facade=n,f.set(n,t),t},i=function(n){return f.get(n)||{}},o=function(n){return f.has(n)}}else{var v=d("state");m[v]=!0,r=function(n,t){if(u(n,v))throw h("Object already initialized");return t.facade=n,c(n,v,t),t},i=function(n){return u(n,v)?n[v]:{}},o=function(n){return u(n,v)}}n.exports={set:r,get:i,has:o,enforce:function(n){return o(n)?i(n):r(n,{})},getterFor:function(n){return function(t){var e;if(!l(t)||(e=i(t)).type!==n)throw h("Incompatible receiver, "+n+" required");return e}}}},function(n,t,e){var r=e(8),i=e(3),o=r.WeakMap;n.exports=i(o)&&/native code/.test(String(o))},function(n,t,e){var r=e(32),i=e(6),o=e(154),a=e(159),s=e(23),l=i([].concat);n.exports=r("Reflect","ownKeys")||function(n){var t=o.f(s(n)),e=a.f;return e?l(t,e(n)):t}},function(n,t,e){var r=e(85),i=e(49).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return r(n,i)}},function(n,t,e){var r=e(31),i=e(156),o=e(30),a=function(n){return function(t,e,a){var s,l=r(t),c=o(l),u=i(a,c);if(n&&e!=e){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===e)return n||u||0;return!n&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},function(n,t,e){var r=e(33),i=Math.max,o=Math.min;n.exports=function(n,t){var e=r(n);return e<0?i(e+t,0):o(e,t)}},function(n,t){var e=Math.ceil,r=Math.floor;n.exports=Math.trunc||function(n){var t=+n;return(t>0?r:e)(t)}},function(n,t,e){var r=e(33),i=Math.min;n.exports=function(n){return n>0?i(r(n),9007199254740991):0}},function(n,t){t.f=Object.getOwnPropertySymbols},function(n,t,e){var r=e(7),i=e(3),o=/#|\.prototype\./,a=function(n,t){var e=l[s(n)];return e==u||e!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(n){return String(n).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";n.exports=a},function(n,t,e){var r=e(42),i=e(29),o=e(65),a=e(30),s=TypeError,l=function(n){return function(t,e,l,c){r(e);var u=i(t),p=o(u),d=a(u),m=n?d-1:0,h=n?-1:1;if(l<2)for(;;){if(m in p){c=p[m],m+=h;break}if(m+=h,n?m<0:d<=m)throw s("Reduce of empty array with no initial value")}for(;n?m>=0:d>m;m+=h)m in p&&(c=e(c,p[m],m,u));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,t,e){"use strict";var r=e(7);n.exports=function(n,t){var e=[][n];return!!e&&r((function(){e.call(null,t||function(){return 1},1)}))}},function(n,t,e){var r=e(27);n.exports="undefined"!=typeof process&&"process"==r(process)},function(n,t,e){"use strict";var r=e(9),i=e(165),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,t){if(i(n)&&!a(n,"length").writable)throw o("Cannot set read only .length");return n.length=t}:function(n,t){return n.length=t}},function(n,t,e){var r=e(27);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,t){var e=TypeError;n.exports=function(n){if(n>9007199254740991)throw e("Maximum allowed index exceeded");return n}},function(n,t,e){var r=e(41),i=Function.prototype,o=i.apply,a=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},function(n,t,e){"use strict";var r=e(32),i=e(13),o=e(22),a=e(73),s=e(86),l=e(84),c=e(171),u=e(172),p=e(173),d=e(176),m=e(177),h=e(9),g=e(78);n.exports=function(n,t,e,f){var v=f?2:1,y=n.split("."),b=y[y.length-1],_=r.apply(null,y);if(_){var w=_.prototype;if(!g&&i(w,"cause")&&delete w.cause,!e)return _;var x=r("Error"),$=t((function(n,t){var e=p(f?t:n,void 0),r=f?new _(n):new _;return void 0!==e&&o(r,"message",e),m(r,$,r.stack,2),this&&a(w,this)&&u(r,this,$),arguments.length>v&&d(r,arguments[v]),r}));if($.prototype=w,"Error"!==b?s?s($,x):l($,x,{name:!0}):h&&"stackTraceLimit"in _&&(c($,_,"stackTraceLimit"),c($,_,"prepareStackTrace")),l($,_),!g)try{w.name!==b&&o(w,"name",b),w.constructor=$}catch(n){}return $}}},function(n,t,e){var r=e(6),i=e(42);n.exports=function(n,t,e){try{return r(i(Object.getOwnPropertyDescriptor(n,t)[e]))}catch(n){}}},function(n,t,e){var r=e(3),i=String,o=TypeError;n.exports=function(n){if("object"==typeof n||r(n))return n;throw o("Can't set "+i(n)+" as a prototype")}},function(n,t,e){var r=e(18).f;n.exports=function(n,t,e){e in n||r(n,e,{configurable:!0,get:function(){return t[e]},set:function(n){t[e]=n}})}},function(n,t,e){var r=e(3),i=e(14),o=e(86);n.exports=function(n,t,e){var a,s;return o&&r(a=t.constructor)&&a!==e&&i(s=a.prototype)&&s!==e.prototype&&o(n,s),n}},function(n,t,e){var r=e(64);n.exports=function(n,t){return void 0===n?arguments.length<2?"":t:r(n)}},function(n,t,e){var r=e(175),i=e(3),o=e(27),a=e(28)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());n.exports=r?o:function(n){var t,e,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(e=function(n,t){try{return n[t]}catch(n){}}(t=s(n),a))?e:l?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},function(n,t,e){var r={};r[e(28)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,t,e){var r=e(14),i=e(22);n.exports=function(n,t){r(t)&&"cause"in t&&i(n,"cause",t.cause)}},function(n,t,e){var r=e(22),i=e(178),o=e(179),a=Error.captureStackTrace;n.exports=function(n,t,e,s){o&&(a?a(n,t):r(n,"stack",i(e,s)))}},function(n,t,e){var r=e(6),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);n.exports=function(n,t){if(l&&"string"==typeof n&&!i.prepareStackTrace)for(;t--;)n=o(n,s,"");return n}},function(n,t,e){var r=e(7),i=e(44);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,t,e){var r=e(87),i=e(181);n.exports=function n(t,e,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];e>0&&o(u)?e>1?n(u,e-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},function(n,t,e){var r=e(24),i=e(50),o=e(12),a=r?r.isConcatSpreadable:void 0;n.exports=function(n){return o(n)||i(n)||!!(a&&n&&n[a])}},function(n,t,e){var r=e(25),i=e(19);n.exports=function(n){return i(n)&&"[object Arguments]"==r(n)}},function(n,t,e){var r=e(24),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var t=o.call(n,s),e=n[s];try{n[s]=void 0;var r=!0}catch(n){}var i=a.call(n);return r&&(t?n[s]=e:delete n[s]),i}},function(n,t){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},function(n,t,e){var r=e(186),i=e(242),o=e(58),a=e(12),s=e(253);n.exports=function(n){return"function"==typeof n?n:null==n?o:"object"==typeof n?a(n)?i(n[0],n[1]):r(n):s(n)}},function(n,t,e){var r=e(187),i=e(241),o=e(104);n.exports=function(n){var t=i(n);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(e){return e===n||r(e,n,t)}}},function(n,t,e){var r=e(89),i=e(93);n.exports=function(n,t,e,o){var a=e.length,s=a,l=!o;if(null==n)return!s;for(n=Object(n);a--;){var c=e[a];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++a<s;){var u=(c=e[a])[0],p=n[u],d=c[1];if(l&&c[2]){if(void 0===p&&!(u in n))return!1}else{var m=new r;if(o)var h=o(p,d,u,n,t,m);if(!(void 0===h?i(d,p,3,o,m):h))return!1}}return!0}},function(n,t){n.exports=function(){this.__data__=[],this.size=0}},function(n,t,e){var r=e(35),i=Array.prototype.splice;n.exports=function(n){var t=this.__data__,e=r(t,n);return!(e<0)&&(e==t.length-1?t.pop():i.call(t,e,1),--this.size,!0)}},function(n,t,e){var r=e(35);n.exports=function(n){var t=this.__data__,e=r(t,n);return e<0?void 0:t[e][1]}},function(n,t,e){var r=e(35);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,t,e){var r=e(35);n.exports=function(n,t){var e=this.__data__,i=r(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}},function(n,t,e){var r=e(34);n.exports=function(){this.__data__=new r,this.size=0}},function(n,t){n.exports=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}},function(n,t){n.exports=function(n){return this.__data__.get(n)}},function(n,t){n.exports=function(n){return this.__data__.has(n)}},function(n,t,e){var r=e(34),i=e(51),o=e(53);n.exports=function(n,t){var e=this.__data__;if(e instanceof r){var a=e.__data__;if(!i||a.length<199)return a.push([n,t]),this.size=++e.size,this;e=this.__data__=new o(a)}return e.set(n,t),this.size=e.size,this}},function(n,t,e){var r=e(91),i=e(199),o=e(52),a=e(92),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!o(n)||i(n))&&(r(n)?d:s).test(a(n))}},function(n,t,e){var r,i=e(200),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!o&&o in n}},function(n,t,e){var r=e(11)["__core-js_shared__"];n.exports=r},function(n,t){n.exports=function(n,t){return null==n?void 0:n[t]}},function(n,t,e){var r=e(203),i=e(34),o=e(51);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(n,t,e){var r=e(204),i=e(205),o=e(206),a=e(207),s=e(208);function l(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,n.exports=l},function(n,t,e){var r=e(36);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,t){n.exports=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}},function(n,t,e){var r=e(36),i=Object.prototype.hasOwnProperty;n.exports=function(n){var t=this.__data__;if(r){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return i.call(t,n)?t[n]:void 0}},function(n,t,e){var r=e(36),i=Object.prototype.hasOwnProperty;n.exports=function(n){var t=this.__data__;return r?void 0!==t[n]:i.call(t,n)}},function(n,t,e){var r=e(36);n.exports=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(n,t,e){var r=e(37);n.exports=function(n){var t=r(this,n).delete(n);return this.size-=t?1:0,t}},function(n,t){n.exports=function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}},function(n,t,e){var r=e(37);n.exports=function(n){return r(this,n).get(n)}},function(n,t,e){var r=e(37);n.exports=function(n){return r(this,n).has(n)}},function(n,t,e){var r=e(37);n.exports=function(n,t){var e=r(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}},function(n,t,e){var r=e(89),i=e(94),o=e(218),a=e(221),s=e(237),l=e(12),c=e(98),u=e(100),p="[object Object]",d=Object.prototype.hasOwnProperty;n.exports=function(n,t,e,m,h,g){var f=l(n),v=l(t),y=f?"[object Array]":s(n),b=v?"[object Array]":s(t),_=(y="[object Arguments]"==y?p:y)==p,w=(b="[object Arguments]"==b?p:b)==p,x=y==b;if(x&&c(n)){if(!c(t))return!1;f=!0,_=!1}if(x&&!_)return g||(g=new r),f||u(n)?i(n,t,e,m,h,g):o(n,t,y,e,m,h,g);if(!(1&e)){var $=_&&d.call(n,"__wrapped__"),k=w&&d.call(t,"__wrapped__");if($||k){var T=$?n.value():n,E=k?t.value():t;return g||(g=new r),h(T,E,e,m,g)}}return!!x&&(g||(g=new r),a(n,t,e,m,h,g))}},function(n,t){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,t){n.exports=function(n){return this.__data__.has(n)}},function(n,t){n.exports=function(n,t){for(var e=-1,r=null==n?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}},function(n,t,e){var r=e(24),i=e(219),o=e(90),a=e(94),s=e(220),l=e(54),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(n,t,e,r,c,p,d){switch(e){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=t.byteLength||!p(new i(n),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var m=s;case"[object Set]":var h=1&r;if(m||(m=l),n.size!=t.size&&!h)return!1;var g=d.get(n);if(g)return g==t;r|=2,d.set(n,t);var f=a(m(n),m(t),r,c,p,d);return d.delete(n),f;case"[object Symbol]":if(u)return u.call(n)==u.call(t)}return!1}},function(n,t,e){var r=e(11).Uint8Array;n.exports=r},function(n,t){n.exports=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n,r){e[++t]=[r,n]})),e}},function(n,t,e){var r=e(222),i=Object.prototype.hasOwnProperty;n.exports=function(n,t,e,o,a,s){var l=1&e,c=r(n),u=c.length;if(u!=r(t).length&&!l)return!1;for(var p=u;p--;){var d=c[p];if(!(l?d in t:i.call(t,d)))return!1}var m=s.get(n),h=s.get(t);if(m&&h)return m==t&&h==n;var g=!0;s.set(n,t),s.set(t,n);for(var f=l;++p<u;){var v=n[d=c[p]],y=t[d];if(o)var b=l?o(y,v,d,t,n,s):o(v,y,d,n,t,s);if(!(void 0===b?v===y||a(v,y,e,o,s):b)){g=!1;break}f||(f="constructor"==d)}if(g&&!f){var _=n.constructor,w=t.constructor;_==w||!("constructor"in n)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(n),s.delete(t),g}},function(n,t,e){var r=e(223),i=e(224),o=e(97);n.exports=function(n){return r(n,o,i)}},function(n,t,e){var r=e(87),i=e(12);n.exports=function(n,t,e){var o=t(n);return i(n)?o:r(o,e(n))}},function(n,t,e){var r=e(225),i=e(226),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(n){return null==n?[]:(n=Object(n),r(a(n),(function(t){return o.call(n,t)})))}:i;n.exports=s},function(n,t){n.exports=function(n,t){for(var e=-1,r=null==n?0:n.length,i=0,o=[];++e<r;){var a=n[e];t(a,e,n)&&(o[i++]=a)}return o}},function(n,t){n.exports=function(){return[]}},function(n,t,e){var r=e(228),i=e(50),o=e(12),a=e(98),s=e(99),l=e(100),c=Object.prototype.hasOwnProperty;n.exports=function(n,t){var e=o(n),u=!e&&i(n),p=!e&&!u&&a(n),d=!e&&!u&&!p&&l(n),m=e||u||p||d,h=m?r(n.length,String):[],g=h.length;for(var f in n)!t&&!c.call(n,f)||m&&("length"==f||p&&("offset"==f||"parent"==f)||d&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,g))||h.push(f);return h}},function(n,t){n.exports=function(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}},function(n,t){n.exports=function(){return!1}},function(n,t,e){var r=e(25),i=e(55),o=e(19),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,n.exports=function(n){return o(n)&&i(n.length)&&!!a[r(n)]}},function(n,t){n.exports=function(n){return function(t){return n(t)}}},function(n,t,e){(function(n){var r=e(88),i=t&&!t.nodeType&&t,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,a=o&&o.exports===i&&r.process,s=function(){try{var n=o&&o.require&&o.require("util").types;return n||a&&a.binding&&a.binding("util")}catch(n){}}();n.exports=s}).call(this,e(66)(n))},function(n,t,e){var r=e(234),i=e(235),o=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return i(n);var t=[];for(var e in Object(n))o.call(n,e)&&"constructor"!=e&&t.push(e);return t}},function(n,t){var e=Object.prototype;n.exports=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||e)}},function(n,t,e){var r=e(236)(Object.keys,Object);n.exports=r},function(n,t){n.exports=function(n,t){return function(e){return n(t(e))}}},function(n,t,e){var r=e(238),i=e(51),o=e(239),a=e(102),s=e(240),l=e(25),c=e(92),u=c(r),p=c(i),d=c(o),m=c(a),h=c(s),g=l;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(n){var t=l(n),e="[object Object]"==t?n.constructor:void 0,r=e?c(e):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return t}),n.exports=g},function(n,t,e){var r=e(15)(e(11),"DataView");n.exports=r},function(n,t,e){var r=e(15)(e(11),"Promise");n.exports=r},function(n,t,e){var r=e(15)(e(11),"WeakMap");n.exports=r},function(n,t,e){var r=e(103),i=e(97);n.exports=function(n){for(var t=i(n),e=t.length;e--;){var o=t[e],a=n[o];t[e]=[o,a,r(a)]}return t}},function(n,t,e){var r=e(93),i=e(243),o=e(250),a=e(56),s=e(103),l=e(104),c=e(38);n.exports=function(n,t){return a(n)&&s(t)?l(c(n),t):function(e){var a=i(e,n);return void 0===a&&a===t?o(e,n):r(t,a,3)}}},function(n,t,e){var r=e(105);n.exports=function(n,t,e){var i=null==n?void 0:r(n,t);return void 0===i?e:i}},function(n,t,e){var r=e(245),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(i,(function(n,e,r,i){t.push(r?i.replace(o,"$1"):e||n)})),t}));n.exports=a},function(n,t,e){var r=e(246);n.exports=function(n){var t=r(n,(function(n){return 500===e.size&&e.clear(),n})),e=t.cache;return t}},function(n,t,e){var r=e(53);function i(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(i.Cache||r),e}i.Cache=r,n.exports=i},function(n,t,e){var r=e(248);n.exports=function(n){return null==n?"":r(n)}},function(n,t,e){var r=e(24),i=e(249),o=e(12),a=e(57),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(t){if("string"==typeof t)return t;if(o(t))return i(t,n)+"";if(a(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(n,t){n.exports=function(n,t){for(var e=-1,r=null==n?0:n.length,i=Array(r);++e<r;)i[e]=t(n[e],e,n);return i}},function(n,t,e){var r=e(251),i=e(252);n.exports=function(n,t){return null!=n&&i(n,t,r)}},function(n,t){n.exports=function(n,t){return null!=n&&t in Object(n)}},function(n,t,e){var r=e(106),i=e(50),o=e(12),a=e(99),s=e(55),l=e(38);n.exports=function(n,t,e){for(var c=-1,u=(t=r(t,n)).length,p=!1;++c<u;){var d=l(t[c]);if(!(p=null!=n&&e(n,d)))break;n=n[d]}return p||++c!=u?p:!!(u=null==n?0:n.length)&&s(u)&&a(d,u)&&(o(n)||i(n))}},function(n,t,e){var r=e(254),i=e(255),o=e(56),a=e(38);n.exports=function(n){return o(n)?r(a(n)):i(n)}},function(n,t){n.exports=function(n){return function(t){return null==t?void 0:t[n]}}},function(n,t,e){var r=e(105);n.exports=function(n){return function(t){return r(t,n)}}},function(n,t,e){var r=e(58),i=e(257),o=e(259);n.exports=function(n,t){return o(i(n,t,r),n+"")}},function(n,t,e){var r=e(258),i=Math.max;n.exports=function(n,t,e){return t=i(void 0===t?n.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=e(l),r(n,this,c)}}},function(n,t){n.exports=function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}},function(n,t,e){var r=e(260),i=e(263)(r);n.exports=i},function(n,t,e){var r=e(261),i=e(262),o=e(58),a=i?function(n,t){return i(n,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;n.exports=a},function(n,t){n.exports=function(n){return function(){return n}}},function(n,t,e){var r=e(15),i=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,t){var e=Date.now;n.exports=function(n){var t=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}},function(n,t,e){var r=e(95),i=e(265),o=e(270),a=e(96),s=e(271),l=e(54);n.exports=function(n,t,e){var c=-1,u=i,p=n.length,d=!0,m=[],h=m;if(e)d=!1,u=o;else if(p>=200){var g=t?null:s(n);if(g)return l(g);d=!1,u=a,h=new r}else h=t?[]:m;n:for(;++c<p;){var f=n[c],v=t?t(f):f;if(f=e||0!==f?f:0,d&&v==v){for(var y=h.length;y--;)if(h[y]===v)continue n;t&&h.push(v),m.push(f)}else u(h,v,e)||(h!==m&&h.push(v),m.push(f))}return m}},function(n,t,e){var r=e(266);n.exports=function(n,t){return!!(null==n?0:n.length)&&r(n,t,0)>-1}},function(n,t,e){var r=e(267),i=e(268),o=e(269);n.exports=function(n,t,e){return t==t?o(n,t,e):r(n,i,e)}},function(n,t){n.exports=function(n,t,e,r){for(var i=n.length,o=e+(r?1:-1);r?o--:++o<i;)if(t(n[o],o,n))return o;return-1}},function(n,t){n.exports=function(n){return n!=n}},function(n,t){n.exports=function(n,t,e){for(var r=e-1,i=n.length;++r<i;)if(n[r]===t)return r;return-1}},function(n,t){n.exports=function(n,t,e){for(var r=-1,i=null==n?0:n.length;++r<i;)if(e(t,n[r]))return!0;return!1}},function(n,t,e){var r=e(102),i=e(272),o=e(54),a=r&&1/o(new r([,-0]))[1]==1/0?function(n){return new r(n)}:i;n.exports=a},function(n,t){n.exports=function(){}},function(n,t,e){var r=e(101),i=e(19);n.exports=function(n){return i(n)&&r(n)}},function(n,t){n.exports=function(n){var t=null==n?0:n.length;return t?n[t-1]:void 0}},function(n,t,e){"use strict";e(107)},function(n,t,e){},function(n,t,e){},function(n,t,e){},function(n,t,e){"use strict";var r=e(21),i=e(29),o=e(30),a=e(33),s=e(141);r({target:"Array",proto:!0},{at:function(n){var t=i(this),e=o(t),r=a(n),s=r>=0?r:e+r;return s<0||s>=e?void 0:t[s]}}),s("at")},function(n,t,e){var r,i=e(23),o=e(281),a=e(49),s=e(48),l=e(283),c=e(81),u=e(83),p=u("IE_PROTO"),d=function(){},m=function(n){return"<script>"+n+"<\/script>"},h=function(n){n.write(m("")),n.close();var t=n.parentWindow.Object;return n=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,t;g="undefined"!=typeof document?document.domain&&r?h(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(n=t.contentWindow.document).open(),n.write(m("document.F=Object")),n.close(),n.F):h(r);for(var e=a.length;e--;)delete g.prototype[a[e]];return g()};s[p]=!0,n.exports=Object.create||function(n,t){var e;return null!==n?(d.prototype=i(n),e=new d,d.prototype=null,e[p]=n):e=g(),void 0===t?e:o.f(e,t)}},function(n,t,e){var r=e(9),i=e(82),o=e(18),a=e(23),s=e(31),l=e(282);t.f=r&&!i?Object.defineProperties:function(n,t){a(n);for(var e,r=s(t),i=l(t),c=i.length,u=0;c>u;)o.f(n,e=i[u++],r[e]);return n}},function(n,t,e){var r=e(85),i=e(49);n.exports=Object.keys||function(n){return r(n,i)}},function(n,t,e){var r=e(32);n.exports=r("document","documentElement")},function(n,t,e){"use strict";var r=e(21),i=e(6),o=e(45),a=e(33),s=e(64),l=e(7),c=i("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(n){var t=s(o(this)),e=t.length,r=a(n),i=r>=0?r:e+r;return i<0||i>=e?void 0:c(t,i)}})},function(n,t,e){"use strict";e(108)},function(n,t,e){
/*!
 * Valine v1.5.1
 * (c) 2017-2022 xCss
 * Released under the GPL-2.0 License.
 * Last Update: 2022-7-21 3:43:59 ├F10: PM┤
 */
n.exports=function(n){function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=108)}([function(n,t,e){"use strict";var r=SyntaxError,i=Function,o=TypeError,a=function(n){try{return i('"use strict"; return ('+n+").constructor;")()}catch(n){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(n){s=null}var l=function(){throw new o},c=s?function(){try{return l}catch(n){try{return s(arguments,"callee").get}catch(n){return l}}}():l,u=e(22)(),p=Object.getPrototypeOf||function(n){return n.__proto__},d={},m="undefined"==typeof Uint8Array?void 0:p(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?p(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},g=function n(t){var e;if("%AsyncFunction%"===t)e=a("async function () {}");else if("%GeneratorFunction%"===t)e=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)e=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=n("%AsyncGeneratorFunction%");r&&(e=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=n("%AsyncGenerator%");i&&(e=p(i.prototype))}return h[t]=e,e},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=e(9),y=e(25),b=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),x=v.call(Function.call,String.prototype.slice),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,T=function(n){var t=x(n,0,1),e=x(n,-1);if("%"===t&&"%"!==e)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===e&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return w(n,$,(function(n,t,e,r){i[i.length]=e?w(r,k,"$1"):t||n})),i},E=function(n,t){var e,i=n;if(y(f,i)&&(i="%"+(e=f[i])[0]+"%"),y(h,i)){var a=h[i];if(a===d&&(a=g(i)),void 0===a&&!t)throw new o("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:e,name:i,value:a}}throw new r("intrinsic "+n+" does not exist!")};n.exports=function(n,t){if("string"!=typeof n||0===n.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var e=T(n),i=e.length>0?e[0]:"",a=E("%"+i+"%",t),l=a.name,c=a.value,u=!1,p=a.alias;p&&(i=p[0],_(e,b([0,1],p)));for(var d=1,m=!0;d<e.length;d+=1){var g=e[d],f=x(g,0,1),v=x(g,-1);if(('"'===f||"'"===f||"`"===f||'"'===v||"'"===v||"`"===v)&&f!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==g&&m||(u=!0),y(h,l="%"+(i+="."+g)+"%"))c=h[l];else if(null!=c){if(!(g in c)){if(!t)throw new o("base intrinsic for "+n+" exists, but the property is not available.");return}if(s&&d+1>=e.length){var w=s(c,g);c=(m=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:c[g]}else m=y(c,g),c=c[g];m&&!u&&(h[l]=c)}}return c}},function(n,t,e){"use strict";var r=e(0),i=e(4),o=i(r("String.prototype.indexOf"));n.exports=function(n,t){var e=r(n,!!t);return"function"==typeof e&&o(n,".prototype.")>-1?i(e):e}},function(n,t,e){"use strict";var r=e(88),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var n={};try{for(var t in s(n,"x",{enumerable:!1,value:n}),n)return!1;return n.x===n}catch(n){return!1}}(),c=function(n,t,e,r){(!(t in n)||function(n){return"function"==typeof n&&"[object Function]"===o.call(n)}(r)&&r())&&(l?s(n,t,{configurable:!0,enumerable:!1,value:e,writable:!0}):n[t]=e)},u=function(n,t){var e=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(n,o[s],t[o[s]],e[o[s]])};u.supportsDescriptors=!!l,n.exports=u},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=r(e(85)),a=r(e(49)),s=r(e(46)),l=r(e(48)),c=r(e(45)),u=document,p=navigator,d=/[&<>"'`\\]/g,m=RegExp(d.source),h=/&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g,g=RegExp(h.source),f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","\\":"&#x5c;"},v={};for(var y in f)v[f[y]]=y;var b=null;Array.prototype.forEach||(Array.prototype.forEach=function(n,t){var e,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof n)throw new TypeError(n+" is not a function");for(arguments.length>1&&(e=t),r=0;r<o;){var a;r in i&&(a=i[r],n.call(e,a,r,i)),r++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),(0,o.default)(a.default.fn,{prepend:function(n){return n instanceof HTMLElement||(n=n[0]),this.forEach((function(t){t.insertAdjacentElement("afterBegin",n)})),this},append:function(n){return n instanceof HTMLElement||(n=n[0]),this.forEach((function(t){t.insertAdjacentElement("beforeEnd",n)})),this},remove:function(){return this.forEach((function(n){try{n.parentNode.removeChild(n)}catch(n){}})),this},find:function(n){return(0,a.default)(n,this)},show:function(){return this.forEach((function(n){n.style.display="block"})),this},hide:function(){return this.forEach((function(n){n.style.display="none"})),this},on:function(n,t,e){return a.default.fn.off(n,t,e),this.forEach((function(r){n.split(" ").forEach((function(n){r.addEventListener?r.addEventListener(n,t,e||!1):r.attachEvent?r.attachEvent("on"+n,t):r["on"+n]=t}))})),this},off:function(n,t,e){return this.forEach((function(r){n.split(" ").forEach((function(n){r.removeEventListener?r.removeEventListener(n,t,e||!1):r.detachEvent?r.detachEvent("on"+n,t):r["on"+n]=null}))})),this},html:function(n){return void 0!==n?(this.forEach((function(t){t.innerHTML=n})),this):this[0].innerHTML},text:function(n){return void 0!==n?(this.forEach((function(t){t.innerText=n})),this):this[0].innerText},empty:function(n){return n=n||0,this.forEach((function(t){setTimeout((function(n){t.innerText=""}),n)})),this},val:function(n){return void 0!==n?(this.forEach((function(t){t.value=n})),this):this[0].value||""},attr:function(){var n=arguments;if("object"==i(arguments[0])){var t=arguments[0],e=this;return Object.keys(t).forEach((function(n){e.forEach((function(e){e.setAttribute(n,t[n])}))})),this}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0])||"":(this.forEach((function(t){t.setAttribute(n[0],n[1])})),this)},removeAttr:function(n){return this.forEach((function(t){var e,r=0,i=n&&n.match(/[^\x20\t\r\n\f\*\/\\]+/g);if(i&&1===t.nodeType)for(;e=i[r++];)t.removeAttribute(e)})),this},hasClass:function(n){return!!this[0]&&new RegExp("(\\s|^)"+n+"(\\s|$)").test(this[0].getAttribute("class"))},addClass:function(n){return this.forEach((function(t){var e=(0,a.default)(t),r=e.attr("class");e.hasClass(n)||e.attr("class",r+=" "+n)})),this},removeClass:function(n){return this.forEach((function(t){var e=(0,a.default)(t),r=e.attr("class");if(e.hasClass(n)){var i=new RegExp("(\\s|^)"+n+"(\\s|$)");e.attr("class",r.replace(i,""))}})),this}}),(0,o.default)(a.default,{extend:o.default,noop:function(){},navi:p,ua:p.userAgent,lang:p.language||p.languages[0],detect:s.default,store:l.default,escape:function(n){return n&&m.test(n)?n.replace(d,(function(n){return f[n]})):n},unescape:function(n){return n&&g.test(n)?n.replace(h,(function(n){return v[n]})):n},dynamicLoadSource:function(n,t){if((0,a.default)('script[src="'+n+'"]').length)t&&t();else{var e=u.createElement("script");e.onload=e.onreadystatechange=function(){this.onload=this.onreadystatechange=null,t&&t(),(0,a.default)(e).remove()},e.async=!0,e.setAttribute("referrerPolicy","no-referrer"),(0,a.default)("head")[0].appendChild(e),e.src=n}},sdkLoader:function(n,t,e){t in window&&window[t]?(b&&clearTimeout(b),e&&e()):a.default.dynamicLoadSource(n,(function(){b=setTimeout(a.default.sdkLoader(n,t,e),100)}))},deleteInWin:function(n,t){var e=function(t){if(n in window)try{delete window[n]}catch(t){window[n]=null}};0===t?e():setTimeout(e,t||500)},ajax:c.default}),t.default=a.default},function(n,t,e){"use strict";var r=e(9),i=e(0),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(n){c=null}n.exports=function(n){var t=s(r,a,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,n.length-(arguments.length-1))}),t};var p=function(){return s(r,o,arguments)};c?c(n.exports,"apply",{value:p}):n.exports.apply=p},function(n,t,e){"use strict";n.exports=e(62)},function(n,t,e){"use strict";t.__esModule=!0,t.DEFAULT_EMOJI_CDN="//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/",t.DB_NAME="Comment",t.CONFIG={lang:"zh-CN",langMode:null,appId:"",appKey:"",clazzName:"Comment",meta:["nick","mail","link"],path:location.pathname,placeholder:"Just Go Go",pageSize:10,recordIP:!0,serverURLs:"",visitor:!1,mathJax:!1,emojiCDN:"",emojiMaps:void 0,enableQQ:!1,requiredFields:[]},t.defaultMeta=["nick","mail","link"],t.QQCacheKey="_v_Cache_Q",t.MetaCacheKey="_v_Cache_Meta",t.RandomStr=function(n){return(Date.now()+Math.round(1e3*Math.random())).toString(32)},t.VERSION="1.5.1"},function(n,t,e){var r=e(16),i=e(50);for(var o in(t=n.exports=function(n,t){return new i(t).process(n)}).FilterCSS=i,r)t[o]=r[o];"undefined"!=typeof window&&(window.filterCSS=n.exports)},function(n,t,e){"use strict";var r=e(66);n.exports=function(n){return"symbol"==typeof n?"Symbol":"bigint"==typeof n?"BigInt":r(n)}},function(n,t,e){"use strict";var r=e(78);n.exports=Function.prototype.bind||r},function(n,t,e){"use strict";var r,i,o=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},a((function(){throw 42}),null,r)}catch(n){n!==i&&(a=null)}else a=null;var s=/^\s*class\b/,l=function(n){try{var t=o.call(n);return s.test(t)}catch(n){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,p="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};n.exports=a?function(n){if(n===p)return!0;if(!n)return!1;if("function"!=typeof n&&"object"!=typeof n)return!1;if("function"==typeof n&&!n.prototype)return!0;try{a(n,null,r)}catch(n){if(n!==i)return!1}return!l(n)}:function(n){if(n===p)return!0;if(!n)return!1;if("function"!=typeof n&&"object"!=typeof n)return!1;if("function"==typeof n&&!n.prototype)return!0;if(u)return function(n){try{return!l(n)&&(o.call(n),!0)}catch(n){return!1}}(n);if(l(n))return!1;var t=c.call(n);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(n,t){n.exports={indexOf:function(n,t){var e,r;if(Array.prototype.indexOf)return n.indexOf(t);for(e=0,r=n.length;e<r;e++)if(n[e]===t)return e;return-1},forEach:function(n,t,e){var r,i;if(Array.prototype.forEach)return n.forEach(t,e);for(r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var t=/\s|\n|\t/.exec(n);return t?t.index:-1}}},function(n,t,e){"use strict";t.__esModule=!0;var r={cdn:e(6).DEFAULT_EMOJI_CDN,maps:e(97),parse:function(n,t){return String(n).replace(new RegExp(":("+Object.keys(r.maps).join("|")+"):","ig"),(function(n,e){return r.maps[e]?r.build(e,t):n}))},build:function(n,t){var e=/^(https?:)?\/\//i,i=r.maps[n],o=e.test(i)?i:r.cdn+i,a=' <img alt="'+n+'" referrerpolicy="no-referrer" class="vemoji" src="'+o+'" />';return e.test(o)?a:""}};t.default=r},function(n,t,e){"use strict";t.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(e(95));t.default=function(n){return(0,r.default)(n,{onTagAttr:function(n,t,e,r){return i(n,t,e,r)},onIgnoreTagAttr:function(n,t,e,r){return i(n,t,e,r)}}).replace(/\<\/?div\>/gi,"")};var i=function(n,t,e,i){if(/video|audio/i.test(n))return"";if(/code|pre|span/i.test(n)){if("style"==t){var o=e.match(/color:([#a-z0-9]{3,7}|\s+[#a-z0-9]{3,8})/gi);return o&&o.length?'style="'+o[0]+'"':""}if("class"==t)return t+"='"+r.default.escapeAttrValue(e)+"'"}return"a"===n&&"class"==t&&"at"===e?t+"='"+r.default.escapeAttrValue(e)+"'":"img"===n&&/src|class/i.test(t)?t+"='"+r.default.escapeAttrValue(e)+"' referrerPolicy='no-referrer'":void 0}},function(n,t,e){"use strict";var r=e(0),i=e(1),o=r("%TypeError%"),a=e(52),s=e(18),l=e(53),c=e(55),u=e(56),p=e(60),d=e(20),m=e(81),h=i("String.prototype.split"),g=Object("a"),f="a"!==g[0]||!(0 in g);n.exports=function(n){var t,e=p(this),r=f&&m(this)?h(this,""):e,i=u(r);if(!c(n))throw new o("Array.prototype.forEach callback must be a function");arguments.length>1&&(t=arguments[1]);for(var g=0;g<i;){var v=d(g);if(l(r,v)){var y=s(r,v);a(n,t,[y,g,r])}g+=1}}},function(n,t,e){"use strict";var r=e(75),i=e(14);n.exports=function(){var n=Array.prototype.forEach;return r(n)?n:i}},function(n,t){function e(){var n={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return n}var r=/javascript\s*\:/gim;t.whiteList=e(),t.getDefaultWhiteList=e,t.onAttr=function(n,t,e){},t.onIgnoreAttr=function(n,t,e){},t.safeAttrValue=function(n,t){return r.test(t)?"":t}},function(n,t){n.exports={indexOf:function(n,t){var e,r;if(Array.prototype.indexOf)return n.indexOf(t);for(e=0,r=n.length;e<r;e++)if(n[e]===t)return e;return-1},forEach:function(n,t,e){var r,i;if(Array.prototype.forEach)return n.forEach(t,e);for(r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}},function(n,t,e){"use strict";var r=e(0)("%TypeError%"),i=e(86),o=e(19),a=e(8);n.exports=function(n,t){if("Object"!==a(n))throw new r("Assertion failed: Type(O) is not Object");if(!o(t))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+i(t));return n[t]}},function(n,t,e){"use strict";n.exports=function(n){return"string"==typeof n||"symbol"==typeof n}},function(n,t,e){"use strict";var r=e(0),i=r("%String%"),o=r("%TypeError%");n.exports=function(n){if("symbol"==typeof n)throw new o("Cannot convert a Symbol value to a string");return i(n)}},function(n,t,e){"use strict";n.exports=function(n){return null===n||"function"!=typeof n&&"object"!=typeof n}},function(n,t,e){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=e(23);n.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},function(n,t,e){"use strict";n.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var n={},t=Symbol("test"),e=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;for(t in n[t]=42,n)return!1;if("function"==typeof Object.keys&&0!==Object.keys(n).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var r=Object.getOwnPropertySymbols(n);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(n,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(n,t,e){"use strict";var r=e(23);n.exports=function(){return r()&&!!Symbol.toStringTag}},function(n,t,e){"use strict";var r=e(9);n.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(n,t,e){"use strict";var r=Object.prototype.toString;n.exports=function(n){var t=r.call(n),e="[object Arguments]"===t;return e||(e="[object Array]"!==t&&null!==n&&"object"==typeof n&&"number"==typeof n.length&&n.length>=0&&"[object Function]"===r.call(n.callee)),e}},function(n,t,e){"use strict";var r=e(5),i=e(1),o=i("Object.prototype.propertyIsEnumerable"),a=i("Array.prototype.push");n.exports=function(n){var t=r(n),e=[];for(var i in t)o(t,i)&&a(e,[i,t[i]]);return e}},function(n,t,e){"use strict";var r=e(27);n.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(n,t,e){"use strict";var r=e(5),i=e(20),o=e(1)("String.prototype.replace"),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var n=i(r(this));return o(o(n,a,""),s,"")}},function(n,t,e){"use strict";var r=e(29);n.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:r}},function(n,t,e){function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}function i(n){return n.replace(f,"&lt;").replace(v,"&gt;")}function o(n){return n.replace(y,"&quot;")}function a(n){return n.replace(b,'"')}function s(n){return n.replace(_,(function(n,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function l(n){return n.replace(w,":").replace(x," ")}function c(n){for(var t="",e=0,r=n.length;e<r;e++)t+=n.charCodeAt(e)<32?" ":n.charAt(e);return h.trim(t)}function u(n){return c(n=l(n=s(n=a(n))))}function p(n){return i(n=o(n))}var d=e(7).FilterCSS,m=e(7).getDefaultWhiteList,h=e(11),g=new d,f=/</g,v=/>/g,y=/"/g,b=/&quot;/g,_=/&#([a-zA-Z0-9]*);?/gim,w=/&colon;?/gim,x=/&newline;?/gim,$=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,k=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,T=/u\s*r\s*l\s*\(.*/gi;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=r,t.onTag=function(n,t,e){},t.onIgnoreTag=function(n,t,e){},t.onTagAttr=function(n,t,e){},t.onIgnoreTagAttr=function(n,t,e){},t.safeAttrValue=function(n,t,e,r){if(e=u(e),"href"===t||"src"===t){if("#"===(e=h.trim(e)))return"#";if("http://"!==e.substr(0,7)&&"https://"!==e.substr(0,8)&&"mailto:"!==e.substr(0,7)&&"tel:"!==e.substr(0,4)&&"data:image/"!==e.substr(0,11)&&"ftp://"!==e.substr(0,6)&&"./"!==e.substr(0,2)&&"../"!==e.substr(0,3)&&"#"!==e[0]&&"/"!==e[0])return""}else if("background"===t){if($.lastIndex=0,$.test(e))return""}else if("style"===t){if(k.lastIndex=0,k.test(e))return"";if(T.lastIndex=0,T.test(e)&&($.lastIndex=0,$.test(e)))return"";!1!==r&&(e=(r=r||g).process(e))}return p(e)},t.escapeHtml=i,t.escapeQuote=o,t.unescapeQuote=a,t.escapeHtmlEntities=s,t.escapeDangerHtml5Entities=l,t.clearNonPrintableCharacter=c,t.friendlyAttrValue=u,t.escapeAttrValue=p,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(n,t){function e(t){return!!r||-1!==h.indexOf(n,t)}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(n),i=[],o=!1;return{onIgnoreTag:function(n,r,a){if(e(n)){if(a.isClosing){var s="[/removed]",l=a.position+s.length;return i.push([!1!==o?o:a.position,l]),o=!1,s}return o||(o=a.position),"[removed]"}return t(n,r,a)},remove:function(n){var t="",e=0;return h.forEach(i,(function(r){t+=n.slice(e,r[0]),e=r[1]})),t+=n.slice(e)}}},t.stripCommentTag=function(n){for(var t="",e=0;e<n.length;){var r=n.indexOf("\x3c!--",e);if(-1===r){t+=n.slice(e);break}t+=n.slice(e,r);var i=n.indexOf("--\x3e",r);if(-1===i)break;e=i+3}return t},t.stripBlankChar=function(n){var t=n.split("");return(t=t.filter((function(n){var t=n.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},t.cssFilter=g,t.getDefaultCSSWhiteList=m},function(n,t,e){function r(n){var t=l.spaceIndex(n);if(-1===t)var e=n.slice(1,-1);else e=n.slice(1,t+1);return"/"===(e=l.trim(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function i(n){return"</"===n.slice(0,2)}function o(n,t){for(;t<n.length;t++){var e=n[t];if(" "!==e)return"="===e?t:-1}}function a(n,t){for(;t>0;t--){var e=n[t];if(" "!==e)return"="===e?t:-1}}function s(n){return function(n){return'"'===n[0]&&'"'===n[n.length-1]||"'"===n[0]&&"'"===n[n.length-1]}(n)?n.substr(1,n.length-2):n}var l=e(11),c=/[^a-zA-Z0-9_:\.\-]/gim;t.parseTag=function(n,t,e){"use strict";var o="",a=0,s=!1,l=!1,c=0,u=n.length,p="",d="";n:for(c=0;c<u;c++){var m=n.charAt(c);if(!1===s){if("<"===m){s=c;continue}}else if(!1===l){if("<"===m){o+=e(n.slice(a,c)),s=c,a=c;continue}if(">"===m){o+=e(n.slice(a,s)),p=r(d=n.slice(s,c+1)),o+=t(s,o.length,p,d,i(d)),a=c+1,s=!1;continue}if('"'===m||"'"===m)for(var h=1,g=n.charAt(c-h);""===g.trim()||"="===g;){if("="===g){l=m;continue n}g=n.charAt(c-++h)}}else if(m===l){l=!1;continue}}return a<n.length&&(o+=e(n.substr(a))),o},t.parseAttr=function(n,t){"use strict";function e(n,e){if(!((n=(n=l.trim(n)).replace(c,"").toLowerCase()).length<1)){var r=t(n,e||"");r&&i.push(r)}}for(var r=0,i=[],u=!1,p=n.length,d=0;d<p;d++){var m,h=n.charAt(d);if(!1!==u||"="!==h)if(!1===u||d!==r||'"'!==h&&"'"!==h||"="!==n.charAt(d-1)){if(/\s|\n|\t/.test(h)){if(n=n.replace(/\s|\n|\t/g," "),!1===u){if(-1===(m=o(n,d))){e(l.trim(n.slice(r,d))),u=!1,r=d+1;continue}d=m-1;continue}if(-1===(m=a(n,d-1))){e(u,s(l.trim(n.slice(r,d)))),u=!1,r=d+1;continue}}}else{if(-1===(m=n.indexOf(h,d+1)))break;e(u,l.trim(n.slice(r+1,m))),u=!1,r=(d=m)+1}else u=n.slice(r,d),r=d+1}return r<n.length&&(!1===u?e(n.slice(r)):e(u,s(l.trim(n.slice(r))))),l.trim(i.join(" "))}},function(n,t,e){var r,i,o;
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/i=[n,t],r=function(n,t){"use strict";function e(n){function t(t){var e=n.style.width;n.style.width="0px",n.offsetWidth,n.style.width=e,n.style.overflowY=t}function e(){if(0!==n.scrollHeight){var t=function(n){for(var t=[];n&&n.parentNode&&n.parentNode instanceof Element;)n.parentNode.scrollTop&&t.push({node:n.parentNode,scrollTop:n.parentNode.scrollTop}),n=n.parentNode;return t}(n),e=document.documentElement&&document.documentElement.scrollTop;n.style.height="",n.style.height=n.scrollHeight+i+"px",s=n.clientWidth,t.forEach((function(n){n.node.scrollTop=n.scrollTop})),e&&(document.documentElement.scrollTop=e)}}function r(){e();var r=Math.round(parseFloat(n.style.height)),i=window.getComputedStyle(n,null),o="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):n.offsetHeight;if(o<r?"hidden"===i.overflowY&&(t("scroll"),e(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):"hidden"!==i.overflowY&&(t("hidden"),e(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),l!==o){l=o;var s=a("autosize:resized");try{n.dispatchEvent(s)}catch(n){}}}if(n&&n.nodeName&&"TEXTAREA"===n.nodeName&&!o.has(n)){var i=null,s=null,l=null,c=function(){n.clientWidth!==s&&r()},u=function(t){window.removeEventListener("resize",c,!1),n.removeEventListener("input",r,!1),n.removeEventListener("keyup",r,!1),n.removeEventListener("autosize:destroy",u,!1),n.removeEventListener("autosize:update",r,!1),Object.keys(t).forEach((function(e){n.style[e]=t[e]})),o.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",u,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",r,!1),window.addEventListener("resize",c,!1),n.addEventListener("input",r,!1),n.addEventListener("autosize:update",r,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",o.set(n,{destroy:u,update:r}),function(){var t=window.getComputedStyle(n,null);"vertical"===t.resize?n.style.resize="none":"both"===t.resize&&(n.style.resize="horizontal"),i="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(i)&&(i=0),r()}()}}function r(n){var t=o.get(n);t&&t.destroy()}function i(n){var t=o.get(n);t&&t.update()}var o="function"==typeof Map?new Map:function(){var n=[],t=[];return{has:function(t){return n.indexOf(t)>-1},get:function(e){return t[n.indexOf(e)]},set:function(e,r){-1===n.indexOf(e)&&(n.push(e),t.push(r))},delete:function(e){var r=n.indexOf(e);r>-1&&(n.splice(r,1),t.splice(r,1))}}}(),a=function(n){return new Event(n,{bubbles:!0})};try{new Event("test")}catch(n){a=function(n){var t=document.createEvent("Event");return t.initEvent(n,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(n){return n}).destroy=function(n){return n},s.update=function(n){return n}):((s=function(n,t){return n&&Array.prototype.forEach.call(n.length?n:[n],(function(n){return e(n)})),n}).destroy=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],r),n},s.update=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],i),n}),t.default=s,n.exports=t.default},void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(n.exports=o)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function i(n){return!!n&&this.init(n),this}function o(n){return new i(n)}var a=r(e(42)),s=r(e(33)),l=r(e(37)),c=r(e(12)),u=e(6),p=r(e(41)),d=r(e(36)),m=e(40),h=r(e(38)),g=r(e(3)),f=r(e(39)),v=r(e(13)),y=(r(e(35)),{comment:"",nick:"",mail:"",link:"",ua:g.default.ua,url:"",QQAvatar:""}),b="",_={},w={cdn:"https://gravatar.loli.net/avatar/",ds:["mp","identicon","monsterid","wavatar","robohash","retro",""],params:"",hide:!1};i.prototype.init=function(n){if("undefined"==typeof document)throw new Error("Sorry, Valine does not support Server-side rendering.");var t=this;return n&&(n=g.default.extend(u.CONFIG,n),t.i18n=(0,l.default)(n.lang||g.default.lang,n.langMode),t.cfg=n,c.default.maps=!!n.emojiMaps&&n.emojiMaps||c.default.maps,c.default.cdn=!!n.emojiCDN&&n.emojiCDN||c.default.cdn,t._init()),t},i.prototype._init=function(){var n=this;try{var t=n.cfg,e=t.avatar,r=t.avatarForce,i=t.avatar_cdn,o=t.visitor,a=t.path,s=void 0===a?location.pathname:a,l=t.pageSize,c=t.recordIP;n.cfg.path=s.replace(/index\.html?$/,"");var p=w.ds,f=r?"&q="+(0,u.RandomStr)():"";w.params="?d="+(p.indexOf(e)>-1?e:"mp")+"&v="+u.VERSION+f,w.hide="hide"===e,w.cdn=/^https?\:\/\//.test(i)?i:w.cdn,n.cfg.pageSize=isNaN(l)||l<1?10:l,c&&(0,m.recordIPFn)((function(n){return y.ip=n}));var v=n.cfg.el||null,b=(0,g.default)(v);if(v=v instanceof HTMLElement?v:b[b.length-1]||null){n.$el=(0,g.default)(v),n.$el.addClass("v").attr("data-class","v"),w.hide&&n.$el.addClass("hide-avatar"),n.cfg.meta=(n.cfg.guest_info||n.cfg.meta||u.defaultMeta).filter((function(n){return u.defaultMeta.indexOf(n)>-1})),n.cfg.requiredFields=n.cfg.requiredFields.filter((function(n){return u.defaultMeta.indexOf(n)>-1}));var _=(0==n.cfg.meta.length?u.defaultMeta:n.cfg.meta).map((function(t){var e="mail"==t?"email":"text";return u.defaultMeta.indexOf(t)>-1?'<input name="'+t+'" placeholder="'+n.i18n.t(t)+'" class="v'+t+' vinput" type="'+e+'">':""})),x='<div class="vpanel"><div class="vwrap"><p class="cancel-reply text-right" style="display:none;" title="'+n.i18n.t("cancelReply")+'"><svg class="vicon cancel-reply-btn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4220" width="22" height="22"><path d="M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z" p-id="4221"></path><path d="M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z" p-id="4222" ></path></svg></p><div class="vheader item'+_.length+'">'+_.join("")+'</div><div class="vedit"><textarea id="veditor" class="veditor vinput" placeholder="'+n.cfg.placeholder+'"></textarea><div class="vrow"><div class="vcol vcol-60 status-bar"></div><div class="vcol vcol-40 vctrl text-right"><span title="'+n.i18n.t("emoji")+'"  class="vicon vemoji-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16172" width="22" height="22" ><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z" p-id="16173"></path><path d="M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z" p-id="16174"></path><path d="M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z" p-id="16175"></path><path d="M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z" p-id="16176"></path></svg></span><span title="'+n.i18n.t("preview")+'" class="vicon vpreview-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17688" width="22" height="22"><path d="M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z" p-id="17689"></path><path d="M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z" p-id="17690"></path><path d="M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z" p-id="17691"></path><path d="M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z" p-id="17692"></path></svg></span></div></div></div><div class="vrow"><div class="vcol vcol-30" ><a alt="Markdown is supported" href="https://guides.github.com/features/mastering-markdown/" class="vicon" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a></div><div class="vcol vcol-70 text-right"><button type="button"  title="Cmd|Ctrl+Enter" class="vsubmit vbtn">'+n.i18n.t("submit")+'</button></div></div><div class="vemojis" style="display:none;"></div><div class="vinput vpreview" style="display:none;"></div></div></div><div class="vcount" style="display:none;"><span class="vnum">0</span> '+n.i18n.t("comments")+'</div><div class="vload-top text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vcards"></div><div class="vload-bottom text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vempty" style="display:none;"></div><div class="vpage txt-center" style="display:none"><button type="button" class="vmore vbtn">'+n.i18n.t("more")+'</button></div><div class="vpower txt-right">Powered By <a href="https://valine.js.org" target="_blank">Valine</a><br>v'+u.VERSION+"</div>";n.$el.html(x),n.$el.find(".cancel-reply").on("click",(function(t){n.reset()}));var k=n.$el.find(".vempty");n.$nodata={show:function(t){return k.html(t||n.i18n.t("sofa")).show(),n},hide:function(){return k.hide(),n}};var T=n.$el.find(".vload-bottom"),E=n.$el.find(".vload-top");n.$loading={show:function(t){return t&&E.show()||T.show(),n.$nodata.hide(),n},hide:function(){return E.hide(),T.hide(),0===n.$el.find(".vcard").length&&n.$nodata.show(),n}}}(0,d.default)(n.cfg,(function(t){var e=(0,g.default)(".valine-comment-count"),r=0;!function t(e){var i=e[r++];if(i){var o=(0,g.default)(i).attr("data-xid");o&&n.Q(o).count().then((function(n){i.innerText=n,t(e)})).catch((function(n){i.innerText=0}))}}(e),o&&$.add(AV.Object.extend("Counter"),n.cfg.path),n.$el&&n.bind()}))}catch(t){(0,h.default)(n,t,"init")}};var x=function(n,t){var e=new n,r=new AV.ACL;r.setPublicReadAccess(!0),r.setPublicWriteAccess(!0),e.setACL(r),e.set("url",t.url),e.set("xid",t.xid),e.set("title",t.title),e.set("time",1),e.save().then((function(n){(0,g.default)(t.el).find(".leancloud-visitors-count").text(1)})).catch((function(n){}))},$={add:function(n,t){var e=this,r=(0,g.default)(".leancloud_visitors,.leancloud-visitors");if(1===r.length){var i=r[0],o=decodeURI((0,g.default)(i).attr("id")),a=(0,g.default)(i).attr("data-flag-title"),s=encodeURI(o),l={el:i,url:o,xid:s,title:a};if(decodeURI(o)===decodeURI(t)){var c=new AV.Query(n);c.equalTo("url",o),c.find().then((function(t){if(t.length>0){var e=t[0];e.increment("time"),e.save().then((function(n){(0,g.default)(i).find(".leancloud-visitors-count").text(n.get("time"))})).catch((function(n){}))}else x(n,l)})).catch((function(t){101==t.code?x(n,l):(0,h.default)(e,t)}))}else $.show(n,r)}else $.show(n,r)},show:function(n,t){var e=[];if(t.forEach((function(n){var t=(0,g.default)(n).find(".leancloud-visitors-count");t&&t.text("0"),e.push(/\%/.test((0,g.default)(n).attr("id"))?decodeURI((0,g.default)(n).attr("id")):(0,g.default)(n).attr("id"))})),e.length){var r=new AV.Query(n);r.containedIn("url",e),r.find().then((function(n){n.length>0&&t.forEach((function(t){n.forEach((function(n){var e=n.get("xid")||encodeURI(n.get("url")),r=n.get("time"),i=(0,g.default)(t),o=i.attr("id");if((/\%/.test(o)?o:encodeURI(o))==e){var a=i.find(".leancloud-visitors-count");a&&a.text(r)}}))}))})).catch((function(n){}))}}};i.prototype.Q=function(n){var t=this,e=arguments.length,r=t.cfg.clazzName;if(1==e){var i=new AV.Query(r);i.doesNotExist("rid");var o=new AV.Query(r);o.equalTo("rid","");var a=AV.Query.or(i,o);return"*"===n?a.exists("url"):a.equalTo("url",decodeURI(n)),a.addDescending("createdAt"),a.addDescending("insertedAt"),a}var s=JSON.stringify(arguments[1]).replace(/(\[|\])/g,""),l="select * from "+r+" where rid in ("+s+") order by -createdAt,-createdAt";return AV.Query.doCloudQuery(l)},i.prototype.installLocale=function(n,t){return this.i18n(n,t),this},i.prototype.setPath=function(n){return this.config.path=n,this},i.prototype.bind=function(){var n=this,t=n.$el.find(".vemojis"),e=n.$el.find(".vpreview"),r=n.$el.find(".vemoji-btn"),i=n.$el.find(".vpreview-btn"),o=n.$el.find(".veditor"),l=c.default.maps,d=!1;n.$emoji={show:function(){return!d&&function(n){var e=[];for(var r in l)l.hasOwnProperty(r)&&c.default.build(r)&&e.push('<i title="'+r+'" >'+c.default.build(r)+"</i>");t.html(e.join("")),d=!0,t.find("i").on("click",(function(n){n.preventDefault(),D(o[0]," :"+(0,g.default)(this).attr("title")+":")}))}(),n.$preview.hide(),t.show(),r.addClass("actived"),n.$emoji},hide:function(){return r.removeClass("actived"),t.hide(),n.$emoji}},n.$preview={show:function(){return b?(n.$emoji.hide(),i.addClass("actived"),e.html((0,f.default)(b)).show(),M()):n.$preview.hide(),n.$preview},hide:function(){return i.removeClass("actived"),e.hide().html(""),n.$preview}};var x=function(t){var r=t.val()||"";r||n.$preview.hide(),b!=r&&(b=r,i.hasClass("actived")>-1&&b!=e.html()&&e.html((0,f.default)(b)),M())};r.on("click",(function(t){r.hasClass("actived")?n.$emoji.hide():n.$emoji.show()})),i.on("click",(function(t){i.hasClass("actived")?n.$preview.hide():n.$preview.show()}));var $=n.cfg.meta,k={},T={veditor:"comment"};for(var E in $.forEach((function(n){T["v"+n]=n})),T)T.hasOwnProperty(E)&&function(){var t=T[E],e=n.$el.find("."+E);k[t]=e,e.on("input change blur propertychange",(function(r){n.cfg.enableQQ&&"blur"===r.type&&"nick"===t&&(e.val()&&!isNaN(e.val())?(0,m.fetchQQFn)(e.val(),(function(n){var t=n.nick||e.val(),r=n.qq+"@qq.com";(0,g.default)(".vnick").val(t),(0,g.default)(".vmail").val(r),y.nick=t,y.mail=r,y.QQAvatar=n.pic})):g.default.store.get(u.QQCacheKey)&&g.default.store.get(u.QQCacheKey).nick!=e.val()&&(g.default.store.remove(u.QQCacheKey),y.nick=e.val(),y.mail="",y.QQAvatar="")),"comment"===t?((0,s.default)(e[0]),A((function(n){x(e)}))()):y[t]=(0,v.default)(e.val().replace(/(^\s*)|(\s*$)/g,"").substring(0,35))}))}();var A=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,e=void 0;return function(){var r=this,i=arguments;e&&clearTimeout(e),e=setTimeout((function(){n.apply(r,i)}),t)}},D=function(n,t){if(document.selection)n.focus(),document.selection.createRange().text=t,n.focus();else if(n.selectionStart||"0"==n.selectionStart){var e=n.selectionStart,r=n.selectionEnd,i=n.scrollTop;n.value=n.value.substring(0,e)+t+n.value.substring(r,n.value.length),n.focus(),n.selectionStart=e+t.length,n.selectionEnd=e+t.length,n.scrollTop=i}else n.focus(),n.value+=t;A((function(t){x((0,g.default)(n))}))()},C={no:1,size:n.cfg.pageSize,skip:n.cfg.pageSize},P=n.$el.find(".vpage");P.on("click",(function(n){P.hide(),C.no++,S()}));var S=function(){var t=C.size,e=C.no,r=Number(n.$el.find(".vnum").text());n.$loading.show();var i=n.Q(n.cfg.path);i.limit(t),i.skip((e-1)*t),i.find().then((function(i){if(C.skip=C.size,i&&i.length){var o=[];i.forEach((function(t){o.push(t.id),j(t,n.$el.find(".vcards"),!0)})),n.Q(n.cfg.path,o).then((function(n){(n&&n.results||[]).forEach((function(n){j(n,(0,g.default)('.vquote[data-self-id="'+n.get("rid")+'"]'))}))})).catch((function(n){})),t*e<r?P.show():P.hide(),M()}else n.$nodata.show();n.$loading.hide()})).catch((function(t){n.$loading.hide(),(0,h.default)(n,t,"query")}))};n.Q(n.cfg.path).count().then((function(t){t>0?(n.$el.find(".vcount").show().find(".vnum").text(t),S()):n.$loading.hide()})).catch((function(t){(0,h.default)(n,t,"count")}));var I=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/(https?|http):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,e=n.match(t)||[];return e.length>0?e[0]:""},j=function(t,e,r){var i=(0,g.default)('<div class="vcard" id="'+t.id+'"></div>'),o=(0,v.default)(t.get("ua")),s="";o&&!/ja/.test(n.cfg.lang)&&(s=(o=g.default.detect(o)).version?o.os?'<span class="vsys">'+o.browser+" "+o.version+'</span> <span class="vsys">'+o.os+" "+o.osVersion+"</span>":"":'<span class="vsys">'+o.browser+"</span>"),"*"===n.cfg.path&&(s='<a href="'+t.get("url")+'" class="vsys">'+t.get("url")+"</a>");var l=t.get("link")?/^https?\:\/\//.test(t.get("link"))?t.get("link"):"http://"+t.get("link"):"",c=g.default.escape((0,v.default)(t.get("nick").substring(0,30))),u=l?'<a class="vnick" rel="nofollow" href="'+I(l)+'" target="_blank" >'+c+"</a>":'<span class="vnick">'+c+"</span>",d=(w.hide?"":n.cfg.enableQQ&&t.get("QQAvatar")?(0,v.default)('<img class="vimg" src="'+I(t.get("QQAvatar"))+'" referrerPolicy="no-referrer"/>'):'<img class="vimg" src="'+(w.cdn+(0,a.default)(t.get("mail"))+w.params)+'">')+'<div class="vh"><div class="vhead">'+u+" "+s+'</div><div class="vmeta"><span class="vtime" >'+(0,p.default)(t.get("insertedAt"),n.i18n)+'</span><span class="vat" data-vm-id="'+(t.get("rid")||t.id)+'" data-self-id="'+t.id+'">'+n.i18n.t("reply")+'</span></div><div class="vcontent" data-expand="'+n.i18n.t("expand")+'">'+(0,f.default)(t.get("comment"))+'</div><div class="vreply-wrapper" data-self-id="'+t.id+'"></div><div class="vquote" data-self-id="'+t.id+'"></div></div>';i.html(d);var m=i.find(".vat");i.find("a:not(.at)").forEach((function(n){(0,g.default)(n).attr({target:"_blank",rel:"noopener"})})),r?e.append(i):e.prepend(i);var h=i.find(".vcontent");h&&F(h),m&&L(m,t)},O={},L=function(t,e){t.on("click",(function(r){var i=t.attr("data-vm-id"),o=t.attr("data-self-id"),a=n.$el.find(".vwrap"),s="@"+g.default.escape(e.get("nick"));(0,g.default)('.vreply-wrapper[data-self-id="'+o+'"]').append(a).find(".cancel-reply").show(),O={at:g.default.escape(s)+" ",rid:i,pid:o,rmail:e.get("mail")},k.comment.attr({placeholder:s})[0].focus()}))},M=function(){setTimeout((function(){try{n.cfg.mathjax&&"MathJax"in window&&"version"in window.MathJax&&(/^3.*/.test(window.MathJax.version)&&MathJax.typeset()||MathJax.Hub.Queue(["Typeset",MathJax.Hub,document.querySelector(".v")])),"renderMathInElement"in window&&renderMathInElement((0,g.default)(".v")[0],{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})}catch(n){}}),100)},F=function(n){setTimeout((function(){n[0].offsetHeight>200&&(n.addClass("expand"),n.on("click",(function(t){n.removeClass("expand")})))}))};!function(t){if(t=g.default.store.get(u.MetaCacheKey)||t)for(var e in $)if($.hasOwnProperty(e)){var r=$[e];n.$el.find(".v"+r).val(g.default.unescape(t[r])),y[r]=t[r]}var i=g.default.store.get(u.QQCacheKey);y.QQAvatar=n.cfg.enableQQ&&!!i&&i.pic||""}(),n.reset=function(){y.comment="",k.comment.val(""),x(k.comment),k.comment.attr("placeholder",n.cfg.placeholder),O={},n.$preview.hide(),n.$el.find(".vpanel").append(n.$el.find(".vwrap")),n.$el.find(".cancel-reply").hide(),b="",s.default.update(k.comment[0])};var z=n.$el.find(".vsubmit"),R=function(t){if(n.cfg.requiredFields.indexOf("nick")>-1&&y.nick.length<3)return k.nick[0].focus(),void n.$el.find(".status-bar").text(""+n.i18n.t("nickFail")).empty(3e3);if(n.cfg.requiredFields.indexOf("mail")>-1&&!/[\w-\.]+@([\w-]+\.)+[a-z]{2,3}/.test(y.mail))return k.mail[0].focus(),void n.$el.find(".status-bar").text(""+n.i18n.t("mailFail")).empty(3e3);if(""!=b){for(var e in _)if(_.hasOwnProperty(e)){var r=_[e];b=b.replace(e,r),URL.revokeObjectURL(e)}_={},y.comment=(0,v.default)(b),y.nick=y.nick||"Anonymous";var i=g.default.store.get("vlx");i&&Date.now()/1e3-i/1e3<20?n.$el.find(".status-bar").text(n.i18n.t("busy")).empty(3e3):B()}else k.comment[0].focus()},B=function(){g.default.store.set("vlx",Date.now()),z.attr({disabled:!0}),n.$loading.show(!0);var t=new(AV.Object.extend(n.cfg.clazzName||"Comment"));if(y.url=decodeURI(n.cfg.path),y.insertedAt=new Date,O.rid){var e=O.pid||O.rid;t.set("rid",O.rid),t.set("pid",e),y.comment=b.replace("<p>",'<p><a class="at" href="#'+e+'">'+O.at+"</a> , ")}for(var r in y)if(y.hasOwnProperty(r)){var i=y[r];t.set(r,i)}t.setACL(function(){var n=new AV.ACL;return n.setPublicReadAccess(!0),n.setPublicWriteAccess(!1),n}()),t.save().then((function(t){"Anonymous"!=y.nick&&g.default.store.set(u.MetaCacheKey,{nick:y.nick,link:y.link,mail:y.mail});var e=n.$el.find(".vnum");try{O.rid?j(t,(0,g.default)('.vquote[data-self-id="'+O.rid+'"]'),!0):(Number(e.text())?e.text(Number(e.text())+1):n.$el.find(".vcount").show().find(".vnum").text(Number(e.text())+1),j(t,n.$el.find(".vcards")),C.skip++),z.removeAttr("disabled"),n.$loading.hide(),n.reset()}catch(t){(0,h.default)(n,t,"save")}})).catch((function(t){(0,h.default)(n,t,"commitEvt")}))};z.on("click",R),(0,g.default)(document).on("keydown",(function(n){var t=(n=window.event||n).keyCode||n.which||n.charCode;(n.ctrlKey||n.metaKey)&&13===t&&R(),9===t&&"veditor"==(document.activeElement.id||"")&&(n.preventDefault(),D(o[0],"    "))})).on("paste",(function(n){var t="clipboardData"in n?n.clipboardData:n.originalEvent&&n.originalEvent.clipboardData||window.clipboardData;t&&N(t.items,!0)})),o.on("dragenter dragleave dragover drop",(function(n){n.stopPropagation(),n.preventDefault(),"drop"===n.type&&N(n.dataTransfer.items)}));var N=function(n,t){for(var e=0,r=n.length;e<r;e++){var i=n[e];if("string"===i.kind&&i.type.match("^text/html"))!t&&i.getAsString((function(n){n&&D(o[0],n.replace(/<[^>]+>/g,""))}));else if(i.type.indexOf("image")>-1){U(i.getAsFile());continue}}},U=function(n){try{var t=URL.createObjectURL(n),e="![image]("+t+") ",r=new FileReader;D(o[0],e),r.onload=function(){_[t]=r.result},r.readAsDataURL(n)}catch(n){}}},n.exports=o,n.exports.default=o},function(n,t,e){"use strict";t.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(e(3));t.default={getApi:function(n,t){r.default.ajax({url:"https://app-router.com/2/route",body:{appId:n}}).then((function(n){n.json().then((function(n){return t&&t("//"+n.api_server)}))}))}}},function(n,t,e){"use strict";t.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(e(3)),i=!1;t.default=function(n,t){if("AV"in window){var e=window.AV.version||window.AV.VERSION;parseInt(e.split(".")[0])>2?i=!!AV.applicationId&&!!AV.applicationKey:r.default.deleteInWin("AV",0)}i?t&&t():r.default.sdkLoader("//unpkg.com/leancloud-storage@3/dist/av-min.js","AV",(function(e){var r,o="https://",a=n.app_id||n.appId,s=n.app_key||n.appKey;if(!n.serverURLs)switch(a.slice(-9)){case"-9Nh9j0Va":o+="tab.";break;case"-MdYXbMMI":o+="us."}r=n.serverURLs||o+"leancloud.cn",AV.init({appId:a,appKey:s,serverURLs:r}),i=!0,t&&t()}))}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0;var i=r(e(84)),o=r(e(100)),a=r(e(101)),s=r(e(98)),l=r(e(99)),c={zh:o.default,"zh-cn":o.default,"zh-CN":o.default,"zh-TW":a.default,en:s.default,"en-US":s.default,ja:l.default,"ja-JP":l.default};t.default=function(n,t){return!c[n]&&n&&t&&(c[n]=t),new i.default({phrases:c[n||"zh"],locale:n})}},function(n,t,e){"use strict";t.__esModule=!0,t.default=function(n,t){if(n.$el&&n.$loading.hide().$nodata.hide(),"[object Error]"==={}.toString.call(t)){var e=t.code||t.message||t.error||"";if(isNaN(e))n.$el&&n.$nodata.show('<pre style="text-align:left;"> '+JSON.stringify(t)+"</pre>");else{var r=n.i18n.t("code-"+e),i=(r=="code-"+e?void 0:r)||t.message||t.error||"";101==e||-1==e?n.$nodata.show():n.$el&&n.$nodata.show('<pre style="text-align:left;">Code '+e+": "+i+"</pre>")}}else n.$el&&n.$nodata.show('<pre style="text-align:left;">'+JSON.stringify(t)+"</pre>")}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}t.__esModule=!0;var i=e(83),o=r(e(79)),a=r(e(3)),s=r(e(12)),l=r(e(13)),c=new i.marked.Renderer;c.code=function(n,t){return'<pre><code class="hljs language-'+t+'">'+(t&&hljs.getLanguage(t)?hljs.highlight(t,n).value:a.default.escape(n))+"</code></pre>"},i.marked.setOptions({renderer:"hljs"in window?c:new i.marked.Renderer,highlight:function(n,t){return"hljs"in window?t&&hljs.getLanguage(t)&&hljs.highlight(t,n,!0).value||hljs.highlightAuto(n).value:(0,o.default)(n)},gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0,headerPrefix:"v-"}),t.default=function(n){return(0,l.default)((0,i.marked)(s.default.parse(n,!0)))}},function(n,t,e){"use strict";t.__esModule=!0,t.recordIPFn=t.fetchQQFn=void 0;var r=function(n){return n&&n.__esModule?n:{default:n}}(e(3)),i=e(6);t.fetchQQFn=function(n,t){var e=r.default.store.get(i.QQCacheKey);e&&e.qq==n?t&&t(e):r.default.ajax({url:"//valine.api.ioliu.cn/getqqinfo",method:"POST",body:{qq:n}}).then((function(n){n.json().then((function(n){n.errmsg||(r.default.store.set(i.QQCacheKey,n),t&&t(n))}))}))},t.recordIPFn=function(n){r.default.ajax({url:"https://forge.speedtest.cn/api/location/info",method:"get"}).then((function(n){return n.json()})).then((function(t){n&&n(t.ip)}))}},function(n,t,e){"use strict";t.__esModule=!0,t.default=function(n,t){if(!n)return"Invalid Date.";try{var e=i(n).getTime();if(isNaN(e))return"Invalid Date.";var o=(new Date).getTime()-e,a=Math.floor(o/864e5);if(0===a){var s=o%864e5,l=Math.floor(s/36e5);if(0===l){var c=s%36e5,u=Math.floor(c/6e4);if(0===u){var p=c%6e4;return Math.round(p/1e3)+" "+t.t("seconds")}return u+" "+t.t("minutes")}return l+" "+t.t("hours")}return a<0?t.t("now"):a<8?a+" "+t.t("days"):r(n)}catch(n){}};var r=function(n){var t=o(n.getDate(),2),e=o(n.getMonth()+1,2);return o(n.getFullYear(),2)+"-"+e+"-"+t},i=function n(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):/GMT/.test(t||"")?n(new Date(t).getTime()):(t=(t||"").replace(/(^\s*)|(\s*$)/g,"").replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))},o=function(n,t){for(var e=n.toString();e.length<t;)e="0"+e;return e}},function(n,t,e){var r;!function(i){"use strict";function o(n,t){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}function a(n,t,e,r,i,a){return o(function(n,t){return n<<t|n>>>32-t}(o(o(t,n),o(r,a)),i),e)}function s(n,t,e,r,i,o,s){return a(t&e|~t&r,n,t,i,o,s)}function l(n,t,e,r,i,o,s){return a(t&r|e&~r,n,t,i,o,s)}function c(n,t,e,r,i,o,s){return a(t^e^r,n,t,i,o,s)}function u(n,t,e,r,i,o,s){return a(e^(t|~r),n,t,i,o,s)}function p(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var e,r,i,a,p,d=1732584193,m=-271733879,h=-1732584194,g=271733878;for(e=0;e<n.length;e+=16)r=d,i=m,a=h,p=g,d=s(d,m,h,g,n[e],7,-680876936),g=s(g,d,m,h,n[e+1],12,-389564586),h=s(h,g,d,m,n[e+2],17,606105819),m=s(m,h,g,d,n[e+3],22,-1044525330),d=s(d,m,h,g,n[e+4],7,-176418897),g=s(g,d,m,h,n[e+5],12,1200080426),h=s(h,g,d,m,n[e+6],17,-1473231341),m=s(m,h,g,d,n[e+7],22,-45705983),d=s(d,m,h,g,n[e+8],7,1770035416),g=s(g,d,m,h,n[e+9],12,-1958414417),h=s(h,g,d,m,n[e+10],17,-42063),m=s(m,h,g,d,n[e+11],22,-1990404162),d=s(d,m,h,g,n[e+12],7,1804603682),g=s(g,d,m,h,n[e+13],12,-40341101),h=s(h,g,d,m,n[e+14],17,-1502002290),d=l(d,m=s(m,h,g,d,n[e+15],22,1236535329),h,g,n[e+1],5,-165796510),g=l(g,d,m,h,n[e+6],9,-1069501632),h=l(h,g,d,m,n[e+11],14,643717713),m=l(m,h,g,d,n[e],20,-373897302),d=l(d,m,h,g,n[e+5],5,-701558691),g=l(g,d,m,h,n[e+10],9,38016083),h=l(h,g,d,m,n[e+15],14,-660478335),m=l(m,h,g,d,n[e+4],20,-405537848),d=l(d,m,h,g,n[e+9],5,568446438),g=l(g,d,m,h,n[e+14],9,-1019803690),h=l(h,g,d,m,n[e+3],14,-187363961),m=l(m,h,g,d,n[e+8],20,1163531501),d=l(d,m,h,g,n[e+13],5,-1444681467),g=l(g,d,m,h,n[e+2],9,-51403784),h=l(h,g,d,m,n[e+7],14,1735328473),d=c(d,m=l(m,h,g,d,n[e+12],20,-1926607734),h,g,n[e+5],4,-378558),g=c(g,d,m,h,n[e+8],11,-2022574463),h=c(h,g,d,m,n[e+11],16,1839030562),m=c(m,h,g,d,n[e+14],23,-35309556),d=c(d,m,h,g,n[e+1],4,-1530992060),g=c(g,d,m,h,n[e+4],11,1272893353),h=c(h,g,d,m,n[e+7],16,-155497632),m=c(m,h,g,d,n[e+10],23,-1094730640),d=c(d,m,h,g,n[e+13],4,681279174),g=c(g,d,m,h,n[e],11,-358537222),h=c(h,g,d,m,n[e+3],16,-722521979),m=c(m,h,g,d,n[e+6],23,76029189),d=c(d,m,h,g,n[e+9],4,-640364487),g=c(g,d,m,h,n[e+12],11,-421815835),h=c(h,g,d,m,n[e+15],16,530742520),d=u(d,m=c(m,h,g,d,n[e+2],23,-995338651),h,g,n[e],6,-198630844),g=u(g,d,m,h,n[e+7],10,1126891415),h=u(h,g,d,m,n[e+14],15,-1416354905),m=u(m,h,g,d,n[e+5],21,-57434055),d=u(d,m,h,g,n[e+12],6,1700485571),g=u(g,d,m,h,n[e+3],10,-1894986606),h=u(h,g,d,m,n[e+10],15,-1051523),m=u(m,h,g,d,n[e+1],21,-2054922799),d=u(d,m,h,g,n[e+8],6,1873313359),g=u(g,d,m,h,n[e+15],10,-30611744),h=u(h,g,d,m,n[e+6],15,-1560198380),m=u(m,h,g,d,n[e+13],21,1309151649),d=u(d,m,h,g,n[e+4],6,-145523070),g=u(g,d,m,h,n[e+11],10,-1120210379),h=u(h,g,d,m,n[e+2],15,718787259),m=u(m,h,g,d,n[e+9],21,-343485551),d=o(d,r),m=o(m,i),h=o(h,a),g=o(g,p);return[d,m,h,g]}function d(n){var t,e="",r=32*n.length;for(t=0;t<r;t+=8)e+=String.fromCharCode(n[t>>5]>>>t%32&255);return e}function m(n){var t,e=[];for(e[(n.length>>2)-1]=void 0,t=0;t<e.length;t+=1)e[t]=0;var r=8*n.length;for(t=0;t<r;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return e}function h(n){var t,e,r="0123456789abcdef",i="";for(e=0;e<n.length;e+=1)t=n.charCodeAt(e),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function g(n){return unescape(encodeURIComponent(n))}function f(n){return function(n){return d(p(m(n),8*n.length))}(g(n))}function v(n,t){return function(n,t){var e,r,i=m(n),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=p(i,8*n.length)),e=0;e<16;e+=1)o[e]=909522486^i[e],a[e]=1549556828^i[e];return r=p(o.concat(m(t)),512+8*t.length),d(p(a.concat(r),640))}(g(n),g(t))}function y(n,t,e){return t?e?v(t,n):function(n,t){return h(v(n,t))}(t,n):e?f(n):function(n){return h(f(n))}(n)}void 0!==(r=function(){return y}.call(t,e,t,n))&&(n.exports=r)}()},function(n,t,e){"use strict";var r=e(2),i=e(4),o=e(1),a=e(5),s=e(14),l=e(15),c=l(),u=e(44),p=o("Array.prototype.slice"),d=i.apply(c),m=function(n,t){return a(n),d(n,p(arguments,1))};r(m,{getPolyfill:l,implementation:s,shim:u}),n.exports=m},function(n,t,e){"use strict";var r=e(2),i=e(15);n.exports=function(){var n=i();return r(Array.prototype,{forEach:n},{forEach:function(){return Array.prototype.forEach!==n}}),n}},function(n,t,e){"use strict";t.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(e(47));t.default=function(n){return n=(0,r.default)({url:"",method:"get",body:{}},n),new Promise((function(t,e){if("jsonp"==n.method){var r="cb_"+(Date.now()+Math.round(1e3*Math.random())).toString(32),i=document,a=i.body,s=i.createElement("script");return s.async=!0,s.defer=!0,n.url.indexOf("?")>-1?n.url+="&"+o({callback:r,t:Date.now()}):n.url+="?"+o({callback:r,t:Date.now()}),s.src=n.url,window[r]=function(n){window[r]=null,a.removeChild(s),t(n)},void a.appendChild(s)}var l="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c=[],u=[],p={};for(var d in o(n.body)&&(n.url=n.url+"?"+("get"==n.method?o(n.body):"")),l.open(n.method||"get",n.url),"blob"==n.dataType&&(l.responseType="blob"),l.onload=function(){l.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(n,t,e){c.push(t=t.toLowerCase()),u.push([t,e]),p[t]=p[t]?p[t]+","+e:e})),t(function n(){return{ok:2==(l.status/100|0),statusText:l.statusText,status:l.status,url:l.responseURL,text:function(){return Promise.resolve(l.responseText)},json:function(){return Promise.resolve(l.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([l.response]))},clone:n,headers:{keys:function(){return c},entries:function(){return u},get:function(n){return p[n.toLowerCase()]},has:function(n){return n.toLowerCase()in p}}}}())},l.onerror=e,l.withCredentials="include"==n.credentials,n.headers)l.setRequestHeader(d,n.headers[d]);l.send("post"==n.method?n.body:"get"==n.method?"":o(n.body))}))};var i=encodeURIComponent,o=function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(i(e)+"="+i(n[e]));return(t=t.join("&").replace(/%20/g,"+"))||""}},function(n,t,e){"use strict";t.__esModule=!0,t.default=function(n){var t={},e={Trident:(n=n||navigator.userAgent).indexOf("Trident")>-1||n.indexOf("NET CLR")>-1,Presto:n.indexOf("Presto")>-1,WebKit:n.indexOf("AppleWebKit")>-1,Gecko:n.indexOf("Gecko/")>-1,Safari:n.indexOf("Safari")>-1,Edge:n.indexOf("Edge")>-1||n.indexOf("Edg")>-1,Chrome:n.indexOf("Chrome")>-1||n.indexOf("CriOS")>-1,IE:n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1,Firefox:n.indexOf("Firefox")>-1||n.indexOf("FxiOS")>-1,"Firefox Focus":n.indexOf("Focus")>-1,Chromium:n.indexOf("Chromium")>-1,Opera:n.indexOf("Opera")>-1||n.indexOf("OPR")>-1,Vivaldi:n.indexOf("Vivaldi")>-1,Yandex:n.indexOf("YaBrowser")>-1,Kindle:n.indexOf("Kindle")>-1||n.indexOf("Silk/")>-1,360:n.indexOf("360EE")>-1||n.indexOf("360SE")>-1,UC:n.indexOf("UC")>-1||n.indexOf(" UBrowser")>-1,QQBrowser:n.indexOf("QQBrowser")>-1,QQ:n.indexOf("QQ/")>-1,Baidu:n.indexOf("Baidu")>-1||n.indexOf("BIDUBrowser")>-1,Maxthon:n.indexOf("Maxthon")>-1,Sogou:n.indexOf("MetaSr")>-1||n.indexOf("Sogou")>-1,LBBROWSER:n.indexOf("LBBROWSER")>-1,"2345Explorer":n.indexOf("2345Explorer")>-1,TheWorld:n.indexOf("TheWorld")>-1,XiaoMi:n.indexOf("MiuiBrowser")>-1,Quark:n.indexOf("Quark")>-1,Qiyu:n.indexOf("Qiyu")>-1,Wechat:n.indexOf("MicroMessenger")>-1,Taobao:n.indexOf("AliApp(TB")>-1,Alipay:n.indexOf("AliApp(AP")>-1,Weibo:n.indexOf("Weibo")>-1,Douban:n.indexOf("com.douban.frodo")>-1,Suning:n.indexOf("SNEBUY-APP")>-1,iQiYi:n.indexOf("IqiyiApp")>-1,Windows:n.indexOf("Windows")>-1,Linux:n.indexOf("Linux")>-1||n.indexOf("X11")>-1,macOS:n.indexOf("Macintosh")>-1,Android:n.indexOf("Android")>-1||n.indexOf("Adr")>-1,Ubuntu:n.indexOf("Ubuntu")>-1,FreeBSD:n.indexOf("FreeBSD")>-1,Debian:n.indexOf("Debian")>-1,"Windows Phone":n.indexOf("IEMobile")>-1||n.indexOf("Windows Phone")>-1,BlackBerry:n.indexOf("BlackBerry")>-1||n.indexOf("RIM")>-1||n.indexOf("BB10")>-1,MeeGo:n.indexOf("MeeGo")>-1,Symbian:n.indexOf("Symbian")>-1,iOS:n.indexOf("like Mac OS X")>-1,"Chrome OS":n.indexOf("CrOS")>-1,WebOS:n.indexOf("hpwOS")>-1,Mobile:n.indexOf("Mobi")>-1||n.indexOf("iPh")>-1||n.indexOf("480")>-1,Tablet:n.indexOf("Tablet")>-1||n.indexOf("Pad")>-1||n.indexOf("Nexus 7")>-1};e.Mobile&&(e.Mobile=!(n.indexOf("iPad")>-1));var r={browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","macOS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"]};for(var i in r)if(r.hasOwnProperty(i))for(var o=0,a=r[i].length;o<a;o++){var s=r[i][o];e[s]&&(t[i]=s)}var l={Windows:function(){return{"10.0":"11",6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[n.replace(/^.*Windows NT ([\d.]+).*$/,"$1")]},Android:n.replace(/^.*Android ([\d.]+);.*$/,"$1"),iOS:n.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,"."),Debian:n.replace(/^.*Debian\/([\d.]+).*$/,"$1"),"Windows Phone":n.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2"),macOS:n.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,"."),WebOS:n.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1"),BlackBerry:n.replace(/^.*BB([\d.]+);*$/,"$1")};t.osVersion="";var c=l[t.os];c&&(t.osVersion="function"==typeof c?c():c==n?"":c);var u={Safari:n.replace(/^.*Version\/([\d.]+).*$/,"$1"),Chrome:n.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1"),IE:n.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1"),Edge:n.replace(/^.*Edge?\/([\d.]+).*$/,"$1"),Firefox:n.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1"),"Firefox Focus":n.replace(/^.*Focus\/([\d.]+).*$/,"$1"),Chromium:n.replace(/^.*Chromium\/([\d.]+).*$/,"$1"),Opera:n.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1"),Vivaldi:n.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1"),Yandex:n.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1"),Kindle:n.replace(/^.*Version\/([\d.]+).*$/,"$1"),Maxthon:n.replace(/^.*Maxthon\/([\d.]+).*$/,"$1"),QQBrowser:n.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1"),QQ:n.replace(/^.*QQ\/([\d.]+).*$/,"$1"),Baidu:n.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1"),UC:n.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1"),Sogou:n.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1"),"2345Explorer":n.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1"),TheWorld:n.replace(/^.*TheWorld ([\d.]+).*$/,"$1"),XiaoMi:n.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1"),Quark:n.replace(/^.*Quark\/([\d.]+).*$/,"$1"),Qiyu:n.replace(/^.*Qiyu\/([\d.]+).*$/,"$1"),Wechat:n.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1"),Taobao:n.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1"),Alipay:n.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1"),Weibo:n.replace(/^.*weibo__([\d.]+).*$/,"$1"),Douban:n.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1"),Suning:n.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1"),iQiYi:n.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")};t.version="";var p=u[t.browser];return p&&(t.version="function"==typeof p?p():p==n?"":p),null==t.browser&&(t.browser="Unknow App"),t}},function(n,t,e){"use strict";t.__esModule=!0,t.default=function(n){n=Object(n);for(var t=1,e=arguments.length;t<e;t++){var r=arguments[t];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n}},function(n,t,e){"use strict";function r(n){return/^\{[\s\S]*\}$/.test(JSON.stringify(n))}function i(n){return"[object Function]"==={}.toString.call(n)}function o(n){return"[object Array]"==={}.toString.call(n)}function a(n){if("string"==typeof n)try{return JSON.parse(n)}catch(t){return n}}function s(){if(!(this instanceof s))return new s}function l(n,t){var e=arguments,a=null;if(u||(u=s()),0===e.length)return u.get();if(1===e.length){if("string"==typeof n)return u.get(n);if(r(n))return u.set(n)}if(2===e.length&&"string"==typeof n){if(!t)return u.remove(n);if(t&&"string"==typeof t)return u.set(n,t);t&&i(t)&&(a=null,a=t(n,u.get(n)),l.set(n,a))}if(2===e.length&&o(n)&&i(t))for(var c=0,p=n.length;c<p;c++)a=t(n[c],u.get(n[c])),l.set(n[c],a);return l}t.__esModule=!0;var c=window.localStorage;c=function(n){var t="_Is_Incognit";try{n.setItem(t,"yes")}catch(t){if(["QuotaExceededError","NS_ERROR_DOM_QUOTA_REACHED"].indexOf(t.name)>-1){var e=function(){};n.__proto__={setItem:e,getItem:e,removeItem:e,clear:e}}}finally{"yes"===n.getItem(t)&&n.removeItem(t)}return n}(c),s.prototype={set:function(n,t){if(n&&!r(n))c.setItem(n,function(n){return void 0===n||"function"==typeof n?n+"":JSON.stringify(n)}(t));else if(r(n))for(var e in n)this.set(e,n[e]);return this},get:function(n){if(!n){var t={};return this.each((function(n,e){return t[n]=e})),t}if("?"===n.charAt(0))return this.has(n.substr(1));var e=arguments;if(e.length>1){for(var r={},i=0,o=e.length;i<o;i++){var s=a(c.getItem(e[i]));s&&(r[e[i]]=s)}return r}return a(c.getItem(n))},clear:function(){return c.clear(),this},remove:function(n){var t=this.get(n);return c.removeItem(n),t},has:function(n){return{}.hasOwnProperty.call(this.get(),n)},keys:function(){var n=[];return this.each((function(t){n.push(t)})),n},each:function(n){for(var t=0,e=c.length;t<e;t++){var r=c.key(t);n(r,this.get(r))}return this},search:function(n){for(var t=this.keys(),e={},r=0,i=t.length;r<i;r++)t[r].indexOf(n)>-1&&(e[t[r]]=this.get(t[r]));return e}};var u=null;for(var p in s.prototype)l[p]=s.prototype[p];t.default=l},function(n,t,e){var r,i;i=function(n,t,e){function r(t,i,o){return o=Object.create(r.fn),t&&o.push.apply(o,t.addEventListener?[t]:""+t===t?/</.test(t)?((i=n.createElement(i)).innerHTML=t,i.children):i?(i=r(i)[0])?i[e](t):o:n[e](t):t),o}return r.fn=[],r.one=function(n,t){return r(n,t)[0]||null},r}(document,0,"querySelectorAll"),void 0!==(r=function(){return i}.apply(t,[]))&&(n.exports=r)},function(n,t,e){function r(n){return null==n}function i(n){(n=function(n){var t={};for(var e in n)t[e]=n[e];return t}(n||{})).whiteList=n.whiteList||o.whiteList,n.onAttr=n.onAttr||o.onAttr,n.onIgnoreAttr=n.onIgnoreAttr||o.onIgnoreAttr,n.safeAttrValue=n.safeAttrValue||o.safeAttrValue,this.options=n}var o=e(16),a=e(51);e(17),i.prototype.process=function(n){if(!(n=(n=n||"").toString()))return"";var t=this.options,e=t.whiteList,i=t.onAttr,o=t.onIgnoreAttr,s=t.safeAttrValue;return a(n,(function(n,t,a,l,c){var u=e[a],p=!1;if(!0===u?p=u:"function"==typeof u?p=u(l):u instanceof RegExp&&(p=u.test(l)),!0!==p&&(p=!1),l=s(a,l)){var d,m={position:t,sourcePosition:n,source:c,isWhite:p};return p?r(d=i(a,l,m))?a+":"+l:d:r(d=o(a,l,m))?void 0:d}}))},n.exports=i},function(n,t,e){var r=e(17);n.exports=function(n,t){function e(){if(!o){var e=r.trim(n.slice(a,s)),i=e.indexOf(":");if(-1!==i){var c=r.trim(e.slice(0,i)),u=r.trim(e.slice(i+1));if(c){var p=t(a,l.length,c,u,e);p&&(l+=p+"; ")}}}a=s+1}";"!==(n=r.trimRight(n))[n.length-1]&&(n+=";");for(var i=n.length,o=!1,a=0,s=0,l="";s<i;s++){var c=n[s];if("/"===c&&"*"===n[s+1]){var u=n.indexOf("*/",s+2);if(-1===u)break;a=(s=u+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||e():"\n"===c&&e()}return r.trim(l)}},function(n,t,e){"use strict";var r=e(0),i=e(1),o=r("%TypeError%"),a=e(54),s=r("%Reflect.apply%",!0)||i("%Function.prototype.apply%");n.exports=function(n,t){var e=arguments.length>2?arguments[2]:[];if(!a(e))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return s(n,t,e)}},function(n,t,e){"use strict";var r=e(0)("%TypeError%"),i=e(19),o=e(8);n.exports=function(n,t){if("Object"!==o(n))throw new r("Assertion failed: `O` must be an Object");if(!i(t))throw new r("Assertion failed: `P` must be a Property Key");return t in n}},function(n,t,e){"use strict";var r=e(0)("%Array%"),i=!r.isArray&&e(1)("Object.prototype.toString");n.exports=r.isArray||function(n){return"[object Array]"===i(n)}},function(n,t,e){"use strict";n.exports=e(10)},function(n,t,e){"use strict";var r=e(0)("%TypeError%"),i=e(18),o=e(58),a=e(8);n.exports=function(n){if("Object"!==a(n))throw new r("Assertion failed: `obj` must be an Object");return o(i(n,"length"))}},function(n,t,e){"use strict";var r=e(63),i=e(59);n.exports=function(n){var t=i(n);return 0!==t&&(t=r(t)),0===t?0:t}},function(n,t,e){"use strict";var r=e(72),i=e(57);n.exports=function(n){var t=i(n);return t<=0?0:t>r?r:t}},function(n,t,e){"use strict";var r=e(0),i=r("%TypeError%"),o=r("%Number%"),a=r("%RegExp%"),s=r("%parseInt%"),l=e(1),c=e(73),u=e(71),p=l("String.prototype.slice"),d=c(/^0b[01]+$/i),m=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),g=c(new a("["+["","​","￾"].join("")+"]","g")),f=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),v=new RegExp("(^["+f+"]+)|(["+f+"]+$)","g"),y=l("String.prototype.replace"),b=e(61);n.exports=function n(t){var e=u(t)?t:b(t,o);if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new i("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof e){if(d(e))return n(s(p(e,2),2));if(m(e))return n(s(p(e,2),8));if(g(e)||h(e))return NaN;var r=function(n){return y(n,v,"")}(e);if(r!==e)return n(r)}return o(e)}},function(n,t,e){"use strict";var r=e(0)("%Object%"),i=e(5);n.exports=function(n){return i(n),r(n)}},function(n,t,e){"use strict";var r=e(76);n.exports=function(n){return arguments.length>1?r(n,arguments[1]):r(n)}},function(n,t,e){"use strict";var r=e(0)("%TypeError%");n.exports=function(n,t){if(null==n)throw new r(t||"Cannot call method on "+n);return n}},function(n,t,e){"use strict";var r=e(67),i=e(68),o=e(64),a=e(70),s=e(69),l=e(74);n.exports=function(n){var t=o(n);return a(t)?0:0!==t&&s(t)?l(t)*i(r(t)):t}},function(n,t,e){"use strict";var r=e(65);n.exports=function(n){var t=r(n,Number);if("string"!=typeof t)return+t;var e=t.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(e)?NaN:+e}},function(n,t,e){"use strict";n.exports=e(77)},function(n,t,e){"use strict";n.exports=function(n){return null===n?"Null":void 0===n?"Undefined":"function"==typeof n||"object"==typeof n?"Object":"number"==typeof n?"Number":"boolean"==typeof n?"Boolean":"string"==typeof n?"String":void 0}},function(n,t,e){"use strict";var r=e(0)("%Math.abs%");n.exports=function(n){return r(n)}},function(n,t,e){"use strict";var r=Math.floor;n.exports=function(n){return r(n)}},function(n,t,e){"use strict";var r=Number.isNaN||function(n){return n!=n};n.exports=Number.isFinite||function(n){return"number"==typeof n&&!r(n)&&n!==1/0&&n!==-1/0}},function(n,t,e){"use strict";n.exports=Number.isNaN||function(n){return n!=n}},function(n,t,e){"use strict";n.exports=function(n){return null===n||"function"!=typeof n&&"object"!=typeof n}},function(n,t,e){"use strict";var r=e(0),i=r("%Math%"),o=r("%Number%");n.exports=o.MAX_SAFE_INTEGER||i.pow(2,53)-1},function(n,t,e){"use strict";var r=e(0)("RegExp.prototype.test"),i=e(4);n.exports=function(n){return i(r,n)}},function(n,t,e){"use strict";n.exports=function(n){return n>=0?1:-1}},function(n,t){n.exports=function(n){var t=!0,e=!0,r=!1;if("function"==typeof n){try{n.call("f",(function(n,e,r){"object"!=typeof r&&(t=!1)})),n.call([null],(function(){"use strict";e="string"==typeof this}),"x")}catch(n){r=!0}return!r&&t&&e}return!1}},function(n,t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=e(21),o=e(10),a=e(80),s=e(82),l=function(n,t){if(null==n)throw new TypeError("Cannot call method on "+n);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var e,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(e=n[s[a]],o(e)&&(r=e.call(n),i(r)))return r;throw new TypeError("No default value")},c=function(n,t){var e=n[t];if(null!=e){if(!o(e))throw new TypeError(e+" returned for property "+t+" of object "+n+" is not a function");return e}};n.exports=function(n){if(i(n))return n;var t,e="default";if(arguments.length>1&&(arguments[1]===String?e="string":arguments[1]===Number&&(e="number")),r&&(Symbol.toPrimitive?t=c(n,Symbol.toPrimitive):s(n)&&(t=Symbol.prototype.valueOf)),void 0!==t){var o=t.call(n,e);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===e&&(a(n)||s(n))&&(e="string"),l(n,"default"===e?"number":e)}},function(n,t,e){"use strict";var r=Object.prototype.toString,i=e(21),o=e(10),a=function(n){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(n)?String:Number)===String||t===Number){var e,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(n[s[a]])&&(e=n[s[a]](),i(e)))return e;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};n.exports=function(n){return i(n)?n:arguments.length>1?a(n,arguments[1]):a(n)}},function(n,t,e){"use strict";var r=Array.prototype.slice,i=Object.prototype.toString;n.exports=function(n){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var e,o=r.call(arguments,1),a=function(){if(this instanceof e){var i=t.apply(this,o.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(n,o.concat(r.call(arguments)))},s=Math.max(0,t.length-o.length),l=[],c=0;c<s;c++)l.push("$"+c);if(e=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var u=function(){};u.prototype=t.prototype,e.prototype=new u,u.prototype=null}return e}},function(n,t,e){n.exports=function(){"use strict";var n=function(n,t){return function(n){var t=n.exports=function(){return new RegExp("(?:"+t.line().source+")|(?:"+t.block().source+")","gm")};t.line=function(){return/(?:^|\s)\/\/(.+?)$/gm},t.block=function(){return/\/\*([\S\s]*?)\*\//gm}}(t={exports:{}}),t.exports}(),t=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"];return function(e,r){void 0===r&&(r={});var i=r.colors;void 0===i&&(i=t);var o=0,a={},s=new RegExp("("+/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source+"|"+/</.source+")|("+n().source+")","gmi");return e.replace(s,(function(n,t,e){if(e)return function(n){return'<span style="color: slategray">'+n+"</span>"}(e);if("<"===t)return"&lt;";var r;a[t]?r=a[t]:(r=i[o],a[t]=r);var s='<span style="color: #'+r+'">'+t+"</span>";return o=++o%i.length,s}))}}()},function(n,t,e){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o=e(24)();n.exports=function(n){return"object"==typeof n&&null!==n&&(o?function(n){try{return r.call(n),!0}catch(n){return!1}}(n):"[object Date]"===i.call(n))}},function(n,t,e){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o=e(24)();n.exports=function(n){return"string"==typeof n||"object"==typeof n&&(o?function(n){try{return r.call(n),!0}catch(n){return!1}}(n):"[object String]"===i.call(n))}},function(n,t,e){"use strict";var r=Object.prototype.toString;if(e(22)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;n.exports=function(n){if("symbol"==typeof n)return!0;if("[object Symbol]"!==r.call(n))return!1;try{return function(n){return"symbol"==typeof n.valueOf()&&o.test(i.call(n))}(n)}catch(n){return!1}}}else n.exports=function(n){return!1}},function(n,t,e){!function(n){"use strict";function t(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function r(n,t){if(n){if("string"==typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(n,t):void 0}}function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function o(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=r(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function s(t){n.defaults=t}function l(n,t){if(t){if(w.test(n))return n.replace(x,E)}else if($.test(n))return n.replace(k,E);return n}function c(n){return n.replace(A,(function(n,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function u(n,t){n=n.source||n,t=t||"";var e={replace:function(t,r){return r=(r=r.source||r).replace(D,"$1"),n=n.replace(t,r),e},getRegex:function(){return new RegExp(n,t)}};return e}function p(n,t,e){if(n){var r;try{r=decodeURIComponent(c(e)).replace(C,"").toLowerCase()}catch(n){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!P.test(e)&&(e=function(n,t){S[" "+n]||(I.test(n)?S[" "+n]=n+"/":S[" "+n]=h(n,"/",!0));var e=-1===(n=S[" "+n]).indexOf(":");return"//"===t.substring(0,2)?e?t:n.replace(j,"$1")+t:"/"===t.charAt(0)?e?t:n.replace(O,"$1")+t:n+t}(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(n){return null}return e}function d(n){for(var t,e,r=1;r<arguments.length;r++)for(e in t=arguments[r])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function m(n,t){var e=n.replace(/\|/g,(function(n,t,e){for(var r=!1,i=t;--i>=0&&"\\"===e[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(e[0].trim()||e.shift(),e.length>0&&!e[e.length-1].trim()&&e.pop(),e.length>t)e.splice(t);else for(;e.length<t;)e.push("");for(;r<e.length;r++)e[r]=e[r].trim().replace(/\\\|/g,"|");return e}function h(n,t,e){var r=n.length;if(0===r)return"";for(var i=0;i<r;){var o=n.charAt(r-i-1);if(o!==t||e){if(o===t||!e)break;i++}else i++}return n.substr(0,r-i)}function g(n){n&&n.sanitize&&n.silent}function f(n,t){if(t<1)return"";for(var e="";t>1;)1&t&&(e+=n),t>>=1,n+=n;return e+n}function v(n,t,e,r){var i=t.href,o=t.title?l(t.title):null,a=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:e,href:i,title:o,text:a,tokens:r.inlineTokens(a,[])};return r.state.inLink=!1,s}return{type:"image",raw:e,href:i,title:o,text:l(a)}}function y(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function b(n){var t,e,r="",i=n.length;for(t=0;t<i;t++)e=n.charCodeAt(t),Math.random()>.5&&(e="x"+e.toString(16)),r+="&#"+e+";";return r}function _(n,t,e){if(null==n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof t&&(e=t,t=null),g(t=d({},_.defaults,t||{})),e){var r,i=t.highlight;try{r=R.lex(n,t)}catch(n){return e(n)}var o=function(n){var o;if(!n)try{t.walkTokens&&_.walkTokens(r,t.walkTokens),o=V.parse(r,t)}catch(t){n=t}return t.highlight=i,n?e(n):e(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var a=0;return _.walkTokens(r,(function(n){"code"===n.type&&(a++,setTimeout((function(){i(n.text,n.lang,(function(t,e){if(t)return o(t);null!=e&&e!==n.text&&(n.text=e,n.escaped=!0),0==--a&&o()}))}),0))})),void(0===a&&o())}try{var s=R.lex(n,t);return t.walkTokens&&_.walkTokens(s,t.walkTokens),V.parse(s,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+l(n.message+"",!0)+"</pre>";throw n}}n.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var w=/[&<>"']/,x=/[&<>"']/g,$=/[<>"']|&(?!#?\w+;)/,k=/[<>"']|&(?!#?\w+;)/g,T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},E=function(n){return T[n]},A=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,D=/(^|[^\[])\^/g,C=/[^\w:]/g,P=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,S={},I=/^[^:]+:\/*[^/]*$/,j=/^([^:]+:)[\s\S]*$/,O=/^([^:]+:\/*[^/]*)[\s\S]*$/,L={exec:function(){}},M=function(){function t(t){this.options=t||n.defaults}var e=t.prototype;return e.space=function(n){var t=this.rules.block.newline.exec(n);if(t&&t[0].length>0)return{type:"space",raw:t[0]}},e.code=function(n){var t=this.rules.block.code.exec(n);if(t){var e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:h(e,"\n")}}},e.fences=function(n){var t=this.rules.block.fences.exec(n);if(t){var e=t[0],r=function(n,t){var e=n.match(/^(\s+)(?:```)/);if(null===e)return t;var r=e[1];return t.split("\n").map((function(n){var t=n.match(/^\s+/);return null===t?n:t[0].length>=r.length?n.slice(r.length):n})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:r}}},e.heading=function(n){var t=this.rules.block.heading.exec(n);if(t){var e=t[2].trim();if(/#$/.test(e)){var r=h(e,"#");this.options.pedantic?e=r.trim():r&&!/ $/.test(r)||(e=r.trim())}var i={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}},e.hr=function(n){var t=this.rules.block.hr.exec(n);if(t)return{type:"hr",raw:t[0]}},e.blockquote=function(n){var t=this.rules.block.blockquote.exec(n);if(t){var e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}},e.list=function(n){var t=this.rules.block.list.exec(n);if(t){var e,r,i,a,s,l,c,u,p,d,m,h,g=t[1].trim(),f=g.length>1,v={type:"list",raw:"",ordered:f,start:f?+g.slice(0,-1):"",loose:!1,items:[]};g=f?"\\d{1,9}\\"+g.slice(-1):"\\"+g,this.options.pedantic&&(g=f?g:"[*+-]");for(var y=new RegExp("^( {0,3}"+g+")((?: [^\\n]*)?(?:\\n|$))");n&&(h=!1,t=y.exec(n))&&!this.rules.block.hr.test(n);){if(e=t[0],n=n.substring(e.length),u=t[2].split("\n",1)[0],p=n.split("\n",1)[0],this.options.pedantic?(a=2,m=u.trimLeft()):(a=(a=t[2].search(/[^ ]/))>4?1:a,m=u.slice(a),a+=t[1].length),l=!1,!u&&/^ *$/.test(p)&&(e+=p+"\n",n=n.substring(p.length+1),h=!0),!h)for(var b=new RegExp("^ {0,"+Math.min(3,a-1)+"}(?:[*+-]|\\d{1,9}[.)])");n&&(u=d=n.split("\n",1)[0],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!b.test(u));){if(u.search(/[^ ]/)>=a||!u.trim())m+="\n"+u.slice(a);else{if(l)break;m+="\n"+u}l||u.trim()||(l=!0),e+=d+"\n",n=n.substring(d.length+1)}v.loose||(c?v.loose=!0:/\n *\n *$/.test(e)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(m))&&(i="[ ] "!==r[0],m=m.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:e,task:!!r,checked:i,loose:!1,text:m}),v.raw+=e}v.items[v.items.length-1].raw=e.trimRight(),v.items[v.items.length-1].text=m.trimRight(),v.raw=v.raw.trimRight();var _=v.items.length;for(s=0;s<_;s++){this.lexer.state.top=!1,v.items[s].tokens=this.lexer.blockTokens(v.items[s].text,[]);var w=v.items[s].tokens.filter((function(n){return"space"===n.type})),x=w.every((function(n){for(var t,e=0,r=o(n.raw.split(""));!(t=r()).done;)if("\n"===t.value&&(e+=1),e>1)return!0;return!1}));!v.loose&&w.length&&x&&(v.loose=!0,v.items[s].loose=!0)}return v}},e.html=function(n){var t=this.rules.block.html.exec(n);if(t){var e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):l(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}},e.def=function(n){var t=this.rules.block.def.exec(n);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},e.table=function(n){var t=this.rules.block.table.exec(n);if(t){var e={type:"table",header:m(t[1]).map((function(n){return{text:n}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];var r,i,o,a,s=e.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(e.align[r])?e.align[r]="right":/^ *:-+: *$/.test(e.align[r])?e.align[r]="center":/^ *:-+ *$/.test(e.align[r])?e.align[r]="left":e.align[r]=null;for(s=e.rows.length,r=0;r<s;r++)e.rows[r]=m(e.rows[r],e.header.length).map((function(n){return{text:n}}));for(s=e.header.length,i=0;i<s;i++)e.header[i].tokens=[],this.lexer.inlineTokens(e.header[i].text,e.header[i].tokens);for(s=e.rows.length,i=0;i<s;i++)for(a=e.rows[i],o=0;o<a.length;o++)a[o].tokens=[],this.lexer.inlineTokens(a[o].text,a[o].tokens);return e}}},e.lheading=function(n){var t=this.rules.block.lheading.exec(n);if(t){var e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}},e.paragraph=function(n){var t=this.rules.block.paragraph.exec(n);if(t){var e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}},e.text=function(n){var t=this.rules.block.text.exec(n);if(t){var e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}},e.escape=function(n){var t=this.rules.inline.escape.exec(n);if(t)return{type:"escape",raw:t[0],text:l(t[1])}},e.tag=function(n){var t=this.rules.inline.tag.exec(n);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):l(t[0]):t[0]}},e.link=function(n){var t=this.rules.inline.link.exec(n);if(t){var e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;var r=h(e.slice(0,-1),"\\");if((e.length-r.length)%2==0)return}else{var i=function(n,t){if(-1===n.indexOf(t[1]))return-1;for(var e=n.length,r=0,i=0;i<e;i++)if("\\"===n[i])i++;else if(n[i]===t[0])r++;else if(n[i]===t[1]&&--r<0)return i;return-1}(t[2],"()");if(i>-1){var o=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,o).trim(),t[3]=""}}var a=t[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);l&&(a=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(e)?a.slice(1):a.slice(1,-1)),v(t,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}},e.reflink=function(n,t){var e;if((e=this.rules.inline.reflink.exec(n))||(e=this.rules.inline.nolink.exec(n))){var r=(e[2]||e[1]).replace(/\s+/g," ");if(!(r=t[r.toLowerCase()])||!r.href){var i=e[0].charAt(0);return{type:"text",raw:i,text:i}}return v(e,r,e[0],this.lexer)}},e.emStrong=function(n,t,e){void 0===e&&(e="");var r=this.rules.inline.emStrong.lDelim.exec(n);if(r&&(!r[3]||!e.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===e||this.rules.inline.punctuation.exec(e))){var o,a,s=r[0].length-1,l=s,c=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*n.length+s);null!=(r=u.exec(t));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])l+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((l-=a)>0)){if(a=Math.min(a,a+l+c),Math.min(s,a)%2){var p=n.slice(1,s+r.index+a);return{type:"em",raw:n.slice(0,s+r.index+a+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}var d=n.slice(2,s+r.index+a-1);return{type:"strong",raw:n.slice(0,s+r.index+a+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}else c+=a}}},e.codespan=function(n){var t=this.rules.inline.code.exec(n);if(t){var e=t[2].replace(/\n/g," "),r=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return r&&i&&(e=e.substring(1,e.length-1)),e=l(e,!0),{type:"codespan",raw:t[0],text:e}}},e.br=function(n){var t=this.rules.inline.br.exec(n);if(t)return{type:"br",raw:t[0]}},e.del=function(n){var t=this.rules.inline.del.exec(n);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},e.autolink=function(n,t){var e,r,i=this.rules.inline.autolink.exec(n);if(i)return r="@"===i[2]?"mailto:"+(e=l(this.options.mangle?t(i[1]):i[1])):e=l(i[1]),{type:"link",raw:i[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}},e.url=function(n,t){var e;if(e=this.rules.inline.url.exec(n)){var r,i;if("@"===e[2])i="mailto:"+(r=l(this.options.mangle?t(e[0]):e[0]));else{var o;do{o=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])[0]}while(o!==e[0]);r=l(e[0]),i="www."===e[1]?"http://"+r:r}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(n,t){var e,r=this.rules.inline.text.exec(n);if(r)return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):l(r[0]):r[0]:l(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:e}},t}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};F.def=u(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=u(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=u(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=u(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=u(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=u(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=d({},F),F.gfm=d({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=u(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=u(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=d({},F.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:u(F.normal._paragraph).replace("hr",F.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};z.punctuation=u(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,z.escapedEmSt=/\\\*|\\_/g,z._comment=u(F._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),z.emStrong.lDelim=u(z.emStrong.lDelim).replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimAst=u(z.emStrong.rDelimAst,"g").replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimUnd=u(z.emStrong.rDelimUnd,"g").replace(/punct/g,z._punctuation).getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=u(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=u(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=u(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=u(z.reflink).replace("label",z._label).replace("ref",F._label).getRegex(),z.nolink=u(z.nolink).replace("ref",F._label).getRegex(),z.reflinkSearch=u(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=d({},z),z.pedantic=d({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=d({},z.normal,{escape:u(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),z.gfm.url=u(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=d({},z.gfm,{br:u(z.br).replace("{2,}","*").getRegex(),text:u(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var R=function(){function t(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||n.defaults,this.options.tokenizer=this.options.tokenizer||new M,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var e={block:F.normal,inline:z.normal};this.options.pedantic?(e.block=F.pedantic,e.inline=z.pedantic):this.options.gfm&&(e.block=F.gfm,this.options.breaks?e.inline=z.breaks:e.inline=z.gfm),this.tokenizer.rules=e}t.lex=function(n,e){return new t(e).lex(n)},t.lexInline=function(n,e){return new t(e).inlineTokens(n)};var r=t.prototype;return r.lex=function(n){n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(n,this.tokens);for(var t;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},r.blockTokens=function(n,t){var e,r,i,o,a=this;for(void 0===t&&(t=[]),this.options.pedantic&&(n=n.replace(/^ +$/gm,""));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(e=r.call({lexer:a},n,t))&&(n=n.substring(e.raw.length),t.push(e),!0)}))))if(e=this.tokenizer.space(n))n=n.substring(e.raw.length),1===e.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(e);else if(e=this.tokenizer.code(n))n=n.substring(e.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?t.push(e):(r.raw+="\n"+e.raw,r.text+="\n"+e.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(e=this.tokenizer.fences(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.heading(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.hr(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.blockquote(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.list(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.html(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.def(n))n=n.substring(e.raw.length),!(r=t[t.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[e.tag]||(this.tokens.links[e.tag]={href:e.href,title:e.title}):(r.raw+="\n"+e.raw,r.text+="\n"+e.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(e=this.tokenizer.table(n))n=n.substring(e.raw.length),t.push(e);else if(e=this.tokenizer.lheading(n))n=n.substring(e.raw.length),t.push(e);else if(i=n,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,e=n.slice(1),r=void 0;a.options.extensions.startBlock.forEach((function(n){"number"==typeof(r=n.call({lexer:this},e))&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=n.substring(0,t+1))}(),this.state.top&&(e=this.tokenizer.paragraph(i)))r=t[t.length-1],o&&"paragraph"===r.type?(r.raw+="\n"+e.raw,r.text+="\n"+e.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(e),o=i.length!==n.length,n=n.substring(e.raw.length);else if(e=this.tokenizer.text(n))n=n.substring(e.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+e.raw,r.text+="\n"+e.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(e);else if(n){var s="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent)break;throw new Error(s)}return this.state.top=!0,t},r.inline=function(n,t){this.inlineQueue.push({src:n,tokens:t})},r.inlineTokens=function(n,t){var e=this;void 0===t&&(t=[]);var r,i,o,a,s,l,c=n;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+f("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+f("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(i){return!!(r=i.call({lexer:e},n,t))&&(n=n.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.escape(n))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(n))n=n.substring(r.raw.length),(i=t[t.length-1])&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(r=this.tokenizer.link(n))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(n,this.tokens.links))n=n.substring(r.raw.length),(i=t[t.length-1])&&"text"===r.type&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(n,c,l))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(n))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(n))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(n))n=n.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(n,b))n=n.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(n,b))){if(o=n,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,r=n.slice(1),i=void 0;e.options.extensions.startInline.forEach((function(n){"number"==typeof(i=n.call({lexer:this},r))&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(o=n.substring(0,t+1))}(),r=this.tokenizer.inlineText(o,y))n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(l=r.raw.slice(-1)),s=!0,(i=t[t.length-1])&&"text"===i.type?(i.raw+=r.raw,i.text+=r.text):t.push(r);else if(n){var p="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent)break;throw new Error(p)}}else n=n.substring(r.raw.length),t.push(r);return t},e(t,null,[{key:"rules",get:function(){return{block:F,inline:z}}}]),t}(),B=function(){function t(t){this.options=t||n.defaults}var e=t.prototype;return e.code=function(n,t,e){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(n,r);null!=i&&i!==n&&(e=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+l(r,!0)+'">'+(e?n:l(n,!0))+"</code></pre>\n":"<pre><code>"+(e?n:l(n,!0))+"</code></pre>\n"},e.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},e.html=function(n){return n},e.heading=function(n,t,e,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(e)+'">'+n+"</h"+t+">\n":"<h"+t+">"+n+"</h"+t+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(n,t,e){var r=t?"ol":"ul";return"<"+r+(t&&1!==e?' start="'+e+'"':"")+">\n"+n+"</"+r+">\n"},e.listitem=function(n){return"<li>"+n+"</li>\n"},e.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(n){return"<p>"+n+"</p>\n"},e.table=function(n,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+n+"</thead>\n"+t+"</table>\n"},e.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},e.tablecell=function(n,t){var e=t.header?"th":"td";return(t.align?"<"+e+' align="'+t.align+'">':"<"+e+">")+n+"</"+e+">\n"},e.strong=function(n){return"<strong>"+n+"</strong>"},e.em=function(n){return"<em>"+n+"</em>"},e.codespan=function(n){return"<code>"+n+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(n){return"<del>"+n+"</del>"},e.link=function(n,t,e){if(null===(n=p(this.options.sanitize,this.options.baseUrl,n)))return e;var r='<a href="'+l(n)+'"';return t&&(r+=' title="'+t+'"'),r+">"+e+"</a>"},e.image=function(n,t,e){if(null===(n=p(this.options.sanitize,this.options.baseUrl,n)))return e;var r='<img src="'+n+'" alt="'+e+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")},e.text=function(n){return n},t}(),N=function(){function n(){}var t=n.prototype;return t.strong=function(n){return n},t.em=function(n){return n},t.codespan=function(n){return n},t.del=function(n){return n},t.html=function(n){return n},t.text=function(n){return n},t.link=function(n,t,e){return""+e},t.image=function(n,t,e){return""+e},t.br=function(){return""},n}(),U=function(){function n(){this.seen={}}var t=n.prototype;return t.serialize=function(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(n,t){var e=n,r=0;if(this.seen.hasOwnProperty(e)){r=this.seen[n];do{e=n+"-"+ ++r}while(this.seen.hasOwnProperty(e))}return t||(this.seen[n]=r,this.seen[e]=0),e},t.slug=function(n,t){void 0===t&&(t={});var e=this.serialize(n);return this.getNextSafeSlug(e,t.dryrun)},n}(),V=function(){function t(t){this.options=t||n.defaults,this.options.renderer=this.options.renderer||new B,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new N,this.slugger=new U}t.parse=function(n,e){return new t(e).parse(n)},t.parseInline=function(n,e){return new t(e).parseInline(n)};var e=t.prototype;return e.parse=function(n,t){void 0===t&&(t=!0);var e,r,i,o,a,s,l,u,p,d,m,h,g,f,v,y,b,_,w,x="",$=n.length;for(e=0;e<$;e++)if(d=n[e],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(w=this.options.extensions.renderers[d.type].call({parser:this},d))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))switch(d.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(d.tokens),d.depth,c(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(u="",l="",o=d.header.length,r=0;r<o;r++)l+=this.renderer.tablecell(this.parseInline(d.header[r].tokens),{header:!0,align:d.align[r]});for(u+=this.renderer.tablerow(l),p="",o=d.rows.length,r=0;r<o;r++){for(l="",a=(s=d.rows[r]).length,i=0;i<a;i++)l+=this.renderer.tablecell(this.parseInline(s[i].tokens),{header:!1,align:d.align[i]});p+=this.renderer.tablerow(l)}x+=this.renderer.table(u,p);continue;case"blockquote":p=this.parse(d.tokens),x+=this.renderer.blockquote(p);continue;case"list":for(m=d.ordered,h=d.start,g=d.loose,o=d.items.length,p="",r=0;r<o;r++)y=(v=d.items[r]).checked,b=v.task,f="",v.task&&(_=this.renderer.checkbox(y),g?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=_+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=_+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:_}):f+=_),f+=this.parse(v.tokens,g),p+=this.renderer.listitem(f,b,y);x+=this.renderer.list(p,m,h);continue;case"html":x+=this.renderer.html(d.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(p=d.tokens?this.parseInline(d.tokens):d.text;e+1<$&&"text"===n[e+1].type;)p+="\n"+((d=n[++e]).tokens?this.parseInline(d.tokens):d.text);x+=t?this.renderer.paragraph(p):p;continue;default:var k='Token with "'+d.type+'" type was not found.';if(this.options.silent)return;throw new Error(k)}else x+=w||"";return x},e.parseInline=function(n,t){t=t||this.renderer;var e,r,i,o="",a=n.length;for(e=0;e<a;e++)if(r=n[e],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;case"text":o+=t.text(r.text);break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(s)}else o+=i||"";return o},t}();_.options=_.setOptions=function(n){return d(_.defaults,n),s(_.defaults),_},_.getDefaults=a,_.defaults=n.defaults,_.use=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var r,i=d.apply(void 0,[{}].concat(t)),o=_.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(n){if(n.extensions&&(r=!0,n.extensions.forEach((function(n){if(!n.name)throw new Error("extension name required");if(n.renderer){var t=o.renderers?o.renderers[n.name]:null;o.renderers[n.name]=t?function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=n.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:n.renderer}if(n.tokenizer){if(!n.level||"block"!==n.level&&"inline"!==n.level)throw new Error("extension level must be 'block' or 'inline'");o[n.level]?o[n.level].unshift(n.tokenizer):o[n.level]=[n.tokenizer],n.start&&("block"===n.level?o.startBlock?o.startBlock.push(n.start):o.startBlock=[n.start]:"inline"===n.level&&(o.startInline?o.startInline.push(n.start):o.startInline=[n.start]))}n.childTokens&&(o.childTokens[n.name]=n.childTokens)}))),n.renderer&&function(){var t=_.defaults.renderer||new B;for(var e in n.renderer)!function(e){var r=t[e];t[e]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=n.renderer[e].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}}(e);i.renderer=t}(),n.tokenizer&&function(){var t=_.defaults.tokenizer||new M;for(var e in n.tokenizer)!function(e){var r=t[e];t[e]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=n.tokenizer[e].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}}(e);i.tokenizer=t}(),n.walkTokens){var t=_.defaults.walkTokens;i.walkTokens=function(e){n.walkTokens.call(this,e),t&&t.call(this,e)}}r&&(i.extensions=o),_.setOptions(i)}))},_.walkTokens=function(n,t){for(var e,r=o(n);!(e=r()).done;)!function(){var n=e.value;switch(t.call(_,n),n.type){case"table":for(var r,i=o(n.header);!(r=i()).done;){var a=r.value;_.walkTokens(a.tokens,t)}for(var s,l=o(n.rows);!(s=l()).done;)for(var c,u=o(s.value);!(c=u()).done;){var p=c.value;_.walkTokens(p.tokens,t)}break;case"list":_.walkTokens(n.items,t);break;default:_.defaults.extensions&&_.defaults.extensions.childTokens&&_.defaults.extensions.childTokens[n.type]?_.defaults.extensions.childTokens[n.type].forEach((function(e){_.walkTokens(n[e],t)})):n.tokens&&_.walkTokens(n.tokens,t)}}()},_.parseInline=function(n,t){if(null==n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");g(t=d({},_.defaults,t||{}));try{var e=R.lexInline(n,t);return t.walkTokens&&_.walkTokens(e,t.walkTokens),V.parseInline(e,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+l(n.message+"",!0)+"</pre>";throw n}},_.Parser=V,_.parser=V.parse,_.Renderer=B,_.TextRenderer=N,_.Lexer=R,_.lexer=R.lex,_.Tokenizer=M,_.Slugger=U,_.parse=_;var G=_.options,q=_.setOptions,H=_.use,W=_.walkTokens,Y=_.parseInline,X=_,Q=V.parse,J=R.lex;n.Lexer=R,n.Parser=V,n.Renderer=B,n.Slugger=U,n.TextRenderer=N,n.Tokenizer=M,n.getDefaults=a,n.lexer=J,n.marked=_,n.options=G,n.parse=X,n.parseInline=Y,n.parser=Q,n.setOptions=q,n.use=H,n.walkTokens=W,Object.defineProperty(n,"__esModule",{value:!0})}(t)},function(n,t,e){"use strict";function r(n,t){var e=function(n){var t={};return s(l(n),(function(n){var e=n[0],r=n[1];s(r,(function(n){t[n]=e}))})),t}(n.pluralTypeToLanguages);return e[t]||e[h.call(t,/-/,1)[0]]||e.en}function i(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(n,t,e,r,i){if("string"!=typeof n)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return n;var o=n,a=r||b,s="number"==typeof t?{smart_count:t}:t;if(null!=s.smart_count&&n){var l=i||v,c=h.call(n,g),d=function(n,t,e){return n.pluralTypes[t](e)}(l,y(l,e||"en"),s.smart_count);o=p(c[d]||c[0])}return m.call(o,a,(function(n,t){return u(s,t)&&null!=s[t]?s[t]:n}))}function a(n){var t=n||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var e=t.allowMissing?o:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:e,this.warn=t.warn||d,this.tokenRegex=function(n){var t=n&&n.prefix||"%{",e=n&&n.suffix||"}";if(t===g||e===g)throw new RangeError('"'+g+'" token is reserved for pluralization');return new RegExp(i(t)+"(.*?)"+i(e),"g")}(t.interpolation),this.pluralRules=t.pluralRules||v}var s=e(43),l=e(89),c=e(94),u=e(25),p=e(92),d=function(n){c(!1,n)},m=String.prototype.replace,h=String.prototype.split,g="||||",f=function(n){var t=n%100,e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},v={pluralTypes:{arabic:function(n){if(n<3)return n;var t=n%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:f,chinese:function(){return 0},croatian:f,french:function(n){return n>=2?1:0},german:function(n){return 1!==n?1:0},russian:f,lithuanian:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){if(1===n)return 0;var t=n%10;return 2<=t&&t<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var t=n%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}},y=function(){var n={};return function(t,e){var i=n[e];return i&&!t.pluralTypes[i]&&(i=null,n[e]=i),i||(i=r(t,e))&&(n[e]=i),i}}(),b=/%\{(.*?)\}/g;a.prototype.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},a.prototype.extend=function(n,t){s(l(n||{}),(function(n){var e=n[0],r=n[1],i=t?t+"."+e:e;"object"==typeof r?this.extend(r,i):this.phrases[i]=r}),this)},a.prototype.unset=function(n,t){"string"==typeof n?delete this.phrases[n]:s(l(n||{}),(function(n){var e=n[0],r=n[1],i=t?t+"."+e:e;"object"==typeof r?this.unset(r,i):delete this.phrases[i]}),this)},a.prototype.clear=function(){this.phrases={}},a.prototype.replace=function(n){this.clear(),this.extend(n)},a.prototype.t=function(n,t){var e,r,i=null==t?{}:t;return"string"==typeof this.phrases[n]?e=this.phrases[n]:"string"==typeof i._?e=i._:this.onMissingKey?r=(0,this.onMissingKey)(n,i,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+n+'"'),r=n),"string"==typeof e&&(r=o(e,i,this.currentLocale,this.tokenRegex,this.pluralRules)),r},a.prototype.has=function(n){return u(this.phrases,n)},a.transformPhrase=function(n,t,e){return o(n,t,e)},n.exports=a},function(n,t,e){"use strict";function r(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(n){return t[n]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(n){r[n]=n})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}()?Object.assign:function(n,t){for(var e,s,l=r(n),c=1;c<arguments.length;c++){for(var u in e=Object(arguments[c]))o.call(e,u)&&(l[u]=e[u]);if(i){s=i(e);for(var p=0;p<s.length;p++)a.call(e,s[p])&&(l[s[p]]=e[s[p]])}}return l}},function(n,t,e){function r(n,t){if(n===1/0||n===-1/0||n!=n||n&&n>-1e3&&n<1e3||N.call(/e/,t))return t;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof n){var r=n<0?-q(-n):q(n);if(r!==n){var i=String(r),o=F.call(t,i.length+1);return z.call(i,e,"$&_")+"."+z.call(z.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return z.call(t,e,"$&_")}function i(n,t,e){var r="double"===(e.quoteStyle||t)?'"':"'";return r+n+r}function o(n){return z.call(String(n),/"/g,"&quot;")}function a(n){return!("[object Array]"!==c(n)||Q&&"object"==typeof n&&Q in n)}function s(n){if(X)return n&&"object"==typeof n&&n instanceof Symbol;if("symbol"==typeof n)return!0;if(!n||"object"!=typeof n||!Y)return!1;try{return Y.call(n),!0}catch(n){}return!1}function l(n,t){return tn.call(n,t)}function c(n){return O.call(n)}function u(n){if(n.name)return n.name;var t=M.call(L.call(n),/^function\s*([\w$]+)/);return t?t[1]:null}function p(n,t){if(n.indexOf)return n.indexOf(t);for(var e=0,r=n.length;e<r;e++)if(n[e]===t)return e;return-1}function d(n){if(!P||!n||"object"!=typeof n)return!1;try{P.call(n,P);try{S.call(n,S)}catch(n){return!0}return n instanceof WeakMap}catch(n){}return!1}function m(n){if(!I||!n||"object"!=typeof n)return!1;try{return I.call(n),!0}catch(n){}return!1}function h(n){if(!S||!n||"object"!=typeof n)return!1;try{S.call(n,S);try{P.call(n,P)}catch(n){return!0}return n instanceof WeakSet}catch(n){}return!1}function g(n,t){if(n.length>t.maxStringLength){var e=n.length-t.maxStringLength,r="... "+e+" more character"+(e>1?"s":"");return g(F.call(n,0,t.maxStringLength),t)+r}return i(z.call(z.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,f),"single",t)}function f(n){var t=n.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+R.call(t.toString(16))}function v(n){return"Object("+n+")"}function y(n){return n+" { ? }"}function b(n,t,e,r){return n+" ("+t+") {"+(r?_(e,r):V.call(e,", "))+"}"}function _(n,t){if(0===n.length)return"";var e="\n"+t.prev+t.base;return e+V.call(n,","+e)+"\n"+t.prev}function w(n,t){var e=a(n),r=[];if(e){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=l(n,i)?t(n[i],n):""}var o,s="function"==typeof W?W(n):[];if(X){o={};for(var c=0;c<s.length;c++)o["$"+s[c]]=s[c]}for(var u in n)l(n,u)&&(e&&String(Number(u))===u&&u<n.length||X&&o["$"+u]instanceof Symbol||(N.call(/[^\w$]/,u)?r.push(t(u,n)+": "+t(n[u],n)):r.push(u+": "+t(n[u],n))));if("function"==typeof W)for(var p=0;p<s.length;p++)J.call(n,s[p])&&r.push("["+t(s[p])+"]: "+t(n[s[p]],n));return r}var x="function"==typeof Map&&Map.prototype,$=Object.getOwnPropertyDescriptor&&x?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,k=x&&$&&"function"==typeof $.get?$.get:null,T=x&&Map.prototype.forEach,E="function"==typeof Set&&Set.prototype,A=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,D=E&&A&&"function"==typeof A.get?A.get:null,C=E&&Set.prototype.forEach,P="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,S="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,I="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,j=Boolean.prototype.valueOf,O=Object.prototype.toString,L=Function.prototype.toString,M=String.prototype.match,F=String.prototype.slice,z=String.prototype.replace,R=String.prototype.toUpperCase,B=String.prototype.toLowerCase,N=RegExp.prototype.test,U=Array.prototype.concat,V=Array.prototype.join,G=Array.prototype.slice,q=Math.floor,H="function"==typeof BigInt?BigInt.prototype.valueOf:null,W=Object.getOwnPropertySymbols,Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,X="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Q="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,J=Object.prototype.propertyIsEnumerable,K=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null),Z=e(102).custom,nn=Z&&s(Z)?Z:null;n.exports=function n(t,e,f,x){function $(t,e,r){if(e&&(x=G.call(x)).push(e),r){var i={depth:E.depth};return l(E,"quoteStyle")&&(i.quoteStyle=E.quoteStyle),n(t,i,f+1,x)}return n(t,E,f+1,x)}var E=e||{};if(l(E,"quoteStyle")&&"single"!==E.quoteStyle&&"double"!==E.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(l(E,"maxStringLength")&&("number"==typeof E.maxStringLength?E.maxStringLength<0&&E.maxStringLength!==1/0:null!==E.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var A=!l(E,"customInspect")||E.customInspect;if("boolean"!=typeof A&&"symbol"!==A)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(l(E,"indent")&&null!==E.indent&&"\t"!==E.indent&&!(parseInt(E.indent,10)===E.indent&&E.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(l(E,"numericSeparator")&&"boolean"!=typeof E.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var P=E.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return g(t,E);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return P?r(t,S):S}if("bigint"==typeof t){var I=String(t)+"n";return P?r(t,I):I}var O=void 0===E.depth?5:E.depth;if(void 0===f&&(f=0),f>=O&&O>0&&"object"==typeof t)return a(t)?"[Array]":"[Object]";var L=function(n,t){var e;if("\t"===n.indent)e="\t";else{if(!("number"==typeof n.indent&&n.indent>0))return null;e=V.call(Array(n.indent+1)," ")}return{base:e,prev:V.call(Array(t+1),e)}}(E,f);if(void 0===x)x=[];else if(p(x,t)>=0)return"[Circular]";if("function"==typeof t){var M=u(t),R=w(t,$);return"[Function"+(M?": "+M:" (anonymous)")+"]"+(R.length>0?" { "+V.call(R,", ")+" }":"")}if(s(t)){var N=X?z.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y.call(t);return"object"!=typeof t||X?N:v(N)}if(function(n){return!(!n||"object"!=typeof n)&&("undefined"!=typeof HTMLElement&&n instanceof HTMLElement||"string"==typeof n.nodeName&&"function"==typeof n.getAttribute)}(t)){for(var q="<"+B.call(String(t.nodeName)),W=t.attributes||[],Z=0;Z<W.length;Z++)q+=" "+W[Z].name+"="+i(o(W[Z].value),"double",E);return q+=">",t.childNodes&&t.childNodes.length&&(q+="..."),q+"</"+B.call(String(t.nodeName))+">"}if(a(t)){if(0===t.length)return"[]";var tn=w(t,$);return L&&!function(n){for(var t=0;t<n.length;t++)if(p(n[t],"\n")>=0)return!1;return!0}(tn)?"["+_(tn,L)+"]":"[ "+V.call(tn,", ")+" ]"}if(function(n){return!("[object Error]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t)){var en=w(t,$);return"cause"in t&&!J.call(t,"cause")?"{ ["+String(t)+"] "+V.call(U.call("[cause]: "+$(t.cause),en),", ")+" }":0===en.length?"["+String(t)+"]":"{ ["+String(t)+"] "+V.call(en,", ")+" }"}if("object"==typeof t&&A){if(nn&&"function"==typeof t[nn])return t[nn]();if("symbol"!==A&&"function"==typeof t.inspect)return t.inspect()}if(function(n){if(!k||!n||"object"!=typeof n)return!1;try{k.call(n);try{D.call(n)}catch(n){return!0}return n instanceof Map}catch(n){}return!1}(t)){var rn=[];return T.call(t,(function(n,e){rn.push($(e,t,!0)+" => "+$(n,t))})),b("Map",k.call(t),rn,L)}if(function(n){if(!D||!n||"object"!=typeof n)return!1;try{D.call(n);try{k.call(n)}catch(n){return!0}return n instanceof Set}catch(n){}return!1}(t)){var on=[];return C.call(t,(function(n){on.push($(n,t))})),b("Set",D.call(t),on,L)}if(d(t))return y("WeakMap");if(h(t))return y("WeakSet");if(m(t))return y("WeakRef");if(function(n){return!("[object Number]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t))return v($(Number(t)));if(function(n){if(!n||"object"!=typeof n||!H)return!1;try{return H.call(n),!0}catch(n){}return!1}(t))return v($(H.call(t)));if(function(n){return!("[object Boolean]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t))return v(j.call(t));if(function(n){return!("[object String]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t))return v($(String(t)));if(!function(n){return!("[object Date]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t)&&!function(n){return!("[object RegExp]"!==c(n)||Q&&"object"==typeof n&&Q in n)}(t)){var an=w(t,$),sn=K?K(t)===Object.prototype:t instanceof Object||t.constructor===Object,ln=t instanceof Object?"":"null prototype",cn=!sn&&Q&&Object(t)===t&&Q in t?F.call(c(t),8,-1):ln?"Object":"",un=(sn||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(cn||ln?"["+V.call(U.call([],cn||[],ln||[]),": ")+"] ":"");return 0===an.length?un+"{}":L?un+"{"+_(an,L)+"}":un+"{ "+V.call(an,", ")+" }"}return String(t)};var tn=Object.prototype.hasOwnProperty||function(n){return n in this}},function(n,t,e){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=e(26),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(n){var t=n.constructor;return t&&t.prototype===n},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},m=function(){if("undefined"==typeof window)return!1;for(var n in window)try{if(!d["$"+n]&&i.call(window,n)&&null!==window[n]&&"object"==typeof window[n])try{p(window[n])}catch(n){return!0}}catch(n){return!0}return!1}(),h=function(n){if("undefined"==typeof window||!m)return p(n);try{return p(n)}catch(n){return!1}};r=function(n){var t=null!==n&&"object"==typeof n,e="[object Function]"===o.call(n),r=a(n),s=t&&"[object String]"===o.call(n),p=[];if(!t&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var d=c&&e;if(s&&n.length>0&&!i.call(n,0))for(var m=0;m<n.length;++m)p.push(String(m));if(r&&n.length>0)for(var g=0;g<n.length;++g)p.push(String(g));else for(var f in n)d&&"prototype"===f||!i.call(n,f)||p.push(String(f));if(l)for(var v=h(n),y=0;y<u.length;++y)v&&"constructor"===u[y]||!i.call(n,u[y])||p.push(u[y]);return p}}n.exports=r},function(n,t,e){"use strict";var r=Array.prototype.slice,i=e(26),o=Object.keys,a=o?function(n){return o(n)}:e(87),s=Object.keys;a.shim=function(){return Object.keys?function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2)||(Object.keys=function(n){return s(i(n)?r.call(n):n)}):Object.keys=a,Object.keys||a},n.exports=a},function(n,t,e){"use strict";var r=e(2),i=e(4),o=e(27),a=e(28),s=e(90),l=i(a(),Object);r(l,{getPolyfill:a,implementation:o,shim:s}),n.exports=l},function(n,t,e){"use strict";var r=e(28),i=e(2);n.exports=function(){var n=r();return i(Object,{entries:n},{entries:function(){return Object.entries!==n}}),n}},function(n,t){function e(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(n){if(c===setTimeout)return setTimeout(n,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(n,0);try{return c(n,0)}catch(t){try{return c.call(null,n,0)}catch(t){return c.call(this,n,0)}}}function o(){h&&d&&(h=!1,d.length?m=d.concat(m):g=-1,m.length&&a())}function a(){if(!h){var n=i(o);h=!0;for(var t=m.length;t;){for(d=m,m=[];++g<t;)d&&d[g].run();g=-1,t=m.length}d=null,h=!1,function(n){if(u===clearTimeout)return clearTimeout(n);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(n);try{u(n)}catch(t){try{return u.call(null,n)}catch(t){return u.call(this,n)}}}(n)}}function s(n,t){this.fun=n,this.array=t}function l(){}var c,u,p=n.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(n){c=e}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(n){u=r}}();var d,m=[],h=!1,g=-1;p.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];m.push(new s(n,t)),1!==m.length||h||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(n){return[]},p.binding=function(n){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(n){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(n,t,e){"use strict";var r=e(4),i=e(2),o=e(29),a=e(30),s=e(93),l=r(a());i(l,{getPolyfill:a,implementation:o,shim:s}),n.exports=l},function(n,t,e){"use strict";var r=e(2),i=e(30);n.exports=function(){var n=i();return r(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n}},function(n,t,e){"use strict";(function(t){var e=function(){};if("production"!==t.env.NODE_ENV){var r=function(n,t){var e=arguments.length;t=new Array(e>1?e-1:0);for(var r=1;r<e;r++)t[r-1]=arguments[r];var i=0,o="Warning: "+n.replace(/%s/g,(function(){return t[i++]}));try{throw new Error(o)}catch(n){}};e=function(n,t,e){var i=arguments.length;e=new Array(i>2?i-2:0);for(var o=2;o<i;o++)e[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");n||r.apply(null,[t].concat(e))}}n.exports=e}).call(t,e(91))},function(n,t,e){function r(n,t){return new a(t).process(n)}var i=e(31),o=e(32),a=e(96);for(var s in(t=n.exports=r).filterXSS=r,t.FilterXSS=a,i)t[s]=i[s];for(var s in o)t[s]=o[s];"undefined"!=typeof window&&(window.filterXSS=n.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=n.exports)},function(n,t,e){function r(n){return null==n}function i(n){(n=function(n){var t={};for(var e in n)t[e]=n[e];return t}(n||{})).stripIgnoreTag&&(n.onIgnoreTag,n.onIgnoreTag=a.onIgnoreTagStripAll),n.whiteList=n.whiteList||n.allowList||a.whiteList,n.onTag=n.onTag||a.onTag,n.onTagAttr=n.onTagAttr||a.onTagAttr,n.onIgnoreTag=n.onIgnoreTag||a.onIgnoreTag,n.onIgnoreTagAttr=n.onIgnoreTagAttr||a.onIgnoreTagAttr,n.safeAttrValue=n.safeAttrValue||a.safeAttrValue,n.escapeHtml=n.escapeHtml||a.escapeHtml,this.options=n,!1===n.css?this.cssFilter=!1:(n.css=n.css||{},this.cssFilter=new o(n.css))}var o=e(7).FilterCSS,a=e(31),s=e(32),l=s.parseTag,c=s.parseAttr,u=e(11);i.prototype.process=function(n){if(!(n=(n=n||"").toString()))return"";var t=this.options,e=t.whiteList,i=t.onTag,o=t.onIgnoreTag,s=t.onTagAttr,p=t.onIgnoreTagAttr,d=t.safeAttrValue,m=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(n=a.stripBlankChar(n)),t.allowCommentTag||(n=a.stripCommentTag(n));var g=!1;t.stripIgnoreTagBody&&(g=a.StripTagBody(t.stripIgnoreTagBody,o),o=g.onIgnoreTag);var f=l(n,(function(n,t,a,l,g){var f,v={sourcePosition:n,position:t,isClosing:g,isWhite:e.hasOwnProperty(a)};if(!r(f=i(a,l,v)))return f;if(v.isWhite){if(v.isClosing)return"</"+a+">";var y=function(n){var t=u.spaceIndex(n);if(-1===t)return{html:"",closing:"/"===n[n.length-2]};var e="/"===(n=u.trim(n.slice(t+1,-1)))[n.length-1];return e&&(n=u.trim(n.slice(0,-1))),{html:n,closing:e}}(l),b=e[a],_=c(y.html,(function(n,t){var e,i=-1!==u.indexOf(b,n);return r(e=s(a,n,t,i))?i?(t=d(a,n,t,h))?n+'="'+t+'"':n:r(e=p(a,n,t,i))?void 0:e:e}));return l="<"+a,_&&(l+=" "+_),y.closing&&(l+=" /"),l+">"}return r(f=o(a,l,v))?m(l):f}),m);return g&&(f=g.remove(f)),f},n.exports=i},function(n,t){n.exports={smile:"e3/2018new_weixioa02_org.png",lovely:"09/2018new_keai_org.png",happy:"1e/2018new_taikaixin_org.png",clap:"6e/2018new_guzhang_thumb.png",whee:"33/2018new_xixi_thumb.png",haha:"8f/2018new_haha_thumb.png","laugh and cry":"4a/2018new_xiaoku_thumb.png",wink:"43/2018new_jiyan_org.png",greddy:"fa/2018new_chanzui_org.png",awkward:"a3/2018new_heixian_thumb.png",sweat:"28/2018new_han_org.png","pick nose":"9a/2018new_wabi_thumb.png",hum:"7c/2018new_heng_thumb.png",angry:"f6/2018new_nu_thumb.png",grievance:"a5/2018new_weiqu_thumb.png",poor:"96/2018new_kelian_org.png",disappoint:"aa/2018new_shiwang_thumb.png",sad:"ee/2018new_beishang_org.png",tear:"6e/2018new_leimu_org.png","no way":"83/2018new_kuxiao_org.png",shy:"c1/2018new_haixiu_org.png",dirt:"10/2018new_wu_thumb.png","love you":"f6/2018new_aini_org.png",kiss:"2c/2018new_qinqin_thumb.png",amorousness:"9d/2018new_huaxin_org.png",longing:"c9/2018new_chongjing_org.png",desire:"3e/2018new_tianping_thumb.png","bad laugh":"4d/2018new_huaixiao_org.png",blackness:"9e/2018new_yinxian_org.png","laugh without word":"2d/2018new_xiaoerbuyu_org.png",titter:"71/2018new_touxiao_org.png",cool:"c4/2018new_ku_org.png","not easy":"aa/2018new_bingbujiandan_thumb.png",think:"30/2018new_sikao_org.png",question:"b8/2018new_ningwen_org.png","no idea":"2a/2018new_wenhao_thumb.png",dizzy:"07/2018new_yun_thumb.png",bomb:"a2/2018new_shuai_thumb.png",bone:"a1/2018new_kulou_thumb.png","be quiet":"b0/2018new_xu_org.png","shut up":"62/2018new_bizui_org.png",stupid:"dd/2018new_shayan_org.png","surprise ":"49/2018new_chijing_org.png",vomit:"08/2018new_tu_org.png",cold:"40/2018new_kouzhao_thumb.png",sick:"3b/2018new_shengbing_thumb.png",bye:"fd/2018new_baibai_thumb.png","look down on":"da/2018new_bishi_org.png","white eye":"ef/2018new_landelini_org.png","left hum":"43/2018new_zuohengheng_thumb.png","right hum":"c1/2018new_youhengheng_thumb.png",crazy:"17/2018new_zhuakuang_org.png","scold ":"87/2018new_zhouma_thumb.png","hit on face":"cb/2018new_dalian_org.png",wow:"ae/2018new_ding_org.png",fan:"86/2018new_hufen02_org.png",money:"a2/2018new_qian_thumb.png",yawn:"55/2018new_dahaqian_org.png",sleepy:"3c/2018new_kun_thumb.png",sleep:"e2/2018new_shuijiao_thumb.png","watermelon ":"01/2018new_chigua_thumb.png",doge:"a1/2018new_doge02_org.png",dog:"22/2018new_erha_org.png",cat:"7b/2018new_miaomiao_thumb.png",thumb:"e6/2018new_zan_org.png",good:"8a/2018new_good_org.png",ok:"45/2018new_ok_org.png",yeah:"29/2018new_ye_thumb.png","shack hand":"e9/2018new_woshou_thumb.png",bow:"e7/2018new_zuoyi_org.png",come:"42/2018new_guolai_thumb.png",punch:"86/2018new_quantou_thumb.png"}},function(n,t){n.exports={nick:"NickName",mail:"E-Mail",link:"Website(http://)",nickFail:"NickName cannot be less than 3 bytes.",mailFail:"Please confirm your email address.",sofa:"No comment yet.",submit:"Submit",reply:"Reply",cancelReply:"Cancel reply",comments:"Comments",cancel:"Cancel",confirm:"Confirm",continue:"Continue",more:"Load More...",preview:"Preview",emoji:"Emoji",expand:"See more....",seconds:"seconds ago",minutes:"minutes ago",hours:"hours ago",days:"days ago",now:"just now",uploading:"Uploading ...",uploadDone:"Upload completed!",busy:"Submit is busy, please wait...","code-98":"Valine initialization failed, please check your version of av-min.js.","code-99":"Valine initialization failed, Please check the `el` element in the init method.","code-100":"Valine initialization failed, Please check your appId and appKey.","code-140":"The total number of API calls today has exceeded the development version limit.","code-401":"Unauthorized operation, Please check your appId and appKey.","code-403":"Access denied by API domain white list, Please check your security domain."}},function(n,t){n.exports={nick:"ニックネーム",mail:"メールアドレス",link:"サイト(http://)",nickFail:"3バイト以上のニックネームをご入力ください.",mailFail:"メールアドレスをご確認ください.",sofa:"コメントしましょう~",submit:"提出する",reply:"返信する",cancelReply:"キャンセル",comments:"コメント",cancel:"キャンセル",confirm:"確認する",continue:"继续",more:"さらに読み込む...",preview:"プレビュー",emoji:"絵文字",expand:"もっと見る",seconds:"秒前",minutes:"分前",hours:"時間前",days:"日前",now:"たっだ今",uploading:"アップロード中...",uploadDone:"アップロードが完了しました!",busy:"20 秒間隔で提出してください    ...","code-98":"ロードエラーです。av-min.js のバージョンを確認してください.","code-99":"ロードエラーです。initにある`el`エレメントを確認ください.","code-100":"ロードエラーです。AppIdとAppKeyを確認ください.","code-140":"今日のAPIコールの総数が開発バージョンの上限を超えた.","code-401":"権限が制限されています。AppIdとAppKeyを確認ください.","code-403":"アクセスがAPIなどに制限されました、ドメイン名のセキュリティ設定を確認ください"}},function(n,t){n.exports={nick:"昵称",mail:"邮箱",link:"网址(http://)",nickFail:"昵称不能少于3个字符",mailFail:"请填写正确的邮件地址",sofa:"来发评论吧~",submit:"提交",reply:"回复",cancelReply:"取消回复",comments:"评论",cancel:"取消",confirm:"确认",continue:"继续",more:"加载更多...",preview:"预览",emoji:"表情",expand:"查看更多...",seconds:"秒前",minutes:"分钟前",hours:"小时前",days:"天前",now:"刚刚",uploading:"正在传输...",uploadDone:"传输完成!",busy:"操作频繁，请稍候再试...","code-98":"Valine 初始化失败，请检查 av-min.js 版本","code-99":"Valine 初始化失败，请检查init中的`el`元素.","code-100":"Valine 初始化失败，请检查你的AppId和AppKey.","code-140":"今日 API 调用总次数已超过开发版限制.","code-401":"未经授权的操作，请检查你的AppId和AppKey.","code-403":"访问被API域名白名单拒绝，请检查你的安全域名设置."}},function(n,t){n.exports={nick:"暱稱",mail:"郵箱",link:"網址(http://)",nickFail:"昵稱不能少於3個字符",mailFail:"請填寫正確的郵件地址",sofa:"來發評論吧~",submit:"提交",reply:"回覆",cancelReply:"取消回覆",comments:"評論",cancel:"取消",confirm:"確認",continue:"繼續",more:"加載更多...",preview:"預覽",emoji:"表情",expand:"查看更多...",seconds:"秒前",minutes:"分鐘前",hours:"小時前",days:"天前",now:"剛剛",uploading:"正在上傳...",uploadDone:"上傳完成!",busy:"操作頻繁，請稍候再試...","code-98":"Valine 初始化失敗，請檢查 av-min.js 版本","code-99":"Valine 初始化失敗，請檢查init中的`el`元素.","code-100":"Valine 初始化失敗，請檢查你的AppId和AppKey.","code-140":"今日 API 調用總次數已超過開發版限制.","code-401":"未經授權的操作，請檢查你的AppId和AppKey.","code-403":"訪問被API域名白名單拒絕，請檢查你的安全域名設置."}},function(n,t){},function(n,t,e){var r=e(104);"string"==typeof r&&(r=[[n.i,r,""]]);var i={transform:void 0};e(106)(r,i),r.locals&&(n.exports=r.locals)},function(n,t,e){(t=e(105)(!1)).push([n.i,'.v[data-class=v]{font-size:16px;text-align:left}.v[data-class=v] *{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:1.75}.v[data-class=v] .vinput,.v[data-class=v] .veditor,.v[data-class=v] p,.v[data-class=v] pre code,.v[data-class=v] .status-bar{color:#555}.v[data-class=v] .vtime,.v[data-class=v] .vsys{color:#b3b3b3}.v[data-class=v] .text-right{text-align:right}.v[data-class=v] .text-center{text-align:center}.v[data-class=v] img{max-width:100%;border:none}.v[data-class=v] hr{margin:.825em 0;border-color:#f6f6f6;border-style:dashed}.v[data-class=v].hide-avatar .vimg{display:none}.v[data-class=v] a{position:relative;cursor:pointer;color:#1abc9c;text-decoration:none;display:inline-block}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] pre,.v[data-class=v] code{background-color:#f8f8f8;padding:.2em .4em;border-radius:3px;font-size:85%;margin:0}.v[data-class=v] pre{padding:10px;overflow:auto;line-height:1.45}.v[data-class=v] pre code{padding:0;background:transparent;white-space:pre-wrap;word-break:keep-all}.v[data-class=v] blockquote{color:#666;margin:.5em 0;padding:0 0 0 1em;border-left:8px solid rgba(238,238,238,.5)}.v[data-class=v] .vinput{border:none;resize:none;outline:none;padding:10px 5px;max-width:100%;font-size:.775em;-webkit-box-sizing:border-box;box-sizing:border-box}.v[data-class=v] input[type=checkbox],.v[data-class=v] input[type=radio]{display:inline-block;vertical-align:middle;margin-top:-2px}.v[data-class=v] .vicon{cursor:pointer;display:inline-block;overflow:hidden;fill:#555;vertical-align:middle}.v[data-class=v] .vicon+.vicon{margin-left:10px}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vrow{font-size:0;padding:10px 0}.v[data-class=v] .vrow .vcol{display:inline-block;vertical-align:middle;font-size:14px}.v[data-class=v] .vrow .vcol.vcol-20{width:20%}.v[data-class=v] .vrow .vcol.vcol-30{width:30%}.v[data-class=v] .vrow .vcol.vcol-40{width:40%}.v[data-class=v] .vrow .vcol.vcol-50{width:50%}.v[data-class=v] .vrow .vcol.vcol-60{width:60%}.v[data-class=v] .vrow .vcol.vcol-70{width:70%}.v[data-class=v] .vrow .vcol.vcol-80{width:80%}.v[data-class=v] .vrow .vcol.vctrl{font-size:12px}.v[data-class=v] .vemoji,.v[data-class=v] .emoji{width:26px;height:26px;overflow:hidden;vertical-align:middle;margin:0 1px;display:inline-block}.v[data-class=v] .vwrap{border:1px solid #f0f0f0;border-radius:4px;margin-bottom:10px;overflow:hidden;position:relative;padding:10px}.v[data-class=v] .vwrap input{background:transparent}.v[data-class=v] .vwrap .vedit{position:relative;padding-top:10px}.v[data-class=v] .vwrap .cancel-reply-btn{position:absolute;right:5px;top:5px;cursor:pointer}.v[data-class=v] .vwrap .vemojis{display:none;font-size:18px;max-height:145px;overflow:auto;padding-bottom:10px;-webkit-box-shadow:0px 0 1px #f0f0f0;box-shadow:0px 0 1px #f0f0f0}.v[data-class=v] .vwrap .vemojis i{font-style:normal;padding-top:7px;width:36px;cursor:pointer;text-align:center;display:inline-block;vertical-align:middle}.v[data-class=v] .vwrap .vpreview{padding:7px;-webkit-box-shadow:0px 0 1px #f0f0f0;box-shadow:0px 0 1px #f0f0f0}.v[data-class=v] .vwrap .vheader .vinput{width:33.33%;border-bottom:1px #dedede dashed}.v[data-class=v] .vwrap .vheader.item2 .vinput{width:50%}.v[data-class=v] .vwrap .vheader.item1 .vinput{width:100%}.v[data-class=v] .vwrap .vheader .vinput:focus{border-bottom-color:#eb5055}@media screen and (max-width: 520px){.v[data-class=v] .vwrap .vheader .vinput{width:100%}.v[data-class=v] .vwrap .vheader.item2 .vinput{width:100%}}.v[data-class=v] .vpower{color:#999;font-size:.75em;padding:.5em 0}.v[data-class=v] .vpower a{font-size:.75em}.v[data-class=v] .vcount{padding:5px;font-weight:600;font-size:1.25em}.v[data-class=v] ul,.v[data-class=v] ol{padding:0;margin-left:1.25em}.v[data-class=v] .txt-center{text-align:center}.v[data-class=v] .txt-right{text-align:right}.v[data-class=v] .veditor{width:100%;min-height:8.75em;font-size:.875em;background:transparent;resize:vertical;-webkit-transition:all .25s ease;transition:all .25s ease}.v[data-class=v] .vbtn{-webkit-transition-duration:.4s;transition-duration:.4s;text-align:center;color:#555;border:1px solid #ededed;border-radius:.3em;display:inline-block;background:transparent;margin-bottom:0;font-weight:400;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;white-space:nowrap;padding:.5em 1.25em;font-size:.875em;line-height:1.42857143;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}.v[data-class=v] .vbtn+.vbtn{margin-left:1.25em}.v[data-class=v] .vbtn:active,.v[data-class=v] .vbtn:hover{color:#3090e4;border-color:#3090e4}.v[data-class=v] .vbtn:disabled{border-color:#e1e1e1;color:#e1e1e1;background-color:#fdfafa;cursor:not-allowed}.v[data-class=v] .vempty{padding:1.25em;text-align:center;color:#555;overflow:auto}.v[data-class=v] .vsys{display:inline-block;padding:.2em .5em;font-size:.75em;border-radius:.2em;margin-right:.3em}@media screen and (max-width: 520px){.v[data-class=v] .vsys{display:none}}.v[data-class=v] .vcards{width:100%}.v[data-class=v] .vcards .vcard{padding-top:1.25em;position:relative;display:block}.v[data-class=v] .vcards .vcard:after{content:"";clear:both;display:block}.v[data-class=v] .vcards .vcard .vimg{width:3.125em;height:3.125em;float:left;border-radius:50%;margin-right:.7525em;border:1px solid #f5f5f5;padding:.125em}@media screen and (max-width: 720px){.v[data-class=v] .vcards .vcard .vimg{width:2.5em;height:2.5em}}.v[data-class=v] .vcards .vcard .vhead{line-height:1.5;margin-top:0}.v[data-class=v] .vcards .vcard .vhead .vnick{position:relative;font-size:.875em;font-weight:500;margin-right:.875em;cursor:pointer;text-decoration:none;display:inline-block}.v[data-class=v] .vcards .vcard .vhead .vnick:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vh{overflow:hidden;padding-bottom:.5em;border-bottom:1px dashed #f5f5f5}.v[data-class=v] .vcards .vcard .vh .vtime{font-size:.75em;margin-right:.875em}.v[data-class=v] .vcards .vcard .vh .vmeta{line-height:1;position:relative}.v[data-class=v] .vcards .vcard .vh .vmeta .vat{font-size:.8125em;color:#ef2f11;cursor:pointer;float:right}.v[data-class=v] .vcards .vcard:last-child .vh{border-bottom:none}.v[data-class=v] .vcards .vcard .vcontent{word-wrap:break-word;word-break:break-all;font-size:.875em;line-height:2;position:relative;margin-bottom:.75em;padding-top:.625em}.v[data-class=v] .vcards .vcard .vcontent.expand{cursor:pointer;max-height:8em;overflow:hidden}.v[data-class=v] .vcards .vcard .vcontent.expand::before{display:block;content:"";position:absolute;width:100%;left:0;top:0;bottom:3.15em;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(rgba(255, 255, 255, 0.9)));background:linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.9));z-index:999}.v[data-class=v] .vcards .vcard .vcontent.expand::after{display:block;content:attr(data-expand);text-align:center;color:#828586;position:absolute;width:100%;height:3.15em;line-height:3.15em;left:0;bottom:0;z-index:999;background:rgba(255,255,255,.9)}.v[data-class=v] .vcards .vcard .vquote{padding-left:1em;border-left:1px dashed rgba(238,238,238,.5)}.v[data-class=v] .vcards .vcard .vquote .vimg{width:2.225em;height:2.225em}.v[data-class=v] .vpage .vmore{margin:1em 0}.v[data-class=v] .clear{content:"";display:block;clear:both}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes pulse{50%{background:#dcdcdc}}@keyframes pulse{50%{background:#dcdcdc}}.v[data-class=v] .vspinner{width:22px;height:22px;display:inline-block;border:6px double #a0a0a0;border-top-color:transparent;border-bottom-color:transparent;border-radius:50%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear;position:relative;vertical-align:middle;margin:0 5px}[data-theme=dark] .v[data-class=v] .vinput,[data-theme=dark] .v[data-class=v] .veditor,[data-theme=dark] .v[data-class=v] p,[data-theme=dark] .v[data-class=v] pre code,[data-theme=dark] .v[data-class=v] .status-bar,.dark .v[data-class=v] .vinput,.dark .v[data-class=v] .veditor,.dark .v[data-class=v] p,.dark .v[data-class=v] pre code,.dark .v[data-class=v] .status-bar,.theme__dark .v[data-class=v] .vinput,.theme__dark .v[data-class=v] .veditor,.theme__dark .v[data-class=v] p,.theme__dark .v[data-class=v] pre code,.theme__dark .v[data-class=v] .status-bar,.night .v[data-class=v] .vinput,.night .v[data-class=v] .veditor,.night .v[data-class=v] p,.night .v[data-class=v] pre code,.night .v[data-class=v] .status-bar{color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vtime,[data-theme=dark] .v[data-class=v] .vsys,.dark .v[data-class=v] .vtime,.dark .v[data-class=v] .vsys,.theme__dark .v[data-class=v] .vtime,.theme__dark .v[data-class=v] .vsys,.night .v[data-class=v] .vtime,.night .v[data-class=v] .vsys{color:#929298}[data-theme=dark] .v[data-class=v] pre,[data-theme=dark] .v[data-class=v] code,[data-theme=dark] .v[data-class=v] pre code,.dark .v[data-class=v] pre,.dark .v[data-class=v] code,.dark .v[data-class=v] pre code,.theme__dark .v[data-class=v] pre,.theme__dark .v[data-class=v] code,.theme__dark .v[data-class=v] pre code,.night .v[data-class=v] pre,.night .v[data-class=v] code,.night .v[data-class=v] pre code{color:#929298;background-color:#151414}[data-theme=dark] .v[data-class=v] .vwrap,.dark .v[data-class=v] .vwrap,.theme__dark .v[data-class=v] .vwrap,.night .v[data-class=v] .vwrap{border-color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vicon,.dark .v[data-class=v] .vicon,.theme__dark .v[data-class=v] .vicon,.night .v[data-class=v] .vicon{fill:#b2b2b5}[data-theme=dark] .v[data-class=v] .vicon.actived,.dark .v[data-class=v] .vicon.actived,.theme__dark .v[data-class=v] .vicon.actived,.night .v[data-class=v] .vicon.actived{fill:#66b1ff}[data-theme=dark] .v[data-class=v] .vbtn,.dark .v[data-class=v] .vbtn,.theme__dark .v[data-class=v] .vbtn,.night .v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vbtn:hover,.dark .v[data-class=v] .vbtn:hover,.theme__dark .v[data-class=v] .vbtn:hover,.night .v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}[data-theme=dark] .v[data-class=v] a:hover,.dark .v[data-class=v] a:hover,.theme__dark .v[data-class=v] a:hover,.night .v[data-class=v] a:hover{color:#d7191a}[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand::before,.dark .v[data-class=v] .vcards .vcard .vcontent.expand::before,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand::before,.night .v[data-class=v] .vcards .vcard .vcontent.expand::before{background:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.7)));background:linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7))}[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand::after,.dark .v[data-class=v] .vcards .vcard .vcontent.expand::after,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand::after,.night .v[data-class=v] .vcards .vcard .vcontent.expand::after{background:rgba(0,0,0,.7)}@media(prefers-color-scheme: dark){.v[data-class=v] .vinput,.v[data-class=v] .veditor,.v[data-class=v] p,.v[data-class=v] pre code,.v[data-class=v] .status-bar{color:#b2b2b5}.v[data-class=v] .vtime,.v[data-class=v] .vsys{color:#929298}.v[data-class=v] pre,.v[data-class=v] code,.v[data-class=v] pre code{color:#929298;background-color:#151414}.v[data-class=v] .vwrap{border-color:#b2b2b5}.v[data-class=v] .vicon{fill:#b2b2b5}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}.v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vcontent.expand::before{background:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.7)));background:linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7))}.v[data-class=v] .vcards .vcard .vcontent.expand::after{background:rgba(0,0,0,.7)}}',""]),n.exports=t},function(n,t,e){"use strict";function r(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var i=function(n){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n)))))," */")}(r);return[e].concat(r.sources.map((function(n){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(n," */")}))).concat([i]).join("\n")}return[e].join("\n")}n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=r(t,n);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,r){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);r&&i[l[0]]||(e&&(l[2]?l[2]="".concat(e," and ").concat(l[2]):l[2]=e),t.push(l))}},t}},function(n,t,e){function r(n,t){for(var e=0;e<n.length;e++){var r=n[e],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(n,t){for(var e=[],r={},i=0;i<n.length;i++){var o=n[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):e.push(r[a]={id:a,parts:[s]})}return e}function o(n,t){var e=f(n.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===n.insertAt)r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),b.push(t);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(t)}}function a(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var t=b.indexOf(n);t>=0&&b.splice(t,1)}function s(n){var t=document.createElement("style");return n.attrs.type="text/css",c(t,n.attrs),o(n,t),t}function l(n){var t=document.createElement("link");return n.attrs.type="text/css",n.attrs.rel="stylesheet",c(t,n.attrs),o(n,t),t}function c(n,t){Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])}))}function u(n,t){var e,r,i,o;if(t.transform&&n.css){if(!(o=t.transform(n.css)))return function(){};n.css=o}if(t.singleton){var c=y++;e=v||(v=s(t)),r=p.bind(null,e,c,!1),i=p.bind(null,e,c,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=l(t),r=m.bind(null,e,t),i=function(){a(e),e.href&&URL.revokeObjectURL(e.href)}):(e=s(t),r=d.bind(null,e),i=function(){a(e)});return r(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;r(n=t)}else i()}}function p(n,t,e,r){var i=e?"":r.css;if(n.styleSheet)n.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=n.childNodes;a[t]&&n.removeChild(a[t]),a.length?n.insertBefore(o,a[t]):n.appendChild(o)}}function d(n,t){var e=t.css,r=t.media;if(r&&n.setAttribute("media",r),n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}function m(n,t,e){var r=e.css,i=e.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=_(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=n.href;n.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},g=function(n){var t;return function(){return void 0===t&&(t=n.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),f=function(n){var t={};return function(e){return void 0===t[e]&&(t[e]=n.call(this,e)),t[e]}}((function(n){return document.querySelector(n)})),v=null,y=0,b=[],_=e(107);n.exports=function(n,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=g()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var e=i(n,t);return r(e,t),function(n){for(var o=[],a=0;a<e.length;a++){var s=e[a];(l=h[s.id]).refs--,o.push(l)}for(n&&r(i(n,t),t),a=0;a<o.length;a++){var l;if(0===(l=o[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var w=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}()},function(n,t){n.exports=function(n){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var e=t.protocol+"//"+t.host,r=e+t.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(n,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(n,t){return t})).replace(/^'(.*)'$/,(function(n,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?n:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(n,t,e){e(103),n.exports=e(34)}])},function(n,t,e){"use strict";e(109)},function(n,t,e){"use strict";var r=e(289),i=e(110),o=e(61),a=Object.prototype.hasOwnProperty,s={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,t){return n+"["+t+"]"},repeat:function(n){return n}},l=Array.isArray,c=Array.prototype.push,u=function(n,t){c.apply(n,l(t)?t:[t])},p=Date.prototype.toISOString,d=o.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(n){return p.call(n)},skipNulls:!1,strictNullHandling:!1},h={},g=function n(t,e,o,a,s,c,p,d,g,f,v,y,b,_,w,x){for(var $,k=t,T=x,E=0,A=!1;void 0!==(T=T.get(h))&&!A;){var D=T.get(t);if(E+=1,void 0!==D){if(D===E)throw new RangeError("Cyclic object value");A=!0}void 0===T.get(h)&&(E=0)}if("function"==typeof d?k=d(e,k):k instanceof Date?k=v(k):"comma"===o&&l(k)&&(k=i.maybeMap(k,(function(n){return n instanceof Date?v(n):n}))),null===k){if(s)return p&&!_?p(e,m.encoder,w,"key",y):e;k=""}if("string"==typeof($=k)||"number"==typeof $||"boolean"==typeof $||"symbol"==typeof $||"bigint"==typeof $||i.isBuffer(k))return p?[b(_?e:p(e,m.encoder,w,"key",y))+"="+b(p(k,m.encoder,w,"value",y))]:[b(e)+"="+b(String(k))];var C,P=[];if(void 0===k)return P;if("comma"===o&&l(k))_&&p&&(k=i.maybeMap(k,p)),C=[{value:k.length>0?k.join(",")||null:void 0}];else if(l(d))C=d;else{var S=Object.keys(k);C=g?S.sort(g):S}for(var I=a&&l(k)&&1===k.length?e+"[]":e,j=0;j<C.length;++j){var O=C[j],L="object"==typeof O&&void 0!==O.value?O.value:k[O];if(!c||null!==L){var M=l(k)?"function"==typeof o?o(I,O):I:I+(f?"."+O:"["+O+"]");x.set(t,E);var F=r();F.set(h,x),u(P,n(L,M,o,a,s,c,"comma"===o&&_&&l(k)?null:p,d,g,f,v,y,b,_,w,F))}}return P};n.exports=function(n,t){var e,i=n,c=function(n){if(!n)return m;if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var t=n.charset||m.charset;if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=o.default;if(void 0!==n.format){if(!a.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");e=n.format}var r=o.formatters[e],i=m.filter;return("function"==typeof n.filter||l(n.filter))&&(i=n.filter),{addQueryPrefix:"boolean"==typeof n.addQueryPrefix?n.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===n.allowDots?m.allowDots:!!n.allowDots,charset:t,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:m.charsetSentinel,delimiter:void 0===n.delimiter?m.delimiter:n.delimiter,encode:"boolean"==typeof n.encode?n.encode:m.encode,encoder:"function"==typeof n.encoder?n.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:m.encodeValuesOnly,filter:i,format:e,formatter:r,serializeDate:"function"==typeof n.serializeDate?n.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof n.skipNulls?n.skipNulls:m.skipNulls,sort:"function"==typeof n.sort?n.sort:null,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(e=c.filter);var p,d=[];if("object"!=typeof i||null===i)return"";p=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[p];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f="comma"===h&&t&&t.commaRoundTrip;e||(e=Object.keys(i)),c.sort&&e.sort(c.sort);for(var v=r(),y=0;y<e.length;++y){var b=e[y];c.skipNulls&&null===i[b]||u(d,g(i[b],b,h,f,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var _=d.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),_.length>0?w+_:""}},function(n,t,e){"use strict";var r=e(59),i=e(295),o=e(297),a=r("%TypeError%"),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),m=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),g=function(n,t){for(var e,r=n;null!==(e=r.next);r=e)if(e.key===t)return r.next=e.next,e.next=n.next,n.next=e,e};n.exports=function(){var n,t,e,r={assert:function(n){if(!r.has(n))throw new a("Side channel does not contain "+o(n))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(n)return c(n,r)}else if(l){if(t)return d(t,r)}else if(e)return function(n,t){var e=g(n,t);return e&&e.value}(e,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(n)return p(n,r)}else if(l){if(t)return h(t,r)}else if(e)return function(n,t){return!!g(n,t)}(e,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(n||(n=new s),u(n,r,i)):l?(t||(t=new l),m(t,r,i)):(e||(e={key:{},next:null}),function(n,t,e){var r=g(n,t);r?r.value=e:n.next={key:t,next:n.next,value:e}}(e,r,i))}};return r}},function(n,t,e){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=e(291);n.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},function(n,t,e){"use strict";n.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var n={},t=Symbol("test"),e=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;for(t in n[t]=42,n)return!1;if("function"==typeof Object.keys&&0!==Object.keys(n).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var r=Object.getOwnPropertySymbols(n);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(n,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(n,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(n,t,e){"use strict";var r={foo:{}},i=Object;n.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof i)}},function(n,t,e){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;n.exports=function(n){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var e,a=i.call(arguments,1),s=function(){if(this instanceof e){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(n,a.concat(i.call(arguments)))},l=Math.max(0,t.length-a.length),c=[],u=0;u<l;u++)c.push("$"+u);if(e=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var p=function(){};p.prototype=t.prototype,e.prototype=new p,p.prototype=null}return e}},function(n,t,e){"use strict";var r=e(60);n.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(n,t,e){"use strict";var r=e(59),i=e(296),o=i(r("String.prototype.indexOf"));n.exports=function(n,t){var e=r(n,!!t);return"function"==typeof e&&o(n,".prototype.")>-1?i(e):e}},function(n,t,e){"use strict";var r=e(60),i=e(59),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(n){c=null}n.exports=function(n){var t=s(r,a,arguments);if(l&&c){var e=l(t,"length");e.configurable&&c(t,"length",{value:1+u(0,n.length-(arguments.length-1))})}return t};var p=function(){return s(r,o,arguments)};c?c(n.exports,"apply",{value:p}):n.exports.apply=p},function(n,t,e){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,g=Object.prototype.toString,f=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,$=Array.prototype.concat,k=Array.prototype.join,T=Array.prototype.slice,E=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,S="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function O(n,t){if(n===1/0||n===-1/0||n!=n||n&&n>-1e3&&n<1e3||x.call(/e/,t))return t;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof n){var r=n<0?-E(-n):E(n);if(r!==n){var i=String(r),o=y.call(t,i.length+1);return b.call(i,e,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,e,"$&_")}var L=e(298),M=L.custom,F=U(M)?M:null;function z(n,t,e){var r="double"===(e.quoteStyle||t)?'"':"'";return r+n+r}function R(n){return b.call(String(n),/"/g,"&quot;")}function B(n){return!("[object Array]"!==q(n)||S&&"object"==typeof n&&S in n)}function N(n){return!("[object RegExp]"!==q(n)||S&&"object"==typeof n&&S in n)}function U(n){if(P)return n&&"object"==typeof n&&n instanceof Symbol;if("symbol"==typeof n)return!0;if(!n||"object"!=typeof n||!C)return!1;try{return C.call(n),!0}catch(n){}return!1}n.exports=function n(t,e,r,i){var s=e||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function n(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return n(y.call(t,0,e.maxStringLength),e)+i}return z(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",e)}(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return g?O(t,_):_}if("bigint"==typeof t){var x=String(t)+"n";return g?O(t,x):x}var E=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=E&&E>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var D=function(n,t){var e;if("\t"===n.indent)e="\t";else{if(!("number"==typeof n.indent&&n.indent>0))return null;e=k.call(Array(n.indent+1)," ")}return{base:e,prev:k.call(Array(t+1),e)}}(s,r);if(void 0===i)i=[];else if(H(i,t)>=0)return"[Circular]";function M(t,e,o){if(e&&(i=T.call(i)).push(e),o){var a={depth:s.depth};return G(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),n(t,a,r+1,i)}return n(t,s,r+1,i)}if("function"==typeof t&&!N(t)){var V=function(n){if(n.name)return n.name;var t=v.call(f.call(n),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Z=K(t,M);return"[Function"+(V?": "+V:" (anonymous)")+"]"+(Z.length>0?" { "+k.call(Z,", ")+" }":"")}if(U(t)){var nn=P?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||P?nn:Y(nn)}if(function(n){if(!n||"object"!=typeof n)return!1;if("undefined"!=typeof HTMLElement&&n instanceof HTMLElement)return!0;return"string"==typeof n.nodeName&&"function"==typeof n.getAttribute}(t)){for(var tn="<"+w.call(String(t.nodeName)),en=t.attributes||[],rn=0;rn<en.length;rn++)tn+=" "+en[rn].name+"="+z(R(en[rn].value),"double",s);return tn+=">",t.childNodes&&t.childNodes.length&&(tn+="..."),tn+="</"+w.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var on=K(t,M);return D&&!function(n){for(var t=0;t<n.length;t++)if(H(n[t],"\n")>=0)return!1;return!0}(on)?"["+J(on,D)+"]":"[ "+k.call(on,", ")+" ]"}if(function(n){return!("[object Error]"!==q(n)||S&&"object"==typeof n&&S in n)}(t)){var an=K(t,M);return"cause"in Error.prototype||!("cause"in t)||I.call(t,"cause")?0===an.length?"["+String(t)+"]":"{ ["+String(t)+"] "+k.call(an,", ")+" }":"{ ["+String(t)+"] "+k.call($.call("[cause]: "+M(t.cause),an),", ")+" }"}if("object"==typeof t&&l){if(F&&"function"==typeof t[F]&&L)return L(t,{depth:E-r});if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(n){if(!o||!n||"object"!=typeof n)return!1;try{o.call(n);try{c.call(n)}catch(n){return!0}return n instanceof Map}catch(n){}return!1}(t)){var sn=[];return a&&a.call(t,(function(n,e){sn.push(M(e,t,!0)+" => "+M(n,t))})),Q("Map",o.call(t),sn,D)}if(function(n){if(!c||!n||"object"!=typeof n)return!1;try{c.call(n);try{o.call(n)}catch(n){return!0}return n instanceof Set}catch(n){}return!1}(t)){var ln=[];return u&&u.call(t,(function(n){ln.push(M(n,t))})),Q("Set",c.call(t),ln,D)}if(function(n){if(!p||!n||"object"!=typeof n)return!1;try{p.call(n,p);try{d.call(n,d)}catch(n){return!0}return n instanceof WeakMap}catch(n){}return!1}(t))return X("WeakMap");if(function(n){if(!d||!n||"object"!=typeof n)return!1;try{d.call(n,d);try{p.call(n,p)}catch(n){return!0}return n instanceof WeakSet}catch(n){}return!1}(t))return X("WeakSet");if(function(n){if(!m||!n||"object"!=typeof n)return!1;try{return m.call(n),!0}catch(n){}return!1}(t))return X("WeakRef");if(function(n){return!("[object Number]"!==q(n)||S&&"object"==typeof n&&S in n)}(t))return Y(M(Number(t)));if(function(n){if(!n||"object"!=typeof n||!A)return!1;try{return A.call(n),!0}catch(n){}return!1}(t))return Y(M(A.call(t)));if(function(n){return!("[object Boolean]"!==q(n)||S&&"object"==typeof n&&S in n)}(t))return Y(h.call(t));if(function(n){return!("[object String]"!==q(n)||S&&"object"==typeof n&&S in n)}(t))return Y(M(String(t)));if(!function(n){return!("[object Date]"!==q(n)||S&&"object"==typeof n&&S in n)}(t)&&!N(t)){var cn=K(t,M),un=j?j(t)===Object.prototype:t instanceof Object||t.constructor===Object,pn=t instanceof Object?"":"null prototype",dn=!un&&S&&Object(t)===t&&S in t?y.call(q(t),8,-1):pn?"Object":"",mn=(un||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(dn||pn?"["+k.call($.call([],dn||[],pn||[]),": ")+"] ":"");return 0===cn.length?mn+"{}":D?mn+"{"+J(cn,D)+"}":mn+"{ "+k.call(cn,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(n){return n in this};function G(n,t){return V.call(n,t)}function q(n){return g.call(n)}function H(n,t){if(n.indexOf)return n.indexOf(t);for(var e=0,r=n.length;e<r;e++)if(n[e]===t)return e;return-1}function W(n){var t=n.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function Y(n){return"Object("+n+")"}function X(n){return n+" { ? }"}function Q(n,t,e,r){return n+" ("+t+") {"+(r?J(e,r):k.call(e,", "))+"}"}function J(n,t){if(0===n.length)return"";var e="\n"+t.prev+t.base;return e+k.call(n,","+e)+"\n"+t.prev}function K(n,t){var e=B(n),r=[];if(e){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=G(n,i)?t(n[i],n):""}var o,a="function"==typeof D?D(n):[];if(P){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in n)G(n,l)&&(e&&String(Number(l))===l&&l<n.length||P&&o["$"+l]instanceof Symbol||(x.call(/[^\w$]/,l)?r.push(t(l,n)+": "+t(n[l],n)):r.push(l+": "+t(n[l],n))));if("function"==typeof D)for(var c=0;c<a.length;c++)I.call(n,a[c])&&r.push("["+t(a[c])+"]: "+t(n[a[c]],n));return r}},function(n,t){},function(n,t,e){"use strict";var r=e(110),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(n){return n.replace(/&#(\d+);/g,(function(n,t){return String.fromCharCode(parseInt(t,10))}))},l=function(n,t){return n&&"string"==typeof n&&t.comma&&n.indexOf(",")>-1?n.split(","):n},c=function(n,t,e,r){if(n){var o=e.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,a=/(\[[^[\]]*])/g,s=e.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,u=[];if(c){if(!e.plainObjects&&i.call(Object.prototype,c)&&!e.allowPrototypes)return;u.push(c)}for(var p=0;e.depth>0&&null!==(s=a.exec(o))&&p<e.depth;){if(p+=1,!e.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!e.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+o.slice(s.index)+"]"),function(n,t,e,r){for(var i=r?t:l(t,e),o=n.length-1;o>=0;--o){var a,s=n[o];if("[]"===s&&e.parseArrays)a=[].concat(i);else{a=e.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);e.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&e.parseArrays&&u<=e.arrayLimit?(a=[])[u]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(u,t,e,r)}};n.exports=function(n,t){var e=function(n){if(!n)return a;if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===n.charset?a.charset:n.charset;return{allowDots:void 0===n.allowDots?a.allowDots:!!n.allowDots,allowPrototypes:"boolean"==typeof n.allowPrototypes?n.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof n.allowSparse?n.allowSparse:a.allowSparse,arrayLimit:"number"==typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof n.comma?n.comma:a.comma,decoder:"function"==typeof n.decoder?n.decoder:a.decoder,delimiter:"string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:a.delimiter,depth:"number"==typeof n.depth||!1===n.depth?+n.depth:a.depth,ignoreQueryPrefix:!0===n.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof n.interpretNumericEntities?n.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof n.parameterLimit?n.parameterLimit:a.parameterLimit,parseArrays:!1!==n.parseArrays,plainObjects:"boolean"==typeof n.plainObjects?n.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling}}(t);if(""===n||null==n)return e.plainObjects?Object.create(null):{};for(var u="string"==typeof n?function(n,t){var e,c={__proto__:null},u=t.ignoreQueryPrefix?n.replace(/^\?/,""):n,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,p),m=-1,h=t.charset;if(t.charsetSentinel)for(e=0;e<d.length;++e)0===d[e].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[e]?h="utf-8":"utf8=%26%2310003%3B"===d[e]&&(h="iso-8859-1"),m=e,e=d.length);for(e=0;e<d.length;++e)if(e!==m){var g,f,v=d[e],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(g=t.decoder(v,a.decoder,h,"key"),f=t.strictNullHandling?null:""):(g=t.decoder(v.slice(0,b),a.decoder,h,"key"),f=r.maybeMap(l(v.slice(b+1),t),(function(n){return t.decoder(n,a.decoder,h,"value")}))),f&&t.interpretNumericEntities&&"iso-8859-1"===h&&(f=s(f)),v.indexOf("[]=")>-1&&(f=o(f)?[f]:f),i.call(c,g)?c[g]=r.combine(c[g],f):c[g]=f}return c}(n,e):n,p=e.plainObjects?Object.create(null):{},d=Object.keys(u),m=0;m<d.length;++m){var h=d[m],g=c(h,u[h],e,"string"==typeof n);p=r.merge(p,g,e)}return!0===e.allowSparse?p:r.compact(p)}},function(n,t,e){var r=e(16),i=e(302),o=e(303);n.exports=function(n){var t=r(n);return o(t,i(t))+1}},function(n,t){n.exports=function(n){var t=new Date(n.getTime()),e=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*e+t.getTime()%6e4}},function(n,t,e){var r=e(16);n.exports=function(n){var t=r(n),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}},function(n,t,e){var r=e(304);n.exports=function(n,t){var e=r(n),i=r(t),o=e.getTime()-6e4*e.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((o-a)/864e5)}},function(n,t,e){var r=e(16);n.exports=function(n){var t=r(n);return t.setHours(0,0,0,0),t}},function(n,t,e){var r=e(16),i=e(62),o=e(307);n.exports=function(n){var t=r(n),e=i(t).getTime()-o(t).getTime();return Math.round(e/6048e5)+1}},function(n,t,e){var r=e(16);n.exports=function(n,t){var e=t&&Number(t.weekStartsOn)||0,i=r(n),o=i.getDay(),a=(o<e?7:0)+o-e;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}},function(n,t,e){var r=e(112),i=e(62);n.exports=function(n){var t=r(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),i(e)}},function(n,t,e){var r=e(111);n.exports=function(n){if(r(n))return!isNaN(n);throw new TypeError(toString.call(n)+" is not an instance of Date")}},function(n,t,e){var r=e(310),i=e(311);n.exports={distanceInWords:r(),format:i()}},function(n,t){n.exports=function(){var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,e,r){var i;return r=r||{},i="string"==typeof n[t]?n[t]:1===e?n[t].one:n[t].other.replace("{{count}}",e),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}},function(n,t,e){var r=e(312);n.exports=function(){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],c={MMM:function(t){return n[t.getMonth()]},MMMM:function(n){return t[n.getMonth()]},dd:function(n){return e[n.getDay()]},ddd:function(n){return i[n.getDay()]},dddd:function(n){return o[n.getDay()]},A:function(n){return n.getHours()/12>=1?a[1]:a[0]},a:function(n){return n.getHours()/12>=1?s[1]:s[0]},aa:function(n){return n.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach((function(n){c[n+"o"]=function(t,e){return function(n){var t=n%100;if(t>20||t<10)switch(t%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}(e[n](t))}})),{formatters:c,formattingTokensRegExp:r(c)}}},function(n,t){var e=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];n.exports=function(n){var t=[];for(var r in n)n.hasOwnProperty(r)&&t.push(r);var i=e.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")}},function(n,t,e){"use strict";var r=e(4),i=e(113),o=e(314),a=e(119);function s(n){var t=new o(n),e=i(o.prototype.request,t);return r.extend(e,o.prototype,t),r.extend(e,t),e}var l=s(e(63));l.Axios=o,l.create=function(n){return s(a(l.defaults,n))},l.Cancel=e(120),l.CancelToken=e(328),l.isCancel=e(118),l.all=function(n){return Promise.all(n)},l.spread=e(329),l.isAxiosError=e(330),n.exports=l,n.exports.default=l},function(n,t,e){"use strict";var r=e(4),i=e(114),o=e(315),a=e(316),s=e(119),l=e(326),c=l.validators;function u(n){this.defaults=n,this.interceptors={request:new o,response:new o}}u.prototype.request=function(n){"string"==typeof n?(n=arguments[1]||{}).url=arguments[0]:n=n||{},(n=s(this.defaults,n)).method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var t=n.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var e=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(n)||(r=r&&t.synchronous,e.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(n){o.push(n.fulfilled,n.rejected)})),!r){var u=[a,void 0];for(Array.prototype.unshift.apply(u,e),u=u.concat(o),i=Promise.resolve(n);u.length;)i=i.then(u.shift(),u.shift());return i}for(var p=n;e.length;){var d=e.shift(),m=e.shift();try{p=d(p)}catch(n){m(n);break}}try{i=a(p)}catch(n){return Promise.reject(n)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},u.prototype.getUri=function(n){return n=s(this.defaults,n),i(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(n){u.prototype[n]=function(t,e){return this.request(s(e||{},{method:n,url:t,data:(e||{}).data}))}})),r.forEach(["post","put","patch"],(function(n){u.prototype[n]=function(t,e,r){return this.request(s(r||{},{method:n,url:t,data:e}))}})),n.exports=u},function(n,t,e){"use strict";var r=e(4);function i(){this.handlers=[]}i.prototype.use=function(n,t,e){return this.handlers.push({fulfilled:n,rejected:t,synchronous:!!e&&e.synchronous,runWhen:e?e.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},i.prototype.forEach=function(n){r.forEach(this.handlers,(function(t){null!==t&&n(t)}))},n.exports=i},function(n,t,e){"use strict";var r=e(4),i=e(317),o=e(118),a=e(63);function s(n){n.cancelToken&&n.cancelToken.throwIfRequested()}n.exports=function(n){return s(n),n.headers=n.headers||{},n.data=i.call(n,n.data,n.headers,n.transformRequest),n.headers=r.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete n.headers[t]})),(n.adapter||a.adapter)(n).then((function(t){return s(n),t.data=i.call(n,t.data,t.headers,n.transformResponse),t}),(function(t){return o(t)||(s(n),t&&t.response&&(t.response.data=i.call(n,t.response.data,t.response.headers,n.transformResponse))),Promise.reject(t)}))}},function(n,t,e){"use strict";var r=e(4),i=e(63);n.exports=function(n,t,e){var o=this||i;return r.forEach(e,(function(e){n=e.call(o,n,t)})),n}},function(n,t,e){"use strict";var r=e(4);n.exports=function(n,t){r.forEach(n,(function(e,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(n[t]=e,delete n[r])}))}},function(n,t,e){"use strict";var r=e(117);n.exports=function(n,t,e){var i=e.config.validateStatus;e.status&&i&&!i(e.status)?t(r("Request failed with status code "+e.status,e.config,null,e.request,e)):n(e)}},function(n,t,e){"use strict";var r=e(4);n.exports=r.isStandardBrowserEnv()?{write:function(n,t,e,i,o,a){var s=[];s.push(n+"="+encodeURIComponent(t)),r.isNumber(e)&&s.push("expires="+new Date(e).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){var t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(n,t,e){"use strict";var r=e(322),i=e(323);n.exports=function(n,t){return n&&!r(t)?i(n,t):t}},function(n,t,e){"use strict";n.exports=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}},function(n,t,e){"use strict";n.exports=function(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}},function(n,t,e){"use strict";var r=e(4),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];n.exports=function(n){var t,e,o,a={};return n?(r.forEach(n.split("\n"),(function(n){if(o=n.indexOf(":"),t=r.trim(n.substr(0,o)).toLowerCase(),e=r.trim(n.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([e]):a[t]?a[t]+", "+e:e}})),a):a}},function(n,t,e){"use strict";var r=e(4);n.exports=r.isStandardBrowserEnv()?function(){var n,t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");function i(n){var r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){var e=r.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0}},function(n,t,e){"use strict";var r=e(327),i={};["object","boolean","number","function","string","symbol"].forEach((function(n,t){i[n]=function(e){return typeof e===n||"a"+(t<1?"n ":" ")+n}}));var o={},a=r.version.split(".");function s(n,t){for(var e=t?t.split("."):a,r=n.split("."),i=0;i<3;i++){if(e[i]>r[i])return!0;if(e[i]<r[i])return!1}return!1}i.transitional=function(n,t,e){var i=t&&s(t);function a(n,t){return"[Axios v"+r.version+"] Transitional option '"+n+"'"+t+(e?". "+e:"")}return function(e,r,s){if(!1===n)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!n||n(e,r,s)}},n.exports={isOlderVersion:s,assertOptions:function(n,t,e){if("object"!=typeof n)throw new TypeError("options must be an object");for(var r=Object.keys(n),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=n[o],l=void 0===s||a(s,o,n);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==e)throw Error("Unknown option "+o)}},validators:i}},function(n){n.exports=JSON.parse('{"_from":"axios@^0.21.1","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.1","name":"axios","escapedName":"axios","rawSpec":"^0.21.1","saveSpec":null,"fetchSpec":"^0.21.1"},"_requiredBy":["/@vssue/api-bitbucket-v2","/@vssue/api-gitee-v5","/@vssue/api-github-v3","/@vssue/api-github-v4","/@vssue/api-gitlab-v4"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.1","_where":"D:\\\\yxk\\\\dev\\\\blogcode\\\\node_modules\\\\@vssue\\\\api-bitbucket-v2","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(n,t,e){"use strict";var r=e(120);function i(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(n){t=n}));var e=this;n((function(n){e.reason||(e.reason=new r(n),t(e.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var n;return{token:new i((function(t){n=t})),cancel:n}},n.exports=i},function(n,t,e){"use strict";n.exports=function(n){return function(t){return n.apply(null,t)}}},function(n,t,e){"use strict";n.exports=function(n){return"object"==typeof n&&!0===n.isAxiosError}},function(n,t,e){},function(n,t,e){"use strict";e(121)},function(n,t,e){},function(n,t,e){var r;function i(n){function e(){if(e.enabled){var n=e,i=+new Date,o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;l++;var i=t.formatters[r];if("function"==typeof i){var o=a[l];e=i.call(n,o),a.splice(l,1),l--}return e})),t.formatArgs.call(n,a);var c=e.log||t.log||console.log.bind(console);c.apply(n,a)}}return e.namespace=n,e.enabled=t.enabled(n),e.useColors=t.useColors(),e.color=function(n){var e,r=0;for(e in n)r=(r<<5)-r+n.charCodeAt(e),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(n),"function"==typeof t.init&&t.init(e),e}(t=n.exports=i.debug=i.default=i).coerce=function(n){return n instanceof Error?n.stack||n.message:n},t.disable=function(){t.enable("")},t.enable=function(n){t.save(n),t.names=[],t.skips=[];for(var e=("string"==typeof n?n:"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&("-"===(n=e[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+n.substr(1)+"$")):t.names.push(new RegExp("^"+n+"$")))},t.enabled=function(n){var e,r;for(e=0,r=t.skips.length;e<r;e++)if(t.skips[e].test(n))return!1;for(e=0,r=t.names.length;e<r;e++)if(t.names[e].test(n))return!0;return!1},t.humanize=e(335),t.names=[],t.skips=[],t.formatters={}},function(n,t){var e=1e3,r=6e4,i=60*r,o=24*i;function a(n,t,e){if(!(n<t))return n<1.5*t?Math.floor(n/t)+" "+e:Math.ceil(n/t)+" "+e+"s"}n.exports=function(n,t){t=t||{};var s,l=typeof n;if("string"===l&&n.length>0)return function(n){if((n=String(n)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(n);if("number"===l&&!1===isNaN(n))return t.long?a(s=n,o,"day")||a(s,i,"hour")||a(s,r,"minute")||a(s,e,"second")||s+" ms":function(n){if(n>=o)return Math.round(n/o)+"d";if(n>=i)return Math.round(n/i)+"h";if(n>=r)return Math.round(n/r)+"m";if(n>=e)return Math.round(n/e)+"s";return n+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},function(n,t,e){},function(n,t,e){"use strict";e(123)},function(n,t,e){"use strict";e(124)},function(n,t,e){n.exports=e.p+"assets/img/sakura.5e4a2cfb.png"},function(n,t,e){"use strict";e(125)},function(n,t,e){"use strict";e(126)},function(n,t,e){"use strict";e(127)},function(n,t,e){"use strict";e(128)},function(n,t,e){"use strict";e(129)},function(n,t,e){"use strict";e(130)},function(n,t,e){"use strict";e.r(t);var r=e(0);
/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function i(n,t){for(var e in t)n[e]=t[e];return n}var o=/[!'()*]/g,a=function(n){return"%"+n.charCodeAt(0).toString(16)},s=/%2C/g,l=function(n){return encodeURIComponent(n).replace(o,a).replace(s,",")};function c(n){try{return decodeURIComponent(n)}catch(n){0}return n}var u=function(n){return null==n||"object"==typeof n?n:String(n)};function p(n){var t={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var e=n.replace(/\+/g," ").split("="),r=c(e.shift()),i=e.length>0?c(e.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function d(n){var t=n?Object.keys(n).map((function(t){var e=n[t];if(void 0===e)return"";if(null===e)return l(t);if(Array.isArray(e)){var r=[];return e.forEach((function(n){void 0!==n&&(null===n?r.push(l(t)):r.push(l(t)+"="+l(n)))})),r.join("&")}return l(t)+"="+l(e)})).filter((function(n){return n.length>0})).join("&"):null;return t?"?"+t:""}var m=/\/?$/;function h(n,t,e,r){var i=r&&r.options.stringifyQuery,o=t.query||{};try{o=g(o)}catch(n){}var a={name:t.name||n&&n.name,meta:n&&n.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:y(t,i),matched:n?v(n):[]};return e&&(a.redirectedFrom=y(e,i)),Object.freeze(a)}function g(n){if(Array.isArray(n))return n.map(g);if(n&&"object"==typeof n){var t={};for(var e in n)t[e]=g(n[e]);return t}return n}var f=h(null,{path:"/"});function v(n){for(var t=[];n;)t.unshift(n),n=n.parent;return t}function y(n,t){var e=n.path,r=n.query;void 0===r&&(r={});var i=n.hash;return void 0===i&&(i=""),(e||"/")+(t||d)(r)+i}function b(n,t,e){return t===f?n===t:!!t&&(n.path&&t.path?n.path.replace(m,"")===t.path.replace(m,"")&&(e||n.hash===t.hash&&_(n.query,t.query)):!(!n.name||!t.name)&&(n.name===t.name&&(e||n.hash===t.hash&&_(n.query,t.query)&&_(n.params,t.params))))}function _(n,t){if(void 0===n&&(n={}),void 0===t&&(t={}),!n||!t)return n===t;var e=Object.keys(n).sort(),r=Object.keys(t).sort();return e.length===r.length&&e.every((function(e,i){var o=n[e];if(r[i]!==e)return!1;var a=t[e];return null==o||null==a?o===a:"object"==typeof o&&"object"==typeof a?_(o,a):String(o)===String(a)}))}function w(n){for(var t=0;t<n.matched.length;t++){var e=n.matched[t];for(var r in e.instances){var i=e.instances[r],o=e.enteredCbs[r];if(i&&o){delete e.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var x={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,t){var e=t.props,r=t.children,o=t.parent,a=t.data;a.routerView=!0;for(var s=o.$createElement,l=e.name,c=o.$route,u=o._routerViewCache||(o._routerViewCache={}),p=0,d=!1;o&&o._routerRoot!==o;){var m=o.$vnode?o.$vnode.data:{};m.routerView&&p++,m.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=p,d){var h=u[l],g=h&&h.component;return g?(h.configProps&&$(g,a,h.route,h.configProps),s(g,a,r)):s()}var f=c.matched[p],v=f&&f.components[l];if(!f||!v)return u[l]=null,s();u[l]={component:v},a.registerRouteInstance=function(n,t){var e=f.instances[l];(t&&e!==n||!t&&e===n)&&(f.instances[l]=t)},(a.hook||(a.hook={})).prepatch=function(n,t){f.instances[l]=t.componentInstance},a.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==f.instances[l]&&(f.instances[l]=n.componentInstance),w(c)};var y=f.props&&f.props[l];return y&&(i(u[l],{route:c,configProps:y}),$(v,a,c,y)),s(v,a,r)}};function $(n,t,e,r){var o=t.props=function(n,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(n);case"boolean":return t?n.params:void 0;default:0}}(e,r);if(o){o=t.props=i({},o);var a=t.attrs=t.attrs||{};for(var s in o)n.props&&s in n.props||(a[s]=o[s],delete o[s])}}function k(n,t,e){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return t+n;var i=t.split("/");e&&i[i.length-1]||i.pop();for(var o=n.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function T(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var E=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},A=N,D=j,C=function(n,t){return L(j(n,t),t)},P=L,S=B,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function j(n,t){for(var e,r=[],i=0,o=0,a="",s=t&&t.delimiter||"/";null!=(e=I.exec(n));){var l=e[0],c=e[1],u=e.index;if(a+=n.slice(o,u),o=u+l.length,c)a+=c[1];else{var p=n[o],d=e[2],m=e[3],h=e[4],g=e[5],f=e[6],v=e[7];a&&(r.push(a),a="");var y=null!=d&&null!=p&&p!==d,b="+"===f||"*"===f,_="?"===f||"*"===f,w=e[2]||s,x=h||g;r.push({name:m||i++,prefix:d||"",delimiter:w,optional:_,repeat:b,partial:y,asterisk:!!v,pattern:x?F(x):v?".*":"[^"+M(w)+"]+?"})}}return o<n.length&&(a+=n.substr(o)),a&&r.push(a),r}function O(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function L(n,t){for(var e=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(e[r]=new RegExp("^(?:"+n[r].pattern+")$",R(t)));return function(t,r){for(var i="",o=t||{},a=(r||{}).pretty?O:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(E(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(c=a(u[p]),!e[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):a(u),!e[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function M(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function F(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function z(n,t){return n.keys=t,n}function R(n){return n&&n.sensitive?"":"i"}function B(n,t,e){E(t)||(e=t||e,t=[]);for(var r=(e=e||{}).strict,i=!1!==e.end,o="",a=0;a<n.length;a++){var s=n[a];if("string"==typeof s)o+=M(s);else{var l=M(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+l+c+")*"),o+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=M(e.delimiter||"/"),p=o.slice(-u.length)===u;return r||(o=(p?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+u+"|$)",z(new RegExp("^"+o,R(e)),t)}function N(n,t,e){return E(t)||(e=t||e,t=[]),e=e||{},n instanceof RegExp?function(n,t){var e=n.source.match(/\((?!\?)/g);if(e)for(var r=0;r<e.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(n,t)}(n,t):E(n)?function(n,t,e){for(var r=[],i=0;i<n.length;i++)r.push(N(n[i],t,e).source);return z(new RegExp("(?:"+r.join("|")+")",R(e)),t)}(n,t,e):function(n,t,e){return B(j(n,e),t,e)}(n,t,e)}A.parse=D,A.compile=C,A.tokensToFunction=P,A.tokensToRegExp=S;var U=Object.create(null);function V(n,t,e){t=t||{};try{var r=U[n]||(U[n]=A.compile(n));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(n){return""}finally{delete t[0]}}function G(n,t,e,r){var o="string"==typeof n?{path:n}:n;if(o._normalized)return o;if(o.name){var a=(o=i({},n)).params;return a&&"object"==typeof a&&(o.params=i({},a)),o}if(!o.path&&o.params&&t){(o=i({},o))._normalized=!0;var s=i(i({},t.params),o.params);if(t.name)o.name=t.name,o.params=s;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;o.path=V(l,s,t.path)}else 0;return o}var c=function(n){var t="",e="",r=n.indexOf("#");r>=0&&(t=n.slice(r),n=n.slice(0,r));var i=n.indexOf("?");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{path:n,query:e,hash:t}}(o.path||""),d=t&&t.path||"/",m=c.path?k(c.path,d,e||o.append):d,h=function(n,t,e){void 0===t&&(t={});var r,i=e||p;try{r=i(n||"")}catch(n){r={}}for(var o in t){var a=t[o];r[o]=Array.isArray(a)?a.map(u):u(a)}return r}(c.query,o.query,r&&r.options.parseQuery),g=o.hash||c.hash;return g&&"#"!==g.charAt(0)&&(g="#"+g),{_normalized:!0,path:m,query:h,hash:g}}var q,H=function(){},W={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var t=this,e=this.$router,r=this.$route,o=e.resolve(this.to,r,this.append),a=o.location,s=o.route,l=o.href,c={},u=e.options.linkActiveClass,p=e.options.linkExactActiveClass,d=null==u?"router-link-active":u,g=null==p?"router-link-exact-active":p,f=null==this.activeClass?d:this.activeClass,v=null==this.exactActiveClass?g:this.exactActiveClass,y=s.redirectedFrom?h(null,G(s.redirectedFrom),null,e):s;c[v]=b(r,y,this.exactPath),c[f]=this.exact||this.exactPath?c[v]:function(n,t){return 0===n.path.replace(m,"/").indexOf(t.path.replace(m,"/"))&&(!t.hash||n.hash===t.hash)&&function(n,t){for(var e in t)if(!(e in n))return!1;return!0}(n.query,t.query)}(r,y);var _=c[v]?this.ariaCurrentValue:null,w=function(n){Y(n)&&(t.replace?e.replace(a,H):e.push(a,H))},x={click:Y};Array.isArray(this.event)?this.event.forEach((function(n){x[n]=w})):x[this.event]=w;var $={class:c},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:w,isActive:c[f],isExactActive:c[v]});if(k){if(1===k.length)return k[0];if(k.length>1||!k.length)return 0===k.length?n():n("span",{},k)}if("a"===this.tag)$.on=x,$.attrs={href:l,"aria-current":_};else{var T=function n(t){var e;if(t)for(var r=0;r<t.length;r++){if("a"===(e=t[r]).tag)return e;if(e.children&&(e=n(e.children)))return e}}(this.$slots.default);if(T){T.isStatic=!1;var E=T.data=i({},T.data);for(var A in E.on=E.on||{},E.on){var D=E.on[A];A in x&&(E.on[A]=Array.isArray(D)?D:[D])}for(var C in x)C in E.on?E.on[C].push(x[C]):E.on[C]=w;var P=T.data.attrs=i({},T.data.attrs);P.href=l,P["aria-current"]=_}else $.on=x}return n(this.tag,$,this.$slots.default)}};function Y(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}var X="undefined"!=typeof window;function Q(n,t,e,r,i){var o=t||[],a=e||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(t,e,r,i,o,a){var s=i.path,l=i.name;0;var c=i.pathToRegexpOptions||{},u=function(n,t,e){e||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==t)return n;return T(t.path+"/"+n)}(s,o,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var p={path:u,regex:J(u,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:l,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var o=a?T(a+"/"+i.path):void 0;n(t,e,r,i,p,o)}));e[p.path]||(t.push(p.path),e[p.path]=p);if(void 0!==i.alias)for(var d=Array.isArray(i.alias)?i.alias:[i.alias],m=0;m<d.length;++m){0;var h={path:d[m],children:i.children};n(t,e,r,h,o,p.path||"/")}l&&(r[l]||(r[l]=p))}(o,a,s,n,i)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:a,nameMap:s}}function J(n,t){return A(n,[],t)}function K(n,t){var e=Q(n),r=e.pathList,i=e.pathMap,o=e.nameMap;function a(n,e,a){var s=G(n,e,!1,t),c=s.name;if(c){var u=o[c];if(!u)return l(null,s);var p=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),e&&"object"==typeof e.params)for(var d in e.params)!(d in s.params)&&p.indexOf(d)>-1&&(s.params[d]=e.params[d]);return s.path=V(u.path,s.params),l(u,s,a)}if(s.path){s.params={};for(var m=0;m<r.length;m++){var h=r[m],g=i[h];if(Z(g.regex,s.path,s.params))return l(g,s,a)}}return l(null,s)}function s(n,e){var r=n.redirect,i="function"==typeof r?r(h(n,e,null,t)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return l(null,e);var s=i,c=s.name,u=s.path,p=e.query,d=e.hash,m=e.params;if(p=s.hasOwnProperty("query")?s.query:p,d=s.hasOwnProperty("hash")?s.hash:d,m=s.hasOwnProperty("params")?s.params:m,c){o[c];return a({_normalized:!0,name:c,query:p,hash:d,params:m},void 0,e)}if(u){var g=function(n,t){return k(n,t.parent?t.parent.path:"/",!0)}(u,n);return a({_normalized:!0,path:V(g,m),query:p,hash:d},void 0,e)}return l(null,e)}function l(n,e,r){return n&&n.redirect?s(n,r||e):n&&n.matchAs?function(n,t,e){var r=a({_normalized:!0,path:V(e,t.params)});if(r){var i=r.matched,o=i[i.length-1];return t.params=r.params,l(o,t)}return l(null,t)}(0,e,n.matchAs):h(n,e,r,t)}return{match:a,addRoute:function(n,t){var e="object"!=typeof n?o[n]:void 0;Q([t||n],r,i,o,e),e&&e.alias.length&&Q(e.alias.map((function(n){return{path:n,children:[t]}})),r,i,o,e)},getRoutes:function(){return r.map((function(n){return i[n]}))},addRoutes:function(n){Q(n,r,i,o)}}}function Z(n,t,e){var r=t.match(n);if(!r)return!1;if(!e)return!0;for(var i=1,o=r.length;i<o;++i){var a=n.keys[i-1];a&&(e[a.name||"pathMatch"]="string"==typeof r[i]?c(r[i]):r[i])}return!0}var nn=X&&window.performance&&window.performance.now?window.performance:Date;function tn(){return nn.now().toFixed(3)}var en=tn();function rn(){return en}function on(n){return en=n}var an=Object.create(null);function sn(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(n,""),e=i({},window.history.state);return e.key=rn(),window.history.replaceState(e,"",t),window.addEventListener("popstate",un),function(){window.removeEventListener("popstate",un)}}function ln(n,t,e,r){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var o=function(){var n=rn();if(n)return an[n]}(),a=i.call(n,t,e,r?o:null);a&&("function"==typeof a.then?a.then((function(n){gn(n,o)})).catch((function(n){0})):gn(a,o))}))}}function cn(){var n=rn();n&&(an[n]={x:window.pageXOffset,y:window.pageYOffset})}function un(n){cn(),n.state&&n.state.key&&on(n.state.key)}function pn(n){return mn(n.x)||mn(n.y)}function dn(n){return{x:mn(n.x)?n.x:window.pageXOffset,y:mn(n.y)?n.y:window.pageYOffset}}function mn(n){return"number"==typeof n}var hn=/^#\d/;function gn(n,t){var e,r="object"==typeof n;if(r&&"string"==typeof n.selector){var i=hn.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var o=n.offset&&"object"==typeof n.offset?n.offset:{};t=function(n,t){var e=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-e.left-t.x,y:r.top-e.top-t.y}}(i,o={x:mn((e=o).x)?e.x:0,y:mn(e.y)?e.y:0})}else pn(n)&&(t=dn(n))}else r&&pn(n)&&(t=dn(n));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:n.behavior}):window.scrollTo(t.x,t.y))}var fn,vn=X&&((-1===(fn=window.navigator.userAgent).indexOf("Android 2.")&&-1===fn.indexOf("Android 4.0")||-1===fn.indexOf("Mobile Safari")||-1!==fn.indexOf("Chrome")||-1!==fn.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function yn(n,t){cn();var e=window.history;try{if(t){var r=i({},e.state);r.key=rn(),e.replaceState(r,"",n)}else e.pushState({key:on(tn())},"",n)}catch(e){window.location[t?"replace":"assign"](n)}}function bn(n){yn(n,!0)}var _n={redirected:2,aborted:4,cancelled:8,duplicated:16};function wn(n,t){return $n(n,t,_n.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var t={};return kn.forEach((function(e){e in n&&(t[e]=n[e])})),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}function xn(n,t){return $n(n,t,_n.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function $n(n,t,e,r){var i=new Error(r);return i._isRouter=!0,i.from=n,i.to=t,i.type=e,i}var kn=["params","query","hash"];function Tn(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function En(n,t){return Tn(n)&&n._isRouter&&(null==t||n.type===t)}function An(n,t,e){var r=function(i){i>=n.length?e():n[i]?t(n[i],(function(){r(i+1)})):r(i+1)};r(0)}function Dn(n){return function(t,e,r){var i=!1,o=0,a=null;Cn(n,(function(n,t,e,s){if("function"==typeof n&&void 0===n.cid){i=!0,o++;var l,c=In((function(t){var i;((i=t).__esModule||Sn&&"Module"===i[Symbol.toStringTag])&&(t=t.default),n.resolved="function"==typeof t?t:q.extend(t),e.components[s]=t,--o<=0&&r()})),u=In((function(n){var t="Failed to resolve async component "+s+": "+n;a||(a=Tn(n)?n:new Error(t),r(a))}));try{l=n(c,u)}catch(n){u(n)}if(l)if("function"==typeof l.then)l.then(c,u);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,u)}}})),i||r()}}function Cn(n,t){return Pn(n.map((function(n){return Object.keys(n.components).map((function(e){return t(n.components[e],n.instances[e],n,e)}))})))}function Pn(n){return Array.prototype.concat.apply([],n)}var Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function In(n){var t=!1;return function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(!t)return t=!0,n.apply(this,e)}}var jn=function(n,t){this.router=n,this.base=function(n){if(!n)if(X){var t=document.querySelector("base");n=(n=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(t),this.current=f,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function On(n,t,e,r){var i=Cn(n,(function(n,r,i,o){var a=function(n,t){"function"!=typeof n&&(n=q.extend(n));return n.options[t]}(n,t);if(a)return Array.isArray(a)?a.map((function(n){return e(n,r,i,o)})):e(a,r,i,o)}));return Pn(r?i.reverse():i)}function Ln(n,t){if(t)return function(){return n.apply(t,arguments)}}jn.prototype.listen=function(n){this.cb=n},jn.prototype.onReady=function(n,t){this.ready?n():(this.readyCbs.push(n),t&&this.readyErrorCbs.push(t))},jn.prototype.onError=function(n){this.errorCbs.push(n)},jn.prototype.transitionTo=function(n,t,e){var r,i=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(t){t(n)})),n}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),t&&t(r),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(r)})))}),(function(n){e&&e(n),n&&!i.ready&&(En(n,_n.redirected)&&o===f||(i.ready=!0,i.readyErrorCbs.forEach((function(t){t(n)}))))}))},jn.prototype.confirmTransition=function(n,t,e){var r=this,i=this.current;this.pending=n;var o=function(n){!En(n)&&Tn(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(n)})):console.error(n)),e&&e(n)},a=n.matched.length-1,s=i.matched.length-1;if(b(n,i)&&a===s&&n.matched[a]===i.matched[s])return this.ensureURL(),n.hash&&ln(this.router,i,n,!1),o(function(n,t){var e=$n(n,t,_n.duplicated,'Avoided redundant navigation to current location: "'+n.fullPath+'".');return e.name="NavigationDuplicated",e}(i,n));var l=function(n,t){var e,r=Math.max(n.length,t.length);for(e=0;e<r&&n[e]===t[e];e++);return{updated:t.slice(0,e),activated:t.slice(e),deactivated:n.slice(e)}}(this.current.matched,n.matched),c=l.updated,u=l.deactivated,p=l.activated,d=[].concat(function(n){return On(n,"beforeRouteLeave",Ln,!0)}(u),this.router.beforeHooks,function(n){return On(n,"beforeRouteUpdate",Ln)}(c),p.map((function(n){return n.beforeEnter})),Dn(p)),m=function(t,e){if(r.pending!==n)return o(xn(i,n));try{t(n,i,(function(t){!1===t?(r.ensureURL(!0),o(function(n,t){return $n(n,t,_n.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(i,n))):Tn(t)?(r.ensureURL(!0),o(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(o(wn(i,n)),"object"==typeof t&&t.replace?r.replace(t):r.push(t)):e(t)}))}catch(n){o(n)}};An(d,m,(function(){An(function(n){return On(n,"beforeRouteEnter",(function(n,t,e,r){return function(n,t,e){return function(r,i,o){return n(r,i,(function(n){"function"==typeof n&&(t.enteredCbs[e]||(t.enteredCbs[e]=[]),t.enteredCbs[e].push(n)),o(n)}))}}(n,e,r)}))}(p).concat(r.router.resolveHooks),m,(function(){if(r.pending!==n)return o(xn(i,n));r.pending=null,t(n),r.router.app&&r.router.app.$nextTick((function(){w(n)}))}))}))},jn.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},jn.prototype.setupListeners=function(){},jn.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=f,this.pending=null};var Mn=function(n){function t(t,e){n.call(this,t,e),this._startLocation=Fn(this.base)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var t=this.router,e=t.options.scrollBehavior,r=vn&&e;r&&this.listeners.push(sn());var i=function(){var e=n.current,i=Fn(n.base);n.current===f&&i===n._startLocation||n.transitionTo(i,(function(n){r&&ln(t,n,e,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},t.prototype.go=function(n){window.history.go(n)},t.prototype.push=function(n,t,e){var r=this,i=this.current;this.transitionTo(n,(function(n){yn(T(r.base+n.fullPath)),ln(r.router,n,i,!1),t&&t(n)}),e)},t.prototype.replace=function(n,t,e){var r=this,i=this.current;this.transitionTo(n,(function(n){bn(T(r.base+n.fullPath)),ln(r.router,n,i,!1),t&&t(n)}),e)},t.prototype.ensureURL=function(n){if(Fn(this.base)!==this.current.fullPath){var t=T(this.base+this.current.fullPath);n?yn(t):bn(t)}},t.prototype.getCurrentLocation=function(){return Fn(this.base)},t}(jn);function Fn(n){var t=window.location.pathname,e=t.toLowerCase(),r=n.toLowerCase();return!n||e!==r&&0!==e.indexOf(T(r+"/"))||(t=t.slice(n.length)),(t||"/")+window.location.search+window.location.hash}var zn=function(n){function t(t,e,r){n.call(this,t,e),r&&function(n){var t=Fn(n);if(!/^\/#/.test(t))return window.location.replace(T(n+"/#"+t)),!0}(this.base)||Rn()}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,e=vn&&t;e&&this.listeners.push(sn());var r=function(){var t=n.current;Rn()&&n.transitionTo(Bn(),(function(r){e&&ln(n.router,r,t,!0),vn||Vn(r.fullPath)}))},i=vn?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},t.prototype.push=function(n,t,e){var r=this,i=this.current;this.transitionTo(n,(function(n){Un(n.fullPath),ln(r.router,n,i,!1),t&&t(n)}),e)},t.prototype.replace=function(n,t,e){var r=this,i=this.current;this.transitionTo(n,(function(n){Vn(n.fullPath),ln(r.router,n,i,!1),t&&t(n)}),e)},t.prototype.go=function(n){window.history.go(n)},t.prototype.ensureURL=function(n){var t=this.current.fullPath;Bn()!==t&&(n?Un(t):Vn(t))},t.prototype.getCurrentLocation=function(){return Bn()},t}(jn);function Rn(){var n=Bn();return"/"===n.charAt(0)||(Vn("/"+n),!1)}function Bn(){var n=window.location.href,t=n.indexOf("#");return t<0?"":n=n.slice(t+1)}function Nn(n){var t=window.location.href,e=t.indexOf("#");return(e>=0?t.slice(0,e):t)+"#"+n}function Un(n){vn?yn(Nn(n)):window.location.hash=n}function Vn(n){vn?bn(Nn(n)):window.location.replace(Nn(n))}var Gn=function(n){function t(t,e){n.call(this,t,e),this.stack=[],this.index=-1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.push=function(n,t,e){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,t&&t(n)}),e)},t.prototype.replace=function(n,t,e){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),t&&t(n)}),e)},t.prototype.go=function(n){var t=this,e=this.index+n;if(!(e<0||e>=this.stack.length)){var r=this.stack[e];this.confirmTransition(r,(function(){var n=t.current;t.index=e,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,n)}))}),(function(n){En(n,_n.duplicated)&&(t.index=e)}))}},t.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},t.prototype.ensureURL=function(){},t}(jn),qn=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=K(n.routes||[],this);var t=n.mode||"hash";switch(this.fallback="history"===t&&!vn&&!1!==n.fallback,this.fallback&&(t="hash"),X||(t="abstract"),this.mode=t,t){case"history":this.history=new Mn(this,n.base);break;case"hash":this.history=new zn(this,n.base,this.fallback);break;case"abstract":this.history=new Gn(this,n.base);break;default:0}},Hn={currentRoute:{configurable:!0}};qn.prototype.match=function(n,t,e){return this.matcher.match(n,t,e)},Hn.currentRoute.get=function(){return this.history&&this.history.current},qn.prototype.init=function(n){var t=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var e=t.apps.indexOf(n);e>-1&&t.apps.splice(e,1),t.app===n&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=n;var e=this.history;if(e instanceof Mn||e instanceof zn){var r=function(n){e.setupListeners(),function(n){var r=e.current,i=t.options.scrollBehavior;vn&&i&&"fullPath"in n&&ln(t,n,r,!1)}(n)};e.transitionTo(e.getCurrentLocation(),r,r)}e.listen((function(n){t.apps.forEach((function(t){t._route=n}))}))}},qn.prototype.beforeEach=function(n){return Yn(this.beforeHooks,n)},qn.prototype.beforeResolve=function(n){return Yn(this.resolveHooks,n)},qn.prototype.afterEach=function(n){return Yn(this.afterHooks,n)},qn.prototype.onReady=function(n,t){this.history.onReady(n,t)},qn.prototype.onError=function(n){this.history.onError(n)},qn.prototype.push=function(n,t,e){var r=this;if(!t&&!e&&"undefined"!=typeof Promise)return new Promise((function(t,e){r.history.push(n,t,e)}));this.history.push(n,t,e)},qn.prototype.replace=function(n,t,e){var r=this;if(!t&&!e&&"undefined"!=typeof Promise)return new Promise((function(t,e){r.history.replace(n,t,e)}));this.history.replace(n,t,e)},qn.prototype.go=function(n){this.history.go(n)},qn.prototype.back=function(){this.go(-1)},qn.prototype.forward=function(){this.go(1)},qn.prototype.getMatchedComponents=function(n){var t=n?n.matched?n:this.resolve(n).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(n){return Object.keys(n.components).map((function(t){return n.components[t]}))}))):[]},qn.prototype.resolve=function(n,t,e){var r=G(n,t=t||this.history.current,e,this),i=this.match(r,t),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(n,t,e){var r="hash"===e?"#"+t:t;return n?T(n+"/"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},qn.prototype.getRoutes=function(){return this.matcher.getRoutes()},qn.prototype.addRoute=function(n,t){this.matcher.addRoute(n,t),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},qn.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(qn.prototype,Hn);var Wn=qn;function Yn(n,t){return n.push(t),function(){var e=n.indexOf(t);e>-1&&n.splice(e,1)}}qn.install=function n(t){if(!n.installed||q!==t){n.installed=!0,q=t;var e=function(n){return void 0!==n},r=function(n,t){var r=n.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(n,t)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",x),t.component("RouterLink",W);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},qn.version="3.6.5",qn.isNavigationFailure=En,qn.NavigationFailureType=_n,qn.START_LOCATION=f,X&&window.Vue&&window.Vue.use(qn);e(67);e(10),e(139);var Xn={NotFound:()=>Promise.all([e.e(0),e.e(7)]).then(e.bind(null,455)),Category:()=>Promise.all([e.e(0),e.e(1),e.e(6)]).then(e.bind(null,456)),Layout:()=>Promise.all([e.e(0),e.e(1),e.e(3)]).then(e.bind(null,454)),Tag:()=>Promise.all([e.e(0),e.e(1),e.e(4)]).then(e.bind(null,457)),Tags:()=>Promise.all([e.e(0),e.e(1),e.e(5)]).then(e.bind(null,458)),TimeLines:()=>Promise.all([e.e(0),e.e(1),e.e(9)]).then(e.bind(null,459))},Qn={"v-b9b4343a":()=>e.e(11).then(e.bind(null,460)),"v-1636abee":()=>e.e(13).then(e.bind(null,461)),"v-95714c9a":()=>Promise.all([e.e(0),e.e(8)]).then(e.bind(null,453)),"v-66f04632":()=>e.e(17).then(e.bind(null,462)),"v-204ad842":()=>e.e(15).then(e.bind(null,463)),"v-ddb3964a":()=>e.e(14).then(e.bind(null,464)),"v-191778e0":()=>e.e(16).then(e.bind(null,465)),"v-ef5daee6":()=>e.e(12).then(e.bind(null,466)),"v-7202fbaa":()=>e.e(20).then(e.bind(null,467)),"v-f0d32e98":()=>e.e(19).then(e.bind(null,468)),"v-d961dbe6":()=>e.e(21).then(e.bind(null,469)),"v-1dcf4122":()=>e.e(18).then(e.bind(null,470)),"v-3be0ab5a":()=>e.e(23).then(e.bind(null,471)),"v-719f06b9":()=>e.e(22).then(e.bind(null,472)),"v-67ca7500":()=>e.e(26).then(e.bind(null,473)),"v-6c303cd8":()=>e.e(25).then(e.bind(null,474)),"v-f16e80a4":()=>e.e(24).then(e.bind(null,475)),"v-4bb32e94":()=>e.e(27).then(e.bind(null,476)),"v-688337c1":()=>e.e(28).then(e.bind(null,477)),"v-5993644e":()=>e.e(29).then(e.bind(null,478)),"v-e06de964":()=>e.e(36).then(e.bind(null,479)),"v-8c1e76fa":()=>e.e(31).then(e.bind(null,480)),"v-40eb3134":()=>e.e(30).then(e.bind(null,481)),"v-05801c55":()=>e.e(33).then(e.bind(null,482)),"v-279330ce":()=>e.e(32).then(e.bind(null,483)),"v-61cfa864":()=>e.e(40).then(e.bind(null,484)),"v-99129e24":()=>e.e(34).then(e.bind(null,485)),"v-5d9bfa4e":()=>e.e(37).then(e.bind(null,486)),"v-a38a6564":()=>e.e(35).then(e.bind(null,487)),"v-00b45ead":()=>e.e(43).then(e.bind(null,488)),"v-775ba0ae":()=>e.e(38).then(e.bind(null,489)),"v-70bfbfe6":()=>e.e(41).then(e.bind(null,490)),"v-6d08b87e":()=>e.e(39).then(e.bind(null,491)),"v-7f9a1228":()=>e.e(44).then(e.bind(null,492)),"v-11f514a5":()=>e.e(42).then(e.bind(null,493)),"v-fe03593c":()=>e.e(45).then(e.bind(null,494)),"v-cf177a80":()=>e.e(46).then(e.bind(null,495)),"v-d202a9e6":()=>e.e(51).then(e.bind(null,496)),"v-02097f33":()=>e.e(47).then(e.bind(null,497)),"v-8016f312":()=>e.e(55).then(e.bind(null,498)),"v-39f88ac1":()=>e.e(56).then(e.bind(null,499)),"v-084ca106":()=>e.e(49).then(e.bind(null,500)),"v-07e0d963":()=>e.e(48).then(e.bind(null,501)),"v-7967ef00":()=>e.e(50).then(e.bind(null,502)),"v-1e2c93b5":()=>e.e(57).then(e.bind(null,503)),"v-0eaa4d08":()=>e.e(58).then(e.bind(null,504)),"v-22170670":()=>e.e(52).then(e.bind(null,505)),"v-87f23a76":()=>e.e(54).then(e.bind(null,506)),"v-4532a315":()=>e.e(53).then(e.bind(null,507)),"v-00b49c8d":()=>e.e(62).then(e.bind(null,508)),"v-2145a02a":()=>e.e(59).then(e.bind(null,509)),"v-232a4853":()=>e.e(60).then(e.bind(null,510)),"v-5b9068e2":()=>e.e(61).then(e.bind(null,511)),"v-116737e9":()=>e.e(64).then(e.bind(null,512)),"v-44220668":()=>e.e(63).then(e.bind(null,513)),"v-18db05ed":()=>e.e(66).then(e.bind(null,514)),"v-22e271ca":()=>e.e(68).then(e.bind(null,515)),"v-d5bdc22a":()=>e.e(65).then(e.bind(null,516)),"v-6ad4e019":()=>e.e(67).then(e.bind(null,517)),"v-7248ae1d":()=>e.e(69).then(e.bind(null,518)),"v-13fad5c2":()=>e.e(70).then(e.bind(null,519)),"v-0db59754":()=>e.e(71).then(e.bind(null,520)),"v-1e630588":()=>e.e(72).then(e.bind(null,521)),"v-3ddebbee":()=>e.e(73).then(e.bind(null,522)),"v-4edf6ea4":()=>e.e(74).then(e.bind(null,523)),"v-3b089eba":()=>e.e(75).then(e.bind(null,524))};function Jn(n){const t=Object.create(null);return function(e){return t[e]||(t[e]=n(e))}}const Kn=/-(\w)/g,Zn=Jn(n=>n.replace(Kn,(n,t)=>t?t.toUpperCase():"")),nt=/\B([A-Z])/g,tt=Jn(n=>n.replace(nt,"-$1").toLowerCase()),et=Jn(n=>n.charAt(0).toUpperCase()+n.slice(1));function rt(n,t){if(!t)return;if(n(t))return n(t);return t.includes("-")?n(et(Zn(t))):n(et(t))||n(tt(t))}const it=Object.assign({},Xn,Qn),ot=n=>it[n],at=n=>Qn[n],st=n=>Xn[n],lt=n=>r.b.component(n);function ct(n){return rt(at,n)}function ut(n){return rt(st,n)}function pt(n){return rt(ot,n)}function dt(n){return rt(lt,n)}function mt(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!dt(n)&&pt(n)){const t=await pt(n)();r.b.component(n,t.default)}}))}function ht(n,t){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=t)}var gt=e(131),ft=e.n(gt),vt=e(132),yt=e.n(vt),bt={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,t])=>t),this.$ssrContext){const t=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=t)?n.map(n=>{let t="<meta";return Object.keys(n).forEach(e=>{t+=` ${e}="${yt()(n[e])}"`}),t+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=wt(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=xt(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return ft()([{name:"description",content:this.$description}],n,this.siteMeta,$t)},updateCanonicalLink(){_t(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",wt(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){xt(null,this.currentMetaTags),_t()}};function _t(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function wt(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function xt(n,t){if(t&&[...t].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const t=document.createElement("meta");return Object.keys(n).forEach(e=>{t.setAttribute(e,n[e])}),document.head.appendChild(t),t})}function $t(n){for(const t of["name","property","itemprop"])if(n.hasOwnProperty(t))return n[t]+t;return JSON.stringify(n)}var kt=e(133),Tt={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:e.n(kt)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter(t=>n.some(n=>n.hash===t.hash)),e=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+e;for(let n=0;n<t.length;n++){const o=t[n],a=t[n+1],s=0===n&&0===e||e>=o.parentElement.offsetTop+10&&(!a||e<a.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(s&&l!==decodeURIComponent(o.hash)){const e=o;if(i===r)for(let e=n+1;e<t.length;e++)if(l===decodeURIComponent(t[e].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(e.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Et=e(39),At=e.n(Et),Dt={mounted(){At.a.configure({showSpinner:!1}),this.$router.beforeEach((n,t,e)=>{n.path===t.path||r.b.component(n.name)||At.a.start(),e()}),this.$router.afterEach(()=>{At.a.done(),this.isSidebarOpen=!1})}},Ct=e(134),Pt=e.n(Ct),St={mounted(){Pt.a.polyfill()}},It=e(135),jt={noCopy:!1,noSelect:!1,disabled:!1,minLength:10,authorName:"子车轻罗"},Ot={props:{html:String,lang:String},created(){this.authorName="string"==typeof jt.authorName?jt.authorName:this.getI18nValue(jt.authorName),this.text=this.getI18nValue(It),this.location=String(location).replace(/#.+$/,"")},methods:{getI18nValue(n){return this.lang in n?n[this.lang]:n["en-US"]}}},Lt=e(1),Mt=Object(Lt.a)(Ot,(function(){var n=this,t=n._self._c;return t("div",[t("p",[n._v(n._s(n.text.beforeAuthor)+n._s(n.authorName||n.text.author)+n._s(n.text.afterAuthor)),t("a",{attrs:{href:n.location}},[n._v(n._s(decodeURIComponent(n.location)))])]),n._v("\n\n"),t("div",{domProps:{innerHTML:n._s(n.html)}})])}),[],!1,null,null,null).exports,Ft={data:()=>({isElement:!1}),created(){this.onCopy=n=>{const t=getSelection().getRangeAt(0);if(String(t).length<this.minLength)return;if(n.preventDefault(),this.noCopy)return;const e=document.createElement("div");e.appendChild(getSelection().getRangeAt(0).cloneContents());const i=this.$lang,o=new r.b({render:n=>n(Mt,{props:{html:e.innerHTML,lang:i}})}).$mount(),{innerHTML:a,innerText:s}=o.$el;n.clipboardData?(n.clipboardData.setData("text/html",a),n.clipboardData.setData("text/plain",s)):window.clipboardData&&window.clipboardData.setData("text",s)}},watch:{isElement(n){if(!n)return;let{copyright:t=!jt.disabled}=this.$frontmatter;if(!t)return;"object"!=typeof t&&(t={});const e=t.noSelect||jt.noSelect;this.minLength=t.minLength||jt.minLength,this.noCopy=t.noCopy||jt.noCopy,e?this.$el.style.userSelect="none":this.$el.addEventListener("copy",this.onCopy)}},updated(){this.isElement="#comment"!==this.$el.nodeName},beforeDestory(){this.$el.removeEventListener("copy",this.onCopy)}},zt={data:()=>({showCopyButton:!0}),computed:{iconClass:()=>!0,iconTitle:()=>"Copy",alignStyle(){let n={top:"0.5em"};return n},color:()=>"#ffffff"},methods:{success(){this.showCopyButton=!this.showCopyButton,setTimeout(()=>{this.reset()},500)},reset(){this.showCopyButton=!this.showCopyButton}}},Rt=(e(275),Object(Lt.a)(zt,(function(){var n=this,t=n._self._c;return t("div",[t("svg",{directives:[{name:"show",rawName:"v-show",value:n.showCopyButton,expression:"showCopyButton"}],staticClass:"copy-button",class:{hover:n.iconClass},style:n.alignStyle,attrs:{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24","aria-labelledby":"copyIconTitle",stroke:n.color,"stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"miter",fill:"none",color:n.color},on:{click:n.success}},[t("title",{attrs:{id:"copyIconTitle"}},[n._v(n._s(n.iconTitle))]),n._v(" "),t("rect",{attrs:{width:"12",height:"14",x:"8",y:"7"}}),n._v(" "),t("polyline",{attrs:{points:"16 3 4 3 4 17"}})]),n._v(" "),t("svg",{directives:[{name:"show",rawName:"v-show",value:!n.showCopyButton,expression:"!showCopyButton"}],staticClass:"copy-ok",style:n.alignStyle,attrs:{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24","aria-labelledby":"okIconTitle",stroke:"#3eaf7c","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"miter",fill:"none",color:"#3eaf7c"}},[t("title",{attrs:{id:"okIconTitle"}},[n._v("Ok")]),n._v(" "),t("polyline",{attrs:{points:"4 13 9 18 20 7"}})])])}),[],!1,null,"4f47a0ca",null).exports),Bt=(e(276),{updated(){document.querySelectorAll('div[class*="language-"]').forEach(n=>{if(n.classList.contains("xiaopanda-code-copy"))return;const t=new(r.b.extend(Rt));t.$mount();const e=t.$el;n.prepend(e),n.classList.add("xiaopanda-code-copy"),e.addEventListener("click",()=>{const t=n.querySelector("code");if(navigator.clipboard)navigator.clipboard.writeText(t.innerText).then(()=>{});else{const n=document.createElement("textarea");document.body.appendChild(n),n.value=t.innerText,n.select(),document.execCommand("copy"),n.remove()}let e=n.style.transition,r=n.style.background;n.style.transition="background 200ms",n.style.background="#2c3e50",setTimeout(()=>{n.style.transition=e,n.style.background=r},200)})})}}),Nt=(e(277),Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}),Ut=function(n){return"IMG"===n.tagName},Vt=function(n){return n&&1===n.nodeType},Gt=function(n){return".svg"===(n.currentSrc||n.src).substr(-4).toLowerCase()},qt=function(n){try{return Array.isArray(n)?n.filter(Ut):function(n){return NodeList.prototype.isPrototypeOf(n)}(n)?[].slice.call(n).filter(Ut):Vt(n)?[n].filter(Ut):"string"==typeof n?[].slice.call(document.querySelectorAll(n)).filter(Ut):[]}catch(n){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},Ht=function(n){var t=document.createElement("div");return t.classList.add("medium-zoom-overlay"),t.style.background=n,t},Wt=function(n){var t=n.getBoundingClientRect(),e=t.top,r=t.left,i=t.width,o=t.height,a=n.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=e+s+"px",a.style.left=r+l+"px",a.style.width=i+"px",a.style.height=o+"px",a.style.transform="",a},Yt=function(n,t){var e=Nt({bubbles:!1,cancelable:!1,detail:void 0},t);if("function"==typeof window.CustomEvent)return new CustomEvent(n,e);var r=document.createEvent("CustomEvent");return r.initCustomEvent(n,e.bubbles,e.cancelable,e.detail),r};!function(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");var Xt=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=window.Promise||function(n){function t(){}n(t,t)},i=function(n){var t=n.target;t!==T?-1!==b.indexOf(t)&&g({target:t}):h()},o=function(){if(!w&&k.original){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(x-n)>$.scrollOffset&&setTimeout(h,150)}},a=function(n){var t=n.key||n.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||h()},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n;if(n.background&&(T.style.background=n.background),n.container&&n.container instanceof Object&&(t.container=Nt({},$.container,n.container)),n.template){var e=Vt(n.template)?n.template:document.querySelector(n.template);t.template=e}return $=Nt({},$,t),b.forEach((function(n){n.dispatchEvent(Yt("medium-zoom:update",{detail:{zoom:E}}))})),E},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(Nt({},$,t))},c=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];var r=t.reduce((function(n,t){return[].concat(n,qt(t))}),[]);return r.filter((function(n){return-1===b.indexOf(n)})).forEach((function(n){b.push(n),n.classList.add("medium-zoom-image")})),_.forEach((function(n){var t=n.type,e=n.listener,i=n.options;r.forEach((function(n){n.addEventListener(t,e,i)}))})),E},u=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];k.zoomed&&h();var r=t.length>0?t.reduce((function(n,t){return[].concat(n,qt(t))}),[]):b;return r.forEach((function(n){n.classList.remove("medium-zoom-image"),n.dispatchEvent(Yt("medium-zoom:detach",{detail:{zoom:E}}))})),b=b.filter((function(n){return-1===r.indexOf(n)})),E},p=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.forEach((function(r){r.addEventListener("medium-zoom:"+n,t,e)})),_.push({type:"medium-zoom:"+n,listener:t,options:e}),E},d=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.forEach((function(r){r.removeEventListener("medium-zoom:"+n,t,e)})),_=_.filter((function(e){return!(e.type==="medium-zoom:"+n&&e.listener.toString()===t.toString())})),E},m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.target,e=function(){var n={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},t=void 0,e=void 0;if($.container)if($.container instanceof Object)t=(n=Nt({},n,$.container)).width-n.left-n.right-2*$.margin,e=n.height-n.top-n.bottom-2*$.margin;else{var r=(Vt($.container)?$.container:document.querySelector($.container)).getBoundingClientRect(),i=r.width,o=r.height,a=r.left,s=r.top;n=Nt({},n,{width:i,height:o,left:a,top:s})}t=t||n.width-2*$.margin,e=e||n.height-2*$.margin;var l=k.zoomedHd||k.original,c=Gt(l)?t:l.naturalWidth||t,u=Gt(l)?e:l.naturalHeight||e,p=l.getBoundingClientRect(),d=p.top,m=p.left,h=p.width,g=p.height,f=Math.min(Math.max(h,c),t)/h,v=Math.min(Math.max(g,u),e)/g,y=Math.min(f,v),b="scale("+y+") translate3d("+((t-h)/2-m+$.margin+n.left)/y+"px, "+((e-g)/2-d+$.margin+n.top)/y+"px, 0)";k.zoomed.style.transform=b,k.zoomedHd&&(k.zoomedHd.style.transform=b)};return new r((function(n){if(t&&-1===b.indexOf(t))n(E);else{if(k.zoomed)n(E);else{if(t)k.original=t;else{if(!(b.length>0))return void n(E);var r=b;k.original=r[0]}if(k.original.dispatchEvent(Yt("medium-zoom:open",{detail:{zoom:E}})),x=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=!0,k.zoomed=Wt(k.original),document.body.appendChild(T),$.template){var i=Vt($.template)?$.template:document.querySelector($.template);k.template=document.createElement("div"),k.template.appendChild(i.content.cloneNode(!0)),document.body.appendChild(k.template)}if(k.original.parentElement&&"PICTURE"===k.original.parentElement.tagName&&k.original.currentSrc&&(k.zoomed.src=k.original.currentSrc),document.body.appendChild(k.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),k.original.classList.add("medium-zoom-image--hidden"),k.zoomed.classList.add("medium-zoom-image--opened"),k.zoomed.addEventListener("click",h),k.zoomed.addEventListener("transitionend",(function t(){w=!1,k.zoomed.removeEventListener("transitionend",t),k.original.dispatchEvent(Yt("medium-zoom:opened",{detail:{zoom:E}})),n(E)})),k.original.getAttribute("data-zoom-src")){k.zoomedHd=k.zoomed.cloneNode(),k.zoomedHd.removeAttribute("srcset"),k.zoomedHd.removeAttribute("sizes"),k.zoomedHd.removeAttribute("loading"),k.zoomedHd.src=k.zoomed.getAttribute("data-zoom-src"),k.zoomedHd.onerror=function(){clearInterval(o),console.warn("Unable to reach the zoom image target "+k.zoomedHd.src),k.zoomedHd=null,e()};var o=setInterval((function(){k.zoomedHd.complete&&(clearInterval(o),k.zoomedHd.classList.add("medium-zoom-image--opened"),k.zoomedHd.addEventListener("click",h),document.body.appendChild(k.zoomedHd),e())}),10)}else if(k.original.hasAttribute("srcset")){k.zoomedHd=k.zoomed.cloneNode(),k.zoomedHd.removeAttribute("sizes"),k.zoomedHd.removeAttribute("loading");var a=k.zoomedHd.addEventListener("load",(function(){k.zoomedHd.removeEventListener("load",a),k.zoomedHd.classList.add("medium-zoom-image--opened"),k.zoomedHd.addEventListener("click",h),document.body.appendChild(k.zoomedHd),e()}))}else e()}}}))},h=function(){return new r((function(n){if(!w&&k.original){w=!0,document.body.classList.remove("medium-zoom--opened"),k.zoomed.style.transform="",k.zoomedHd&&(k.zoomedHd.style.transform=""),k.template&&(k.template.style.transition="opacity 150ms",k.template.style.opacity=0),k.original.dispatchEvent(Yt("medium-zoom:close",{detail:{zoom:E}})),k.zoomed.addEventListener("transitionend",(function t(){k.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(k.zoomed),k.zoomedHd&&document.body.removeChild(k.zoomedHd),document.body.removeChild(T),k.zoomed.classList.remove("medium-zoom-image--opened"),k.template&&document.body.removeChild(k.template),w=!1,k.zoomed.removeEventListener("transitionend",t),k.original.dispatchEvent(Yt("medium-zoom:closed",{detail:{zoom:E}})),k.original=null,k.zoomed=null,k.zoomedHd=null,k.template=null,n(E)}))}else n(E)}))},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.target;return k.original?h():m({target:t})},f=function(){return $},v=function(){return b},y=function(){return k.original},b=[],_=[],w=!1,x=0,$=e,k={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?$=t:(t||"string"==typeof t)&&c(t),$=Nt({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},$);var T=Ht($.background);document.addEventListener("click",i),document.addEventListener("keyup",a),document.addEventListener("scroll",o),window.addEventListener("resize",h);var E={open:m,close:h,toggle:g,update:s,clone:l,attach:c,detach:u,on:p,off:d,getOptions:f,getImages:v,getZoomedImage:y};return E},Qt=[bt,Tt,Dt,St,Ft,Bt,{data:()=>({zoom:null}),mounted(){this.updateZoom()},updated(){this.updateZoom()},methods:{updateZoom(){setTimeout(()=>{this.zoom&&this.zoom.detach(),this.zoom=Xt(":not(a) > img",{margin:24,background:"rgba(25,18,25,0.9)",scrollOffset:40})},1e3)}}}],Jt={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return ht("layout",n),r.b.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},Kt=Object(Lt.a)(Jt,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,t,e){switch(t){case"components":n[t]||(n[t]={}),Object.assign(n[t],e);break;case"mixins":n[t]||(n[t]=[]),n[t].push(...e);break;default:throw new Error("Unknown option name.")}}(Kt,"mixins",Qt);const Zt=[{name:"v-b9b4343a",path:"/article/ai/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-b9b4343a").then(e)}},{path:"/article/ai/index.html",redirect:"/article/ai/"},{name:"v-1636abee",path:"/article/algorithm/timecomplexity.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-1636abee").then(e)}},{path:"/article/algorithm/时间复杂度.html",redirect:"/article/algorithm/timecomplexity.html"},{name:"v-95714c9a",path:"/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-95714c9a").then(e)}},{path:"/index.html",redirect:"/"},{name:"v-66f04632",path:"/article/diy/diycomputer3.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-66f04632").then(e)}},{path:"/article/diy/DIY主机-硬件调试.html",redirect:"/article/diy/diycomputer3.html"},{name:"v-204ad842",path:"/article/diy/diycomputer2.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-204ad842").then(e)}},{path:"/article/diy/DIY主机-安装.html",redirect:"/article/diy/diycomputer2.html"},{name:"v-ddb3964a",path:"/article/mysql/mysql-dml.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-ddb3964a").then(e)}},{path:"/article/db/mysql/mysql-DML.html",redirect:"/article/mysql/mysql-dml.html"},{name:"v-191778e0",path:"/article/diy/diycomputer4.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-191778e0").then(e)}},{path:"/article/diy/DIY主机-搞机.html",redirect:"/article/diy/diycomputer4.html"},{name:"v-ef5daee6",path:"/article/ai/aiops%E8%B0%83%E7%A0%94.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-ef5daee6").then(e)}},{path:"/article/ai/aiops调研.html",redirect:"/article/ai/aiops%E8%B0%83%E7%A0%94.html"},{path:"/article/ai/aiops调研.html",redirect:"/article/ai/aiops%E8%B0%83%E7%A0%94.html"},{name:"v-7202fbaa",path:"/article/gostudy/studygoday2.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-7202fbaa").then(e)}},{path:"/article/gostudy/day02-复合数据类型与流程控制.html",redirect:"/article/gostudy/studygoday2.html"},{name:"v-f0d32e98",path:"/article/gostudy/studygoday1.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-f0d32e98").then(e)}},{path:"/article/gostudy/day01-基本数据类型.html",redirect:"/article/gostudy/studygoday1.html"},{name:"v-d961dbe6",path:"/article/gostudy/studygoday3.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-d961dbe6").then(e)}},{path:"/article/gostudy/day03-函数.html",redirect:"/article/gostudy/studygoday3.html"},{name:"v-1dcf4122",path:"/article/diy/diycomputer1.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-1dcf4122").then(e)}},{path:"/article/diy/DIY主机-选配.html",redirect:"/article/diy/diycomputer1.html"},{name:"v-3be0ab5a",path:"/article/gostudy/studygoday5.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-3be0ab5a").then(e)}},{path:"/article/gostudy/day05-接口.html",redirect:"/article/gostudy/studygoday5.html"},{name:"v-719f06b9",path:"/article/gostudy/studygoday4.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-719f06b9").then(e)}},{path:"/article/gostudy/day04-结构体.html",redirect:"/article/gostudy/studygoday4.html"},{name:"v-67ca7500",path:"/article/gostudy/studygoday8.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-67ca7500").then(e)}},{path:"/article/gostudy/day08-标准库.html",redirect:"/article/gostudy/studygoday8.html"},{name:"v-6c303cd8",path:"/article/gostudy/studygoday7.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-6c303cd8").then(e)}},{path:"/article/gostudy/day07-并发安全.html",redirect:"/article/gostudy/studygoday7.html"},{name:"v-f16e80a4",path:"/article/gostudy/studygoday6.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-f16e80a4").then(e)}},{path:"/article/gostudy/day06-并发.html",redirect:"/article/gostudy/studygoday6.html"},{name:"v-4bb32e94",path:"/article/gostudy/studygoday9.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4bb32e94").then(e)}},{path:"/article/gostudy/day09-单元测试.html",redirect:"/article/gostudy/studygoday9.html"},{name:"v-688337c1",path:"/article/gostudy/studygoday10.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-688337c1").then(e)}},{path:"/article/gostudy/day10-中间件.html",redirect:"/article/gostudy/studygoday10.html"},{name:"v-5993644e",path:"/article/gostudy/studygoday11.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-5993644e").then(e)}},{path:"/article/gostudy/day11-context.html",redirect:"/article/gostudy/studygoday11.html"},{name:"v-e06de964",path:"/article/llm/cuda-pytorch.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-e06de964").then(e)}},{path:"/article/llm/cuda和pytorch关系.html",redirect:"/article/llm/cuda-pytorch.html"},{name:"v-8c1e76fa",path:"/article/gostudy/studygoday13.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-8c1e76fa").then(e)}},{path:"/article/gostudy/day13-网络编程.html",redirect:"/article/gostudy/studygoday13.html"},{name:"v-40eb3134",path:"/article/gostudy/studygoday12.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-40eb3134").then(e)}},{path:"/article/gostudy/day12-go module和pprof.html",redirect:"/article/gostudy/studygoday12.html"},{name:"v-05801c55",path:"/article/go/go-version-manage.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-05801c55").then(e)}},{path:"/article/gostudy/go版本管理工具.html",redirect:"/article/go/go-version-manage.html"},{name:"v-279330ce",path:"/article/gostudy/go-gin.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-279330ce").then(e)}},{path:"/article/gostudy/gin.html",redirect:"/article/gostudy/go-gin.html"},{name:"v-61cfa864",path:"/article/llm/wsl.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-61cfa864").then(e)}},{name:"v-99129e24",path:"/article/go/go-pprof.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-99129e24").then(e)}},{path:"/article/gostudy/pprof.html",redirect:"/article/go/go-pprof.html"},{name:"v-5d9bfa4e",path:"/article/llm/langchain-chatglm6b.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-5d9bfa4e").then(e)}},{path:"/article/llm/langchain-ChatGLM.html",redirect:"/article/llm/langchain-chatglm6b.html"},{name:"v-a38a6564",path:"/article/llm/chatglm6b.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-a38a6564").then(e)}},{path:"/article/llm/chatGLM.html",redirect:"/article/llm/chatglm6b.html"},{name:"v-00b45ead",path:"/article/llm/NVIDIA.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-00b45ead").then(e)}},{path:"/article/llm/英伟达gpu环境.html",redirect:"/article/llm/NVIDIA.html"},{name:"v-775ba0ae",path:"/article/llm/pytorch-install.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-775ba0ae").then(e)}},{path:"/article/llm/pytorch.html",redirect:"/article/llm/pytorch-install.html"},{name:"v-70bfbfe6",path:"/article/llm/voice-simulation.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-70bfbfe6").then(e)}},{path:"/article/llm/声音模拟.html",redirect:"/article/llm/voice-simulation.html"},{name:"v-6d08b87e",path:"/article/llm/stable-diffusion.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-6d08b87e").then(e)}},{name:"v-7f9a1228",path:"/article/middleware/etcd-v3.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-7f9a1228").then(e)}},{path:"/article/middleware/etcd.html",redirect:"/article/middleware/etcd-v3.html"},{name:"v-11f514a5",path:"/article/llm/aigc.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-11f514a5").then(e)}},{path:"/article/llm/玩转AIGC-原理+实战.html",redirect:"/article/llm/aigc.html"},{name:"v-fe03593c",path:"/article/middleware/etcd-command.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-fe03593c").then(e)}},{path:"/article/middleware/操作命令.html",redirect:"/article/middleware/etcd-command.html"},{name:"v-cf177a80",path:"/article/op/command/ffmpeg-install.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-cf177a80").then(e)}},{path:"/article/op/command/ffmpeg安装.html",redirect:"/article/op/command/ffmpeg-install.html"},{name:"v-d202a9e6",path:"/article/sre/troubleshooting.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-d202a9e6").then(e)}},{path:"/article/sre/故障排查.html",redirect:"/article/sre/troubleshooting.html"},{name:"v-02097f33",path:"/article/op/command/gitinstall.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-02097f33").then(e)}},{path:"/article/op/command/git-install.html",redirect:"/article/op/command/gitinstall.html"},{name:"v-8016f312",path:"/article/toolplatform/go-dev-ide.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-8016f312").then(e)}},{path:"/article/toolplatform/安装go环境.html",redirect:"/article/toolplatform/go-dev-ide.html"},{name:"v-39f88ac1",path:"/article/toolplatform/movie.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-39f88ac1").then(e)}},{path:"/article/toolplatform/电视直播.html",redirect:"/article/toolplatform/movie.html"},{name:"v-084ca106",path:"/article/op/net/outflow-ip.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-084ca106").then(e)}},{path:"/article/op/net/查看出口ip.html",redirect:"/article/op/net/outflow-ip.html"},{name:"v-07e0d963",path:"/article/op/command/sshproxy.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-07e0d963").then(e)}},{path:"/article/op/command/ssh.html",redirect:"/article/op/command/sshproxy.html"},{name:"v-7967ef00",path:"/article/python/pyenv.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-7967ef00").then(e)}},{name:"v-1e2c93b5",path:"/article/vue/supplement.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-1e2c93b5").then(e)}},{path:"/article/vue/VUE补充.html",redirect:"/article/vue/supplement.html"},{name:"v-0eaa4d08",path:"/article/vue/studyvueday1.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-0eaa4d08").then(e)}},{path:"/article/vue/day01-指令.html",redirect:"/article/vue/studyvueday1.html"},{name:"v-22170670",path:"/article/toolplatform/blog.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-22170670").then(e)}},{name:"v-87f23a76",path:"/article/toolplatform/vscode-plug-in.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-87f23a76").then(e)}},{path:"/article/toolplatform/vscode插件.html",redirect:"/article/toolplatform/vscode-plug-in.html"},{name:"v-4532a315",path:"/article/toolplatform/vim-go-ide.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4532a315").then(e)}},{path:"/article/toolplatform/vim-go插件配置.html",redirect:"/article/toolplatform/vim-go-ide.html"},{name:"v-00b49c8d",path:"/article/vue/studyvueday5.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-00b49c8d").then(e)}},{path:"/article/vue/day05-vue路由.html",redirect:"/article/vue/studyvueday5.html"},{name:"v-2145a02a",path:"/article/vue/studyvueday2.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-2145a02a").then(e)}},{path:"/article/vue/day02-基本特性.html",redirect:"/article/vue/studyvueday2.html"},{name:"v-232a4853",path:"/article/vue/studyvueday3.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-232a4853").then(e)}},{path:"/article/vue/day03-组件.html",redirect:"/article/vue/studyvueday3.html"},{name:"v-5b9068e2",path:"/article/vue/studyvueday4.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-5b9068e2").then(e)}},{path:"/article/vue/day04-接口调用.html",redirect:"/article/vue/studyvueday4.html"},{name:"v-116737e9",path:"/article/vue/studyvueday7.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-116737e9").then(e)}},{path:"/article/vue/day07-电商.html",redirect:"/article/vue/studyvueday7.html"},{name:"v-44220668",path:"/article/vue/studyvueday6.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-44220668").then(e)}},{path:"/article/vue/day06-vue前端工程化.html",redirect:"/article/vue/studyvueday6.html"},{name:"v-18db05ed",path:"/article/vue/studyvueday9.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-18db05ed").then(e)}},{path:"/article/vue/day09-电商.html",redirect:"/article/vue/studyvueday9.html"},{name:"v-22e271ca",path:"/article/vue/studyvueday11.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-22e271ca").then(e)}},{path:"/article/vue/day11-电商.html",redirect:"/article/vue/studyvueday11.html"},{name:"v-d5bdc22a",path:"/article/vue/studyvueday8.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-d5bdc22a").then(e)}},{path:"/article/vue/day08-电商.html",redirect:"/article/vue/studyvueday8.html"},{name:"v-6ad4e019",path:"/article/vue/studyvueday10.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-6ad4e019").then(e)}},{path:"/article/vue/day10-电商.html",redirect:"/article/vue/studyvueday10.html"},{name:"v-7248ae1d",path:"/article/vue/studyvueday12.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-7248ae1d").then(e)}},{path:"/article/vue/day12-电商.html",redirect:"/article/vue/studyvueday12.html"},{name:"v-13fad5c2",path:"/article/vue/studyvueday13.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-13fad5c2").then(e)}},{path:"/article/vue/day13-电商.html",redirect:"/article/vue/studyvueday13.html"},{name:"v-0db59754",path:"/article/vue/studyvueday14.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-0db59754").then(e)}},{path:"/article/vue/day14-vuex.html",redirect:"/article/vue/studyvueday14.html"},{name:"v-1e630588",path:"/article/vue/studyvueday15.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-1e630588").then(e)}},{path:"/article/vue/day15-vue-cli3.html",redirect:"/article/vue/studyvueday15.html"},{name:"v-3ddebbee",path:"/article/vue/elementuiskill.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-3ddebbee").then(e)}},{path:"/article/vue/elementUI-skill.html",redirect:"/article/vue/elementuiskill.html"},{name:"v-4edf6ea4",path:"/article/vue/vueskill.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4edf6ea4").then(e)}},{path:"/article/vue/vue-skill.html",redirect:"/article/vue/vueskill.html"},{name:"v-3b089eba",path:"/article/vue/bianque.html",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-3b089eba").then(e)}},{path:"/article/vue/前端异常处理.html",redirect:"/article/vue/bianque.html"},{name:"v-b1564aac",path:"/tag/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tags","v-b1564aac").then(e)},meta:{pid:"tags",id:"tags"}},{path:"/tag/index.html",redirect:"/tag/"},{name:"v-ef9325c4",path:"/categories/",component:Kt,beforeEnter:(n,t,e)=>{mt("FrontmatterKey","v-ef9325c4").then(e)},meta:{pid:"categories",id:"categories"}},{path:"/categories/index.html",redirect:"/categories/"},{name:"v-6319eb4e",path:"/timeline/",component:Kt,beforeEnter:(n,t,e)=>{mt("TimeLines","v-6319eb4e").then(e)},meta:{pid:"timeline",id:"timeline"}},{path:"/timeline/index.html",redirect:"/timeline/"},{name:"v-89abd2d6",path:"/tag/算法/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-89abd2d6").then(e)},meta:{pid:"tags",id:"算法"}},{path:"/tag/算法/index.html",redirect:"/tag/算法/"},{name:"v-6ee7f212",path:"/tag/mysql/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-6ee7f212").then(e)},meta:{pid:"tags",id:"mysql"}},{path:"/tag/mysql/index.html",redirect:"/tag/mysql/"},{name:"v-606fb9f7",path:"/tag/学习提升/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-606fb9f7").then(e)},meta:{pid:"tags",id:"学习提升"}},{path:"/tag/学习提升/index.html",redirect:"/tag/学习提升/"},{name:"v-324b265a",path:"/tag/SRE/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-324b265a").then(e)},meta:{pid:"tags",id:"SRE"}},{path:"/tag/SRE/index.html",redirect:"/tag/SRE/"},{name:"v-fc7b3c66",path:"/tag/异常检测/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-fc7b3c66").then(e)},meta:{pid:"tags",id:"异常检测"}},{path:"/tag/异常检测/index.html",redirect:"/tag/异常检测/"},{name:"v-e8d88546",path:"/tag/go/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-e8d88546").then(e)},meta:{pid:"tags",id:"go"}},{path:"/tag/go/index.html",redirect:"/tag/go/"},{name:"v-e66da3b6",path:"/tag/转载/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-e66da3b6").then(e)},meta:{pid:"tags",id:"转载"}},{path:"/tag/转载/index.html",redirect:"/tag/转载/"},{name:"v-1e16d702",path:"/tag/问题排查/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-1e16d702").then(e)},meta:{pid:"tags",id:"问题排查"}},{path:"/tag/问题排查/index.html",redirect:"/tag/问题排查/"},{name:"v-19ed615b",path:"/tag/vscode/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-19ed615b").then(e)},meta:{pid:"tags",id:"vscode"}},{path:"/tag/vscode/index.html",redirect:"/tag/vscode/"},{name:"v-3254a6e2",path:"/tag/IDE/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-3254a6e2").then(e)},meta:{pid:"tags",id:"IDE"}},{path:"/tag/IDE/index.html",redirect:"/tag/IDE/"},{name:"v-322a45da",path:"/tag/vue/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-322a45da").then(e)},meta:{pid:"tags",id:"vue"}},{path:"/tag/vue/index.html",redirect:"/tag/vue/"},{name:"v-dfb71430",path:"/tag/vuepress/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-dfb71430").then(e)},meta:{pid:"tags",id:"vuepress"}},{path:"/tag/vuepress/index.html",redirect:"/tag/vuepress/"},{name:"v-1f67da7c",path:"/tag/github/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-1f67da7c").then(e)},meta:{pid:"tags",id:"github"}},{path:"/tag/github/index.html",redirect:"/tag/github/"},{name:"v-77988f74",path:"/tag/博客/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-77988f74").then(e)},meta:{pid:"tags",id:"博客"}},{path:"/tag/博客/index.html",redirect:"/tag/博客/"},{name:"v-322a9e02",path:"/tag/vim/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-322a9e02").then(e)},meta:{pid:"tags",id:"vim"}},{path:"/tag/vim/index.html",redirect:"/tag/vim/"},{name:"v-50bf05c9",path:"/tag/elementUI/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-50bf05c9").then(e)},meta:{pid:"tags",id:"elementUI"}},{path:"/tag/elementUI/index.html",redirect:"/tag/elementUI/"},{name:"v-826f9e84",path:"/tag/异常处理/",component:Kt,beforeEnter:(n,t,e)=>{mt("Tag","v-826f9e84").then(e)},meta:{pid:"tags",id:"异常处理"}},{path:"/tag/异常处理/index.html",redirect:"/tag/异常处理/"},{name:"v-12afc5a1",path:"/categories/后端/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-12afc5a1").then(e)},meta:{pid:"categories",id:"后端"}},{path:"/categories/后端/index.html",redirect:"/categories/后端/"},{name:"v-021fd8b1",path:"/categories/工具/平台/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-021fd8b1").then(e)},meta:{pid:"categories",id:"工具/平台"}},{path:"/categories/工具/平台/index.html",redirect:"/categories/工具/平台/"},{name:"v-35a59993",path:"/categories/db/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-35a59993").then(e)},meta:{pid:"categories",id:"db"}},{path:"/categories/db/index.html",redirect:"/categories/db/"},{name:"v-69174553",path:"/categories/运维/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-69174553").then(e)},meta:{pid:"categories",id:"运维"}},{path:"/categories/运维/index.html",redirect:"/categories/运维/"},{name:"v-35a5a669",path:"/categories/go/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-35a5a669").then(e)},meta:{pid:"categories",id:"go"}},{path:"/categories/go/index.html",redirect:"/categories/go/"},{name:"v-154bf3b1",path:"/categories/大模型/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-154bf3b1").then(e)},meta:{pid:"categories",id:"大模型"}},{path:"/categories/大模型/index.html",redirect:"/categories/大模型/"},{name:"v-ab31fcde",path:"/categories/中间件/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-ab31fcde").then(e)},meta:{pid:"categories",id:"中间件"}},{path:"/categories/中间件/index.html",redirect:"/categories/中间件/"},{name:"v-155fc016",path:"/categories/python/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-155fc016").then(e)},meta:{pid:"categories",id:"python"}},{path:"/categories/python/index.html",redirect:"/categories/python/"},{name:"v-14bbbf36",path:"/categories/前端/",component:Kt,beforeEnter:(n,t,e)=>{mt("Category","v-14bbbf36").then(e)},meta:{pid:"categories",id:"前端"}},{path:"/categories/前端/index.html",redirect:"/categories/前端/"},{name:"v-4f0af034",path:"/tag/学习提升/page/2/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4f0af034").then(e)},meta:{pid:"tags",id:"学习提升"}},{path:"/tag/学习提升/page/2/index.html",redirect:"/tag/学习提升/page/2/"},{name:"v-4f0aeff6",path:"/tag/学习提升/page/3/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4f0aeff6").then(e)},meta:{pid:"tags",id:"学习提升"}},{path:"/tag/学习提升/page/3/index.html",redirect:"/tag/学习提升/page/3/"},{name:"v-4f0aefb8",path:"/tag/学习提升/page/4/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4f0aefb8").then(e)},meta:{pid:"tags",id:"学习提升"}},{path:"/tag/学习提升/page/4/index.html",redirect:"/tag/学习提升/page/4/"},{name:"v-b7d5f480",path:"/tag/go/page/2/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-b7d5f480").then(e)},meta:{pid:"tags",id:"go"}},{path:"/tag/go/page/2/index.html",redirect:"/tag/go/page/2/"},{name:"v-4762ed4a",path:"/tag/vue/page/2/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-4762ed4a").then(e)},meta:{pid:"tags",id:"vue"}},{path:"/tag/vue/page/2/index.html",redirect:"/tag/vue/page/2/"},{name:"v-f56dd198",path:"/categories/go/page/2/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-f56dd198").then(e)},meta:{pid:"categories",id:"go"}},{path:"/categories/go/page/2/index.html",redirect:"/categories/go/page/2/"},{name:"v-260e2472",path:"/categories/前端/page/2/",component:Kt,beforeEnter:(n,t,e)=>{mt("Layout","v-260e2472").then(e)},meta:{pid:"categories",id:"前端"}},{path:"/categories/前端/page/2/index.html",redirect:"/categories/前端/page/2/"},{path:"*",component:Kt}],ne={title:"子车轻罗的博客",description:"龙蛇之变，木雁之间",base:"/",headTags:[["meta",{name:"viewport",content:"width=device-width,initial-scale=1,user-scalable=no"}],["meta",{name:"X-UA-Compatible",content:"IE=edge"}],["meta",{name:"baidu-site-verification",content:"codeva-I7UsJ4rszu"}],["meta",{name:"bytedance-verification-code",content:"vR4ookjymMy2w/hg7MUk"}],["meta",{name:"360-site-verification",content:"014dce242fa6f0fd87c64d5b1b0cb0de"}],["meta",{name:"sogou_site_verification",content:"xcpMGDznMD"}],["meta",{name:"keywords",content:"SRE 运维  VUE 云原生 go "}],["link",{rel:"icon",href:"/assets/icon/favicon.ico"}],["link",{rel:"manifest",href:"/assets/config/manifest.json"}],["meta",{name:"theme-color",content:"#ffffff"}],["meta",{name:"apple-mobile-web-app-capable",content:"yes"}],["meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}],["link",{rel:"apple-touch-icon",href:"/assets/icon/apple-touch-icon.png"}],["link",{rel:"mask-icon",href:"/assets/icon/icons/safari-pinned-tab.svg",color:"#3eaf7c"}],["meta",{name:"msapplication-TileImage",content:"/assets/icon/mstile-150x150.png"}],["meta",{name:"msapplication-TileColor",content:"#ffffff"}],["script",{src:"/assets/js/plugins.js"}],["script",{src:"/assets/js/seo-autopush.js"}],["script",{src:"/sw.js"}]],pages:[{frontmatter:{description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/ai/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/ai/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/article/ai/",relativePath:"article/ai/README.md",key:"v-b9b4343a",path:"/article/ai/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/2/26",lastUpdatedTimestamp:1677386405e3},{title:"时间复杂度",frontmatter:{title:"时间复杂度",date:"2023-11-22T00:00:00.000Z",categories:["后端"],tags:["算法"],meta:[{name:"description",content:"时间复杂度"},{name:"keywords",content:"O(N) O(1) O(logN) O(NlogN)"},{name:"twitter:title",content:"时间复杂度"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/algorithm/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"时间复杂度"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/algorithm/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-11-22T00:00:00.000Z"},{property:"article:tag",content:"算法"},{itemprop:"name",content:"时间复杂度"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/algorithm/timecomplexity.html",summary:"不断学习，不断提升，日拱一卒，时间复杂度。",description:""},regularPath:"/article/algorithm/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.html",relativePath:"article/algorithm/时间复杂度.md",key:"v-1636abee",path:"/article/algorithm/timecomplexity.html",headers:[{level:3,title:"名词",slug:"名词",normalizedTitle:"名词",charIndex:2},{level:3,title:"对数",slug:"对数",normalizedTitle:"对数",charIndex:28},{level:3,title:"logN",slug:"logn",normalizedTitle:"logn",charIndex:35},{level:3,title:"NlogN",slug:"nlogn",normalizedTitle:"nlogn",charIndex:51}],headersStr:"名词 对数 logN NlogN",content:"# 名词\n\n线性增长：O(N)\n\n常数增长：O(1)\n\n对数增长：O(logN)\n\nN乘对数增长：O(NlogN)\n\n\n# 对数\n\n对数是数学中的一个概念，用来描述一个数与另一个数之间的关系。对数的定义是：如果a的x次方等于b，那么x就是以a为底b的对数，记作logₐb。其中，a被称为对数的底数，b被称为真数。对数可以帮助我们解决指数运算中的问题，例如求解指数方程、化简复杂的指数表达式等。对数有许多重要的性质和应用，在数学、科学和工程等领域中被广泛使用。\n\n\n# logN\n\nlogN是指以2为底的对数（即二进制对数），表示求解2的x次方等于N时的x值\n\n当我们说一个问题或算法的时间复杂度是O(logN)时，意味着它的增长速度是以对数的方式进行的。这意味着随着输入规模N的增加，算法的运行时间或问题的规模增加得非常缓慢。可以将N视为真数，而对数部分则表示了增长的速度。因此，当N增加时，O(logN)的增长速度比线性增长（O(N)）要慢，但比常数增长（O(1)）要快。\n\n# 举例\n\n以log8为例，表示找到一个数x，使得2的x次方等于8。显然，2的3次方等于8，因此log2(8) = 3。\n\n同理，log16 = 4，log32 = 5，依此类推。\n\n\n# NlogN\n\n当我们说一个算法的时间复杂度是O(NlogN)时，表示该算法的运行时间随着输入规模N的增加而以N乘以对数的速度增长。\n\n# 举例\n\n归并排序是一个具有O(NlogN)时间复杂度的排序算法。它的工作原理是将数组不断划分为更小的子数组，然后按顺序合并这些子数组，直到得到一个完全排序的数组。\n\n假设我们有一个长度为N的无序数组，数组元素为随机排列的整数。我们使用归并排序对数组进行排序。在归并排序的过程中，我们将数组划分为更小的子数组，然后按顺序合并这些子数组。每一次合并都需要比较和移动数组元素。在每个合并步骤，需要进行的比较和移动操作的总次数为N。总的合并步骤数为logN。\n\n因此，在归并排序中，总的比较和移动操作次数为N * logN，所以归并排序的时间复杂度是O(NlogN)。",normalizedContent:"# 名词\n\n线性增长：o(n)\n\n常数增长：o(1)\n\n对数增长：o(logn)\n\nn乘对数增长：o(nlogn)\n\n\n# 对数\n\n对数是数学中的一个概念，用来描述一个数与另一个数之间的关系。对数的定义是：如果a的x次方等于b，那么x就是以a为底b的对数，记作logₐb。其中，a被称为对数的底数，b被称为真数。对数可以帮助我们解决指数运算中的问题，例如求解指数方程、化简复杂的指数表达式等。对数有许多重要的性质和应用，在数学、科学和工程等领域中被广泛使用。\n\n\n# logn\n\nlogn是指以2为底的对数（即二进制对数），表示求解2的x次方等于n时的x值\n\n当我们说一个问题或算法的时间复杂度是o(logn)时，意味着它的增长速度是以对数的方式进行的。这意味着随着输入规模n的增加，算法的运行时间或问题的规模增加得非常缓慢。可以将n视为真数，而对数部分则表示了增长的速度。因此，当n增加时，o(logn)的增长速度比线性增长（o(n)）要慢，但比常数增长（o(1)）要快。\n\n# 举例\n\n以log8为例，表示找到一个数x，使得2的x次方等于8。显然，2的3次方等于8，因此log2(8) = 3。\n\n同理，log16 = 4，log32 = 5，依此类推。\n\n\n# nlogn\n\n当我们说一个算法的时间复杂度是o(nlogn)时，表示该算法的运行时间随着输入规模n的增加而以n乘以对数的速度增长。\n\n# 举例\n\n归并排序是一个具有o(nlogn)时间复杂度的排序算法。它的工作原理是将数组不断划分为更小的子数组，然后按顺序合并这些子数组，直到得到一个完全排序的数组。\n\n假设我们有一个长度为n的无序数组，数组元素为随机排列的整数。我们使用归并排序对数组进行排序。在归并排序的过程中，我们将数组划分为更小的子数组，然后按顺序合并这些子数组。每一次合并都需要比较和移动数组元素。在每个合并步骤，需要进行的比较和移动操作的总次数为n。总的合并步骤数为logn。\n\n因此，在归并排序中，总的比较和移动操作次数为n * logn，所以归并排序的时间复杂度是o(nlogn)。",charsets:{cjk:!0},lastUpdated:"2023/11/22",lastUpdatedTimestamp:1700650746e3},{title:"Home",frontmatter:{home:!0,heroImage:"/home.webp",heroText:"子车轻罗",heroImageStyle:{maxHeight:"288px",display:"block",borderRadius:"19% 81% 23% 77% / 44% 57% 43% 56%",boxShadow:"0 15px 18px rgba(0,0,0,0.2)"},isTimeLine:!0,sidebar:!1,isComment:!1,description:"龙蛇之变，木雁之间",meta:[{name:"twitter:title",content:"子车轻罗的博客"},{name:"twitter:description",content:"龙蛇之变，木雁之间"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/"},{property:"og:type",content:"website"},{property:"og:title",content:"子车轻罗的博客"},{property:"og:description",content:"龙蛇之变，木雁之间"},{property:"og:url",content:"https://www.yangxiaokang.com/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:"子车轻罗的博客"},{itemprop:"description",content:"龙蛇之变，木雁之间"}]},regularPath:"/",relativePath:"README.md",key:"v-95714c9a",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2023/2/28",lastUpdatedTimestamp:1677588771e3},{title:"DIY主机-硬件调试🔥",frontmatter:{title:"DIY主机-硬件调试🔥",date:"2023-3-18",categories:["工具/平台"],tags:null,feed:{enable:!0},permalink:"/article/diy/diycomputer3.html",description:"",meta:[{name:"image",content:"https://www.yangxiaokang.com/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.assets/aid64mem.png"},{name:"twitter:title",content:"DIY主机-硬件调试🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.assets/aid64mem.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.html"},{property:"og:type",content:"article"},{property:"og:title",content:"DIY主机-硬件调试🔥"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.assets/aid64mem.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-3-18"},{itemprop:"name",content:"DIY主机-硬件调试🔥"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.assets/aid64mem.png"}]},regularPath:"/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E7%A1%AC%E4%BB%B6%E8%B0%83%E8%AF%95.html",relativePath:"article/diy/DIY主机-硬件调试.md",key:"v-66f04632",path:"/article/diy/diycomputer3.html",headers:[{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:2},{level:2,title:"CPU",slug:"cpu",normalizedTitle:"cpu",charIndex:96},{level:3,title:"测试",slug:"测试",normalizedTitle:"测试",charIndex:104},{level:3,title:"优化",slug:"优化",normalizedTitle:"优化",charIndex:914},{level:2,title:"内存",slug:"内存",normalizedTitle:"内存",charIndex:34},{level:3,title:"内存超频",slug:"内存超频",normalizedTitle:"内存超频",charIndex:305},{level:3,title:"测试",slug:"测试-2",normalizedTitle:"测试",charIndex:104},{level:2,title:"硬盘",slug:"硬盘",normalizedTitle:"硬盘",charIndex:47},{level:3,title:"分区",slug:"分区",normalizedTitle:"分区",charIndex:2449},{level:2,title:"主板",slug:"主板",normalizedTitle:"主板",charIndex:18},{level:2,title:"显示器",slug:"显示器",normalizedTitle:"显示器",charIndex:2565},{level:3,title:"检测",slug:"检测",normalizedTitle:"检测",charIndex:2573},{level:3,title:"防撕裂",slug:"防撕裂",normalizedTitle:"防撕裂",charIndex:2605},{level:3,title:"响应时间",slug:"响应时间",normalizedTitle:"响应时间",charIndex:3209},{level:3,title:"HDR",slug:"hdr",normalizedTitle:"hdr",charIndex:3440},{level:3,title:"sRGB",slug:"srgb",normalizedTitle:"srgb",charIndex:3712},{level:2,title:"神光同步",slug:"神光同步",normalizedTitle:"神光同步",charIndex:3776}],headersStr:"总结 CPU 测试 优化 内存 内存超频 测试 硬盘 分区 主板 显示器 检测 防撕裂 响应时间 HDR sRGB 神光同步",content:"# 总结\n\ncpu不超频在 Z790主板要比B760主板高100分，内存读写速度略有增加。\n\n硬盘在英特尔平台无法达到官方标定的7400，写倒是挺高。\n\n下载工具：搜索【图吧工具箱】\n\n\n# CPU\n\n\n# 测试\n\n# cpu-z\n\n切到【测试分数】，点击【测试处理器分数】\n\n单核      多核        BIOS   CPU电压   场景\n869.5   12529.5   0401   1.47    内存默频4800，开启ape\n867.1   12534.8   0401   1.47    xmp一键6400，开启ape\n867.2   12527.2   0401   1.47    内存超频6800 c32 40 40 70，开启ape\n867.1   12520.7   0401   1.47    内存超频7400 c34 44 44 58，开启ape\n867.7   12471.1   1003   1.46    xmp一键6800，开启ape\n865.9   12526.6   1003   1.46    xmp一键6800，开启ape\n868.6   12014     1003   1.536   xmp6800，关闭ape，ME更新并启用104微码\n866.7   12513.9   1003           xmp6800，关闭ape，ME更新并启用104微码，降压\n\n# R23\n\n单核     多核      BIOS   CPU电压   场景\n2093   29001   0401   1.47    内存超频6800 c32 40 40 70，开启ape\n2093   28593   1003   1.46    xmp6800，开启ape\n2101   27312   1003   1.536   xmp6800，关闭ape，ME更新并启用104微码\n2094   29049   1003   1.34    xmp6800，关闭ape，ME更新并启用104微码，降压\n\n参考\n\n * [0] Intel酷睿i7-13700K装机性能实测\n\n\n# 优化\n\n# 设置大小核调度优先大核\n\n * 以管理员身份运行cmd\n   \n   # 列出当前的电源计划\n   powercfg /Qh\n   #显示电源计划选项### 目前操作会是报错，不过不重要\n   powercfg -attributes SUB-GROUP GUID -ATTRIB_HIDE\n   # 显示卓越性能，默认只显示平衡、节能、高性能\n   powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61\n   ### 以下三个策略，可通过第一步列出电源计划的内容根据策略名拿到GUID，目前看win10 win11都一致，不放心可验证下。\n   # 显示生效的异类策略\n   powercfg -attributes SUB_PROCESSOR 7f2f5cfa-f10c-4823-b5e1-e93ae85f46b5 -ATTRIB_HIDE\n   # 显示异类线程调度策略\n   powercfg -attributes SUB_PROCESSOR 93b8b6dc-0698-4d1c-9ee4-0644e900c85d -ATTRIB_HIDE\n   # 异类短运行线程调度策略\n   powercfg -attributes SUB_PROCESSOR bae08b81-2d5e-4688-ad6a-13243356654b -ATTRIB_HIDE\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n * 配置电源策略\n   \n   * 鼠标选中左下角win标志右键-电源选项-其他电源设置-卓越性能-更改高级电源设置-处理器电源设置\n   * 生效的异类策略-使用0\n   * 异类线程调度策略和异类短运行线程调度策略都选择【首选高性能处理器】\n\n# 参考\n\n * [1] 显示卓越性能\n * [2] 显示异类策略\n * [3] 配置电源计划\n\n\n# 内存\n\n\n# 内存超频\n\n\n# 测试\n\nAID64\n\nREAD        WRITE       COPY        延迟       时序            场景                BIOS\n72217MB/s   62517MB/s   66071MB/s   89.8ns   40 39 39 76   内存默频4800，开启ape    0401\n97087MB/s   79816MB/s   87565MB/s   68.1     32 39 39 80   xmp一键6400，开启ape   0401\n101g/S      83223MB/s   92408MB/s   63.5     32 39 39 80   xmp6800，开启ape     1003\n\n\n\n第二次\n\n\n\n7-zip\n\n压缩结果           解压缩结果         总体评分          场景\n129.274GIPS    156.705GIPS   142.990GIPS   内存默频4800\n158.085 GIPS   163.691GIPS   160.888GIPS   xmp一键6400\n                                           \n\n# 参考\n\n * [1] 华硕主板超频\n * [2] 金百达海力士a-die刃超频6400\n * [3] 金百达刃海力士a-die超频7600\n\n\n# 硬盘\n\n\n# 分区\n\n# AS SSD Benchmark\n\n\n\n\n\n# Crysta DiskMark\n\n\n\n\n\n\n\n# 参考\n\n * [1] 测评1\n * [2] 测评2\n * [3] 测评3\n\n\n# 主板\n\nB760-G小吹雪介绍\n\n\n# 显示器\n\n\n# 检测\n\n打开图吧工具箱，选到屏幕工具即可进行坏点测试。\n\n\n# 防撕裂\n\n# 为什么会产生撕裂？\n\n * 显示器的刷新率低于显卡的渲染速度。\n   * 可通过游戏中设置帧率，低于显示器当前刷新率2-3帧解决，不要过低否则会花屏、黑屏、闪屏\n * 显示器的刷新率高于显卡的渲染速度\n   * 设置防撕裂，adaptive Sync可自适应显示器刷新率，解决显卡渲染速度跟不上显示器刷新率的问题。\n\n# 开启防撕裂\n\n * 显示器OSD菜单打开AdaptiveSync(有的显示器叫VRR或可变刷新率)\n * 显卡开启Adaptive Sync或G Sync\n\n# 如何确认是否需要开启防撕裂？\n\n * 适合关闭Adaptive-Sync：竞技类、FPS类游戏。因为帧率会对这类游戏的成绩/体验造成巨大影响，因此优先保证游戏高帧率才是正确的选择。\n\n * 适合开启Adaptive-Sync：非FPS单机游戏、主机游戏、网游，这类游戏不需要追求极限化的高帧率，保证画面质感往往会更合适\n\n# 总结\n\n最好的办法是有一个高性能的显卡，这样可以为提供高帧率提供保障，并且游戏帧率设置需要配合显示器当前的刷新率。\n\n需要根据自己电脑的实际情况在不提升显卡性能的条件下找到一个平衡点，比如不开启防撕裂，如果显卡性能差就调低显示器刷新率；如果显示器刷新率低，就调低游戏帧率。\n\n# 参考\n\n * [1] 泰坦军团-Adaptive-Sync到底选开还是关？用错了影响居然这么大\n\n\n# 响应时间\n\n一些显示器也叫OverDrive，一般会有高中低三档，开启合适的挡位会降低游戏的拖影，尤其对FPS游戏有帮助，高档位一般会出现鬼影，就是图案一样，颜色完全错乱。\n\n# 测试\n\n刷新率选到最高，我的是170hz，打开testufo ,右上角选择Ghosting/Pursuit Camera，显示器OSD菜单分别选择不同的响应时间的挡位，手机相机跳到专业模式，更改快门1/1000,每个挡位拍照后对比图片，如果看着不舒服即可调整到舒服的挡位。\n\n\n# HDR\n\n打开系统设置-显示-高级显示设置\n\n * 看颜色格式是否为RGB，如果不是可在显卡配置中调整。\n * 位深度 ，是否达到显示器支持最大的，有的支持10bit，但系统默认还是8，可在显卡中输出颜色深度10bpc，当然需要dp线连接，英特尔核显HUD770需要开启HDR自动支持10bit 12bit色深。\n * 显示器OSD菜单需要将HDR设置为自动，否则系统开启HDR会变得发白。这样系统设置+显示器设置+HDR游戏/视频才算正开启HDR\n\n# 参考\n\n * [1] n卡设置位深\n * [2] 英特尔显卡是否支持10位色深\n\n\n# sRGB\n\n如果觉得系统色彩过度饱和，可以关闭HDR后在显示器OSD菜单选择sRGB即可解决过度饱和，但可能会锁亮度。\n\n\n# 神光同步\n\n7个棱镜风扇和冷排的3个风扇还有冷头的argb串联到了冷排送的hub上，可以和内存、主板的败家之眼神光同步。",normalizedContent:"# 总结\n\ncpu不超频在 z790主板要比b760主板高100分，内存读写速度略有增加。\n\n硬盘在英特尔平台无法达到官方标定的7400，写倒是挺高。\n\n下载工具：搜索【图吧工具箱】\n\n\n# cpu\n\n\n# 测试\n\n# cpu-z\n\n切到【测试分数】，点击【测试处理器分数】\n\n单核      多核        bios   cpu电压   场景\n869.5   12529.5   0401   1.47    内存默频4800，开启ape\n867.1   12534.8   0401   1.47    xmp一键6400，开启ape\n867.2   12527.2   0401   1.47    内存超频6800 c32 40 40 70，开启ape\n867.1   12520.7   0401   1.47    内存超频7400 c34 44 44 58，开启ape\n867.7   12471.1   1003   1.46    xmp一键6800，开启ape\n865.9   12526.6   1003   1.46    xmp一键6800，开启ape\n868.6   12014     1003   1.536   xmp6800，关闭ape，me更新并启用104微码\n866.7   12513.9   1003           xmp6800，关闭ape，me更新并启用104微码，降压\n\n# r23\n\n单核     多核      bios   cpu电压   场景\n2093   29001   0401   1.47    内存超频6800 c32 40 40 70，开启ape\n2093   28593   1003   1.46    xmp6800，开启ape\n2101   27312   1003   1.536   xmp6800，关闭ape，me更新并启用104微码\n2094   29049   1003   1.34    xmp6800，关闭ape，me更新并启用104微码，降压\n\n参考\n\n * [0] intel酷睿i7-13700k装机性能实测\n\n\n# 优化\n\n# 设置大小核调度优先大核\n\n * 以管理员身份运行cmd\n   \n   # 列出当前的电源计划\n   powercfg /qh\n   #显示电源计划选项### 目前操作会是报错，不过不重要\n   powercfg -attributes sub-group guid -attrib_hide\n   # 显示卓越性能，默认只显示平衡、节能、高性能\n   powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61\n   ### 以下三个策略，可通过第一步列出电源计划的内容根据策略名拿到guid，目前看win10 win11都一致，不放心可验证下。\n   # 显示生效的异类策略\n   powercfg -attributes sub_processor 7f2f5cfa-f10c-4823-b5e1-e93ae85f46b5 -attrib_hide\n   # 显示异类线程调度策略\n   powercfg -attributes sub_processor 93b8b6dc-0698-4d1c-9ee4-0644e900c85d -attrib_hide\n   # 异类短运行线程调度策略\n   powercfg -attributes sub_processor bae08b81-2d5e-4688-ad6a-13243356654b -attrib_hide\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   \n\n * 配置电源策略\n   \n   * 鼠标选中左下角win标志右键-电源选项-其他电源设置-卓越性能-更改高级电源设置-处理器电源设置\n   * 生效的异类策略-使用0\n   * 异类线程调度策略和异类短运行线程调度策略都选择【首选高性能处理器】\n\n# 参考\n\n * [1] 显示卓越性能\n * [2] 显示异类策略\n * [3] 配置电源计划\n\n\n# 内存\n\n\n# 内存超频\n\n\n# 测试\n\naid64\n\nread        write       copy        延迟       时序            场景                bios\n72217mb/s   62517mb/s   66071mb/s   89.8ns   40 39 39 76   内存默频4800，开启ape    0401\n97087mb/s   79816mb/s   87565mb/s   68.1     32 39 39 80   xmp一键6400，开启ape   0401\n101g/s      83223mb/s   92408mb/s   63.5     32 39 39 80   xmp6800，开启ape     1003\n\n\n\n第二次\n\n\n\n7-zip\n\n压缩结果           解压缩结果         总体评分          场景\n129.274gips    156.705gips   142.990gips   内存默频4800\n158.085 gips   163.691gips   160.888gips   xmp一键6400\n                                           \n\n# 参考\n\n * [1] 华硕主板超频\n * [2] 金百达海力士a-die刃超频6400\n * [3] 金百达刃海力士a-die超频7600\n\n\n# 硬盘\n\n\n# 分区\n\n# as ssd benchmark\n\n\n\n\n\n# crysta diskmark\n\n\n\n\n\n\n\n# 参考\n\n * [1] 测评1\n * [2] 测评2\n * [3] 测评3\n\n\n# 主板\n\nb760-g小吹雪介绍\n\n\n# 显示器\n\n\n# 检测\n\n打开图吧工具箱，选到屏幕工具即可进行坏点测试。\n\n\n# 防撕裂\n\n# 为什么会产生撕裂？\n\n * 显示器的刷新率低于显卡的渲染速度。\n   * 可通过游戏中设置帧率，低于显示器当前刷新率2-3帧解决，不要过低否则会花屏、黑屏、闪屏\n * 显示器的刷新率高于显卡的渲染速度\n   * 设置防撕裂，adaptive sync可自适应显示器刷新率，解决显卡渲染速度跟不上显示器刷新率的问题。\n\n# 开启防撕裂\n\n * 显示器osd菜单打开adaptivesync(有的显示器叫vrr或可变刷新率)\n * 显卡开启adaptive sync或g sync\n\n# 如何确认是否需要开启防撕裂？\n\n * 适合关闭adaptive-sync：竞技类、fps类游戏。因为帧率会对这类游戏的成绩/体验造成巨大影响，因此优先保证游戏高帧率才是正确的选择。\n\n * 适合开启adaptive-sync：非fps单机游戏、主机游戏、网游，这类游戏不需要追求极限化的高帧率，保证画面质感往往会更合适\n\n# 总结\n\n最好的办法是有一个高性能的显卡，这样可以为提供高帧率提供保障，并且游戏帧率设置需要配合显示器当前的刷新率。\n\n需要根据自己电脑的实际情况在不提升显卡性能的条件下找到一个平衡点，比如不开启防撕裂，如果显卡性能差就调低显示器刷新率；如果显示器刷新率低，就调低游戏帧率。\n\n# 参考\n\n * [1] 泰坦军团-adaptive-sync到底选开还是关？用错了影响居然这么大\n\n\n# 响应时间\n\n一些显示器也叫overdrive，一般会有高中低三档，开启合适的挡位会降低游戏的拖影，尤其对fps游戏有帮助，高档位一般会出现鬼影，就是图案一样，颜色完全错乱。\n\n# 测试\n\n刷新率选到最高，我的是170hz，打开testufo ,右上角选择ghosting/pursuit camera，显示器osd菜单分别选择不同的响应时间的挡位，手机相机跳到专业模式，更改快门1/1000,每个挡位拍照后对比图片，如果看着不舒服即可调整到舒服的挡位。\n\n\n# hdr\n\n打开系统设置-显示-高级显示设置\n\n * 看颜色格式是否为rgb，如果不是可在显卡配置中调整。\n * 位深度 ，是否达到显示器支持最大的，有的支持10bit，但系统默认还是8，可在显卡中输出颜色深度10bpc，当然需要dp线连接，英特尔核显hud770需要开启hdr自动支持10bit 12bit色深。\n * 显示器osd菜单需要将hdr设置为自动，否则系统开启hdr会变得发白。这样系统设置+显示器设置+hdr游戏/视频才算正开启hdr\n\n# 参考\n\n * [1] n卡设置位深\n * [2] 英特尔显卡是否支持10位色深\n\n\n# srgb\n\n如果觉得系统色彩过度饱和，可以关闭hdr后在显示器osd菜单选择srgb即可解决过度饱和，但可能会锁亮度。\n\n\n# 神光同步\n\n7个棱镜风扇和冷排的3个风扇还有冷头的argb串联到了冷排送的hub上，可以和内存、主板的败家之眼神光同步。",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"DIY主机-安装🔥",frontmatter:{title:"DIY主机-安装🔥",date:"2023-3-18",categories:["工具/平台"],tags:null,feed:{enable:!0},permalink:"/article/diy/diycomputer2.html",description:"",meta:[{name:"twitter:title",content:"DIY主机-安装🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E5%AE%89%E8%A3%85.html"},{property:"og:type",content:"article"},{property:"og:title",content:"DIY主机-安装🔥"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E5%AE%89%E8%A3%85.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-3-18"},{itemprop:"name",content:"DIY主机-安装🔥"},{itemprop:"description",content:""}]},regularPath:"/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E5%AE%89%E8%A3%85.html",relativePath:"article/diy/DIY主机-安装.md",key:"v-204ad842",path:"/article/diy/diycomputer2.html",headers:[{level:2,title:"准备",slug:"准备",normalizedTitle:"准备",charIndex:2},{level:3,title:"顺序",slug:"顺序",normalizedTitle:"顺序",charIndex:9},{level:3,title:"教程",slug:"教程",normalizedTitle:"教程",charIndex:131},{level:2,title:"CPU",slug:"cpu",normalizedTitle:"cpu",charIndex:21},{level:2,title:"内存",slug:"内存",normalizedTitle:"内存",charIndex:25},{level:2,title:"硬盘",slug:"硬盘",normalizedTitle:"硬盘",charIndex:28},{level:2,title:"主板",slug:"主板",normalizedTitle:"主板",charIndex:17},{level:2,title:"机箱IO线",slug:"机箱io线",normalizedTitle:"机箱io线",charIndex:197},{level:2,title:"风扇",slug:"风扇",normalizedTitle:"风扇",charIndex:42},{level:2,title:"冷排",slug:"冷排",normalizedTitle:"冷排",charIndex:85},{level:2,title:"电源",slug:"电源",normalizedTitle:"电源",charIndex:52},{level:2,title:"走线",slug:"走线",normalizedTitle:"走线",charIndex:124},{level:2,title:"无线网卡",slug:"无线网卡",normalizedTitle:"无线网卡",charIndex:1865},{level:2,title:"系统",slug:"系统",normalizedTitle:"系统",charIndex:1918}],headersStr:"准备 顺序 教程 CPU 内存 硬盘 主板 机箱IO线 风扇 冷排 电源 走线 无线网卡 系统",content:"# 准备\n\n\n# 顺序\n\n 1. 主板安装CPU、内存、硬盘\n 2. 机箱安装主板、风扇\n 3. 主板接电源线、风扇线、SATA线、HUB、机箱前面板IO线\n 4. 组装冷排风扇、安装冷排、主板插线\n 5. 安装显卡、支架、插线\n 6. 安装电源、走线\n\n\n# 教程\n\n * [1] 装机总览，适合新手过一遍流程，cpu内存硬盘都可参考，机箱就不需要了\n * [2] 完整流程主要看主板+风扇+机箱IO线+电源线\n * [3] VKC系列冷排安装(客服说升级了，里面的延长线C系列没有)\n * [4] 安装风扇教程\n * [2] 可看可不看，上面的足矣\n\n\n# CPU\n\n如果是散片可以检查两边耳朵是否有压痕或正面是否有硅脂痕迹，不过一般全新散片都是没有明显痕迹的，是不是被人测过体质就不得而知，就算有也不可能留下这么明显的痕迹。\n\n安装比较简单，注意cpu有防呆标志对应主板，可跟随视频操作即可。\n\n\n# 内存\n\n内存需要注意ddr5和ddr4是不通用的；\n\n双通道优先第二、四插槽，靠近cpu的是第一条。\n\n内存也是有防呆设置，插错方向是插不进去的。对准放心，轻轻一压，一头的卡扣就会自动回弹。\n\n> 小插曲：\n> \n> 在安装金百达刃的时候，安装后卡扣正常回弹，RGB正常点亮，此时开机报内存故障灯，重新插拔、更换插槽、单根插都无法解决问题，联系金百达客服和华硕客服各种操作都无果(当然有些操作如给bios放电没有做个人判断不相干)，最终被老婆大力出奇迹的按了下内存条出现了一声脆响，好了。\n> \n> 之前客服也说过可能是内存没安好，可大家判断得依据都是卡扣有没有好好回弹，是不是还能拔出来，谁能想到RGB灯都亮了还可以继续往下压。\n\n\n# 硬盘\n\n硬盘优先放到离cpu近的那个位置，直通cpu。\n\n如果主板带散热马甲，要把固态硬盘自带的散热贴撕掉，否则会安不上散热马甲，比如宏基掠夺者7000自带了石墨烯散热贴。\n\n如果固态硬盘是单面颗粒，需要使用主板带的散热垫片垫在下面，否则上紧散热马甲螺丝后固态硬盘会被肉眼可见的压弯。\n\n安装也比较简单，有防呆缺口，插错了是插不上的，可参考视频\n\n\n# 主板\n\n主板分ATX,M-ATX,ITX ，不同机箱支持的主板也不同，一般来说支持ATX的主板其他两种也支持，具体要看机箱说明书。\n\n我的机箱三种都支持，但主板是M-ATX，需要根据自己主板螺丝孔位的位置和机箱的柱形螺丝对应下，不同主板的螺丝孔位可能也是不同的。如果机箱的柱形螺丝所在的位置我们主板并没有孔位最好是拧下来安装到其他地方避免挤压到主板背部的焊点。如果主板孔位对应的机箱位置没有柱形螺丝也可以在送的配件包里找到拧上，或者从其他不用的位置拆下来拧上。\n\n有的机箱可以调整后部IO面板的位置，用来调整主板在机箱的位置，如有功能可按需调整。\n\n记得撕掉主板散热盔甲上面的保护膜，否则会影响散热\n\n\n# 机箱IO线\n\n按照教程安装即可，跳线没有明确带有正负极的应该不需要看正负极，教程2写的正负极可能并不需要(未验证)\n\nUSB3.0插口比较坑，插上去容易，拔下来难，很容易连着主板上的插槽拔下来或者断针。\n\n\n# 风扇\n\n棱镜风扇都是支持串联的，建议最大串联数量不超过4个。冷排送了hub，我都接到hub上最后通过cpu的温度控制转速。想通过主板温度控制转速就要接cha-fan了\n\n记得ARGB风扇接5v3针，不要接12v4针否则就是RGB了。\n\n\n# 冷排\n\nVK的C系列，升级了cpu扣具，所以按照G1教程安装，但要注意，C系列没有延长线，也是要涂抹硅脂的。\n\nARGB可以串联，电源线没有串联接口，好在hub口多。一个冷排风扇被我用棱镜风扇电源串联了貌似也没啥影响，不知道为啥没有自带串联接口。\n\n背板上的扣具因为支持多种型号，1700的记得把螺丝往4个角推一下，说明书画的实在不如文字版，还是看视频吧。\n\n附带工具包没有说明每包螺丝的作用，对着视频也很容易比对，有的螺丝比较坑，可能都能拧进去，但有的拧进去一半就拧不动了。\n\n\n# 电源\n\n除了插拔费劲没别的，全模组方便了理线，并且九州风神这款织物线材确实很好理线\n\n\n# 走线\n\n完美主义害人，理了3个小时，后面又微调几次，终于完美了。\n\n航嘉s980太坑，纯白色机箱竟然带黑色IO线，又粗又硬。\n\n冷头的线也很尴尬，在中间，稍微藏在了内存插槽旁，侧面是看不到的。ARGB线接到了hub，只剩水泵的线插在主板。\n\n风扇的线统一接入了hub，正面没插。\n\n\n# 无线网卡\n\n小吹雪带了wifi，两根线分别接主板两个柱形螺丝，不分正负。链接好需要驱动才能工作。\n\n\n# 系统\n\n安装win11或win10都可以\n\n> win10一定下最新版，用了u盘去年的镜像，装好后啥驱动都没有网线都连不了，断电后再开就进不了系统，可以进启动盘，换了最新版系统已经附带了一些驱动。",normalizedContent:"# 准备\n\n\n# 顺序\n\n 1. 主板安装cpu、内存、硬盘\n 2. 机箱安装主板、风扇\n 3. 主板接电源线、风扇线、sata线、hub、机箱前面板io线\n 4. 组装冷排风扇、安装冷排、主板插线\n 5. 安装显卡、支架、插线\n 6. 安装电源、走线\n\n\n# 教程\n\n * [1] 装机总览，适合新手过一遍流程，cpu内存硬盘都可参考，机箱就不需要了\n * [2] 完整流程主要看主板+风扇+机箱io线+电源线\n * [3] vkc系列冷排安装(客服说升级了，里面的延长线c系列没有)\n * [4] 安装风扇教程\n * [2] 可看可不看，上面的足矣\n\n\n# cpu\n\n如果是散片可以检查两边耳朵是否有压痕或正面是否有硅脂痕迹，不过一般全新散片都是没有明显痕迹的，是不是被人测过体质就不得而知，就算有也不可能留下这么明显的痕迹。\n\n安装比较简单，注意cpu有防呆标志对应主板，可跟随视频操作即可。\n\n\n# 内存\n\n内存需要注意ddr5和ddr4是不通用的；\n\n双通道优先第二、四插槽，靠近cpu的是第一条。\n\n内存也是有防呆设置，插错方向是插不进去的。对准放心，轻轻一压，一头的卡扣就会自动回弹。\n\n> 小插曲：\n> \n> 在安装金百达刃的时候，安装后卡扣正常回弹，rgb正常点亮，此时开机报内存故障灯，重新插拔、更换插槽、单根插都无法解决问题，联系金百达客服和华硕客服各种操作都无果(当然有些操作如给bios放电没有做个人判断不相干)，最终被老婆大力出奇迹的按了下内存条出现了一声脆响，好了。\n> \n> 之前客服也说过可能是内存没安好，可大家判断得依据都是卡扣有没有好好回弹，是不是还能拔出来，谁能想到rgb灯都亮了还可以继续往下压。\n\n\n# 硬盘\n\n硬盘优先放到离cpu近的那个位置，直通cpu。\n\n如果主板带散热马甲，要把固态硬盘自带的散热贴撕掉，否则会安不上散热马甲，比如宏基掠夺者7000自带了石墨烯散热贴。\n\n如果固态硬盘是单面颗粒，需要使用主板带的散热垫片垫在下面，否则上紧散热马甲螺丝后固态硬盘会被肉眼可见的压弯。\n\n安装也比较简单，有防呆缺口，插错了是插不上的，可参考视频\n\n\n# 主板\n\n主板分atx,m-atx,itx ，不同机箱支持的主板也不同，一般来说支持atx的主板其他两种也支持，具体要看机箱说明书。\n\n我的机箱三种都支持，但主板是m-atx，需要根据自己主板螺丝孔位的位置和机箱的柱形螺丝对应下，不同主板的螺丝孔位可能也是不同的。如果机箱的柱形螺丝所在的位置我们主板并没有孔位最好是拧下来安装到其他地方避免挤压到主板背部的焊点。如果主板孔位对应的机箱位置没有柱形螺丝也可以在送的配件包里找到拧上，或者从其他不用的位置拆下来拧上。\n\n有的机箱可以调整后部io面板的位置，用来调整主板在机箱的位置，如有功能可按需调整。\n\n记得撕掉主板散热盔甲上面的保护膜，否则会影响散热\n\n\n# 机箱io线\n\n按照教程安装即可，跳线没有明确带有正负极的应该不需要看正负极，教程2写的正负极可能并不需要(未验证)\n\nusb3.0插口比较坑，插上去容易，拔下来难，很容易连着主板上的插槽拔下来或者断针。\n\n\n# 风扇\n\n棱镜风扇都是支持串联的，建议最大串联数量不超过4个。冷排送了hub，我都接到hub上最后通过cpu的温度控制转速。想通过主板温度控制转速就要接cha-fan了\n\n记得argb风扇接5v3针，不要接12v4针否则就是rgb了。\n\n\n# 冷排\n\nvk的c系列，升级了cpu扣具，所以按照g1教程安装，但要注意，c系列没有延长线，也是要涂抹硅脂的。\n\nargb可以串联，电源线没有串联接口，好在hub口多。一个冷排风扇被我用棱镜风扇电源串联了貌似也没啥影响，不知道为啥没有自带串联接口。\n\n背板上的扣具因为支持多种型号，1700的记得把螺丝往4个角推一下，说明书画的实在不如文字版，还是看视频吧。\n\n附带工具包没有说明每包螺丝的作用，对着视频也很容易比对，有的螺丝比较坑，可能都能拧进去，但有的拧进去一半就拧不动了。\n\n\n# 电源\n\n除了插拔费劲没别的，全模组方便了理线，并且九州风神这款织物线材确实很好理线\n\n\n# 走线\n\n完美主义害人，理了3个小时，后面又微调几次，终于完美了。\n\n航嘉s980太坑，纯白色机箱竟然带黑色io线，又粗又硬。\n\n冷头的线也很尴尬，在中间，稍微藏在了内存插槽旁，侧面是看不到的。argb线接到了hub，只剩水泵的线插在主板。\n\n风扇的线统一接入了hub，正面没插。\n\n\n# 无线网卡\n\n小吹雪带了wifi，两根线分别接主板两个柱形螺丝，不分正负。链接好需要驱动才能工作。\n\n\n# 系统\n\n安装win11或win10都可以\n\n> win10一定下最新版，用了u盘去年的镜像，装好后啥驱动都没有网线都连不了，断电后再开就进不了系统，可以进启动盘，换了最新版系统已经附带了一些驱动。",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"mysql DML",frontmatter:{title:"mysql DML",date:"2016-05-08T00:00:00.000Z",categories:["db"],tags:["mysql","学习提升"],meta:[{name:"description",content:"mysql 增删改查"},{name:"keywords",content:"mysql dml"},{name:"twitter:title",content:"mysql DML"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/db/mysql/mysql-DML.html"},{property:"og:type",content:"article"},{property:"og:title",content:"mysql DML"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/db/mysql/mysql-DML.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2016-05-08T00:00:00.000Z"},{property:"article:tag",content:"mysql"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"mysql DML"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/mysql/mysql-dml.html",summary:"不断学习，不断提升，日拱一卒！",description:""},regularPath:"/article/db/mysql/mysql-DML.html",relativePath:"article/db/mysql/mysql-DML.md",key:"v-ddb3964a",path:"/article/mysql/mysql-dml.html",headers:[{level:2,title:"查",slug:"查",normalizedTitle:"查",charIndex:2},{level:2,title:"增",slug:"增",normalizedTitle:"增",charIndex:1992},{level:2,title:"改",slug:"改",normalizedTitle:"改",charIndex:1381},{level:2,title:"删",slug:"删",normalizedTitle:"删",charIndex:6830}],headersStr:"查 增 改 删",content:"# 查\n\n# 普通查询\n\n# 查询所有列\nselect * from student ;\n\n# 查询指定列\nselect name from student ;\n\n\n1\n2\n3\n4\n5\n\n\n比较运算符包括 <,<=,=,>=,!=,<>,between,in,not in,is\n\n# 条件查询，列与值严格对应 数字不必加单引号，字符串必须加单引号\nselect * from student where id=2 and name='李四'； # 交集\nselect * from student where id=2 or name = '张三'；# 并集\nselect * from student where servlet >70;\n\n# in\nselect * from student where age in (11,12);\n#in 等同于\nselect * from student where age =11 or age = 12;\n# not in,不等于\nselect * from student where age not in (11,12);\n\n# 判空条件\nselect * from student where address is null;\nselect * from student where address='';\nselect * from student where address is null or address=''; \n# or可用||替代\nselect * from student where address is null || address=''; \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n逻辑运算符包括not,!,or,||,and,&&\n\n# and可用&&代替\nselect * from student where js between 75 and 90; #（包前包后）\nselect * from student where js>=75 and js<=90;\nselect * from student where js>=75 && js<=90;\n\n\n1\n2\n3\n4\n\n\n通配符包括like模糊匹配，%通配任意字符，_通配单一字符\n\n\nselect * form user where 1; # where 1,1为true，0为false，因为所有行都存在都为真，所以都会查询到，where 0 则一行都查询不到\n\n# 广义投影，投影就是上面的取列，广义投影是取列同时做运算，如下：age +1 为运算\nselect uid,name,age+1 from user where 1;\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 内置方法\n\n * floor\n\nfloor 取余数（如1.3返回1,1.9也返回1）\n\nselect num/10 from mian; 把数字除以10得到余数\n# 用floor 取余得到整数，在乘以10变回原来的大小\nselect floor(num/10)*10 from mian;先把数字变成小数，然后floor取余，在乘以10变回原\n来的值。\n# 应用：update修改(题目）\nupdate mian set num=floor(num/10)*10 where num between 20 and 39;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * substring\n\nsubstring 截取字符串\n\nselect goods_id,substring(goods_name,4) from goods where goods_name like '诺基亚%'\n# 显示goods_id，goods_name(表中goods_name中诺基亚开头的行的第四个字符开始往后的部分)\n\n\n1\n2\n\n\nconcat\n\nconcat 字符串拼接\n\nselect goods_id,concat('htc',substring(goods_name,4)) from goods where goods_name\n like '诺基亚%';  \n # 然后将htc与截取的部分拼接\n\n\n1\n2\n3\n\n * max() 求最大\n * count() 统计行数\n * avg()求平均值\n * min()求最小\n * sum()求总和\n\n# 进阶\n\n#\n\n# group by 分组 #根据id分组，求平均数\nselect avg(shop_price) from goods group by cat_id;\n\n# order by排序 升序：asc（默认） 降序：desc\n# 升序：数值：递增，字母：自然顺序（a-z）反之降序\n# 按价格排序（升序）\nselect goods_id,goods_name,shop_price from goods order by shop_price ;\n# 按价格降序（降序）\nselect goods_id,goods_name,shop_price from goods order by shop_price desc;\n# 多序排列（用，隔开）\nselect goods_id,goods_name,shop_price from goods order  by shop_price asc,goods_id desc,\ncat_id desc;\n\n# limit 限制返回记录条数\n# 按商店价格由高到低排序，取出排名前三的\nselect goods_id,goods_name,shop_price from goods order by desc limit 0,3;\n# 按商店价格由高到低排序，取出第四第五行\nselect goods_id,goods_name,shop_price from goods order by desc limit 3,2；\n3代表偏移量，也就是越过前三行，2表示取出条目，取出两行内容\n\n# having HAVING 是 MySQL 中用于筛选分组数据的子句，它的作用是在 GROUP BY 语句的基础上对分组数据进行进一步过滤。必须在group by之后，数据多的场景HAVING 子句的性能可能较差\n# 对分组数据进行条件判断，筛选出满足条件的分组。\n# 进一步优化查询性能，减少数据检索的次数和范围。\n#result 表中 查询出2门及2门以上不及格者的平均成绩\nselect name,sum(score<60) as gk,avg(score) from result group by name having gk>=2;\n# 首先group by安装name分组，然后sum按分组进行统计score<60的出的结果重命名为gk，having进一步安装gk过滤\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 子查询\n\n# where\n\n引子\n\n# 查询每个栏目下最新的产品（goods_id最大即为最新）\nselet max(goods_id),goods_name,shop_price from goods group by cat_id;\n### 此时，会出现错误，goods_id最大没错，但名字和价格却和goods_id不匹配，因为名字和价格是按照goods_id栏目里第一个取出的，并不是取出的goods_id的实际名字和价格。\n# 解法：那应该先给表格按照goods_id排序，那样最大的goods_id对应的名字和价格就是匹配的\nselet max(goods_id),goods_name,shop_price from goods order by goods_id desc group by cat_id\n### 但是，上面这种结构属于语法错误（order在group前面）\n### 注意：where,group by,having,order by,limit  必须按照此顺序写\n# 但反过来写发现还是不匹配，所以要用到where子查询\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n什么是where子查询\n\n# 查询最新的产品（不按组）\nselect goods_id,goods_name,shop_price from goods order by goods_id desc limit 0,1；\n# 可以换一种写法，不用limit\nselect goods_id,goods_name,shop_price from goods where goods_id=(\nselect max(goods_id) from goods); # 因为查询的是最新的产品也就是goods_id最大，当按照goods_id从大到小排序后，只要把最大的一行取出就对了，所有又加了一个子查询。\n\n\n1\n2\n3\n4\n5\n\n\n解决上面的问题\n\n# 1.先把每个栏目下goods_id 最大的取出来\nselect max(goods_id),goods_name,cat_id from goods group by cat_id;\n# 2.把最大的信息取出来（把上面的作为子查询）\nselect cat_id,goods_id,goods_name from goods where goods_id in (select max(goods_id) from goods group by cat_id);\n\n\n1\n2\n3\n4\n\n\n# from\n\nselect cat_id,goods_id,goods_name from goods where goods_id between 20 and 25\n# 上面的查询结果作为一张新表tmp 再次被查询)\nselect cat_id,goods_name from (select cat_id,goods_id,goods_name from goods where goods_id\n between 20 and 25) as tmp group by cat_id;\n# 和where不同在于where子查询作为一个数一个条件再次应用，而from作为一张表\n\n\n1\n2\n3\n4\n5\n\n\n# exists\n\n# category表是商品的类别对应cat_id goods表是商品详情\n# 问题：将goods表中的商品名查找出相应的商品类别\n# 思路：两张表中相同的是cat_id，只需把goods表中的cat_id与category表中的相同的显示出来\nselect * from category where exists (select * from goods where goods.cat_id=\ncategory.cat_id); #显示category表的全部，条件是两张表cat_id相同的部分goods.cat_id表示 goods表的cat_id列\n\n\n1\n2\n3\n4\n5\n\n\n# 连接\n\n# 内连接\n\nboy表\n\nHID   NAME\nA     屌丝\nB     杨过\nC     郭靖\n\ngirl表\n\nHID   NAME\nB     小龙女\nC     黄蓉\nD     宅女\n\n# 把两张表做比对，把boy表和girl表中相同的部分作为条件来比对其他部分\n# 如图，相同的部分为hid作为条件，来比较name\nselect boy.hid,boy.bname,girl.hid,girl.gname from boy inner join girl on boy.hid=girl.hid;\n\n# boy.hid,boy.bname   显示boy表中的hid和name 用逗号隔开 之所以hid和name之前都有点与前面的表名连接是因为boy表和girl表都有hid和name,所以用来区分，如果都不相同，则直接写inner join 表示把两张表连接起来.\n# on boy.hid=girl.hid  条件为boy表中的hid 和girl表中的hid相同部分\n\n## 多次链接\n## 多次链接\n# 查出 2006-6-1 到2006-7-1之间举行的所有比赛\nselect mid,t.tname as h,mres,t2.tname as g,matime from \nm inner join t\non m.hid=t.tid\ninner join t as t2\non m.gid=t2.tid\nwhere matime between '2006-06-1' and '2006-07-01';\n# 必须给第二张表改名，否则多次链接不知道连的是哪个t表\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 左右连接\n\nselect boy.hid,boy.bname,girl.hid,girl.gname from boy left join girl on boy.hid=girl.hid;\n# 和内连接区别在于inner换为left 右连接为right\n# 左连接以左边数字为准，查询右边相关数据，左边表所以会全部显示，而右边标如果有查不到的补null\n# 右连接与左连接相同\n# 如：取出所有商品的商品名，栏目名，价格\nselect goods_name,cat_name,shop_price from \ngoods left join category            \non goods.cat_id=category.cat_id;\n# 取出第4个栏目下的商品的商品名,栏目名,价格\nselect goods_name,cat_name,shop_price from \necs_goods left join ecs_category\non ecs_goods.cat_id=ecs_category.cat_id\nwhere goods.cat_id = 4;\n# 前面已经把两张表合成一张了，后面只需查\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# union\n\n# union查询就是把2条或多条sql的查询结果合并成1个结果集，与连接不同的是，连接是左右，而union是上下\n\n# union语句必须满足一个条件；各语句取出的列数相同，但列名称未必要一致，显示结果以前面的名称\n为准\n\n# 注意：使用union时，完全相同的行将会被合并，合并是比较耗时的工作，一般不用union进行合并，使用\"union all\"可以避免合并，可以提高速度\n\n# order by 只能用在union语句的最后，不能再两个子句中使用。\nselect goods_id,cat_id,goods_name from goods where cat_id=2 union select goods_id, cat_id,goods_name from goods2 where cat_id=4;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 增\n\n# 插入所有字段，一定要依次按顺序插入\ninsert into student values(1,'张三'，‘男’，20)；\n\n# 插入部分字段\ninsert into student （id,name）values(2,'李四')；\n\n\n1\n2\n3\n4\n5\n\n\n\n# 改\n\n# 修改所有数据（建议少用）\nupdate student set gender=‘女’；\n\n# 条件修改 修改id为1 的学生为男\nupdate student set gender='男' where id =1;\n# 多个字段用逗号分开\nupdate student set gender=‘男’，age=30 where id=2;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 修改mysql user表\n\n# 修改mysql 用户信息 修改李四的密码\nupdate auth.users set user_password=user_passwd=password('1234') where user_name='lisi';\n# 刷新可生效 \t\nflush privileges;\n\n\n1\n2\n3\n4\n\n\n\n# 删\n\n# 删除所有数据（谨慎！）\ndelete from student；\n# 条件删除\ndelete from student where id=2;\n\n\n1\n2\n3\n4\n",normalizedContent:"# 查\n\n# 普通查询\n\n# 查询所有列\nselect * from student ;\n\n# 查询指定列\nselect name from student ;\n\n\n1\n2\n3\n4\n5\n\n\n比较运算符包括 <,<=,=,>=,!=,<>,between,in,not in,is\n\n# 条件查询，列与值严格对应 数字不必加单引号，字符串必须加单引号\nselect * from student where id=2 and name='李四'； # 交集\nselect * from student where id=2 or name = '张三'；# 并集\nselect * from student where servlet >70;\n\n# in\nselect * from student where age in (11,12);\n#in 等同于\nselect * from student where age =11 or age = 12;\n# not in,不等于\nselect * from student where age not in (11,12);\n\n# 判空条件\nselect * from student where address is null;\nselect * from student where address='';\nselect * from student where address is null or address=''; \n# or可用||替代\nselect * from student where address is null || address=''; \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n逻辑运算符包括not,!,or,||,and,&&\n\n# and可用&&代替\nselect * from student where js between 75 and 90; #（包前包后）\nselect * from student where js>=75 and js<=90;\nselect * from student where js>=75 && js<=90;\n\n\n1\n2\n3\n4\n\n\n通配符包括like模糊匹配，%通配任意字符，_通配单一字符\n\n\nselect * form user where 1; # where 1,1为true，0为false，因为所有行都存在都为真，所以都会查询到，where 0 则一行都查询不到\n\n# 广义投影，投影就是上面的取列，广义投影是取列同时做运算，如下：age +1 为运算\nselect uid,name,age+1 from user where 1;\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 内置方法\n\n * floor\n\nfloor 取余数（如1.3返回1,1.9也返回1）\n\nselect num/10 from mian; 把数字除以10得到余数\n# 用floor 取余得到整数，在乘以10变回原来的大小\nselect floor(num/10)*10 from mian;先把数字变成小数，然后floor取余，在乘以10变回原\n来的值。\n# 应用：update修改(题目）\nupdate mian set num=floor(num/10)*10 where num between 20 and 39;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * substring\n\nsubstring 截取字符串\n\nselect goods_id,substring(goods_name,4) from goods where goods_name like '诺基亚%'\n# 显示goods_id，goods_name(表中goods_name中诺基亚开头的行的第四个字符开始往后的部分)\n\n\n1\n2\n\n\nconcat\n\nconcat 字符串拼接\n\nselect goods_id,concat('htc',substring(goods_name,4)) from goods where goods_name\n like '诺基亚%';  \n # 然后将htc与截取的部分拼接\n\n\n1\n2\n3\n\n * max() 求最大\n * count() 统计行数\n * avg()求平均值\n * min()求最小\n * sum()求总和\n\n# 进阶\n\n#\n\n# group by 分组 #根据id分组，求平均数\nselect avg(shop_price) from goods group by cat_id;\n\n# order by排序 升序：asc（默认） 降序：desc\n# 升序：数值：递增，字母：自然顺序（a-z）反之降序\n# 按价格排序（升序）\nselect goods_id,goods_name,shop_price from goods order by shop_price ;\n# 按价格降序（降序）\nselect goods_id,goods_name,shop_price from goods order by shop_price desc;\n# 多序排列（用，隔开）\nselect goods_id,goods_name,shop_price from goods order  by shop_price asc,goods_id desc,\ncat_id desc;\n\n# limit 限制返回记录条数\n# 按商店价格由高到低排序，取出排名前三的\nselect goods_id,goods_name,shop_price from goods order by desc limit 0,3;\n# 按商店价格由高到低排序，取出第四第五行\nselect goods_id,goods_name,shop_price from goods order by desc limit 3,2；\n3代表偏移量，也就是越过前三行，2表示取出条目，取出两行内容\n\n# having having 是 mysql 中用于筛选分组数据的子句，它的作用是在 group by 语句的基础上对分组数据进行进一步过滤。必须在group by之后，数据多的场景having 子句的性能可能较差\n# 对分组数据进行条件判断，筛选出满足条件的分组。\n# 进一步优化查询性能，减少数据检索的次数和范围。\n#result 表中 查询出2门及2门以上不及格者的平均成绩\nselect name,sum(score<60) as gk,avg(score) from result group by name having gk>=2;\n# 首先group by安装name分组，然后sum按分组进行统计score<60的出的结果重命名为gk，having进一步安装gk过滤\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 子查询\n\n# where\n\n引子\n\n# 查询每个栏目下最新的产品（goods_id最大即为最新）\nselet max(goods_id),goods_name,shop_price from goods group by cat_id;\n### 此时，会出现错误，goods_id最大没错，但名字和价格却和goods_id不匹配，因为名字和价格是按照goods_id栏目里第一个取出的，并不是取出的goods_id的实际名字和价格。\n# 解法：那应该先给表格按照goods_id排序，那样最大的goods_id对应的名字和价格就是匹配的\nselet max(goods_id),goods_name,shop_price from goods order by goods_id desc group by cat_id\n### 但是，上面这种结构属于语法错误（order在group前面）\n### 注意：where,group by,having,order by,limit  必须按照此顺序写\n# 但反过来写发现还是不匹配，所以要用到where子查询\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n什么是where子查询\n\n# 查询最新的产品（不按组）\nselect goods_id,goods_name,shop_price from goods order by goods_id desc limit 0,1；\n# 可以换一种写法，不用limit\nselect goods_id,goods_name,shop_price from goods where goods_id=(\nselect max(goods_id) from goods); # 因为查询的是最新的产品也就是goods_id最大，当按照goods_id从大到小排序后，只要把最大的一行取出就对了，所有又加了一个子查询。\n\n\n1\n2\n3\n4\n5\n\n\n解决上面的问题\n\n# 1.先把每个栏目下goods_id 最大的取出来\nselect max(goods_id),goods_name,cat_id from goods group by cat_id;\n# 2.把最大的信息取出来（把上面的作为子查询）\nselect cat_id,goods_id,goods_name from goods where goods_id in (select max(goods_id) from goods group by cat_id);\n\n\n1\n2\n3\n4\n\n\n# from\n\nselect cat_id,goods_id,goods_name from goods where goods_id between 20 and 25\n# 上面的查询结果作为一张新表tmp 再次被查询)\nselect cat_id,goods_name from (select cat_id,goods_id,goods_name from goods where goods_id\n between 20 and 25) as tmp group by cat_id;\n# 和where不同在于where子查询作为一个数一个条件再次应用，而from作为一张表\n\n\n1\n2\n3\n4\n5\n\n\n# exists\n\n# category表是商品的类别对应cat_id goods表是商品详情\n# 问题：将goods表中的商品名查找出相应的商品类别\n# 思路：两张表中相同的是cat_id，只需把goods表中的cat_id与category表中的相同的显示出来\nselect * from category where exists (select * from goods where goods.cat_id=\ncategory.cat_id); #显示category表的全部，条件是两张表cat_id相同的部分goods.cat_id表示 goods表的cat_id列\n\n\n1\n2\n3\n4\n5\n\n\n# 连接\n\n# 内连接\n\nboy表\n\nhid   name\na     屌丝\nb     杨过\nc     郭靖\n\ngirl表\n\nhid   name\nb     小龙女\nc     黄蓉\nd     宅女\n\n# 把两张表做比对，把boy表和girl表中相同的部分作为条件来比对其他部分\n# 如图，相同的部分为hid作为条件，来比较name\nselect boy.hid,boy.bname,girl.hid,girl.gname from boy inner join girl on boy.hid=girl.hid;\n\n# boy.hid,boy.bname   显示boy表中的hid和name 用逗号隔开 之所以hid和name之前都有点与前面的表名连接是因为boy表和girl表都有hid和name,所以用来区分，如果都不相同，则直接写inner join 表示把两张表连接起来.\n# on boy.hid=girl.hid  条件为boy表中的hid 和girl表中的hid相同部分\n\n## 多次链接\n## 多次链接\n# 查出 2006-6-1 到2006-7-1之间举行的所有比赛\nselect mid,t.tname as h,mres,t2.tname as g,matime from \nm inner join t\non m.hid=t.tid\ninner join t as t2\non m.gid=t2.tid\nwhere matime between '2006-06-1' and '2006-07-01';\n# 必须给第二张表改名，否则多次链接不知道连的是哪个t表\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 左右连接\n\nselect boy.hid,boy.bname,girl.hid,girl.gname from boy left join girl on boy.hid=girl.hid;\n# 和内连接区别在于inner换为left 右连接为right\n# 左连接以左边数字为准，查询右边相关数据，左边表所以会全部显示，而右边标如果有查不到的补null\n# 右连接与左连接相同\n# 如：取出所有商品的商品名，栏目名，价格\nselect goods_name,cat_name,shop_price from \ngoods left join category            \non goods.cat_id=category.cat_id;\n# 取出第4个栏目下的商品的商品名,栏目名,价格\nselect goods_name,cat_name,shop_price from \necs_goods left join ecs_category\non ecs_goods.cat_id=ecs_category.cat_id\nwhere goods.cat_id = 4;\n# 前面已经把两张表合成一张了，后面只需查\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# union\n\n# union查询就是把2条或多条sql的查询结果合并成1个结果集，与连接不同的是，连接是左右，而union是上下\n\n# union语句必须满足一个条件；各语句取出的列数相同，但列名称未必要一致，显示结果以前面的名称\n为准\n\n# 注意：使用union时，完全相同的行将会被合并，合并是比较耗时的工作，一般不用union进行合并，使用\"union all\"可以避免合并，可以提高速度\n\n# order by 只能用在union语句的最后，不能再两个子句中使用。\nselect goods_id,cat_id,goods_name from goods where cat_id=2 union select goods_id, cat_id,goods_name from goods2 where cat_id=4;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 增\n\n# 插入所有字段，一定要依次按顺序插入\ninsert into student values(1,'张三'，‘男’，20)；\n\n# 插入部分字段\ninsert into student （id,name）values(2,'李四')；\n\n\n1\n2\n3\n4\n5\n\n\n\n# 改\n\n# 修改所有数据（建议少用）\nupdate student set gender=‘女’；\n\n# 条件修改 修改id为1 的学生为男\nupdate student set gender='男' where id =1;\n# 多个字段用逗号分开\nupdate student set gender=‘男’，age=30 where id=2;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 修改mysql user表\n\n# 修改mysql 用户信息 修改李四的密码\nupdate auth.users set user_password=user_passwd=password('1234') where user_name='lisi';\n# 刷新可生效 \t\nflush privileges;\n\n\n1\n2\n3\n4\n\n\n\n# 删\n\n# 删除所有数据（谨慎！）\ndelete from student；\n# 条件删除\ndelete from student where id=2;\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0},lastUpdated:"2023/5/22",lastUpdatedTimestamp:1684722902e3},{title:"DIY主机-搞机🔥",frontmatter:{title:"DIY主机-搞机🔥",date:"2023-3-20",categories:["工具/平台"],tags:null,feed:{enable:!0},permalink:"/article/diy/diycomputer4.html",description:"",meta:[{name:"twitter:title",content:"DIY主机-搞机🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E6%90%9E%E6%9C%BA.html"},{property:"og:type",content:"article"},{property:"og:title",content:"DIY主机-搞机🔥"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E6%90%9E%E6%9C%BA.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-3-20"},{itemprop:"name",content:"DIY主机-搞机🔥"},{itemprop:"description",content:""}]},regularPath:"/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E6%90%9E%E6%9C%BA.html",relativePath:"article/diy/DIY主机-搞机.md",key:"v-191778e0",path:"/article/diy/diycomputer4.html",headers:[{level:2,title:"CPU降压",slug:"cpu降压",normalizedTitle:"cpu降压",charIndex:2},{level:3,title:"教程",slug:"教程",normalizedTitle:"教程",charIndex:156},{level:3,title:"测试",slug:"测试",normalizedTitle:"测试",charIndex:116},{level:2,title:"内存超频",slug:"内存超频",normalizedTitle:"内存超频",charIndex:4370},{level:3,title:"内存频率",slug:"内存频率",normalizedTitle:"内存频率",charIndex:4433},{level:3,title:"内存超频教程",slug:"内存超频教程",normalizedTitle:"内存超频教程",charIndex:7527}],headersStr:"CPU降压 教程 测试 内存超频 内存频率 内存超频教程",content:"# CPU降压\n\nB系主板搭载13系cpu普遍给的电压过高，如b760-g小吹雪d5+13700k ，默认电压给到1.47v，烤机最高功耗软显280w稳定下来也在250w左右。如果搭载z系主板则会动态调整电压，b系需要手动调整。\n\n测试平台：华硕B760-G小吹雪d5 13700k vk c360冷排\n\n\n# 教程\n\n# 更新bios\n\n * 进入华硕官网-右上角服务支持-下载中心，选择主板型号，点击驱动程序和工具软件\n\n# ME\n\n * 更新ME版本,同bios，在bios最下面\n\n * 选择104微码\n   \n   * 关闭APE\n   * AI Tweaker-Tweakers Paradise-Switch Mirocode:默认为CurrentMicroccode改为0下04Microcode\n   * 重启电脑\n\n# 调整电压\n\n * AI Tweaker-Global Core SVIDD Voltage 改为Offset Mode\n   * 便宜符号模式改为-\n   * offset Voltage 改为0.1(可以继续加大找到最合适位置，本次为0.178)\n * AI Tweaker-Cache SVID Voltage 改为Offset Mode\n   * 便宜符号模式改为-\n   * offset Voltage 改为0.1(可以继续加大找到最合适位置，本次为0.178)\n\n# 防掉压\n\n * AI Tweaker - DIGI+ VRM - cpu负载线转正改为level1(如果开了ape选level3)\n\n# 参考\n\n * [1] 走一遍流程\n * [2] 软件调整电压测试\n * [3] 参考13700k跑分\n * [4] 华硕主板bios升级教程\n * [5] 微星主板操作方法及评论区软件下载链接\n * [6] r23 tm5使用教程\n\n\n# 测试\n\n# 预期\n\n单烤fpu功耗AID64 200w左右，Hwin cpu封装功率217w\n\ncpu-z 电压1.243v，性能不下降。hwinfo cpu核心电压1.322v\n\naid64 cpu Package温度< 76度，Hwin 核心温度不超过84\n\nR23多核30225\n\n测试记录\n\n场景                      HWINFO-VCORE电压平均(R23/AID64)   CPU最高温度(R23/AID64)   软显功耗(R23/AID64)   核心频率      CPU-Z           R23          备注\noffset未设置 防掉压3，仅104微码                                                                                  12014/868.6     27312/2101   未测内存\noffset0.1 防掉压3          /1.28                         98                   252               5.3/4.1   12430/866.9     28330        未测内存\noffset0.15 防掉压1         1.144/1.168                   87/81                236/211           5.3/4.2   12518.6/866.3   30139        通过\noffset0.16 防掉压3                                                                                        12513/866.7     29049/2094   未测内存\noffset0.16 防掉压1         1.128/1.152                   84/79                229/207           5.3/4.2   12509.5/865.7   30263        通过\noffset0.17防掉压3，开ape     1.168/                        92                   230               5.3/4.2                   30318        \noffset0.17防掉压1          1.12/1.144                    84/76                227/202           5.3/4.2   12496.9/868.2   30243/2109   通过\noffset0.175防掉压1         1.12/1.136                    84/77                225/200           5.3/4.2   12517.7/868.1   30308        通过\noffset0.178防掉压1         1.12/1.136                    84/77                222/200           5.3/4.2   12521/867       30321/2113   通过\noffset0.178防掉压3，内存1:2                                                                                                               \noffset0.180防掉压1                                                                                                                     aid64内存测试蓝屏\noffset0.183防掉压1         1.112/1.136                   83/76                222/198                     12498.7/867.5   30226        通过\noffset0.185防掉压3         /1.2                          92/81                242/210           5.3/4.2   12401/863       30276/2105   aid64内存测试蓝屏\noffset0.185防掉压1         1.04/1.128                    80/78                219/197           5.3/4.2   12472/866       30297/2107   aid64内存测试蓝屏\noffset0.186防掉压3，开ape    1.152/1.168                   87/80                220/197           5.3/4.2   12497/865.5     29982        通过\noffset0.1865防掉压1                                                                                                                    r23蓝屏\noffset0.1875防掉压1        1.104/                        80/                  217/              5.3/4.2                   30115        未测内存\noffset0.1885防掉压1                                                                                       12495/866                    r23蓝屏\noffset0.19防掉压1          /1.128                        /74                  /195              5.3/4.2                                未测内存\noffset0.2防掉压1                                                                                          12513/866.1                  r23蓝屏\noffset0.2防掉压3，ape开启     1.136/1.152                   83/76                213/190           5.3/4.2   12500/868       30266/2108   r23蓝屏\noffset0.2防掉压3           1.176/1.16                    93/79                234/193           5.3/4.2   12523.4/867.7   30264        通过\noffset0.21防掉压3          1.184/                        92/                  232/                                        30215        \n\n# 重点\n\n * 防掉压1 可以使温度更低，但稳定性更差，aid64内存测试容易蓝屏\n * 开防掉压1关闭aep，开防掉压3开启aep\n * r23和aid64的内存及烤机都要测试，tm5最好也要测测\n\n# 结论\n\n本次摸索出的offset为0.175、0.178\n\n\n# 内存超频\n\n既然选了13代u和华硕760小吹雪主板，就必然要折腾内存，虽然提升不了特别大的性能，就是体验折腾的乐趣。\n\n\n# 内存频率\n\n# 超频7000\n\n主板配置\n\n * 开机按DEL进入BIOS，按F7进入高级设置\n * 关闭XMP：选择AI Tweaker-Ai智能超频由XMP改为自动\n * 内存频率：DDR5-7000\n * 继续下滑修改电压：AI Tweaker-处理器系统代理电压由自动改为Manual Mode\n   * CPU System Agent Voltage override别名sa设置为1.15000\n   * High DRAM Voltage Mode由自动改为开启\n     * DRAM VDD 和VDDQ电压改为1.45000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下32 42 42 42 64 指令速率还是auto不变。这里760主板将内存RAS#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间：\n     * DRAM Refresh Interval由auto改为65535\n     * 内存写恢复延时由auto改为21\n   * 第三时序\n     * tWRWR_sg由auto改为16\n     * tWRRD_sg由auto改为64\n     * tWRRD_dg由auto改为46\n\n参考\n\n * [1] 超频7000\n\n# 超频7400\n\n测试结论\n\n稳定通过tm5 aid64内存测试\n\n主板配置\n\n * 开机按DEL进入BIOS，按F7进入高级设置\n * 关闭XMP：选择AI Tweaker-Ai智能超频由XMP改为自动\n * 内存频率：DDR5-7400\n * 继续下滑修改电压：AI Tweaker-处理器系统代理电压由自动改为Manual Mode\n   * CPU System Agent Voltage override别名sa设置为1.21500\n   * High DRAM Voltage Mode由自动改为开启\n     * DRAM VDD改为1.44000 和VDDQ电压改为1.42000\n * AI Tweaker\\Advanced Memory Voltages(默认参数都是自动)\n   * IVR Transmltter VDDQ Voltage改为 1.37000\n   * Memory Controller Voltage改为 1.41600\n   * PMIC Voltages 改为Sync All PmIcs\n   * DRAM VDD Voltage 改为1.44000\n   * DRAM VDDQ Voltage 改为 1.42000\n   * DRAM VPP Voltage 改为 1.80000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下34 44 44 44 58 指令速率改为2N。这里760主板将内存RAS#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间：\n     * DRAM REF Cycle Time 2改为460\n     * DRAMREF Cycle Time Same Bank 改为4 00\n     * DRAM Refresh Interval由auto改为65535\n     * 内存写恢复延时由auto改为48\n     * 内存读取到预充电时间改为12\n     * 内存四项动作成功时间改为16\n     * DRAM WRITE to READ Delay L 改为16\n     * DRAM WRITE to READ Delay S 改为16\n   * 第三时序\n     * tRDRD_sg-Runtime 改为16\n     * tWRWR_sg由auto改为16\n\n参考\n\n * [1] 小吹雪专用7400过测\n * [2] 未测试\n\n# 超频7600\n\n参数还是在7400基础上只调高了频率到7600，测试tm5 3轮3个报错\n\n# 超频7800\n\n参数还是在7400基础上只调高了频率到7800，aid64测试直接蓝屏。\n\n# 超频6800\n\n * 开机按DEL进入BIOS，按F7进入高级设置\n * 关闭XMP：选择AI Tweaker-Ai智能超频由XMP改为自动\n * 内存频率：DDR5-6800\n * Memory Controler:DRAM Frequency Ratio:1:2\n * 继续下滑修改电压：AI Tweaker-处理器系统代理电压由自动改为Manual Mode\n   * CPU System Agent Voltage override别名sa设置为1.11000\n   * High DRAM Voltage Mode由自动改为开启\n     * DRAM VDD改为1.40000\n     * DRAM VDDQ电压改为1.37000\n * cpu电压：AI Tweaker-Advanced Memory Voltages\n   * cpu VDD2(华硕叫MCV)电压改为1.35000\n   * cpu VDDQ(华硕叫IVR)电压改为1.37000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下32 40 40 40 70 。这里760主板将内存RAS#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间(TRFC)：\n     * DRAM REF Cycle Time 2(TRFC)改为480\n     * DRAMREF Cycle Time Same Bank 改为300\n     * DRAM Refresh Interval由auto改为65535\n     * 内存写恢复延时由auto改为48\n     * 内存读取到预充电时间改为12\n     * 内存四项动作成功时间改为16\n     * DRAM WRITE to READ Delay L 改为16\n     * DRAM WRITE to READ Delay S 改为16\n   * 第三时序\n     * tRDRD_sg_Runtine:16\n     * tRDRD_dg_Runtine:8\n     * tRDWR_sg:20\n     * tRDWR_dg:20\n     * tWRWR_sg由auto改为16\n     * tWRWR_dg 由auto改为8\n     * tWRRD_sg:60\n     * tWRRD_dg:48\n     * tRDRD_dr:1\n     * tRDRD_dd:1\n     * tWRWR_dr 由auto改为1\n     * tWRWR_dd 由auto改为1\n     * \n\n# 参考\n\n * [1] 铭瑄银爵6400超频\n\n# 超频6600\n\n参数还是在7400基础上只调高了频率到6600\n\n# 结论\n\n超频每次提升较小，6400->6800读写复制有25%的提升，6800->7400 有25%的提升，所以为了功耗及稳定，超导6800足矣。\n\n\n# 内存超频教程\n\n * [1] SA cpu-VDDQ cpu-VDD2\n * [2] 测试工具-TM5",normalizedContent:"# cpu降压\n\nb系主板搭载13系cpu普遍给的电压过高，如b760-g小吹雪d5+13700k ，默认电压给到1.47v，烤机最高功耗软显280w稳定下来也在250w左右。如果搭载z系主板则会动态调整电压，b系需要手动调整。\n\n测试平台：华硕b760-g小吹雪d5 13700k vk c360冷排\n\n\n# 教程\n\n# 更新bios\n\n * 进入华硕官网-右上角服务支持-下载中心，选择主板型号，点击驱动程序和工具软件\n\n# me\n\n * 更新me版本,同bios，在bios最下面\n\n * 选择104微码\n   \n   * 关闭ape\n   * ai tweaker-tweakers paradise-switch mirocode:默认为currentmicroccode改为0下04microcode\n   * 重启电脑\n\n# 调整电压\n\n * ai tweaker-global core svidd voltage 改为offset mode\n   * 便宜符号模式改为-\n   * offset voltage 改为0.1(可以继续加大找到最合适位置，本次为0.178)\n * ai tweaker-cache svid voltage 改为offset mode\n   * 便宜符号模式改为-\n   * offset voltage 改为0.1(可以继续加大找到最合适位置，本次为0.178)\n\n# 防掉压\n\n * ai tweaker - digi+ vrm - cpu负载线转正改为level1(如果开了ape选level3)\n\n# 参考\n\n * [1] 走一遍流程\n * [2] 软件调整电压测试\n * [3] 参考13700k跑分\n * [4] 华硕主板bios升级教程\n * [5] 微星主板操作方法及评论区软件下载链接\n * [6] r23 tm5使用教程\n\n\n# 测试\n\n# 预期\n\n单烤fpu功耗aid64 200w左右，hwin cpu封装功率217w\n\ncpu-z 电压1.243v，性能不下降。hwinfo cpu核心电压1.322v\n\naid64 cpu package温度< 76度，hwin 核心温度不超过84\n\nr23多核30225\n\n测试记录\n\n场景                      hwinfo-vcore电压平均(r23/aid64)   cpu最高温度(r23/aid64)   软显功耗(r23/aid64)   核心频率      cpu-z           r23          备注\noffset未设置 防掉压3，仅104微码                                                                                  12014/868.6     27312/2101   未测内存\noffset0.1 防掉压3          /1.28                         98                   252               5.3/4.1   12430/866.9     28330        未测内存\noffset0.15 防掉压1         1.144/1.168                   87/81                236/211           5.3/4.2   12518.6/866.3   30139        通过\noffset0.16 防掉压3                                                                                        12513/866.7     29049/2094   未测内存\noffset0.16 防掉压1         1.128/1.152                   84/79                229/207           5.3/4.2   12509.5/865.7   30263        通过\noffset0.17防掉压3，开ape     1.168/                        92                   230               5.3/4.2                   30318        \noffset0.17防掉压1          1.12/1.144                    84/76                227/202           5.3/4.2   12496.9/868.2   30243/2109   通过\noffset0.175防掉压1         1.12/1.136                    84/77                225/200           5.3/4.2   12517.7/868.1   30308        通过\noffset0.178防掉压1         1.12/1.136                    84/77                222/200           5.3/4.2   12521/867       30321/2113   通过\noffset0.178防掉压3，内存1:2                                                                                                               \noffset0.180防掉压1                                                                                                                     aid64内存测试蓝屏\noffset0.183防掉压1         1.112/1.136                   83/76                222/198                     12498.7/867.5   30226        通过\noffset0.185防掉压3         /1.2                          92/81                242/210           5.3/4.2   12401/863       30276/2105   aid64内存测试蓝屏\noffset0.185防掉压1         1.04/1.128                    80/78                219/197           5.3/4.2   12472/866       30297/2107   aid64内存测试蓝屏\noffset0.186防掉压3，开ape    1.152/1.168                   87/80                220/197           5.3/4.2   12497/865.5     29982        通过\noffset0.1865防掉压1                                                                                                                    r23蓝屏\noffset0.1875防掉压1        1.104/                        80/                  217/              5.3/4.2                   30115        未测内存\noffset0.1885防掉压1                                                                                       12495/866                    r23蓝屏\noffset0.19防掉压1          /1.128                        /74                  /195              5.3/4.2                                未测内存\noffset0.2防掉压1                                                                                          12513/866.1                  r23蓝屏\noffset0.2防掉压3，ape开启     1.136/1.152                   83/76                213/190           5.3/4.2   12500/868       30266/2108   r23蓝屏\noffset0.2防掉压3           1.176/1.16                    93/79                234/193           5.3/4.2   12523.4/867.7   30264        通过\noffset0.21防掉压3          1.184/                        92/                  232/                                        30215        \n\n# 重点\n\n * 防掉压1 可以使温度更低，但稳定性更差，aid64内存测试容易蓝屏\n * 开防掉压1关闭aep，开防掉压3开启aep\n * r23和aid64的内存及烤机都要测试，tm5最好也要测测\n\n# 结论\n\n本次摸索出的offset为0.175、0.178\n\n\n# 内存超频\n\n既然选了13代u和华硕760小吹雪主板，就必然要折腾内存，虽然提升不了特别大的性能，就是体验折腾的乐趣。\n\n\n# 内存频率\n\n# 超频7000\n\n主板配置\n\n * 开机按del进入bios，按f7进入高级设置\n * 关闭xmp：选择ai tweaker-ai智能超频由xmp改为自动\n * 内存频率：ddr5-7000\n * 继续下滑修改电压：ai tweaker-处理器系统代理电压由自动改为manual mode\n   * cpu system agent voltage override别名sa设置为1.15000\n   * high dram voltage mode由自动改为开启\n     * dram vdd 和vddq电压改为1.45000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下32 42 42 42 64 指令速率还是auto不变。这里760主板将内存ras#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间：\n     * dram refresh interval由auto改为65535\n     * 内存写恢复延时由auto改为21\n   * 第三时序\n     * twrwr_sg由auto改为16\n     * twrrd_sg由auto改为64\n     * twrrd_dg由auto改为46\n\n参考\n\n * [1] 超频7000\n\n# 超频7400\n\n测试结论\n\n稳定通过tm5 aid64内存测试\n\n主板配置\n\n * 开机按del进入bios，按f7进入高级设置\n * 关闭xmp：选择ai tweaker-ai智能超频由xmp改为自动\n * 内存频率：ddr5-7400\n * 继续下滑修改电压：ai tweaker-处理器系统代理电压由自动改为manual mode\n   * cpu system agent voltage override别名sa设置为1.21500\n   * high dram voltage mode由自动改为开启\n     * dram vdd改为1.44000 和vddq电压改为1.42000\n * ai tweaker\\advanced memory voltages(默认参数都是自动)\n   * ivr transmltter vddq voltage改为 1.37000\n   * memory controller voltage改为 1.41600\n   * pmic voltages 改为sync all pmics\n   * dram vdd voltage 改为1.44000\n   * dram vddq voltage 改为 1.42000\n   * dram vpp voltage 改为 1.80000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下34 44 44 44 58 指令速率改为2n。这里760主板将内存ras#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间：\n     * dram ref cycle time 2改为460\n     * dramref cycle time same bank 改为4 00\n     * dram refresh interval由auto改为65535\n     * 内存写恢复延时由auto改为48\n     * 内存读取到预充电时间改为12\n     * 内存四项动作成功时间改为16\n     * dram write to read delay l 改为16\n     * dram write to read delay s 改为16\n   * 第三时序\n     * trdrd_sg-runtime 改为16\n     * twrwr_sg由auto改为16\n\n参考\n\n * [1] 小吹雪专用7400过测\n * [2] 未测试\n\n# 超频7600\n\n参数还是在7400基础上只调高了频率到7600，测试tm5 3轮3个报错\n\n# 超频7800\n\n参数还是在7400基础上只调高了频率到7800，aid64测试直接蓝屏。\n\n# 超频6800\n\n * 开机按del进入bios，按f7进入高级设置\n * 关闭xmp：选择ai tweaker-ai智能超频由xmp改为自动\n * 内存频率：ddr5-6800\n * memory controler:dram frequency ratio:1:2\n * 继续下滑修改电压：ai tweaker-处理器系统代理电压由自动改为manual mode\n   * cpu system agent voltage override别名sa设置为1.11000\n   * high dram voltage mode由自动改为开启\n     * dram vdd改为1.40000\n     * dram vddq电压改为1.37000\n * cpu电压：ai tweaker-advanced memory voltages\n   * cpu vdd2(华硕叫mcv)电压改为1.35000\n   * cpu vddq(华硕叫ivr)电压改为1.37000\n * 内存时序设置：\n   * 首选时序由全部auto改为从上到下32 40 40 40 70 。这里760主板将内存ras#预充电延时分为了read write，网上教程里的主板bios部分read write只有1个。\n   * 第二时序由全部auto改为从上而下 8 8\n   * 内存行刷新周期时间(trfc)：\n     * dram ref cycle time 2(trfc)改为480\n     * dramref cycle time same bank 改为300\n     * dram refresh interval由auto改为65535\n     * 内存写恢复延时由auto改为48\n     * 内存读取到预充电时间改为12\n     * 内存四项动作成功时间改为16\n     * dram write to read delay l 改为16\n     * dram write to read delay s 改为16\n   * 第三时序\n     * trdrd_sg_runtine:16\n     * trdrd_dg_runtine:8\n     * trdwr_sg:20\n     * trdwr_dg:20\n     * twrwr_sg由auto改为16\n     * twrwr_dg 由auto改为8\n     * twrrd_sg:60\n     * twrrd_dg:48\n     * trdrd_dr:1\n     * trdrd_dd:1\n     * twrwr_dr 由auto改为1\n     * twrwr_dd 由auto改为1\n     * \n\n# 参考\n\n * [1] 铭瑄银爵6400超频\n\n# 超频6600\n\n参数还是在7400基础上只调高了频率到6600\n\n# 结论\n\n超频每次提升较小，6400->6800读写复制有25%的提升，6800->7400 有25%的提升，所以为了功耗及稳定，超导6800足矣。\n\n\n# 内存超频教程\n\n * [1] sa cpu-vddq cpu-vdd2\n * [2] 测试工具-tm5",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"AIOps调研🔥",frontmatter:{title:"AIOps调研🔥",date:"2023-2-1",categories:["运维"],tags:["SRE","异常检测"],description:"",meta:[{name:"image",content:"https://www.yangxiaokang.com/aiops.assets/1675606789347.png"},{name:"twitter:title",content:"AIOps调研🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/aiops.assets/1675606789347.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/ai/aiops%E8%B0%83%E7%A0%94.html"},{property:"og:type",content:"article"},{property:"og:title",content:"AIOps调研🔥"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/aiops.assets/1675606789347.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/ai/aiops%E8%B0%83%E7%A0%94.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-2-1"},{property:"article:tag",content:"SRE"},{property:"article:tag",content:"异常检测"},{itemprop:"name",content:"AIOps调研🔥"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/aiops.assets/1675606789347.png"}]},regularPath:"/article/ai/aiops%E8%B0%83%E7%A0%94.html",relativePath:"article/ai/aiops调研.md",key:"v-ef5daee6",path:"/article/ai/aiops%E8%B0%83%E7%A0%94.html",headers:[{level:3,title:"异常表现形式",slug:"异常表现形式",normalizedTitle:"异常表现形式",charIndex:311},{level:2,title:"异常检测",slug:"异常检测",normalizedTitle:"异常检测",charIndex:355},{level:3,title:"统计数据",slug:"统计数据",normalizedTitle:"统计数据",charIndex:737},{level:3,title:"序列数据",slug:"序列数据",normalizedTitle:"序列数据",charIndex:757},{level:3,title:"方案",slug:"方案",normalizedTitle:"方案",charIndex:9821}],headersStr:"异常表现形式 异常检测 统计数据 序列数据 方案",content:'作为分享的开篇使用\n\n指标获取：人工录入、服务打标，保证质量；\n\n指标范围：仅核心服务的指标，不搞大水漫灌\n\n自动巡检&监控有何区别？\n\n监控一般是定时（例如五分钟）采集设备各项指标值，然后根据阈值，判定指标状态。平时采集的数据用于分析，发生故障时，实时告警，一般情况下，各指标的监控信息是相对孤立的；\n\n而自动巡检可全面连动扫描一遍设备，执行频度相对监控会稀疏些，在程序实现上，可以针对监控历史数据分析，进行事前预警，以及关联分析出结论。\n\n综上，可以理解为：人工巡检是监控不能到达范围的补充，而自动巡检可以代替手工检查设备状态，完成一次全面深度的设备检测。监控、人工巡检、自动巡检是IT运维中相辅相成的环节。\n\n\n# 异常表现形式\n\n突增突降(包括持续一段时间增降)\n\n静态阈值(持续)\n\n同环比\n\n\n# 异常检测\n\n定义\n\n不同于常规模式下的问题和任务，异常检测 （Anomaly Detection ） 针对的是少数、不可预测或不确定、不符合预期模式的事件的识别，它具有独特的复杂性，使得一般的机器学 习和深度学习技术难以直接应用。\n\n异常检测的应用领域\n\n * 点异常：少数个体实例是异常的，大多数个体实例是正常的；例：正常人与病人的健康指标\n * 条件异常（上下文异常）：在特定情境下个体实例是异常的，在其他情境下都是正常的；例：在特定时间下的温度突然上升或下降\n * 群体异常：在群体集合中的个体实例出现异常的情况，而该个体实例自身可能不是异常，在入侵或欺诈检测等应用中， 离群点对应于多个数据点的序列，而不是单个数据点.例：信用卡突然短时间内不停地消费50元的记录集合作为群体异常子集，但子集中的个体可能与真实消费记录一样正常\n\n异常检测针对的数据\n\n * 统计数据，比如表格数据、网络流；\n * 序列数据，比如时间序列，蛋白质序列；\n * 空间数据，比如图形和视频。\n\n异常检测算法分类\n\n * 按照学习方式的不同\n   \n   * 有监督异常检测（Supervised Anomaly Detection） 在训练集中的正常实例和异常实例都有标签，这类方法的缺点在于数据标签难以获得或数据不均衡（正常样本数量远大于异常样本数量）\n   * 半监督异常检测（Semi-Supervised Anomaly Detection） 在训练集中只有单一类别（正常实例）的实例，没有异常实例参与训练\n   * 无监督异常检测（Unsupervised Anomaly Detection） 在训练集中既有正常实例也可能存在异常实例，但假设数据的比例是正常实例远大于异常实例，模型训练过程中没有标签进行校正\n   * 弱监督异常检测 主要是针对异常实例不完全、粗粒度标签、部分实例标签错误等情况进行算法设计\n   \n   现实情况的异常检测问题，由于收集异常标签样本的难度大，往往是没有标签的，所以无监督异常检测应用最为广泛。\n\n * 按照异常类别的不同\n   \n   * 异常点检测(如异常消费用户)\n   * 上下文异常检测（如时间序列异常）\n   * 组异常检测（如异常团伙）\n\n * 按照训练集是否包含异常值\n   \n   * 异常值检测（outlier detection）\n   * 新颖点检测（novelty detection），新颖点检测的代表方法如one class SVM\n\n\n# 统计数据\n\n# 表格型数据\n\n若干特征的集合，可以是连续型（continuous）或离散型（discrete）特征\n\n\n\n\n\n# 基于距离的度量\n\n * K近邻算法\n   * 对每一个点，计算其与最近k个相邻点的距离，通过距离的大小来判断它是否为离群点\n   * \n\n# 使用聚类进行异常检测\n\n * DBSCAN\n   * 先使用没有异常点的训练集得到一个聚类，在测试集中如果某一个点距离它最近的中心超过之前训练集里的 最大距离的话，就判断它为异常点\n   * \n\n# 基于密度的方法\n\n * 局部离群因子（LOF）\n   * LOF算法与k近邻算法类似，不同的是它以相对于其邻居的局部密度偏差而不是距离来进行度量。它将相邻点之间的距离进一步转化为“邻域”，从而得到邻域中点的数量（即密度），认为密度远低于其邻居的样本为异常值\n   * \n   * \n\n# 一类支持向量机\n\n# 单分类问题（one class classification）\n\n\n\n * 一类支持向量机 One-Class SVM\n   \n   * 使用正常数据进行训练，目的是寻找一个超平面，使超平面离零点距离最远，同时所有的正常数据都在超平面一侧（跟零点不在同一侧）。\n   * 识别一个新的数据点时，与零点同侧的数据判定为异常，与零点异侧的数据判定为正常\n   * \n\n * 支持向量数据描述 Support Vector Data Description （SVDD)\n   \n   * 和OCSVM类似，但目的是训练出一个体积最小的超球面（即三维以上的空间中的球面，对应的二维空间中就是曲线，三维空间中就是球面，三维以上的称为超球面）将正常数据全部包起来。\n   * 识别一个新的数据点时，如果这个数据点落在超球面内，就是这个类（正常），否则不是\n   * \n\n * 孤立森林 Isolation Forest（iForest)\n   \n   * 将异常定义为“容易被孤立的离群点（morelikely to be separated）”。可以理解为分布稀疏且离密度高的群体较远的点。用统计学来解释，在数据空间里面，分布稀疏的区域表示数据发生在此区域的概率很低，因此可以认为落在这些区域里的数据是异常的\n   \n   * 目前是异常点检测最常用的算法之一，它的优点非常突出，具有线性时间复杂度。因为是随机森林的方法，所以可以用在含有海量数据的数据集上，通常树的数量越多，算法越稳定。由于每棵树都是互相独立生成的，因此可以部署在大规模分布式系统上来加速运算，因此适合大数据场景。\n   \n   * \n   \n   * iForest原理：假设我们用一个随机超平面来切割 （split）数据空间（dataspace），切一次可以生成两个子空间。之后我们再继续用一个随机超平面来切割每个子空间，循环下去，直到每个子空间里面只有一个数据点为止。直观上来讲，我们可以发现那些密度很高的簇是被切分很多次才会停止切割，但是那些密度很低的点很容易很早就停到一个子空间了\n   \n   * \n   \n   * iForest的优缺点\n     \n     iForest是目前是异常点检测最常用的算法之一，它的优点非常突出，具有线性时间复杂度。因为是随机森林的方法，所以可以用在含有海量数据的数据集上，通常树的数量越多，算法越稳定。由于每棵树都是互相独立生成的，因此可以部署在大规模分布式系统上来加速运算。\n     \n     但是IForest也有一些缺点，比如不适用于特别高维的数据。由于每次切数据空间都是随机选取一个维度和该维度的随机一个特征，建完树后仍然有大量的维度没有被用，导致算法可靠性降低，因此推荐降维后使用 。\n     \n     另外IForest仅对即全局稀疏点敏感，不擅长处理局部的相对稀疏点，这样在某些局部的异常点较多的时候检测可能不是很准。而One Class SVM对于中小型数据分析，尤其是训练样本不是特别海量的时候用起来经常会比iForest顺手，因此比较适合做原型分析。\n\n# DevNet：基于偏差网络的深度异常检测模型\n\n * 异常评分网络 Anomaly Scoring Network\n   * 异常评分网络由特征学习其、遗产评分函数组成\n   * 对于不同类型的输入数据，可以采用不同的特征学习器，例如多维数据-MLP，图像数据-CNN，序列数据-RNN 异常评分函数可以对于特征学习器中间的输出特征使用一个线性分类器来计算异常评分\n   * \n * 参考评分生成器Gaussian Prior-based Reference Scores Generation\n   * 参考评分定义为随机抽取的正常样本异常分数的均值 • 数据驱动法：通过模型学习到数据样本中的参考评分 • 先验驱动法：通过选择某种概率分布来生成参考评分 根据中心极限定理研究表明，高斯分布能够更好地拟合数 据样本中的异常分数。因此作者直接采用高斯分布在数据 样本中采样\n * 偏差损失函数 Z-Score-based Deviation Loss\n   * 总的来说，Devnet使用高斯先验知识优化模型基于 Z-score的偏差损失函数，直接优化异常评分\n\n# 自编码器 AE\n\n * DAGMM\n   \n   如何对高维和多变量的数据进行无监督异常检测是一个挑战，传统的方法分两步，先对高维数据进行降维，将原始数据映射到低维度空间；然后在这个低维空间内做密度估计 • 这两步是相互独立的过程，高维数据降维后的表征很难保留足够多的关键信息 • 因为这两步是相互独立的，最终可能导致模型陷入局部最优的境地，试想降维过程完全独立于后面密度估计过程，并不知道为后面的密度估计过程保留哪些关键信息\n   \n   DAGMM模型，很巧妙的将降维过程（Deep AutoEncoding，DAE）和密度估计过程(Gaussian mixture model，GMM)有机的结合在一起，进行端到端的联合训练。避免了因两步独立导致模型陷 入局部最优的境地\n   \n   * Compression network\n     * 压缩网络是一个深度自编码网络（DAE）， 通过这个自编码我们可以得到输入 � 的低 维表示 �!，同时得到输入�与重构的 �" 之间的重构误差特征 �#，�# 与 �! 进行拼接 操作形成 �\n   * Estimation network\n     * 估计网络是本文的关键，把神经网络与EM算法有机结合，做到DAE与GMM联合训练，相互优化是论文的一大亮点\n\n# RDP\n\n许多无监督方法都在探索利用数据中容易获得的信息，比如时间和空间邻近信息，然后利用这些信息设计一个监督信号去监督特征 学习过程。但是表格型数据不包含所谓的时间和空间信息 • 许多传统处理表格数据的方法计算量消耗比 较大，很难去处理大规模或者高维数据\n\nRDP模型：训练一个神经网络去拟合在随机映射 空间中每两个点之间的距离 随机映射空间中数据的距离包含有数据的类结构， 因此这个预测随机距离学到了数据类结构信息\n\n\n# 序列数据\n\n# 时间序列异常检测\n\n异常检测（Anomaly detection）是目前时序数据分析最成熟的应用之一，定义是从正常的时间序列中识别不正常的事件或行为的过程。有效的异常检测被广泛用于现实世界的很多领域，例如量化交易，网络安全检测、自动驾驶汽车和大型工业设备的日常监控和维护。\n\n【时间序列】 是指某一个指标按照时间的统计或者观测而成的数列。比如，在运维的领域中，某主机每秒的CPU使用率、某业务每分钟的请求数量等，都可以形成一条时间序列；「异常检测」是指对反常的、和历史不同的行为模式识别。如某台一直空闲的机器，CPU使用率突然飙升至100%、某系统在本应业务繁忙的时间段请求数量降为0等等。\n\n时间序列异常检测问题特性\n\n 1. 时序性质 temporality 连续数据点之间存在着隐式的时间相关性或依赖性。\n\n 2. 多维度性质 dimensionality\n    \n    对于多元时间序列异常检测来说不仅仅要考虑单个维度数据间的时序依赖，也要考虑与其它维度数据的相关关系。\n\n 3. 非平稳性质 nonstationarity\n\n现实中的时间序列的统计特征(最大值，均值，方差等)往往是非稳定的，可能存在周期性，且受到外在环境的影响而变化。\n\n时间序列异常检测方式\n\n * 基于预测的算法\n * 基于统计的算法\n\n# 传统机器学习方法\n\n# 时域/频域分析\n\n * 傅里叶分析\n   * 傅里叶分析能将时域的原始数据转换频域表示，其中最常用的方法是离散傅里叶变换 (DFT)。将实际时间序列转化为了频域表示后，可以得出周期、频率分布等性质。\n   * \n\n# 基于统计模型\n\n * Z-score方法\n   \n   * 简介：异常+检测，将时间序列每个时间戳的点视为一个样本用z-score计算每个时间点的偏离程度，若大于阈值(3)则判断为异常\n   * 弊端：没有用到任何时间序列的信息，也就是说这个时间序列是否有序，检测出的异常不会发生变化这显然是不符合我们需求的，因为很多异常可能是一些局部的特征，所以此方法不能用于检测序列的异常\n\n * FluxEV\n   \n   * 简介：1.模型采用了两步平滑，第一步利用 当前时间窗和历史时间窗的均值和方 差以及差分等统计特征对局部波动进 行平滑，第二步考虑周期性带来的周 期噪声并进行平滑。两部平滑后会缩 小正常的数据波动而对异常波动进行 放大(图中红线）\n     \n     2.采用了基于极值理论的SPOT算法和 矩估计设计了一个动态阈值方法，根 据数据分布的变化和历史异常值的检 出频率来动态调整异常阈值。\n\n * 滑动平均法(Moving Average,MA)\n\n * 简介：序列+异常+检测，MA的方法利用到了序列的特征，滑动平均法基于最近时刻的值估计当前时刻的取值\n\n * 指数加权滑动平均法(Exponential Weighted Moving Average,EWMA)\n   \n   * 简介：序列+异常+检测，由于序列的距离-相似性，越近的点相似度越高，因此在做滑动平均时采取等权重是不合适的，直观上来说应当给较近的点较高的权重\n\n * 分位数 Boxplot方法\n   \n   * 简介：时间+序列+异常+检测，同环比对比\n\n * ARIMA\n   \n   * 简介：适合用于平稳的，较少突增/突降的数据的预测。ARIMA算法使用前一段数据来预测下一个时间点的数据，因此会导致预测有一定的滞后性，易受到异常值的影响；同时需要进行大量的平稳性检验、参数估计等工作。ARIMA共有7个参数，如何选取到合适的参数本身就是一个难题，而考虑季节性因素的升级版SARIMA由于训练开销大，导致自动选取参数极为困难，一般情况下的做法是预设一组参数。\n\n * GBRT\n   \n   * 简介：适用于形态较稳定，有周期特性的数据。为了使GBRT展现更好的算法效果，需要一定的人工经验提取到有效特征。\n   * 不足：而由于单棵回归树生成的不确定性，导致每次训练后的模型可能产生较大差别，检测结果不稳定同时可解释性也较弱。\n\n * LSTM\n   \n   * 简介：适用于高频、形态不限的数据。LSTM同样是使用前一段数据来预测下一个时间点的数据，也有着类似的局限。另外，我们日常所见的数据时序属性较弱，统计属性更强（比如1,2后面跟着的不一定是3，更可能是1，因为上周期同位置是1），不太适合LSTM来发挥效果。\n\n * Prophet\n   \n   * 简介：适用于形态较稳定，有周期特性的数据，同时考虑了节假日的特性。由于Prophet采用傅里叶级数来处理周期性因子，导致一般夜间(波动较小)的数据情况较难预测准确；它更关注整体的波动状态，对一些局部信息的捕捉较差。\n\n# 基于距离的模型\n\n许多算法使用两个时间序列之间的显式距离来量化两者之间的相似性。基于得到的相似度度 量，待检测的的序列与正常序列的距离超出预期范围，序列将被标记为异常。常用的两个序 列间的距离度量：欧式距离、动态时间规整（DTW）等\n\n# 基于邻近的方法\n\n依赖的假设是：正常数据实例位于密集的邻域中，而异常数据实例附近的样例较为稀疏。可以继续细分为 基于密度/邻居：\n\n * 基于密度，该方法通过计算数据集中各数据区域的密度，将密度较低区域作为离群区域。经典的方法为：局部离群因子( local outlier factor，LOF) 。LOF 法与传统异常点非彼即此定义不同，将异常点定义局域是异常点，为每个数据赋值一个代表相对于其邻域的 LOF 值，LOF 越大，说明其邻域密度较低，越有可能是异常点。但在 LOF 中难以确定最小近邻域，且随着数据维度的升高，计算复杂度和时间复杂度增加。\n * 基于距离，其基本思想是通过计算比较数据与近邻数据集合的距离来检测异常，正常数据点与其近邻数据相似，而异常数据则有别于近邻数据。\n\n# 基于分类模型\n\n代表方法是One class SVM，其原理是寻找一个超平面将样本中的正例圈出来，预测就是用这个超平面做决策，在圈内的样本就认为是正样本。由于核函数计算比较耗时，在海量数据的场景用的并不多。\n\n\n\n# 聚类模型\n\n基于聚类的异常检测方法通常依赖下列假设，\n\n1）正常数据实例属于数据中的一个簇，而异常数据实例不属于任何簇；\n\n2）正常数据实例靠近它们最近的簇质心，而异常数据离它们最近的簇质心很远；\n\n3）正常数据实例属于大而密集的簇，而异常数据实例要么属于小簇，要么属于稀疏簇；\n\n * 将距离簇中心较远的数据作为异常点：这类方法有 SOM、K-means、最大期望( expectation maximization，EM)及基于语义异常因子( semantic anomaly factor)算法等；\n\n * 将聚类所得小簇数据作为异常点：代表方法有K-means聚类；\n\n * 将不属于任何一簇作为异常点：代表方法有 DBSCAN、ROCK、SNN 聚类。\n\n\n\n# 传统机器学习方法优点与不足\n\n优点：传统机器学习方法在时间序列异常检测领域淘汰了吗？答案是否定的，顶级会议上此领域仍然有 传统机器学习方法的身影，原因有： 1. 训练所需要的数据量较小，适合新业务冷启动时的异常检测需求。 2. 模型轻量，运行速度相比一般的深度学习方法快很多，对于一些实时性要求非常高的时序数据或者 边缘计算的在线异常检测仍有较大的意义。 3. 对于特定领域来说能比较好的结合领域知识；具有很高的可解释性。许多模型仍然作为深度学习模 型的baseline和基础。 4. 传统方法中的特征工程对深度学习模型也具有很高的借鉴意义\n\n不足： 1. 一般来说需要更加精细的特征工程设计，且跨领域的通用性不强。 2. 现有的机器学习方法一般都是针对单元的时间序列异常检测，因为多元序列之间的相关性由model driven方式较难设计和计算出来，而深度学习模型基于data driven的表达学习更加适用。\n\n# 基于统计的算法\n\n * EDM(E-Divisive with Medians)\n   * EDM使用E-statstics统计方法来检测平均值的差异，通常，EDM算法也可以用于检测给定时间序列中的分布的变化情况\n   * EDM使用较为鲁棒的统计指标，并通过组合测试的方法进行显著性的检验\n   * EDM算法是非参数的，很多云端数据并不遵循简单意义上的正太分布，具有较好的适用性。\n   * 不足：务必确保滤波之后的序列是平滑的，因为一阶差分对噪声数据很敏感，若噪声未能很好的过滤掉，会产生太多的候选点，影响查找效率\n * PELT(Pruned Exact Linear Time)\n * k-sigma\n   * 简介：当前数据点的状态由之前不同周期的相同位置数据(比如上周或者前一天的同一时刻)决定，通过历史同期的数据分布来确定当前数据的合理波动范围。它的初始假设，是局部数据符合正态分布，所以超出均值±3*标准差的数据是极有可能异常的。\n\n# 折点描述\n\n * 峰值分位数检测\n   * 简介：将原始时序数据$x(t)$经过平滑后，求序列的一阶差分序列$x_{diff}(t)$，利用如下方法寻找异常值：\n     * 使用KSigma方法找到时序中的异常点\n     * 使用Quantile方法找到时序中的峰值点\n * 均值漂移检测\n\n# 有监督学习方法\n\n有监督的算法有很多，如基于树模型的随机森林、lightGBM，神经网络MLP等等，其整体思路是提取各种各样的统计特征（如前几个数据点的原始值，最近一段时间的均值、标准差、偏度等等），直接丢给模型去训练，算法会根据标注自动选择最有效的特征用以建模。有监督算法往往可以获得更高的算法准确度，但缺点也是十分明显的——最大的问题就是，我们需要大量的人工标注，覆盖全面的数据类型和异常情况，而这在实际场景中是极难实现的。实际生产中，我们极少考虑这类算法，除非异常场景很明确且历史中存在多次相似的情况。\n\n# 深度学习生成模型\n\n最近几年，通过深度学习生成模型来做异常检测的算法越来越多，效果甚至可以超过一般的有监督学习方法，常见模型有生成对抗网络GAN、变分自编码器VAE等\n\n基于深度学习的时间序列异常检测算法，主 要可以分为以下几种：\n\na) 通过高重构误差来识别异常点，即生成 式（Generative）的算法，往往是无监 督的，如自编码器（Auto Encoder）类、 GAN类等。\n\nb) 基于预测误差来识别异常点，又分为\n\n1. 时间跨度检测：模型学习一段历史数据， 然后预测未来数据。\n2. 序列跨度检测： 许多传感器产生的时间序列通常彼此紧 密相关。经常可以使用一个序列来预测 另一个序列，如隐式马尔科夫链HMM等。\n\n\nc) 通过将序列映射到高维空间中距离远近 来判断异常。\n\nd) 通过标注数据，然后通过有监督算法训 练分类模型，也称判别式 （Discriminative）算法。但实际应用中 往往存在存在异常数据少，缺少标签等 问题。\n\n * 自编码器autoencoder (AE)\n   \n   * 简介：\n   * \n\n * 变分自编码器Variational autoencoder (VAE)\n   \n   * 简介：将高维数据压缩至某一个特定维度大小，采样后将其还原至与原始数据同样的维度。其学习的目标是尽可能缩小还原的数据与原始数据之间的差距。基于“数据正常的模式高频出现，而异常极少出现”的想法，「压缩-还原」的过程会找到主要数据模式，而不会将异常模式进行还原。这样，通过还原数据和真实数据的差值大小，可以推测数据的异常程度。\n\n\n\n * 生成对抗网络GAN\n   * 简介：基于GAN模型异常检测思路是，由真实数据和生成器 生成的模拟数据喂给辨别器训练，同时训练生成器和 辨别器。收敛后，辨别器认为数据属于真实的概率越 低则代表数据异常程度越高。在基本的GAN上又有很 多变体\n * 循环神经网络RNN\n   * 简介：基于RNN，通常用于异常检测有两种方法。 • 预测未来的值，并将它们与预定义的阈值或观 测值进行比较。 • 构造一个AE或VAE来恢复观测值，并对重建 值与观测值的差异进行评估。\n * 卷积神经网络CNN\n   * 简介：虽然RNN是对时间序列数据建模的主要选择，但CNN有时在某些不具有太长时间依赖的特定任务中表现更好。 这种方式需要将多维数据看成图像来处理。为了捕捉长距离的依赖关系，时空卷积网络TCN也被用于时间序列的 异常检测领域，TCN 的卷积层结合了扩张卷积与因果卷积两种结构。因果卷积使得时间步 t 的输出只会根据 t-1 及之前时间步上的卷积运算得出，扩张卷积使得卷积核的感受野能扩展到整个序列，同时将每个单元间还引入了 残差连接。\n * 其它深度学习方法\n   * 1.将不同模型结合的方法，例如采用多层LSTM但使用VAE来构造中间层隐变量 的方法；\n   * 2.各种结合Attention机制的模型；\n   * 3.采用Transformer生成序列表示的模型；\n   * 4.基于GNN的方法，将时间序列转化为图结构数据。\n\n# 第三方库\n\nPyOD\n\nADTK\n\n\n# 方案\n\n# 阿里\n\n * 通过平滑函数消除噪点\n * 阈值检测，将求取累积的窗口均值进行阈值判断',normalizedContent:'作为分享的开篇使用\n\n指标获取：人工录入、服务打标，保证质量；\n\n指标范围：仅核心服务的指标，不搞大水漫灌\n\n自动巡检&监控有何区别？\n\n监控一般是定时（例如五分钟）采集设备各项指标值，然后根据阈值，判定指标状态。平时采集的数据用于分析，发生故障时，实时告警，一般情况下，各指标的监控信息是相对孤立的；\n\n而自动巡检可全面连动扫描一遍设备，执行频度相对监控会稀疏些，在程序实现上，可以针对监控历史数据分析，进行事前预警，以及关联分析出结论。\n\n综上，可以理解为：人工巡检是监控不能到达范围的补充，而自动巡检可以代替手工检查设备状态，完成一次全面深度的设备检测。监控、人工巡检、自动巡检是it运维中相辅相成的环节。\n\n\n# 异常表现形式\n\n突增突降(包括持续一段时间增降)\n\n静态阈值(持续)\n\n同环比\n\n\n# 异常检测\n\n定义\n\n不同于常规模式下的问题和任务，异常检测 （anomaly detection ） 针对的是少数、不可预测或不确定、不符合预期模式的事件的识别，它具有独特的复杂性，使得一般的机器学 习和深度学习技术难以直接应用。\n\n异常检测的应用领域\n\n * 点异常：少数个体实例是异常的，大多数个体实例是正常的；例：正常人与病人的健康指标\n * 条件异常（上下文异常）：在特定情境下个体实例是异常的，在其他情境下都是正常的；例：在特定时间下的温度突然上升或下降\n * 群体异常：在群体集合中的个体实例出现异常的情况，而该个体实例自身可能不是异常，在入侵或欺诈检测等应用中， 离群点对应于多个数据点的序列，而不是单个数据点.例：信用卡突然短时间内不停地消费50元的记录集合作为群体异常子集，但子集中的个体可能与真实消费记录一样正常\n\n异常检测针对的数据\n\n * 统计数据，比如表格数据、网络流；\n * 序列数据，比如时间序列，蛋白质序列；\n * 空间数据，比如图形和视频。\n\n异常检测算法分类\n\n * 按照学习方式的不同\n   \n   * 有监督异常检测（supervised anomaly detection） 在训练集中的正常实例和异常实例都有标签，这类方法的缺点在于数据标签难以获得或数据不均衡（正常样本数量远大于异常样本数量）\n   * 半监督异常检测（semi-supervised anomaly detection） 在训练集中只有单一类别（正常实例）的实例，没有异常实例参与训练\n   * 无监督异常检测（unsupervised anomaly detection） 在训练集中既有正常实例也可能存在异常实例，但假设数据的比例是正常实例远大于异常实例，模型训练过程中没有标签进行校正\n   * 弱监督异常检测 主要是针对异常实例不完全、粗粒度标签、部分实例标签错误等情况进行算法设计\n   \n   现实情况的异常检测问题，由于收集异常标签样本的难度大，往往是没有标签的，所以无监督异常检测应用最为广泛。\n\n * 按照异常类别的不同\n   \n   * 异常点检测(如异常消费用户)\n   * 上下文异常检测（如时间序列异常）\n   * 组异常检测（如异常团伙）\n\n * 按照训练集是否包含异常值\n   \n   * 异常值检测（outlier detection）\n   * 新颖点检测（novelty detection），新颖点检测的代表方法如one class svm\n\n\n# 统计数据\n\n# 表格型数据\n\n若干特征的集合，可以是连续型（continuous）或离散型（discrete）特征\n\n\n\n\n\n# 基于距离的度量\n\n * k近邻算法\n   * 对每一个点，计算其与最近k个相邻点的距离，通过距离的大小来判断它是否为离群点\n   * \n\n# 使用聚类进行异常检测\n\n * dbscan\n   * 先使用没有异常点的训练集得到一个聚类，在测试集中如果某一个点距离它最近的中心超过之前训练集里的 最大距离的话，就判断它为异常点\n   * \n\n# 基于密度的方法\n\n * 局部离群因子（lof）\n   * lof算法与k近邻算法类似，不同的是它以相对于其邻居的局部密度偏差而不是距离来进行度量。它将相邻点之间的距离进一步转化为“邻域”，从而得到邻域中点的数量（即密度），认为密度远低于其邻居的样本为异常值\n   * \n   * \n\n# 一类支持向量机\n\n# 单分类问题（one class classification）\n\n\n\n * 一类支持向量机 one-class svm\n   \n   * 使用正常数据进行训练，目的是寻找一个超平面，使超平面离零点距离最远，同时所有的正常数据都在超平面一侧（跟零点不在同一侧）。\n   * 识别一个新的数据点时，与零点同侧的数据判定为异常，与零点异侧的数据判定为正常\n   * \n\n * 支持向量数据描述 support vector data description （svdd)\n   \n   * 和ocsvm类似，但目的是训练出一个体积最小的超球面（即三维以上的空间中的球面，对应的二维空间中就是曲线，三维空间中就是球面，三维以上的称为超球面）将正常数据全部包起来。\n   * 识别一个新的数据点时，如果这个数据点落在超球面内，就是这个类（正常），否则不是\n   * \n\n * 孤立森林 isolation forest（iforest)\n   \n   * 将异常定义为“容易被孤立的离群点（morelikely to be separated）”。可以理解为分布稀疏且离密度高的群体较远的点。用统计学来解释，在数据空间里面，分布稀疏的区域表示数据发生在此区域的概率很低，因此可以认为落在这些区域里的数据是异常的\n   \n   * 目前是异常点检测最常用的算法之一，它的优点非常突出，具有线性时间复杂度。因为是随机森林的方法，所以可以用在含有海量数据的数据集上，通常树的数量越多，算法越稳定。由于每棵树都是互相独立生成的，因此可以部署在大规模分布式系统上来加速运算，因此适合大数据场景。\n   \n   * \n   \n   * iforest原理：假设我们用一个随机超平面来切割 （split）数据空间（dataspace），切一次可以生成两个子空间。之后我们再继续用一个随机超平面来切割每个子空间，循环下去，直到每个子空间里面只有一个数据点为止。直观上来讲，我们可以发现那些密度很高的簇是被切分很多次才会停止切割，但是那些密度很低的点很容易很早就停到一个子空间了\n   \n   * \n   \n   * iforest的优缺点\n     \n     iforest是目前是异常点检测最常用的算法之一，它的优点非常突出，具有线性时间复杂度。因为是随机森林的方法，所以可以用在含有海量数据的数据集上，通常树的数量越多，算法越稳定。由于每棵树都是互相独立生成的，因此可以部署在大规模分布式系统上来加速运算。\n     \n     但是iforest也有一些缺点，比如不适用于特别高维的数据。由于每次切数据空间都是随机选取一个维度和该维度的随机一个特征，建完树后仍然有大量的维度没有被用，导致算法可靠性降低，因此推荐降维后使用 。\n     \n     另外iforest仅对即全局稀疏点敏感，不擅长处理局部的相对稀疏点，这样在某些局部的异常点较多的时候检测可能不是很准。而one class svm对于中小型数据分析，尤其是训练样本不是特别海量的时候用起来经常会比iforest顺手，因此比较适合做原型分析。\n\n# devnet：基于偏差网络的深度异常检测模型\n\n * 异常评分网络 anomaly scoring network\n   * 异常评分网络由特征学习其、遗产评分函数组成\n   * 对于不同类型的输入数据，可以采用不同的特征学习器，例如多维数据-mlp，图像数据-cnn，序列数据-rnn 异常评分函数可以对于特征学习器中间的输出特征使用一个线性分类器来计算异常评分\n   * \n * 参考评分生成器gaussian prior-based reference scores generation\n   * 参考评分定义为随机抽取的正常样本异常分数的均值 • 数据驱动法：通过模型学习到数据样本中的参考评分 • 先验驱动法：通过选择某种概率分布来生成参考评分 根据中心极限定理研究表明，高斯分布能够更好地拟合数 据样本中的异常分数。因此作者直接采用高斯分布在数据 样本中采样\n * 偏差损失函数 z-score-based deviation loss\n   * 总的来说，devnet使用高斯先验知识优化模型基于 z-score的偏差损失函数，直接优化异常评分\n\n# 自编码器 ae\n\n * dagmm\n   \n   如何对高维和多变量的数据进行无监督异常检测是一个挑战，传统的方法分两步，先对高维数据进行降维，将原始数据映射到低维度空间；然后在这个低维空间内做密度估计 • 这两步是相互独立的过程，高维数据降维后的表征很难保留足够多的关键信息 • 因为这两步是相互独立的，最终可能导致模型陷入局部最优的境地，试想降维过程完全独立于后面密度估计过程，并不知道为后面的密度估计过程保留哪些关键信息\n   \n   dagmm模型，很巧妙的将降维过程（deep autoencoding，dae）和密度估计过程(gaussian mixture model，gmm)有机的结合在一起，进行端到端的联合训练。避免了因两步独立导致模型陷 入局部最优的境地\n   \n   * compression network\n     * 压缩网络是一个深度自编码网络（dae）， 通过这个自编码我们可以得到输入 � 的低 维表示 �!，同时得到输入�与重构的 �" 之间的重构误差特征 �#，�# 与 �! 进行拼接 操作形成 �\n   * estimation network\n     * 估计网络是本文的关键，把神经网络与em算法有机结合，做到dae与gmm联合训练，相互优化是论文的一大亮点\n\n# rdp\n\n许多无监督方法都在探索利用数据中容易获得的信息，比如时间和空间邻近信息，然后利用这些信息设计一个监督信号去监督特征 学习过程。但是表格型数据不包含所谓的时间和空间信息 • 许多传统处理表格数据的方法计算量消耗比 较大，很难去处理大规模或者高维数据\n\nrdp模型：训练一个神经网络去拟合在随机映射 空间中每两个点之间的距离 随机映射空间中数据的距离包含有数据的类结构， 因此这个预测随机距离学到了数据类结构信息\n\n\n# 序列数据\n\n# 时间序列异常检测\n\n异常检测（anomaly detection）是目前时序数据分析最成熟的应用之一，定义是从正常的时间序列中识别不正常的事件或行为的过程。有效的异常检测被广泛用于现实世界的很多领域，例如量化交易，网络安全检测、自动驾驶汽车和大型工业设备的日常监控和维护。\n\n【时间序列】 是指某一个指标按照时间的统计或者观测而成的数列。比如，在运维的领域中，某主机每秒的cpu使用率、某业务每分钟的请求数量等，都可以形成一条时间序列；「异常检测」是指对反常的、和历史不同的行为模式识别。如某台一直空闲的机器，cpu使用率突然飙升至100%、某系统在本应业务繁忙的时间段请求数量降为0等等。\n\n时间序列异常检测问题特性\n\n 1. 时序性质 temporality 连续数据点之间存在着隐式的时间相关性或依赖性。\n\n 2. 多维度性质 dimensionality\n    \n    对于多元时间序列异常检测来说不仅仅要考虑单个维度数据间的时序依赖，也要考虑与其它维度数据的相关关系。\n\n 3. 非平稳性质 nonstationarity\n\n现实中的时间序列的统计特征(最大值，均值，方差等)往往是非稳定的，可能存在周期性，且受到外在环境的影响而变化。\n\n时间序列异常检测方式\n\n * 基于预测的算法\n * 基于统计的算法\n\n# 传统机器学习方法\n\n# 时域/频域分析\n\n * 傅里叶分析\n   * 傅里叶分析能将时域的原始数据转换频域表示，其中最常用的方法是离散傅里叶变换 (dft)。将实际时间序列转化为了频域表示后，可以得出周期、频率分布等性质。\n   * \n\n# 基于统计模型\n\n * z-score方法\n   \n   * 简介：异常+检测，将时间序列每个时间戳的点视为一个样本用z-score计算每个时间点的偏离程度，若大于阈值(3)则判断为异常\n   * 弊端：没有用到任何时间序列的信息，也就是说这个时间序列是否有序，检测出的异常不会发生变化这显然是不符合我们需求的，因为很多异常可能是一些局部的特征，所以此方法不能用于检测序列的异常\n\n * fluxev\n   \n   * 简介：1.模型采用了两步平滑，第一步利用 当前时间窗和历史时间窗的均值和方 差以及差分等统计特征对局部波动进 行平滑，第二步考虑周期性带来的周 期噪声并进行平滑。两部平滑后会缩 小正常的数据波动而对异常波动进行 放大(图中红线）\n     \n     2.采用了基于极值理论的spot算法和 矩估计设计了一个动态阈值方法，根 据数据分布的变化和历史异常值的检 出频率来动态调整异常阈值。\n\n * 滑动平均法(moving average,ma)\n\n * 简介：序列+异常+检测，ma的方法利用到了序列的特征，滑动平均法基于最近时刻的值估计当前时刻的取值\n\n * 指数加权滑动平均法(exponential weighted moving average,ewma)\n   \n   * 简介：序列+异常+检测，由于序列的距离-相似性，越近的点相似度越高，因此在做滑动平均时采取等权重是不合适的，直观上来说应当给较近的点较高的权重\n\n * 分位数 boxplot方法\n   \n   * 简介：时间+序列+异常+检测，同环比对比\n\n * arima\n   \n   * 简介：适合用于平稳的，较少突增/突降的数据的预测。arima算法使用前一段数据来预测下一个时间点的数据，因此会导致预测有一定的滞后性，易受到异常值的影响；同时需要进行大量的平稳性检验、参数估计等工作。arima共有7个参数，如何选取到合适的参数本身就是一个难题，而考虑季节性因素的升级版sarima由于训练开销大，导致自动选取参数极为困难，一般情况下的做法是预设一组参数。\n\n * gbrt\n   \n   * 简介：适用于形态较稳定，有周期特性的数据。为了使gbrt展现更好的算法效果，需要一定的人工经验提取到有效特征。\n   * 不足：而由于单棵回归树生成的不确定性，导致每次训练后的模型可能产生较大差别，检测结果不稳定同时可解释性也较弱。\n\n * lstm\n   \n   * 简介：适用于高频、形态不限的数据。lstm同样是使用前一段数据来预测下一个时间点的数据，也有着类似的局限。另外，我们日常所见的数据时序属性较弱，统计属性更强（比如1,2后面跟着的不一定是3，更可能是1，因为上周期同位置是1），不太适合lstm来发挥效果。\n\n * prophet\n   \n   * 简介：适用于形态较稳定，有周期特性的数据，同时考虑了节假日的特性。由于prophet采用傅里叶级数来处理周期性因子，导致一般夜间(波动较小)的数据情况较难预测准确；它更关注整体的波动状态，对一些局部信息的捕捉较差。\n\n# 基于距离的模型\n\n许多算法使用两个时间序列之间的显式距离来量化两者之间的相似性。基于得到的相似度度 量，待检测的的序列与正常序列的距离超出预期范围，序列将被标记为异常。常用的两个序 列间的距离度量：欧式距离、动态时间规整（dtw）等\n\n# 基于邻近的方法\n\n依赖的假设是：正常数据实例位于密集的邻域中，而异常数据实例附近的样例较为稀疏。可以继续细分为 基于密度/邻居：\n\n * 基于密度，该方法通过计算数据集中各数据区域的密度，将密度较低区域作为离群区域。经典的方法为：局部离群因子( local outlier factor，lof) 。lof 法与传统异常点非彼即此定义不同，将异常点定义局域是异常点，为每个数据赋值一个代表相对于其邻域的 lof 值，lof 越大，说明其邻域密度较低，越有可能是异常点。但在 lof 中难以确定最小近邻域，且随着数据维度的升高，计算复杂度和时间复杂度增加。\n * 基于距离，其基本思想是通过计算比较数据与近邻数据集合的距离来检测异常，正常数据点与其近邻数据相似，而异常数据则有别于近邻数据。\n\n# 基于分类模型\n\n代表方法是one class svm，其原理是寻找一个超平面将样本中的正例圈出来，预测就是用这个超平面做决策，在圈内的样本就认为是正样本。由于核函数计算比较耗时，在海量数据的场景用的并不多。\n\n\n\n# 聚类模型\n\n基于聚类的异常检测方法通常依赖下列假设，\n\n1）正常数据实例属于数据中的一个簇，而异常数据实例不属于任何簇；\n\n2）正常数据实例靠近它们最近的簇质心，而异常数据离它们最近的簇质心很远；\n\n3）正常数据实例属于大而密集的簇，而异常数据实例要么属于小簇，要么属于稀疏簇；\n\n * 将距离簇中心较远的数据作为异常点：这类方法有 som、k-means、最大期望( expectation maximization，em)及基于语义异常因子( semantic anomaly factor)算法等；\n\n * 将聚类所得小簇数据作为异常点：代表方法有k-means聚类；\n\n * 将不属于任何一簇作为异常点：代表方法有 dbscan、rock、snn 聚类。\n\n\n\n# 传统机器学习方法优点与不足\n\n优点：传统机器学习方法在时间序列异常检测领域淘汰了吗？答案是否定的，顶级会议上此领域仍然有 传统机器学习方法的身影，原因有： 1. 训练所需要的数据量较小，适合新业务冷启动时的异常检测需求。 2. 模型轻量，运行速度相比一般的深度学习方法快很多，对于一些实时性要求非常高的时序数据或者 边缘计算的在线异常检测仍有较大的意义。 3. 对于特定领域来说能比较好的结合领域知识；具有很高的可解释性。许多模型仍然作为深度学习模 型的baseline和基础。 4. 传统方法中的特征工程对深度学习模型也具有很高的借鉴意义\n\n不足： 1. 一般来说需要更加精细的特征工程设计，且跨领域的通用性不强。 2. 现有的机器学习方法一般都是针对单元的时间序列异常检测，因为多元序列之间的相关性由model driven方式较难设计和计算出来，而深度学习模型基于data driven的表达学习更加适用。\n\n# 基于统计的算法\n\n * edm(e-divisive with medians)\n   * edm使用e-statstics统计方法来检测平均值的差异，通常，edm算法也可以用于检测给定时间序列中的分布的变化情况\n   * edm使用较为鲁棒的统计指标，并通过组合测试的方法进行显著性的检验\n   * edm算法是非参数的，很多云端数据并不遵循简单意义上的正太分布，具有较好的适用性。\n   * 不足：务必确保滤波之后的序列是平滑的，因为一阶差分对噪声数据很敏感，若噪声未能很好的过滤掉，会产生太多的候选点，影响查找效率\n * pelt(pruned exact linear time)\n * k-sigma\n   * 简介：当前数据点的状态由之前不同周期的相同位置数据(比如上周或者前一天的同一时刻)决定，通过历史同期的数据分布来确定当前数据的合理波动范围。它的初始假设，是局部数据符合正态分布，所以超出均值±3*标准差的数据是极有可能异常的。\n\n# 折点描述\n\n * 峰值分位数检测\n   * 简介：将原始时序数据$x(t)$经过平滑后，求序列的一阶差分序列$x_{diff}(t)$，利用如下方法寻找异常值：\n     * 使用ksigma方法找到时序中的异常点\n     * 使用quantile方法找到时序中的峰值点\n * 均值漂移检测\n\n# 有监督学习方法\n\n有监督的算法有很多，如基于树模型的随机森林、lightgbm，神经网络mlp等等，其整体思路是提取各种各样的统计特征（如前几个数据点的原始值，最近一段时间的均值、标准差、偏度等等），直接丢给模型去训练，算法会根据标注自动选择最有效的特征用以建模。有监督算法往往可以获得更高的算法准确度，但缺点也是十分明显的——最大的问题就是，我们需要大量的人工标注，覆盖全面的数据类型和异常情况，而这在实际场景中是极难实现的。实际生产中，我们极少考虑这类算法，除非异常场景很明确且历史中存在多次相似的情况。\n\n# 深度学习生成模型\n\n最近几年，通过深度学习生成模型来做异常检测的算法越来越多，效果甚至可以超过一般的有监督学习方法，常见模型有生成对抗网络gan、变分自编码器vae等\n\n基于深度学习的时间序列异常检测算法，主 要可以分为以下几种：\n\na) 通过高重构误差来识别异常点，即生成 式（generative）的算法，往往是无监 督的，如自编码器（auto encoder）类、 gan类等。\n\nb) 基于预测误差来识别异常点，又分为\n\n1. 时间跨度检测：模型学习一段历史数据， 然后预测未来数据。\n2. 序列跨度检测： 许多传感器产生的时间序列通常彼此紧 密相关。经常可以使用一个序列来预测 另一个序列，如隐式马尔科夫链hmm等。\n\n\nc) 通过将序列映射到高维空间中距离远近 来判断异常。\n\nd) 通过标注数据，然后通过有监督算法训 练分类模型，也称判别式 （discriminative）算法。但实际应用中 往往存在存在异常数据少，缺少标签等 问题。\n\n * 自编码器autoencoder (ae)\n   \n   * 简介：\n   * \n\n * 变分自编码器variational autoencoder (vae)\n   \n   * 简介：将高维数据压缩至某一个特定维度大小，采样后将其还原至与原始数据同样的维度。其学习的目标是尽可能缩小还原的数据与原始数据之间的差距。基于“数据正常的模式高频出现，而异常极少出现”的想法，「压缩-还原」的过程会找到主要数据模式，而不会将异常模式进行还原。这样，通过还原数据和真实数据的差值大小，可以推测数据的异常程度。\n\n\n\n * 生成对抗网络gan\n   * 简介：基于gan模型异常检测思路是，由真实数据和生成器 生成的模拟数据喂给辨别器训练，同时训练生成器和 辨别器。收敛后，辨别器认为数据属于真实的概率越 低则代表数据异常程度越高。在基本的gan上又有很 多变体\n * 循环神经网络rnn\n   * 简介：基于rnn，通常用于异常检测有两种方法。 • 预测未来的值，并将它们与预定义的阈值或观 测值进行比较。 • 构造一个ae或vae来恢复观测值，并对重建 值与观测值的差异进行评估。\n * 卷积神经网络cnn\n   * 简介：虽然rnn是对时间序列数据建模的主要选择，但cnn有时在某些不具有太长时间依赖的特定任务中表现更好。 这种方式需要将多维数据看成图像来处理。为了捕捉长距离的依赖关系，时空卷积网络tcn也被用于时间序列的 异常检测领域，tcn 的卷积层结合了扩张卷积与因果卷积两种结构。因果卷积使得时间步 t 的输出只会根据 t-1 及之前时间步上的卷积运算得出，扩张卷积使得卷积核的感受野能扩展到整个序列，同时将每个单元间还引入了 残差连接。\n * 其它深度学习方法\n   * 1.将不同模型结合的方法，例如采用多层lstm但使用vae来构造中间层隐变量 的方法；\n   * 2.各种结合attention机制的模型；\n   * 3.采用transformer生成序列表示的模型；\n   * 4.基于gnn的方法，将时间序列转化为图结构数据。\n\n# 第三方库\n\npyod\n\nadtk\n\n\n# 方案\n\n# 阿里\n\n * 通过平滑函数消除噪点\n * 阈值检测，将求取累积的窗口均值进行阈值判断',charsets:{cjk:!0},lastUpdated:"2023/3/6",lastUpdatedTimestamp:167806166e4},{title:"Go Study Day02 - 复合数据类型与流程控制",frontmatter:{title:"Go Study Day02 - 复合数据类型与流程控制",date:"2019-7-06",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第2天 go语言基础2"},{name:"keywords",content:"自学 go 数组 切片 map 指针 make new 流程控制"},{name:"twitter:title",content:"Go Study Day02 - 复合数据类型与流程控制"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day02-%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day02 - 复合数据类型与流程控制"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day02-%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-7-06"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day02 - 复合数据类型与流程控制"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday2.html",summary:"不断学习，不断提升，日拱一卒，学习go第2天",description:""},regularPath:"/article/gostudy/day02-%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html",relativePath:"article/gostudy/day02-复合数据类型与流程控制.md",key:"v-7202fbaa",path:"/article/gostudy/studygoday2.html",headers:[{level:2,title:"数组",slug:"数组",normalizedTitle:"数组",charIndex:2},{level:2,title:"切片（slice）",slug:"切片-slice",normalizedTitle:"切片（slice）",charIndex:1339},{level:2,title:"map",slug:"map",normalizedTitle:"map",charIndex:3113},{level:2,title:"指针",slug:"指针",normalizedTitle:"指针",charIndex:3880},{level:2,title:"make 和 new 的区别",slug:"make-和-new-的区别",normalizedTitle:"make 和 new 的区别",charIndex:4631},{level:2,title:"流程控制",slug:"流程控制",normalizedTitle:"流程控制",charIndex:4798},{level:3,title:"if 判断",slug:"if-判断",normalizedTitle:"if 判断",charIndex:4807},{level:3,title:"for 循环",slug:"for-循环",normalizedTitle:"for 循环",charIndex:5434},{level:3,title:"switch case",slug:"switch-case",normalizedTitle:"switch case",charIndex:6049},{level:3,title:"goto",slug:"goto",normalizedTitle:"goto",charIndex:6767},{level:3,title:"break",slug:"break",normalizedTitle:"break",charIndex:6894},{level:3,title:"continue",slug:"continue",normalizedTitle:"continue",charIndex:7059}],headersStr:"数组 切片（slice） map 指针 make 和 new 的区别 流程控制 if 判断 for 循环 switch case goto break continue",content:'# 数组\n\n# 数组的声明\n\n// 数组是存放元素的容器\n// 必须指定存放的元素的类型和容量（长度）\n// 数组的长度是数组类型的一部分\nvar a1 [3]bool // [true false true]\nvar a2 [4]bool // [true true false false]\n\nfmt.Printf("a1:%T a2:%T\\n", a1, a2)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 数组的初始化\n\n// 数组的初始化\n// 如果不初始化：默认元素都是零值（布尔值：false, 整型和浮点型都是0, 字符串：""）\nfmt.Println(a1, a2)\n// 1. 初始化方式1\na1 = [3]bool{true, true, true}\nfmt.Println(a1)\n// 2. 初始化方式2：根据初始值自动推断数组的长度是多少\n// a10 := [9]int{0, 1, 2, 3, 4, 4, 5, 6, 7}\na10 := [...]int{0, 1, 2, 3, 4, 4, 5, 6, 7}\nfmt.Println(a10)\n// 3. 初始化方式3：根据索引来初始化\na3 := [5]int{0: 1, 4: 2}\nfmt.Println(a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 数组的遍历\n\n// 数组的遍历\ncitys := [...]string{"北京", "上海", "深圳"} // 索引：0~2 citys[0],citys[1],citys[2]\n// 1. 根据索引遍历\nfor i := 0; i < len(citys); i++ {\n\tfmt.Println(citys[i])\n}\n// 2. for range遍历\nfor i, v := range citys {\n\tfmt.Println(i, v)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 二维数组\n\n// 多维数组\n// [[1 2] [3 4] [5 6]]\nvar a11 [3][2]int\na11 = [3][2]int{\n\t[2]int{1, 2},\n\t[2]int{3, 4},\n\t[2]int{5, 6},\n}\nfmt.Println(a11)\n\n// 多维数组的遍历\nfor _, v1 := range a11 {\n\tfmt.Println(v1)\n\tfor _, v2 := range v1 {\n\t\tfmt.Println(v2)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n数组是值类型\n\n// 数组是值类型\nb1 := [3]int{1, 2, 3} // [1 2 3]\nb2 := b1              // [1 2 3] Ctrl+C Ctrl+V => 把world文档从文件夹A拷贝到文件夹B\nb2[0] = 100           // b2:[100 2 3]\nfmt.Println(b1, b2)   // b1:[1 2 3]\n\n\n1\n2\n3\n4\n5\n\n\n\n# 切片（slice）\n\n切片（Slice）是一个拥有相同类型元素的可变长度的序列。它是基于数组类型做的一层封装。它非常灵活，支持自动扩容。\n\n切片是一个引用类型，它的内部结构包含地址、长度和容量。切片一般用于快速地操作一块数据集合。\n\n要点\n\n 1. 切片指向了一个底层的数组。\n\n 2. 切片的长度就是它元素的个数。\n\n 3. 切片的容量是底层数组从切片的第一个元素到最后一个元素的数量。\n\n# 切片的定义\n\n// 切片的定义\nvar s1 []int    // 定义一个存放int类型元素的切片\nvar s2 []string // 定义一个存放string类型元素的切片\nfmt.Println(s1, s2)\nfmt.Println(s1 == nil) // true\nfmt.Println(s2 == nil) // true\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 切片的初始化\n\n// 初始化\ns1 = []int{1, 2, 3}\ns2 = []string{"沙河", "张江", "平山村"}\nfmt.Println(s1, s2)\nfmt.Println(s1 == nil) // false\nfmt.Println(s2 == nil) // false\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 切片的长度和容量\n\n// 长度和容量\nfmt.Printf("len(s1):%d cap(s1):%d\\n", len(s1), cap(s1))\nfmt.Printf("len(s2):%d cap(s2):%d\\n", len(s2), cap(s2)\n\n\n1\n2\n3\n\n\n# 使用 make 创建切片\n\nmake()函数用于创建指定长度和容量的切片。\n\ns1 := make([]int, 5, 10)\nfmt.Printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\n\ns2 := make([]int, 0, 10)\nfmt.Printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s2, len(s2), cap(s2))\n\n\n1\n2\n3\n4\n5\n\n\n# 切片的本质\n\n * 切片就是一个框，框住了一块连续的内存。\n\n * 切片属于引用类型，真正的数据都是保存在底层数组里的。\n\n * 判断一个切片是否是空的，要是用len(s) == 0来判断\n\n# append\n\n// 调用append函数必须用原来的切片变量接收返回值\n// append追加元素，原来的底层数组放不下的时候，Go底层就会把底层数组换一个\n// 必须用变量接收append的返回值\ns1 = append(s1, "广州")\nfmt.Printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\ns1 = append(s1, "杭州", "成都")\nfmt.Printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\nss := []string{"武汉", "西安", "苏州"}\ns1 = append(s1, ss...) // ...表示拆开\nfmt.Printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# copy\n\na1 := []int{1, 3, 5}\na2 := a1 // 赋值\nvar a3 = make([]int, 3, 3)\ncopy(a3, a1) // copy\nfmt.Println(a1, a2, a3)\na1[0] = 100\nfmt.Println(a1, a2, a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 切片的扩容\n\n 1. 如果申请的容量大于原来的 2 倍，那就直接扩容至新申请的容量\n\n 2. 如果小于 1024， 那么就直接两倍 3. 如果大于 1024，就按照 1.25 倍去扩容 4. 具体存储的值类型不同，扩容策略也有一定的不同。\n\n\n# map\n\nmap 也是引用类型，必须初始化之后才能使用。\n\nfunc main() {\n\tvar m1 map[string]int\n\tfmt.Println(m1 == nil)        // 还没有初始化（没有在内存中开辟空间）\n\tm1 = make(map[string]int, 10) // 要估算好该map容量，避免在程序运行期间再动态扩容\n\tm1["理想"] = 18\n\tm1["jiwuming"] = 35\n\n\tfmt.Println(m1)\n\tfmt.Println(m1["理想"])\n\t// 约定成俗用ok接收返回的布尔值\n\tfmt.Println(m1["娜扎"]) // 如果不存在这个key拿到对应值类型的零值\n\tvalue, ok := m1["娜扎"]\n\tif !ok {\n\t\tfmt.Println("查无此key")\n\t} else {\n\t\tfmt.Println(value)\n\t}\n\n\t// map的遍历\n\tfor k, v := range m1 {\n\t\tfmt.Println(k, v)\n\t}\n\t// 只遍历key\n\tfor k := range m1 {\n\t\tfmt.Println(k)\n\t}\n\t// 只遍历value\n\tfor _, v := range m1 {\n\t\tfmt.Println(v)\n\t}\n\t// 删除\n\tdelete(m1, "jiwuming")\n\tfmt.Println(m1)\n\tdelete(m1, "沙河") // 删除不存在的key\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 指针\n\nGo 语言中不存在指针操作，只需要记住两个符号：\n\n 1. &:取地址\n 2. *:根据地址取值\n\n# 应用场景\n\n * 需要修改参数值\n   \n   函数传参时是值拷贝，也就是把当前的变量复制传递，这样函数内部修改参数值时不影响原始值，但如果想改原始值呢，就可以通过 &变量名来获取参数对应的内存地址，这样就可以修改原值。当然值类型的需要传递内存地址，引用类型本身就是内存地址，所以即使是值拷贝也仅仅是把引用类型的指针拷贝，对引用类型引用的具体值修改还是会生效的。\n\n * 传递的变量比较大，避免内存拷贝。假设字符串有1m，这是如果传参会进行复制，避免不必要的内存占用可以传递内存地址。\n\n> 声明引用类型时有必要声明指针类型吗？比如声明一个字符串指针类型的切片会比一个字符串类型的切片更节省内存吗？\n> \n> 答案是否定的。\n> \n> 函数传参是值拷贝的，无论是传递字符串类型的切片还是字符串指针类型的切片，都只是传递了指针的副本。因此，在函数内部操作字符串类型的切片和字符串指针类型的切片所引用的底层数据的内存使用量应该是相同的。\n> \n> 值得一提的是，尽管两种类型的切片在函数传参时所使用的内存相同，但是在分配内存时有所不同。在创建一个指针类型的切片时，除了切片结构体本身的内存外，还需要为切片指向的每个元素分配内存；而创建值类型的切片时，只需要为切片结构体和切片底层数组分配内存，因为字符串的底层数据是不可变的。\n> \n> 因此，在声明和初始化一个字符串类型的切片时，可以使用字符串字面值初始化，从而避免了新的内存分配。而对于字符串指针类型的切片，则需要在声明和初始化时显式地分配内存。如果您需要对字符串进行频繁的操作并且关心内存使用量，那么字符串类型的切片是更优的选择。\n\n\n# make 和 new 的区别\n\n 1. make 和 new 都是用来申请内存的\n 2. new 很少用，一般用来给基本数据类型申请内存，string、int,返回的是对应类型的指针(*string、*int)。\n 3. make 是用来给slice、map、chan申请内存的，make 函数返回的的是对应的这三个类型本身\n\n\n# 流程控制\n\n\n# if 判断\n\n// if条件判断\nfunc main() {\n\t// age := 19\n\n\t// if age > 18 { // 如果 age > 18 就执行这个{}中的代码\n\t// \tfmt.Println("啦啦啦啦啦啦啦啦！")\n\t// } else { // 否则就执行这个{}中的代码\n\t// \tfmt.Println("改写暑假作业啦！")\n\t// }\n\n\t// 多个判断条件\n\t// if age > 35 {\n\t// \tfmt.Println("人到中年")\n\t// } else if age > 18 {\n\t// \tfmt.Println("青年")\n\t// } else {\n\t// \tfmt.Println("好好学习！")\n\t// }\n\n\t// 作用域\n\t// age变量此时只在if条件判断语句中生效\n\tif age := 19; age > 18 { // 如果 age > 18 就执行这个{}中的代码\n\t\tfmt.Println("啦啦啦啦啦啦啦啦！")\n\t} else { // 否则就执行这个{}中的代码\n\t\tfmt.Println("改写暑假作业啦！")\n\t}\n\n\t// fmt.Println(age) // 在这里是找不到age\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# for 循环\n\nfunc main() {\n\t// 基本格式\n\t// for i := 0; i < 10; i++ {\n\t// \tfmt.Println(i)\n\t// }\n\n\t// 变种1\n\t// var i = 5\n\t// for ; i < 10; i++ {\n\t// \tfmt.Println(i)\n\t// }\n\t// 变种2\n\t// var i = 5\n\t// for i < 10 {\n\t// \tfmt.Println(i)\n\t// \ti++\n\t// }\n\n\t// 无限循环\n\t// for {\n\t// \tfmt.Println("123")\n\t// }\n\n\t// for range循环\n\ts := "Hello沙河"\n\tfor i, v := range s {\n\t\tfmt.Printf("%d %c\\n", i, v)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# for range(键值循环)\n\nGo 语言中可以使用for range遍历数组、切片、字符串、map 及通道（channel）。 通过for range遍历的返回值有以下规律：\n\n 1. 数组、切片、字符串返回索引和值。\n 2. map 返回键和值。\n 3. 通道（channel）只返回通道内的值。\n\n\n# switch case\n\nfunc switchDemo1() {\n\tfinger := 3\n\tswitch finger {\n\tcase 1:\n\t\tfmt.Println("大拇指")\n\tcase 2:\n\t\tfmt.Println("食指")\n\tcase 3:\n\t\tfmt.Println("中指")\n\tcase 4:\n\t\tfmt.Println("无名指")\n\tcase 5:\n\t\tfmt.Println("小拇指")\n\tdefault:\n\t\tfmt.Println("无效的输入！")\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nfunc testSwitch3() {\n\tswitch n := 7; n {\n\tcase 1, 3, 5, 7, 9:\n\t\tfmt.Println("奇数")\n\tcase 2, 4, 6, 8:\n\t\tfmt.Println("偶数")\n\tdefault:\n\t\tfmt.Println(n)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nfunc switchDemo4() {\n\tage := 30\n\tswitch {\n\tcase age < 25:\n\t\tfmt.Println("好好学习吧")\n\tcase age > 25 && age < 35:\n\t\tfmt.Println("好好工作吧")\n\tcase age > 60:\n\t\tfmt.Println("好好享受吧")\n\tdefault:\n\t\tfmt.Println("活着真好")\n\t}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# goto\n\n跳转到指定标签\n\nfunc gotoDemo2() {\n\tfor i := 0; i < 10; i++ {\n\t\tfor j := 0; j < 10; j++ {\n\t\t\tif j == 2 {\n\t\t\t\t// 设置退出标签\n\t\t\t\tgoto breakTag\n\t\t\t}\n\t\t\tfmt.Printf("%v-%v\\n", i, j)\n\t\t}\n\t}\n\treturn\n\t// 标签\nbreakTag:\n\tfmt.Println("结束for循环")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# break\n\n和其他语言一样\n\n\n# continue\n\n和其他语言一样',normalizedContent:'# 数组\n\n# 数组的声明\n\n// 数组是存放元素的容器\n// 必须指定存放的元素的类型和容量（长度）\n// 数组的长度是数组类型的一部分\nvar a1 [3]bool // [true false true]\nvar a2 [4]bool // [true true false false]\n\nfmt.printf("a1:%t a2:%t\\n", a1, a2)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 数组的初始化\n\n// 数组的初始化\n// 如果不初始化：默认元素都是零值（布尔值：false, 整型和浮点型都是0, 字符串：""）\nfmt.println(a1, a2)\n// 1. 初始化方式1\na1 = [3]bool{true, true, true}\nfmt.println(a1)\n// 2. 初始化方式2：根据初始值自动推断数组的长度是多少\n// a10 := [9]int{0, 1, 2, 3, 4, 4, 5, 6, 7}\na10 := [...]int{0, 1, 2, 3, 4, 4, 5, 6, 7}\nfmt.println(a10)\n// 3. 初始化方式3：根据索引来初始化\na3 := [5]int{0: 1, 4: 2}\nfmt.println(a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 数组的遍历\n\n// 数组的遍历\ncitys := [...]string{"北京", "上海", "深圳"} // 索引：0~2 citys[0],citys[1],citys[2]\n// 1. 根据索引遍历\nfor i := 0; i < len(citys); i++ {\n\tfmt.println(citys[i])\n}\n// 2. for range遍历\nfor i, v := range citys {\n\tfmt.println(i, v)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 二维数组\n\n// 多维数组\n// [[1 2] [3 4] [5 6]]\nvar a11 [3][2]int\na11 = [3][2]int{\n\t[2]int{1, 2},\n\t[2]int{3, 4},\n\t[2]int{5, 6},\n}\nfmt.println(a11)\n\n// 多维数组的遍历\nfor _, v1 := range a11 {\n\tfmt.println(v1)\n\tfor _, v2 := range v1 {\n\t\tfmt.println(v2)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n数组是值类型\n\n// 数组是值类型\nb1 := [3]int{1, 2, 3} // [1 2 3]\nb2 := b1              // [1 2 3] ctrl+c ctrl+v => 把world文档从文件夹a拷贝到文件夹b\nb2[0] = 100           // b2:[100 2 3]\nfmt.println(b1, b2)   // b1:[1 2 3]\n\n\n1\n2\n3\n4\n5\n\n\n\n# 切片（slice）\n\n切片（slice）是一个拥有相同类型元素的可变长度的序列。它是基于数组类型做的一层封装。它非常灵活，支持自动扩容。\n\n切片是一个引用类型，它的内部结构包含地址、长度和容量。切片一般用于快速地操作一块数据集合。\n\n要点\n\n 1. 切片指向了一个底层的数组。\n\n 2. 切片的长度就是它元素的个数。\n\n 3. 切片的容量是底层数组从切片的第一个元素到最后一个元素的数量。\n\n# 切片的定义\n\n// 切片的定义\nvar s1 []int    // 定义一个存放int类型元素的切片\nvar s2 []string // 定义一个存放string类型元素的切片\nfmt.println(s1, s2)\nfmt.println(s1 == nil) // true\nfmt.println(s2 == nil) // true\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 切片的初始化\n\n// 初始化\ns1 = []int{1, 2, 3}\ns2 = []string{"沙河", "张江", "平山村"}\nfmt.println(s1, s2)\nfmt.println(s1 == nil) // false\nfmt.println(s2 == nil) // false\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 切片的长度和容量\n\n// 长度和容量\nfmt.printf("len(s1):%d cap(s1):%d\\n", len(s1), cap(s1))\nfmt.printf("len(s2):%d cap(s2):%d\\n", len(s2), cap(s2)\n\n\n1\n2\n3\n\n\n# 使用 make 创建切片\n\nmake()函数用于创建指定长度和容量的切片。\n\ns1 := make([]int, 5, 10)\nfmt.printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\n\ns2 := make([]int, 0, 10)\nfmt.printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s2, len(s2), cap(s2))\n\n\n1\n2\n3\n4\n5\n\n\n# 切片的本质\n\n * 切片就是一个框，框住了一块连续的内存。\n\n * 切片属于引用类型，真正的数据都是保存在底层数组里的。\n\n * 判断一个切片是否是空的，要是用len(s) == 0来判断\n\n# append\n\n// 调用append函数必须用原来的切片变量接收返回值\n// append追加元素，原来的底层数组放不下的时候，go底层就会把底层数组换一个\n// 必须用变量接收append的返回值\ns1 = append(s1, "广州")\nfmt.printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\ns1 = append(s1, "杭州", "成都")\nfmt.printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\nss := []string{"武汉", "西安", "苏州"}\ns1 = append(s1, ss...) // ...表示拆开\nfmt.printf("s1=%v len(s1)=%d cap(s1)=%d\\n", s1, len(s1), cap(s1))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# copy\n\na1 := []int{1, 3, 5}\na2 := a1 // 赋值\nvar a3 = make([]int, 3, 3)\ncopy(a3, a1) // copy\nfmt.println(a1, a2, a3)\na1[0] = 100\nfmt.println(a1, a2, a3)\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 切片的扩容\n\n 1. 如果申请的容量大于原来的 2 倍，那就直接扩容至新申请的容量\n\n 2. 如果小于 1024， 那么就直接两倍 3. 如果大于 1024，就按照 1.25 倍去扩容 4. 具体存储的值类型不同，扩容策略也有一定的不同。\n\n\n# map\n\nmap 也是引用类型，必须初始化之后才能使用。\n\nfunc main() {\n\tvar m1 map[string]int\n\tfmt.println(m1 == nil)        // 还没有初始化（没有在内存中开辟空间）\n\tm1 = make(map[string]int, 10) // 要估算好该map容量，避免在程序运行期间再动态扩容\n\tm1["理想"] = 18\n\tm1["jiwuming"] = 35\n\n\tfmt.println(m1)\n\tfmt.println(m1["理想"])\n\t// 约定成俗用ok接收返回的布尔值\n\tfmt.println(m1["娜扎"]) // 如果不存在这个key拿到对应值类型的零值\n\tvalue, ok := m1["娜扎"]\n\tif !ok {\n\t\tfmt.println("查无此key")\n\t} else {\n\t\tfmt.println(value)\n\t}\n\n\t// map的遍历\n\tfor k, v := range m1 {\n\t\tfmt.println(k, v)\n\t}\n\t// 只遍历key\n\tfor k := range m1 {\n\t\tfmt.println(k)\n\t}\n\t// 只遍历value\n\tfor _, v := range m1 {\n\t\tfmt.println(v)\n\t}\n\t// 删除\n\tdelete(m1, "jiwuming")\n\tfmt.println(m1)\n\tdelete(m1, "沙河") // 删除不存在的key\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 指针\n\ngo 语言中不存在指针操作，只需要记住两个符号：\n\n 1. &:取地址\n 2. *:根据地址取值\n\n# 应用场景\n\n * 需要修改参数值\n   \n   函数传参时是值拷贝，也就是把当前的变量复制传递，这样函数内部修改参数值时不影响原始值，但如果想改原始值呢，就可以通过 &变量名来获取参数对应的内存地址，这样就可以修改原值。当然值类型的需要传递内存地址，引用类型本身就是内存地址，所以即使是值拷贝也仅仅是把引用类型的指针拷贝，对引用类型引用的具体值修改还是会生效的。\n\n * 传递的变量比较大，避免内存拷贝。假设字符串有1m，这是如果传参会进行复制，避免不必要的内存占用可以传递内存地址。\n\n> 声明引用类型时有必要声明指针类型吗？比如声明一个字符串指针类型的切片会比一个字符串类型的切片更节省内存吗？\n> \n> 答案是否定的。\n> \n> 函数传参是值拷贝的，无论是传递字符串类型的切片还是字符串指针类型的切片，都只是传递了指针的副本。因此，在函数内部操作字符串类型的切片和字符串指针类型的切片所引用的底层数据的内存使用量应该是相同的。\n> \n> 值得一提的是，尽管两种类型的切片在函数传参时所使用的内存相同，但是在分配内存时有所不同。在创建一个指针类型的切片时，除了切片结构体本身的内存外，还需要为切片指向的每个元素分配内存；而创建值类型的切片时，只需要为切片结构体和切片底层数组分配内存，因为字符串的底层数据是不可变的。\n> \n> 因此，在声明和初始化一个字符串类型的切片时，可以使用字符串字面值初始化，从而避免了新的内存分配。而对于字符串指针类型的切片，则需要在声明和初始化时显式地分配内存。如果您需要对字符串进行频繁的操作并且关心内存使用量，那么字符串类型的切片是更优的选择。\n\n\n# make 和 new 的区别\n\n 1. make 和 new 都是用来申请内存的\n 2. new 很少用，一般用来给基本数据类型申请内存，string、int,返回的是对应类型的指针(*string、*int)。\n 3. make 是用来给slice、map、chan申请内存的，make 函数返回的的是对应的这三个类型本身\n\n\n# 流程控制\n\n\n# if 判断\n\n// if条件判断\nfunc main() {\n\t// age := 19\n\n\t// if age > 18 { // 如果 age > 18 就执行这个{}中的代码\n\t// \tfmt.println("啦啦啦啦啦啦啦啦！")\n\t// } else { // 否则就执行这个{}中的代码\n\t// \tfmt.println("改写暑假作业啦！")\n\t// }\n\n\t// 多个判断条件\n\t// if age > 35 {\n\t// \tfmt.println("人到中年")\n\t// } else if age > 18 {\n\t// \tfmt.println("青年")\n\t// } else {\n\t// \tfmt.println("好好学习！")\n\t// }\n\n\t// 作用域\n\t// age变量此时只在if条件判断语句中生效\n\tif age := 19; age > 18 { // 如果 age > 18 就执行这个{}中的代码\n\t\tfmt.println("啦啦啦啦啦啦啦啦！")\n\t} else { // 否则就执行这个{}中的代码\n\t\tfmt.println("改写暑假作业啦！")\n\t}\n\n\t// fmt.println(age) // 在这里是找不到age\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# for 循环\n\nfunc main() {\n\t// 基本格式\n\t// for i := 0; i < 10; i++ {\n\t// \tfmt.println(i)\n\t// }\n\n\t// 变种1\n\t// var i = 5\n\t// for ; i < 10; i++ {\n\t// \tfmt.println(i)\n\t// }\n\t// 变种2\n\t// var i = 5\n\t// for i < 10 {\n\t// \tfmt.println(i)\n\t// \ti++\n\t// }\n\n\t// 无限循环\n\t// for {\n\t// \tfmt.println("123")\n\t// }\n\n\t// for range循环\n\ts := "hello沙河"\n\tfor i, v := range s {\n\t\tfmt.printf("%d %c\\n", i, v)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# for range(键值循环)\n\ngo 语言中可以使用for range遍历数组、切片、字符串、map 及通道（channel）。 通过for range遍历的返回值有以下规律：\n\n 1. 数组、切片、字符串返回索引和值。\n 2. map 返回键和值。\n 3. 通道（channel）只返回通道内的值。\n\n\n# switch case\n\nfunc switchdemo1() {\n\tfinger := 3\n\tswitch finger {\n\tcase 1:\n\t\tfmt.println("大拇指")\n\tcase 2:\n\t\tfmt.println("食指")\n\tcase 3:\n\t\tfmt.println("中指")\n\tcase 4:\n\t\tfmt.println("无名指")\n\tcase 5:\n\t\tfmt.println("小拇指")\n\tdefault:\n\t\tfmt.println("无效的输入！")\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\nfunc testswitch3() {\n\tswitch n := 7; n {\n\tcase 1, 3, 5, 7, 9:\n\t\tfmt.println("奇数")\n\tcase 2, 4, 6, 8:\n\t\tfmt.println("偶数")\n\tdefault:\n\t\tfmt.println(n)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\nfunc switchdemo4() {\n\tage := 30\n\tswitch {\n\tcase age < 25:\n\t\tfmt.println("好好学习吧")\n\tcase age > 25 && age < 35:\n\t\tfmt.println("好好工作吧")\n\tcase age > 60:\n\t\tfmt.println("好好享受吧")\n\tdefault:\n\t\tfmt.println("活着真好")\n\t}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# goto\n\n跳转到指定标签\n\nfunc gotodemo2() {\n\tfor i := 0; i < 10; i++ {\n\t\tfor j := 0; j < 10; j++ {\n\t\t\tif j == 2 {\n\t\t\t\t// 设置退出标签\n\t\t\t\tgoto breaktag\n\t\t\t}\n\t\t\tfmt.printf("%v-%v\\n", i, j)\n\t\t}\n\t}\n\treturn\n\t// 标签\nbreaktag:\n\tfmt.println("结束for循环")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# break\n\n和其他语言一样\n\n\n# continue\n\n和其他语言一样',charsets:{cjk:!0},lastUpdated:"2023/5/29",lastUpdatedTimestamp:1685359848e3},{title:"Go Study Day01 - 基本数据类型",frontmatter:{title:"Go Study Day01 - 基本数据类型",date:"2019-6-30",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第1天 go语言基础"},{name:"keywords",content:"自学 go 常量 变量 for循环 switch for range 数据类型"},{name:"twitter:title",content:"Go Study Day01 - 基本数据类型"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day01-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day01 - 基本数据类型"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day01-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-6-30"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day01 - 基本数据类型"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday1.html",summary:"不断学习，不断提升，日拱一卒，学习go第1天",description:""},regularPath:"/article/gostudy/day01-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html",relativePath:"article/gostudy/day01-基本数据类型.md",key:"v-f0d32e98",path:"/article/gostudy/studygoday1.html",headers:[{level:2,title:"Go 基本命令",slug:"go-基本命令",normalizedTitle:"go 基本命令",charIndex:2},{level:2,title:"Go语言文件的基本结构",slug:"go语言文件的基本结构",normalizedTitle:"go语言文件的基本结构",charIndex:567},{level:2,title:"变量和常量",slug:"变量和常量",normalizedTitle:"变量和常量",charIndex:740},{level:2,title:"基本数据类型",slug:"基本数据类型",normalizedTitle:"基本数据类型",charIndex:1871},{level:2,title:"运算符",slug:"运算符",normalizedTitle:"运算符",charIndex:2560},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:2687}],headersStr:"Go 基本命令 Go语言文件的基本结构 变量和常量 基本数据类型 运算符 参考",content:'# Go 基本命令\n\n# go build\n\n使用go build\n\n 1. 在项目目录下执行go build\n\n 2. 在其他路径下执行go build， 需要在后面加上项目的路径（项目路径从GOPATH/src后开始写起，编译之后的可执行文件就保存在当前目录下）\n\n 3. go build -o hello.exe\n\n# go run\n\n像执行脚本文件一样执行Go代码:go run main.go\n\n# go install\n\ngo install分为两步：\n\n 1. 先编译得到一个可执行文件\n\n 2. 将可执行文件拷贝到GOPATH/bin\n\n# 交叉编译\n\nGo支持跨平台编译\n\n例如：在windows平台编译一个能在linux平台执行的可执行文件\n\nSET CGO_ENABLED=0  // 禁用CGO\nSET GOOS=linux  // 目标平台是linux\nSET GOARCH=amd64  // 目标处理器架构是amd64\n\n\n1\n2\n3\n\n\n执行go build\n\nMac平台交叉编译：\n\nCGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build\n\n\n1\n2\n\n\n\n# Go语言文件的基本结构\n\nimport "fmt"\n\n// 函数外只能防止标识符（变量\\常量\\函数\\类型）的声明\n// fmt.Println("Hello") // 非法\n\n// 程序的入口函数\nfunc main() {\n\tfmt.Println("Hello world!")\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 变量和常量\n\n# 变量\n\nGo语言中的变量必须先声明再使用,格式：\n\nvar 变量名 变量类型\n\n\n1\n\n\n声明变量\n\nvar s1 string:声明一个保存字符串类型数据的s1变量\n\n声明并赋值\n\nvar 变量名 类型 = 表达式\nvar age int = 18\n//函数内部专属：\nname3:="zhangsan"\n\n\n1\n2\n3\n4\n\n\n类型推导\n\n有时候我们会将变量的类型省略，这个时候编译器会根据等号右边的值来推导变量的类型完成初始化。\n\nvar name = "Q1mi"\nvar age = 18\n\n\n1\n2\n\n\n短变量声明\n\n在函数内部，可以使用更简略的 := 方式声明并初始化变量。\n\npackage main\n\nimport (\n\t"fmt"\n)\n// 全局变量m\nvar m = 100\n\nfunc main() {\n\tn := 10\n\tm := 200 // 此处声明局部变量m\n\tfmt.Println(m, n)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n匿名变量\n\n匿名变量用一个下划线_表示，例如：\n\nfunc foo() (int, string) {\n\treturn 10, "Q1mi"\n}\nfunc main() {\n\tx, _ := foo()\n\t_, y := foo()\n\tfmt.Println("x=", x)\n\tfmt.Println("y=", y)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 常量\n\n相对于变量，常量是恒定不变的值，多用于定义程序运行期间不会改变的那些值。 常量的声明和变量声明非常类似，只是把var换成了const，常量在定义的时候必须赋值。\n\nconst pi = 3.1415\nconst e = 2.7182\n\n\n1\n2\n\n\n# iota\n\niota是go语言的常量计数器，只能在常量的表达式中使用。\n\niota在const关键字出现时将被重置为0。const中每新增一行常量声明将使iota计数一次(iota可理解为const语句块中的行索引)。 使用iota能简化定义，在定义枚举时很有用。\n\n举个例子：\n\nconst (\n\t\tn1 = iota //0\n\t\tn2        //1\n\t\tn3        //2\n\t\tn4        //3\n\t)\n\n\n1\n2\n3\n4\n5\n6\n\n\n两个要点：\n\n 1. iota在const关键字出现时将被重置为0\n 2. const中每新增一行常量声明，iota累加1\n\n# 注意事项\n\n * 变量名推荐使用驼峰式\n\n * 变量必须先声明再使用\n\n * 变量声明且赋值后必须使用\n\n\n# 基本数据类型\n\n * 整型\n   \n   无符号整型：uint8、uint16、uint32、uint64\n   \n   带符号整型:int8、int16、int32、int64\n   \n   uint和int:具体是32位还是64位看操作系统\n   \n   uintptr:表示指针\n\n * 浮点型\n   \n   float64和float32\n   \n   Go语言中浮点数默认是float64\n\n * 复数\n   \n   complex128和complex64\n\n * 布尔值\n   \n   true和false\n   \n   不能和其他的类型做转换\n\n * 字符串\n   \n   "字符串"\n\n字符串、字符、字节 都是什么？\n\n * 字符串：双引号包裹的是字符串\n\n * 字符：单引号包裹的是字符，单个字母、单个符号、单个文字\n\n * 字节：1byte=8bit\n\n> go语言中字符串都是UTF8编码，UTF8编码中一个常用汉字一般占用3个字节。\n\n// 字符串\ns := "Hello 沙河"\n// 单独的字母、汉字、符号表示一个字符\nc1 := \'h\'\nc2 := \'1\'\nc3 := \'沙\'\n// 字节： 1字节=8Bit(8个二进制位)\n// 1个字符‘A’=1个字节\n// 1个utf8编码的汉字\'沙\'= 一般占3个字节\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# byte和rune\n\nGo 语言的字符有以下两种：\n\n 1. uint8类型，或者叫 byte 型，代表一个ASCII码字符。\n 2. rune类型，代表一个 UTF-8字符。\n\n\n# 运算符\n\n# 算术运算符\n\n+-*/\n\n# 逻辑运算符\n\n&& || !\n\n# 位运算符\n\n>> << | ^ &\n\n# 赋值运算符\n\n= += 。。。\n\n++ 和-- 是独立的语句，不属于赋值运算符\n\n# 比较运算符\n\n< <= != 。。。\n\n\n# 参考\n\n * [1] Go语言学习之路',normalizedContent:'# go 基本命令\n\n# go build\n\n使用go build\n\n 1. 在项目目录下执行go build\n\n 2. 在其他路径下执行go build， 需要在后面加上项目的路径（项目路径从gopath/src后开始写起，编译之后的可执行文件就保存在当前目录下）\n\n 3. go build -o hello.exe\n\n# go run\n\n像执行脚本文件一样执行go代码:go run main.go\n\n# go install\n\ngo install分为两步：\n\n 1. 先编译得到一个可执行文件\n\n 2. 将可执行文件拷贝到gopath/bin\n\n# 交叉编译\n\ngo支持跨平台编译\n\n例如：在windows平台编译一个能在linux平台执行的可执行文件\n\nset cgo_enabled=0  // 禁用cgo\nset goos=linux  // 目标平台是linux\nset goarch=amd64  // 目标处理器架构是amd64\n\n\n1\n2\n3\n\n\n执行go build\n\nmac平台交叉编译：\n\ncgo_enabled=0 goos=linux goarch=amd64 go build\ncgo_enabled=0 goos=windows goarch=amd64 go build\n\n\n1\n2\n\n\n\n# go语言文件的基本结构\n\nimport "fmt"\n\n// 函数外只能防止标识符（变量\\常量\\函数\\类型）的声明\n// fmt.println("hello") // 非法\n\n// 程序的入口函数\nfunc main() {\n\tfmt.println("hello world!")\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 变量和常量\n\n# 变量\n\ngo语言中的变量必须先声明再使用,格式：\n\nvar 变量名 变量类型\n\n\n1\n\n\n声明变量\n\nvar s1 string:声明一个保存字符串类型数据的s1变量\n\n声明并赋值\n\nvar 变量名 类型 = 表达式\nvar age int = 18\n//函数内部专属：\nname3:="zhangsan"\n\n\n1\n2\n3\n4\n\n\n类型推导\n\n有时候我们会将变量的类型省略，这个时候编译器会根据等号右边的值来推导变量的类型完成初始化。\n\nvar name = "q1mi"\nvar age = 18\n\n\n1\n2\n\n\n短变量声明\n\n在函数内部，可以使用更简略的 := 方式声明并初始化变量。\n\npackage main\n\nimport (\n\t"fmt"\n)\n// 全局变量m\nvar m = 100\n\nfunc main() {\n\tn := 10\n\tm := 200 // 此处声明局部变量m\n\tfmt.println(m, n)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n匿名变量\n\n匿名变量用一个下划线_表示，例如：\n\nfunc foo() (int, string) {\n\treturn 10, "q1mi"\n}\nfunc main() {\n\tx, _ := foo()\n\t_, y := foo()\n\tfmt.println("x=", x)\n\tfmt.println("y=", y)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 常量\n\n相对于变量，常量是恒定不变的值，多用于定义程序运行期间不会改变的那些值。 常量的声明和变量声明非常类似，只是把var换成了const，常量在定义的时候必须赋值。\n\nconst pi = 3.1415\nconst e = 2.7182\n\n\n1\n2\n\n\n# iota\n\niota是go语言的常量计数器，只能在常量的表达式中使用。\n\niota在const关键字出现时将被重置为0。const中每新增一行常量声明将使iota计数一次(iota可理解为const语句块中的行索引)。 使用iota能简化定义，在定义枚举时很有用。\n\n举个例子：\n\nconst (\n\t\tn1 = iota //0\n\t\tn2        //1\n\t\tn3        //2\n\t\tn4        //3\n\t)\n\n\n1\n2\n3\n4\n5\n6\n\n\n两个要点：\n\n 1. iota在const关键字出现时将被重置为0\n 2. const中每新增一行常量声明，iota累加1\n\n# 注意事项\n\n * 变量名推荐使用驼峰式\n\n * 变量必须先声明再使用\n\n * 变量声明且赋值后必须使用\n\n\n# 基本数据类型\n\n * 整型\n   \n   无符号整型：uint8、uint16、uint32、uint64\n   \n   带符号整型:int8、int16、int32、int64\n   \n   uint和int:具体是32位还是64位看操作系统\n   \n   uintptr:表示指针\n\n * 浮点型\n   \n   float64和float32\n   \n   go语言中浮点数默认是float64\n\n * 复数\n   \n   complex128和complex64\n\n * 布尔值\n   \n   true和false\n   \n   不能和其他的类型做转换\n\n * 字符串\n   \n   "字符串"\n\n字符串、字符、字节 都是什么？\n\n * 字符串：双引号包裹的是字符串\n\n * 字符：单引号包裹的是字符，单个字母、单个符号、单个文字\n\n * 字节：1byte=8bit\n\n> go语言中字符串都是utf8编码，utf8编码中一个常用汉字一般占用3个字节。\n\n// 字符串\ns := "hello 沙河"\n// 单独的字母、汉字、符号表示一个字符\nc1 := \'h\'\nc2 := \'1\'\nc3 := \'沙\'\n// 字节： 1字节=8bit(8个二进制位)\n// 1个字符‘a’=1个字节\n// 1个utf8编码的汉字\'沙\'= 一般占3个字节\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# byte和rune\n\ngo 语言的字符有以下两种：\n\n 1. uint8类型，或者叫 byte 型，代表一个ascii码字符。\n 2. rune类型，代表一个 utf-8字符。\n\n\n# 运算符\n\n# 算术运算符\n\n+-*/\n\n# 逻辑运算符\n\n&& || !\n\n# 位运算符\n\n>> << | ^ &\n\n# 赋值运算符\n\n= += 。。。\n\n++ 和-- 是独立的语句，不属于赋值运算符\n\n# 比较运算符\n\n< <= != 。。。\n\n\n# 参考\n\n * [1] go语言学习之路',charsets:{cjk:!0},lastUpdated:"2023/3/15",lastUpdatedTimestamp:1678839642e3},{title:"Go Study Day03 - 函数",frontmatter:{title:"Go Study Day03 - 函数",date:"2019-7-13",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第3天 函数"},{name:"keywords",content:"自学 go 匿名函数 闭包 defer"},{name:"image",content:"https://www.yangxiaokang.com/day03-%E5%87%BD%E6%95%B0.assets/1563005182920.png"},{name:"twitter:title",content:"Go Study Day03 - 函数"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day03-%E5%87%BD%E6%95%B0.assets/1563005182920.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day03-%E5%87%BD%E6%95%B0.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day03 - 函数"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/day03-%E5%87%BD%E6%95%B0.assets/1563005182920.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day03-%E5%87%BD%E6%95%B0.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-7-13"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day03 - 函数"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/day03-%E5%87%BD%E6%95%B0.assets/1563005182920.png"}],feed:{enable:!0},permalink:"/article/gostudy/studygoday3.html",summary:"不断学习，不断提升，日拱一卒，学习go第3天",description:""},regularPath:"/article/gostudy/day03-%E5%87%BD%E6%95%B0.html",relativePath:"article/gostudy/day03-函数.md",key:"v-d961dbe6",path:"/article/gostudy/studygoday3.html",headers:[{level:2,title:"函数",slug:"函数",normalizedTitle:"函数",charIndex:2},{level:3,title:"函数的定义",slug:"函数的定义",normalizedTitle:"函数的定义",charIndex:9},{level:3,title:"变量作用域",slug:"变量作用域",normalizedTitle:"变量作用域",charIndex:722},{level:3,title:"高阶函数",slug:"高阶函数",normalizedTitle:"高阶函数",charIndex:1268},{level:3,title:"匿名函数",slug:"匿名函数",normalizedTitle:"匿名函数",charIndex:1526},{level:3,title:"闭包",slug:"闭包",normalizedTitle:"闭包",charIndex:1819},{level:3,title:"defer",slug:"defer",normalizedTitle:"defer",charIndex:1828},{level:3,title:"内置函数",slug:"内置函数",normalizedTitle:"内置函数",charIndex:2627},{level:3,title:"panic和recover",slug:"panic和recover",normalizedTitle:"panic和recover",charIndex:2638},{level:2,title:"标识符",slug:"标识符",normalizedTitle:"标识符",charIndex:3003},{level:2,title:"自定义类型和类型别名",slug:"自定义类型和类型别名",normalizedTitle:"自定义类型和类型别名",charIndex:3077}],headersStr:"函数 函数的定义 变量作用域 高阶函数 匿名函数 闭包 defer 内置函数 panic和recover 标识符 自定义类型和类型别名",content:'# 函数\n\n\n# 函数的定义\n\n# 基本格式\n\nfunc f1() {\n\tfmt.Println("Hello 沙河！")\n}\n\n\n1\n2\n3\n\n\n# 参数的格式\n\n * 有参数的函数\n\nfunc f2(name string) {\n\tfmt.Println("Hello", name)\n}\n\n\n\n1\n2\n3\n4\n\n * 参数类型简写\n\n// 参数类型简写\nfunc f4(x, y int) int {\n\treturn x + y\n}\n\n\n1\n2\n3\n4\n\n * 可变参数\n\n// 可变参数\nfunc f5(title string, y ...int) int {\n\tfmt.Println(y) // y是一个int类型的切片\n\treturn 1\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 返回值的格式\n\n * 有返回值\n\n// 带参数和返回值的函数\nfunc f3(x int, y int) int {\n\tsum := x + y\n\treturn sum\n}\n\n\n1\n2\n3\n4\n5\n\n * 命名返回值\n\n// 命名返回值\nfunc f6(x, y int) (sum int) {\n\tsum = x + y // 如果使用命名的返回值，那么在函数中可以直接使用返回值变量\n\treturn      // 如果使用命名的返回值,return后面可以省略返回值变量\n}\n\n\n1\n2\n3\n4\n5\n\n * 多返回值\n\n// Go语言中支持多个返回值\nfunc f7(x, y int) (sum int, sub int) {\n\tsum = x + y\n\tsub = x - y\n\treturn\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 变量作用域\n\n 1. 全局作用域\n 2. 函数作用域\n    1. 先在函数内部找变量，找不到往外层找\n    2. 函数内部的变量，外部是访问不到的\n 3. 代码块作用域\n\nvar x = 100 // 定义一个全局变量\n\n// 定义一个函数\nfunc f1() {\n\t// x := 10\n\tname := "理想"\n\t// 函数中查找变量的顺序\n\t// 1. 先在函数内部查找\n\t// 2. 找不到就往函数的外面查找,一直找到全局\n\tfmt.Println(x, name)\n}\n\nfunc main() {\n\tf1()\n\t// fmt.Println(name) // 函数内部定义的变脸只能在该函数内部使用\n\n\t// 语句块作用域\n\tif i := 10; i < 18 {\n\t\tfmt.Println("乖乖上学")\n\t}\n\t// fmt.Println(i) // 不存在i\n\tfor j := 0; j < 5; j++ {\n\t\tfmt.Println(j)\n\t}\n\t// fmt.Println(j) // 不存在j\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 高阶函数\n\n函数也是一种类型，它可以作为参数，也可以作为返回值。\n\n// 函数也可以作为参数的类型\nfunc f3(x func() int) {\n\tret := x()\n\tfmt.Println(ret)\n}\n\nfunc ff(a, b int) int {\n\treturn a + b\n}\n\n// 函数还可以作为返回值\nfunc f5(x func() int) func(int, int) int {\n\treturn ff\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 匿名函数\n\n没有名字的函数，多用在函数内部定义函数时使用。\n\nfunc main() {\n\n\t// 函数内部没有办法声明带名字的函数\n\t// 匿名函数\n\tf1 := func(x, y int) {\n\t\tfmt.Println(x + y)\n\t}\n\tf1(10, 20)\n\n\t// 如果只是调用一次的函数，还可以简写成立即执行函数\n\tfunc(x, y int) {\n\t\tfmt.Println(x + y)\n\t\tfmt.Println("Hello world!")\n\t}(100, 200)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 闭包\n\n\n\n\n# defer\n\ndefer延迟调用，会把defer后面的语句延迟调用\n\n把当时的状态都保存\n\ndefer多用于释放资源\n\n多个defer存在时，按照先进后出的方式去执行。\n\nfunc calc(index string, a, b int) int {\n\tret := a + b\n\tfmt.Println(index, a, b, ret)\n\treturn ret\n}\n\nfunc main() {\n\ta := 1\n\tb := 2\n\tdefer calc("1", a, calc("10", a, b))\n\ta = 0\n\tdefer calc("2", a, calc("20", a, b))\n\tb = 1\n}\n\n// 1. a:=1\n// 2. b:=2\n// 3. defer calc("1", 1, calc("10", 1, 2))\n// 4. calc("10", 1, 2) // "10" 1 2 3\n// 5. defer calc("1", 1, 3)\n// 6. a = 0\n// 7. defer calc("2", 0, calc("20", 0, 2))\n// 8. calc("20", 0, 2) // "20" 0 2 2\n// 9. defer calc("2", 0, 2)\n// 10. b = 1\n// calc("2", 0, 2) // "2" 0 2 2\n// calc("1", 1, 3) // "1" 1 3 4\n\n// 最终的答案：\n// "10" 1 2 3\n// "20" 0 2 2\n//  "2" 0 2 2\n// "1" 0 3 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# 内置函数\n\n\n\n\n# panic和recover\n\nfunc funcA() {\n\tfmt.Println("a")\n}\n\nfunc funcB() {\n\t// 刚刚打开数据库连接\n\tdefer func() {\n\t\terr := recover()\n\t\tfmt.Println(err)\n\t\tfmt.Println("释放数据库连接...")\n\t}()\n\tpanic("出现了严重的错误！！！") // 程序崩溃退出\n\tfmt.Println("b")\n}\n\nfunc funcC() {\n\tfmt.Println("c")\n}\nfunc main() {\n\tfuncA()\n\tfuncB()\n\tfuncC()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 标识符\n\n * 标识符:变量名 函数名 类型名 方法名\n\n * Go语言中如果标识符首字母是大写的,就表示对外部包可见(暴露的,公有的).\n\n\n# 自定义类型和类型别名\n\ntype MyInt int // 自定义类型\ntype newInt = int // 类型别名\n\n\n1\n2\n\n\n类型别名只在代码编写 过程中有效,编译完之后就不存在,内置的byte和rune都属于类型别名.',normalizedContent:'# 函数\n\n\n# 函数的定义\n\n# 基本格式\n\nfunc f1() {\n\tfmt.println("hello 沙河！")\n}\n\n\n1\n2\n3\n\n\n# 参数的格式\n\n * 有参数的函数\n\nfunc f2(name string) {\n\tfmt.println("hello", name)\n}\n\n\n\n1\n2\n3\n4\n\n * 参数类型简写\n\n// 参数类型简写\nfunc f4(x, y int) int {\n\treturn x + y\n}\n\n\n1\n2\n3\n4\n\n * 可变参数\n\n// 可变参数\nfunc f5(title string, y ...int) int {\n\tfmt.println(y) // y是一个int类型的切片\n\treturn 1\n}\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 返回值的格式\n\n * 有返回值\n\n// 带参数和返回值的函数\nfunc f3(x int, y int) int {\n\tsum := x + y\n\treturn sum\n}\n\n\n1\n2\n3\n4\n5\n\n * 命名返回值\n\n// 命名返回值\nfunc f6(x, y int) (sum int) {\n\tsum = x + y // 如果使用命名的返回值，那么在函数中可以直接使用返回值变量\n\treturn      // 如果使用命名的返回值,return后面可以省略返回值变量\n}\n\n\n1\n2\n3\n4\n5\n\n * 多返回值\n\n// go语言中支持多个返回值\nfunc f7(x, y int) (sum int, sub int) {\n\tsum = x + y\n\tsub = x - y\n\treturn\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 变量作用域\n\n 1. 全局作用域\n 2. 函数作用域\n    1. 先在函数内部找变量，找不到往外层找\n    2. 函数内部的变量，外部是访问不到的\n 3. 代码块作用域\n\nvar x = 100 // 定义一个全局变量\n\n// 定义一个函数\nfunc f1() {\n\t// x := 10\n\tname := "理想"\n\t// 函数中查找变量的顺序\n\t// 1. 先在函数内部查找\n\t// 2. 找不到就往函数的外面查找,一直找到全局\n\tfmt.println(x, name)\n}\n\nfunc main() {\n\tf1()\n\t// fmt.println(name) // 函数内部定义的变脸只能在该函数内部使用\n\n\t// 语句块作用域\n\tif i := 10; i < 18 {\n\t\tfmt.println("乖乖上学")\n\t}\n\t// fmt.println(i) // 不存在i\n\tfor j := 0; j < 5; j++ {\n\t\tfmt.println(j)\n\t}\n\t// fmt.println(j) // 不存在j\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 高阶函数\n\n函数也是一种类型，它可以作为参数，也可以作为返回值。\n\n// 函数也可以作为参数的类型\nfunc f3(x func() int) {\n\tret := x()\n\tfmt.println(ret)\n}\n\nfunc ff(a, b int) int {\n\treturn a + b\n}\n\n// 函数还可以作为返回值\nfunc f5(x func() int) func(int, int) int {\n\treturn ff\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 匿名函数\n\n没有名字的函数，多用在函数内部定义函数时使用。\n\nfunc main() {\n\n\t// 函数内部没有办法声明带名字的函数\n\t// 匿名函数\n\tf1 := func(x, y int) {\n\t\tfmt.println(x + y)\n\t}\n\tf1(10, 20)\n\n\t// 如果只是调用一次的函数，还可以简写成立即执行函数\n\tfunc(x, y int) {\n\t\tfmt.println(x + y)\n\t\tfmt.println("hello world!")\n\t}(100, 200)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 闭包\n\n\n\n\n# defer\n\ndefer延迟调用，会把defer后面的语句延迟调用\n\n把当时的状态都保存\n\ndefer多用于释放资源\n\n多个defer存在时，按照先进后出的方式去执行。\n\nfunc calc(index string, a, b int) int {\n\tret := a + b\n\tfmt.println(index, a, b, ret)\n\treturn ret\n}\n\nfunc main() {\n\ta := 1\n\tb := 2\n\tdefer calc("1", a, calc("10", a, b))\n\ta = 0\n\tdefer calc("2", a, calc("20", a, b))\n\tb = 1\n}\n\n// 1. a:=1\n// 2. b:=2\n// 3. defer calc("1", 1, calc("10", 1, 2))\n// 4. calc("10", 1, 2) // "10" 1 2 3\n// 5. defer calc("1", 1, 3)\n// 6. a = 0\n// 7. defer calc("2", 0, calc("20", 0, 2))\n// 8. calc("20", 0, 2) // "20" 0 2 2\n// 9. defer calc("2", 0, 2)\n// 10. b = 1\n// calc("2", 0, 2) // "2" 0 2 2\n// calc("1", 1, 3) // "1" 1 3 4\n\n// 最终的答案：\n// "10" 1 2 3\n// "20" 0 2 2\n//  "2" 0 2 2\n// "1" 0 3 3\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# 内置函数\n\n\n\n\n# panic和recover\n\nfunc funca() {\n\tfmt.println("a")\n}\n\nfunc funcb() {\n\t// 刚刚打开数据库连接\n\tdefer func() {\n\t\terr := recover()\n\t\tfmt.println(err)\n\t\tfmt.println("释放数据库连接...")\n\t}()\n\tpanic("出现了严重的错误！！！") // 程序崩溃退出\n\tfmt.println("b")\n}\n\nfunc funcc() {\n\tfmt.println("c")\n}\nfunc main() {\n\tfunca()\n\tfuncb()\n\tfuncc()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 标识符\n\n * 标识符:变量名 函数名 类型名 方法名\n\n * go语言中如果标识符首字母是大写的,就表示对外部包可见(暴露的,公有的).\n\n\n# 自定义类型和类型别名\n\ntype myint int // 自定义类型\ntype newint = int // 类型别名\n\n\n1\n2\n\n\n类型别名只在代码编写 过程中有效,编译完之后就不存在,内置的byte和rune都属于类型别名.',charsets:{cjk:!0},lastUpdated:"2023/3/15",lastUpdatedTimestamp:1678883299e3},{title:"DIY主机-选配🔥",frontmatter:{title:"DIY主机-选配🔥",date:"2023-3-15",categories:["工具/平台"],tags:null,feed:{enable:!0},permalink:"/article/diy/diycomputer1.html",description:"",meta:[{name:"twitter:title",content:"DIY主机-选配🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E9%80%89%E9%85%8D.html"},{property:"og:type",content:"article"},{property:"og:title",content:"DIY主机-选配🔥"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E9%80%89%E9%85%8D.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-3-15"},{itemprop:"name",content:"DIY主机-选配🔥"},{itemprop:"description",content:""}]},regularPath:"/article/diy/DIY%E4%B8%BB%E6%9C%BA-%E9%80%89%E9%85%8D.html",relativePath:"article/diy/DIY主机-选配.md",key:"v-1dcf4122",path:"/article/diy/diycomputer1.html",headers:[{level:2,title:"完整配置",slug:"完整配置",normalizedTitle:"完整配置",charIndex:2},{level:2,title:"cpu",slug:"cpu",normalizedTitle:"cpu",charIndex:43},{level:2,title:"主板",slug:"主板",normalizedTitle:"主板",charIndex:78},{level:2,title:"内存",slug:"内存",normalizedTitle:"内存",charIndex:125},{level:2,title:"硬盘",slug:"硬盘",normalizedTitle:"硬盘",charIndex:160},{level:2,title:"机箱",slug:"机箱",normalizedTitle:"机箱",charIndex:193},{level:2,title:"电源",slug:"电源",normalizedTitle:"电源",charIndex:226},{level:2,title:"冷排",slug:"冷排",normalizedTitle:"冷排",charIndex:267},{level:2,title:"风扇",slug:"风扇",normalizedTitle:"风扇",charIndex:300},{level:2,title:"显示器",slug:"显示器",normalizedTitle:"显示器",charIndex:333},{level:2,title:"支架悬臂",slug:"支架悬臂",normalizedTitle:"支架悬臂",charIndex:9512},{level:2,title:"显卡",slug:"显卡",normalizedTitle:"显卡",charIndex:6522},{level:2,title:"耳机",slug:"耳机",normalizedTitle:"耳机",charIndex:11516}],headersStr:"完整配置 cpu 主板 内存 硬盘 机箱 电源 冷排 风扇 显示器 支架悬臂 显卡 耳机",content:"# 完整配置\n\n硬件    型号                 最终价格   备注\ncpu   13700k             2580   散片\n主板    华硕B760-G小吹雪 ddr5   1399   反50e卡+50 plus券\n内存    金百达 刃 6400         799    灯条\n硬盘    宏基掠夺者7000          469    \n机箱    航嘉s980龙卷风          300    \n电源    九州风神DQ750M-V3L     519    50 plus券\n冷排    瓦尔基里C360W-RGB      539    \n风扇    棱镜ARGB*7           115    \n显示器   优派VX2758-2K-PRO    939    40 plus券+充值赠10元+反10元E卡\n\n纯主机6720+显示器949\n\n\n# cpu\n\n# 价格\n\n型号       价格     渠道      备注\n13600k   2599   京东      \n13700    2999   天猫      \n13700    3199   京东      京东很迷惑和带k一个价\n13700    2420   淘宝散片    \n13700k   3199   京东，天猫   \n13700k   2599   淘宝散片    \n13900k   4899   京东      \n\n# 分析\n\n * 性能过剩的时代，要么买个便宜低端u超频到5ghz以上，图稳定就买个差不多的不折腾。\n * 13600k已经超越12700，但13700 大小核对等，大核多些总是更靠谱。\n * 13700性能比12900要强已经足够了，没必要上13900这种富人u，散热解决不了再高主频也上不去。能把解锁功耗墙把默频拉满就挺好。\n * 要不要13700k？带K除了可以超频，默频也更高，并且京东售价很奇葩，13700和13700k一个价或者差不了多少。带K的cpu不锁SA电压方便超频，带k能支持的功能不带k的不一定都能支持，所以上ddr5内存一定会超频也最好搭配带k的cpu。当然带k也不一定要cpu超频，超频要换好点的主板、散热、电源，整体的价钱都够上13900k了，没必要。\n * 不带k的cpu 尽量不要内存超频或超太多，有蓝屏风险，比如ddr4尽量3200频率。如果想上ddr5内存超频，必选13代，13代支持的频率更高，不要选12代，IMC不耐高温影响稳定性。\n * AMD暂不考虑，有过两台amd电脑，19年买的联想小新pro13 锐龙3560H跑分和14年的3代i7差一丢丢，实际体验比三代i7差了很多，小新其他硬件都是碾压所以只能是amd确实比不了英特尔。跑分也不是那么公正的。\n\n# 结论\n\n13700k\n\n不为超频，但基频更高，价格差不多。\n\n# 渠道\n\n * 京东 3149 还送50e卡\n * 拼多多英特尔旗舰店 3179\n * 天猫英特尔旗舰店3199\n * 本来不考虑散片，京东下单第二天就降价200，客服不给价保，那就散片吧\n\n\n# 主板\n\n# 主板尺寸\n\n主板分大板(ATX)和小板(M-ATX)，区别如下：\n\n * 标准的ATX主板长为三百零五毫米，宽为二百四十四毫米。\n\n * 标准的M-ATX主板长为二百四十四毫米，宽为二百四十四毫米，长和宽相等。\n\n# 价格\n\n品牌   型号                价格     内存最高频率\n华硕   b660m重炮手d5        1199   6000\n华硕   b760m 重炮手 d5      1449   7200\n华硕   b760-G 小吹雪d5      1499   7800\n华硕   b760-I d5         1799   7600\n华硕   B760 -F d5        1999   6400\n华硕   z690a 吹雪d5        2599   6400\n华硕   z790a 吹雪 d5       2899   7800\n微星   B760M MAX 迫击炮d5   1499   7000\n微星   B760M 迫击炮d5       1399   7000\n技嘉   b760 小雕 d5        1249   7600\n\n# 分析\n\n * 优选d5，d5是未来，对生产力来说提升是很大，但d4 d5主板的内存插槽不通用，所以从内存的角度来说主板应该选d5，d5也比d4没贵多少，甚至一些终端卡d5有时比d4便宜，最近d5内存价格下降才涨上来。16g内存优先选d5，以下优先d4。\n\n * 优选b760,总是有人说b760对比660没多少提升，其实最重要的一点是d5内存频率上来了，660比较低，对游戏玩家来说，d5的致命问题是延迟高，导致游戏体验略有轻微下降，760对内存频率支持不断增高到接近8000,问题迎刃而解，以前d5内存之前的价格是d4的很多倍，如今d5内存下降，并且主板价格没贵多少，值得入手。\n\n * b还是z，有cpu超频需求选z系列，无需求选b系列性价比更高，当然cpu需要带k。不过总有例外，微信迫击炮max外置时钟发生器，可超12代不带k cpu外频，13代英特尔限制不能超\n\n * 品牌，从品控来说华硕>技嘉>微星(引用业内人员的经验)，从主板技术、调教来说华硕最强，如同合资车的发动机变速箱地盘技术碾压一样。从用料来说微星最强，但价格也最贵，从评测看主板散热装甲、供电，但内存优化一般，才支持到7000频率，技嘉性价比最高，价格最便宜，内存频率到7600也高，还有内存低延时高带宽，就是没有pice5.0接口(华硕微星都支持)，用料稍微差一丢丢。\n\n * b站很多博主说660m带13代u 功耗高 温度高，所以新装机直接760\n   \n   # 结论\n   \n   首选华硕 b760小吹雪d5\n   \n   其次技嘉，最后微星。实际不关注pcie5的支持技嘉性价比高，微星用料好不过价格没优势料好也是花钱多的原因，技术上华硕最强，返修率也低。华硕内部吹雪定位比重炮手高一档次才贵50，内存频率支持更高还有APE3.0，加上吹雪加持所以重炮手的定价不太合理。不过小吹雪作为高端760已经和低端品牌的z690一个价了，谁让我不超频呢。\n   \n   # 渠道\n   \n   * 京东 1499 只有京东有\n   \n   # 参考\n   \n   * [1] 华硕主板产品划分\n\n\n# 内存\n\n# 内存品牌\n\n * 原厂品牌：指的是生产内存颗粒的厂商，如三星、海力士、镁光，这类厂商掌握着技术，天然有这优先选择权，质量没的说，但一般面向OEM，如给联想、戴尔等pc制造商大批量供货，消费级市场比较少，价格也会更贵，但质量一般不会有问题。\n   * 原厂品牌的子公司如科赋是海力士的子公司，英睿达是镁光的子品牌，这类也是质量靠得住。\n * 贴牌：从原厂品牌采购颗粒，自己组装，颗粒好不好，就看品牌商采购价了。\n   * 一线贴牌：芝奇、金士顿、宏基、威刚、海盗船；\n     * 金士顿、威刚、海盗船一般面向渠道如电脑城，一线的原因是出货量大，兼容性好，毕竟电脑城老板最头疼的就是选品质量不行一直应对售后问题。\n     * 芝奇和宏基面向DIY玩家出了很多高端条，超频玩家的最爱。一线的原因是超频潜力强，这种一般都是特挑，也需要调校。\n   * 二线贴牌：金百达(威刚的代工厂)、光威和阿斯加特是一家公司，光威主打中低端，阿斯加特主打中高端，DIY人士的首选。二线一般是国产厂商，颗粒都是普通颗粒，超频潜力中规中矩，厂商的调校也没那么好，比如金百达对英特尔平台支持的比较好，amd可能就会不兼容。优点是便宜。\n   * 三线贴牌：除以上以外的牌子，颗粒可能等于或低于普通水准，兼容性也一般，质量也一般，无明显优点。便宜不了多少。\n * 如何选？\n   * 不差钱直接一线品牌，原厂颗粒不会把次品用到自己家牌子上，再者兼容性比较好，毕竟面向pc商供货。其实英睿达也不贵就是性价比没那么高\n   * 一线贴牌里芝奇主打高端，超频能力强，宏基在ddr5也主打超频。海盗船、金士顿纯出货量大名气大，假货也多，当然兼容性也不错。\n   * 二线里兼容性就不如一线贴牌 ，超频潜力也是不如的，当然d5超频主要看颗粒，如海力士A-die，需要问客服是那种颗粒，比如金百达刃用a-die并且灯条价格是真的香，如果是英特尔系列加御三家主板可以无脑入，其他主板需要看看网上评价，不一定都会不兼容，但有概率。不过内存拆封京东也可退。\n   * 内存和cpu一样，只要能点亮就能用到淘汰，所以即使二线贴牌也是可以买的，只要认准颗粒和兼容的平台。\n\n品牌               频率     颗粒                 价格     RGB   备注\n英睿达ddr5          4800                      769          \n英睿达ddr5          5600                      899          \n美商海盗船            6000                      849          \n金百达-刃            6400   海力士第二代A-die颗粒      869    ✅     \n宏基Pallas II 凌霜   6000   海力士a-die m-die随机   700多         \n阿斯加特女武神·瓦尔基里     6400   海力士A-die颗粒         859    ✅     支持expo\n光威天策             6400   海力士第二代A-die颗粒      799          \n\n# 分析\n\n * 超频要么选大品牌要么选好的颗粒比如海力士A-die，大品牌也得是贵的，低端的一样不行，先看容量再看频率，最后看时序。\n * 超频到多少除了上一条再就看主板和cpu的支持了，华硕主板的技术一流，小吹雪属于猛禽系列已经是中高端又是760，加上13700k的支持，只要你敢花钱，频率就敢往上窜。\n * 金百达、阿斯加特、光威都是国产性价比高的，当然也得满足第一条要求\n * amd平台尽量买支持expo，一般对英特尔的xmp都是适配的，amd总是受到歧视\n * 目前内存大降价，2023-03国产内存条一个月降价三回，不适合买太高端的买完可能就降价了，满足第一条的情况下选一个相对价格不是那么贵的的先用着后面再说。国外品牌就算了价格贵后期降价割的更狠。我看的价位就在700左右，国产一般买到海力士a-die颗粒主频在6400，再高就在千元左右了，国外一般800能买到6000频率，得益于主板选的规格够高支持到7800频率，后面降价了再换7800的。\n\n# 结论\n\n * 灯条：金百达刃6400、阿斯加特女武神瓦尔基里\n * 马甲条：光威天策6400(6800)、金百达银爵6400\n * 以上哪个便宜买哪个\n\n# 渠道\n\n * 京东18号最低769\n * 天猫无官方店\n * 拼多多 最低769没有百亿补贴\n\n参考\n\n * [1] 内存对比\n * [2] 主要看品牌性和产品序列\n\n\n# 硬盘\n\n# 固态硬盘品牌\n\n * 原厂品牌：硬盘分为颗粒和主控，原厂指的是生产内存颗粒的厂家。颗粒分原厂颗粒、白片、黑片。原厂品牌有三星、海力士、镁光、西数、铠侠(原东芝)、长江存储，这类厂家能够自己生产颗粒，自己的产品一般都会用原厂颗粒，当然价格也贵，但质量差不了。\n   * 长江存储是国产厂商，将固态价格打下来了，自己的品牌是致态\n   * 闪迪被西数收购\n   * 镁光的品牌是英睿达\n * 一线贴牌：金士顿 、宏基\n * 国产贴牌：不推荐金士顿以外的金字辈硬盘，其他牌子需要擦亮眼睛看使用的颗粒和主控，但不保证标的和实际的一致，最好先看看网上的评测及口碑。\n * 如何选？\n   * 固态不同于内存，内存颗粒一般影响超频但不影响日常使用，固态颗粒影响读写速度、系统稳定性；内存能开机就没事一般用不坏，固态有寿命。所以要看 颗粒 还得看读写速度测评，另外还有代表寿命的数据写入量\n   * 目前颗粒一般都是 TLC\n   * 有外置缓存不容易掉速\n   * 不差钱直接三星、海力士，西数测评看已经 跌出第一梯队，便宜的就国产当然致态不一定都比其他品牌便宜，折中就一线贴牌，这类贴牌颗粒还是靠得住的，不会用白片，但金士顿假货多，需警惕。\n\n# 价格\n\n品牌             容量     独立缓存   京东价格   顺序读写           随机4K IOPS\n铠侠se10         1t     ✅      599    写6400 读7300    读80w写110w\n宏基掠夺者gm7000    1t     ✅      499    写6400 读7300    读写100w\n致态tiplus7100   1t            574    写6000 读7000    \n海力士p44 pro     1t            694    写6500 读 7000   \n西数sn 850x      1t            689    写6300 读7300    \n三星980pro       500g   ✅      549    写5100 读7000    \n西数 sn770       500g          329    写4000 读5000    \n\n# 分析\n\n * 硬盘4k读写要比顺序有用的多；装黑苹果需要注意避坑有些盘容易出现问题。\n\n * pcie3 做系统盘就不考虑了，不过用来当数据盘价格确实不贵，不过致态tiplus5000读写速度在同价位是最顶尖的\n\n * 三星0E门事件，暂时不选\n\n * 西数，海力士，性价比不高，图一个稳定\n\n * 致态是国产品牌，性价比高，速度比西数海力士略微弱一点，4k读写不太高毕竟便宜。有的版本固件会掉盘。\n\n * 铠侠性价比也很高，有独立缓存，寿命比其他官宣的短，实际测评数据最高\n\n * 宏基掠夺者gm7000参数上无敌了，但实测比不上铠侠，主要还是最便宜的，性价比高，参数再高不一定用得上。\n   \n   > Tips:\n   > \n   > 如果笔记本平台需要注意散热，有的硬盘发热量大不适合笔记本，还有双面颗粒对笔记本散热不好\n\n参考\n\n * [1] 2023-3硬盘价格\n * [2] 黑苹果硬盘避坑\n\n# 结论\n\n首选宏基掠夺者gm7000，次选铠侠，最后致钛7100\n\n# 渠道\n\n * 京东 524\n\n * 天猫无旗舰店\n\n * 拼多多无百亿补贴\n\n\n# 机箱\n\n# 价格\n\n品牌                主板支持             风扇位   水冷大小   电源位置   京东价格\n航嘉S960暴风雪X        M-ATX、ITX        9     360    左右分仓   249\n航嘉s980            ATX 、M-ATX、ITX   10    360    左右分仓   349\n玩嘉罗宾3             ATX 、M-ATX、ITX   10    360    左右分仓   339\n先马颜值神mini air雪装   M-ATX、ITX        6     360    前置     204\n\n# 分析\n\n * 确定自己主板是什么类型，ATX 、M-ATX、ITX\n * 确认用多大的水冷，机箱放不放得下\n * 确认显卡放不放得下\n * 海景房机箱，确认电源位置，有的放到里面不好看，比如先马系列的\n * 还有不是双面玻璃，或是亚克力\n * 接口，type-c接口的一般贵，不过主板都有了，前面有的话会方便，没有也无所谓\n\n# 结论\n\n选最便宜的航嘉s980\n\n# 渠道\n\n * pdd 300\n\n\n# 电源\n\n我的DIV风格是白色，但白色的电源很少都在750w以上，并且基本都是要比黑色更贵，要么买全白色，要么买黑色搭白色延长线(京东150)，\n\n品牌     系列             功率     转换效率   接线类型   日系电容   价格            保修    京东页面评价   备注\n振华     LEADEX G       550w   金牌     全模     ✅      599+150=749   10年   10w      竟然白色电源黑色线\n先马     GD550          550w   金牌     直出            329+150=479   3年    10w      550w以上是全模组\n海韵     S12III         650w   铜牌     直出            479+150=629   5年    1w       大牌子就是贵\n航嘉     WD600k         600w   金牌     直出            359+150=509         50w      \n安钛克    NE650          650w   金牌     全模组    ✅      469+150=619   7年    20w      风扇智能启停\n鑫谷     gn 650         650w   金牌     直出            379+150=529   5年    20w      \n航嘉     Mvp k650白色     650w   金牌     全模            579           5年    2k       750w 699元\n安钛克    NE750纯白        750w   金牌     全模     ✅      649           7年    20w      风扇智能启停\n先马     2400k          750w   金牌     全模            409+150=559   3年    10w      \n鑫谷     gm750冰山        750w   金牌     全模            569           5年    10w      \n酷冷     gx750白色        750w   金牌     全模     ✅      599           5年    5w       650w的499元\n威刚     XPG-魔核 白色      750w   金牌     全模     ✅      629           5年    44       好评返现50\n九州风神   DQ750M-V3L白色   750w   金牌     全模     ✅      575           7年    5000     智能启停,线材最好\n航嘉     GX800          800w   金牌     全模            659           3年    5        新品\n先马     xf750          750w   金牌     全模     ✅      659           10年   2000     智能启停，日系主电容\n\n# 分析\n\n * 首先得了解自己的功耗，比如13700k+4080双烤功率500多w加风扇水冷等其他供电插线板功耗达到606w，可以参考网上的烤机\n * 再就是要知道电源都有转化率，电源在低负载、中负载、满负载的转化率不同，不同级别的电源转化率也不同，700w的转化率按金牌级别算最低600w出头。\n * 功耗最好不要跑满电源标注最大功率，60%左右即可。\n * 看下最新产品标准机协议变化，比如ATX3.0 pice5.0类型的供电变化，买新电源可以考虑下上一个新点的，别过了几年升级pcie5.0显卡还得重新买电源，当然如果新产品不成熟也可以直接买个老的，到时候换。\n * 全模组就是模块化的，可以把不用的线拔下来，比如我现在没用到显卡，就不需要那根线。直出是固定的，不管你用不用。\n * 定级牌子有海韵 振华，平民一点的有长城\n\n# 结论\n\n九州风神dq750m-v3l，750w这个价位算是最便宜的，7年售后也有保障。\n\n参考\n\n * [1] 电源品牌全览\n * [2] 九州风神产品介绍\n * [3] 常见cpu显卡功耗\n * [4] 白色电源推荐\n\n\n# 冷排\n\n如果玩内存超频一定要注重cpu散热，内存超频会导致cpu IMC 温度升高，散热不好影响内存超频稳定。\n\n品牌                  尺寸    价格    售后\n雅浚                  240   299   漏夜包赔3年质保\n雅浚                  360   399   漏夜包赔3年质保\n利民 冰封幻境WHITE ARGB   360   425   漏夜包赔3年质保\n先马MW360DW           360   309   漏夜包赔3年质保\n利民冰封棱镜              360   460   漏液包赔5年质保\n利民冰封环境-EX           360   519   漏液包赔5年质保\n利民冰封魔镜              360   479   漏液包赔5年质保\n瓦尔基里c360w-rgb       360   539   漏液包赔5年质保\n\n# 分析\n\n * 先马性价比最高，性能尚可，价格便宜，噪音高，销量最差。\n * 雅浚性能很强，冷夜冰点低不适合寒冷地区，噪音相对大。\n * 利民静音，性能和雅俊差不多，价格贵，唯一有京东自营店，\n\n# 结论\n\n瓦尔基里c360w,普通价位网红产品，好看散热能力也可以\n\n# 渠道\n\n考虑水冷漏液包赔，京东售后合适。\n\n# 参考\n\n[1] 2022旗舰360水冷横评(下半场)\n\n[2] 亲民价水冷横屏\n\n# 结论\n\n利民\n\n\n# 风扇\n\n * 棱镜 argb\n\n# 分析\n\n * 支持argb 神光同步\n * 区分正反，这样颜色都漂亮，不区分的下部金风就看不到灯效\n * 风道设计\n   * 正压：进风风扇多出风风扇少\n     * 优点：进风风扇位置确定，上防尘网机箱内部干净\n     * 缺点：进风多，出风少，属于往外推，热量会弥漫机箱，理论上散热不如负压\n   * 负压：进风风扇少出风风扇多\n     * 优点：散热效果理论上会好\n     * 缺点：因为进风少，会从机箱缝隙吸风，无法对每个位置防尘\n\n\n# 显示器\n\n需求：27寸,2k分辨率,fastIPS屏，最好带支持升降旋转，否则就得买个支架悬臂\n\n品牌    型号              接口                      刷新率(HZ)   色深      亮度    价格     备注\nHKC   VG245                                   165                     699    \n优派    vx2758-2k-PRO   HDMI2.0*2 DP1.4         170       10bit   300   979    送10元ek\n科睿    27E1QS          HDMI1.4 HDMI2.0 DP1.2   155       10bit   300   999    送20元e卡\nKTC   H27T22          HDMI2.0*2 DP1.4*2       170       10bit   300   1199   升降旋转\n微星    MD272QP         HDMI1.4 DP1.2           75        8bit    300   1199   升降旋转，65w反向充电，内置扬声器\n飞利浦   27M1N3500L      HDMI2.0*2 DP1.4         165               250   1449   升降旋转\n\n# 分析\n\n * 选择合适的分辨率还是合适的尺寸，比如想要27寸显示器，分辨率最高选2k。选择4k分辨率，屏幕尺寸就不要低于34寸。\n * 屏幕缩放，对应上一条原则的原因，比如27寸显示器选择了4k分辨率，那势必要配置屏幕缩放到150%，不缩放字体太小看不清，缩放了就失去了4k的优势。现在的联想笔记本13寸屏2.5k分辨率屏幕缩放200%，既发挥不出2.5k屏的效果又卡顿，不外接显示器很难受。\n * 显示器分辨率、刷新率要和显卡对应，一味追求高刷显卡跟不上节奏也是浪费，比如4070定位是2k100hz，4070TI定位是2k120hz。\n\n# 结论\n\n优派vx2758-2k-PRO\n\n\n# 支架悬臂\n\n如果显示器支架不可升降旋转货对调节角度范围不满意可以考虑入手一个便宜点的支架悬臂。\n\n品牌型号            类型    特点                                     价格         京东销量\n北狐e350          机械式   17-32寸 2-9kg 上下升降133mm-428mm 银色 颜值尚可   116        20w\n松能T6-1W         机械式   17-32寸 2-9kg 上下升降110-410mm 白色          116        2w\n松能T6JD1B        气弹式   17-32寸 上下升降160-410mm 2-9kg 黑色 颜值尚可     129        5w\n北狐LDT13(e310)   气弹式   17-32寸 2-9kg 360度旋转 上下升降160-410mm 黑色   129        5w\nNB F100A        气弹式   22-35寸 2-12kg 3.0USB 纯铝合金 360度旋转 黑色    京东第三方139   20w\n\n销量非单品，京东不显示单品。\n\n# 分析\n\n * 需要了解显示器的孔位是不是采用国际标准VESA孔位尺寸（7575或者100100）\n * 需要了解支架能够承受的重量以及显示器的重量\n * 需要了解自己桌面的厚度，支架是否支持\n * 需要了解支架可调节角度，比如你想竖屏，显示器的大小和支架的调节角度是否契合\n * 机械式寿命更久精度更高，气弹式更丝滑旋转更灵活。\n\n# 结论\n\n机械式北狐e350(销冠)，气弹式NBF100A京东第三方139，比NBF80要强不少。\n\n# 参考\n\n * [1] 2023年显示器支架臂推荐-2月\n * [2] 2023年显示器支架\n\n\n# 显卡\n\n不玩游戏，工作也用不到显卡，所以加不加都行，就看了看近期价格\n\n品牌    型号          价格     备注\n撼讯    RX6500XT    1099   比1650强20%\n讯景    RX6600      1799   比RTX3050强20%\n撼讯    RX6650XT    2449   比6600强18%，比3060-12g强\n七彩虹   RTX3060TI   3399   D6X非矿卡\n撼讯    RX6750XT    3299   比3060Ti强10%\n七彩虹   RTX3070TI   4599   比3070强6%，涨价不建议。D6X非矿卡\n\n# 参考\n\n * [1] 船长\n\n\n# 耳机\n\n品牌             价格    类型           备注\n漫步者g2          169                \n漫步者g4s雷霆版      299   无线           续航20h\n漫步者w820NB双金标   389   蓝牙+有线        40mm镀钛复合振膜续航50h，80ms延迟\n雷蛇梭鱼X 2021     399   有线+2.4g      支持虚拟7.1，只有粉色，40mm，续航20h，拼多多官翻299\n雷蛇梭鱼X 2022     449   有线+蓝牙+2.4g   拼多多官翻，40mm，虚拟7.1，续航50h\n极度未知-阿尔法             有线           拼多多429\n极度未知-飓风2       359   有线           支持虚拟7.1，外置声卡不支持mac\n                                  ",normalizedContent:"# 完整配置\n\n硬件    型号                 最终价格   备注\ncpu   13700k             2580   散片\n主板    华硕b760-g小吹雪 ddr5   1399   反50e卡+50 plus券\n内存    金百达 刃 6400         799    灯条\n硬盘    宏基掠夺者7000          469    \n机箱    航嘉s980龙卷风          300    \n电源    九州风神dq750m-v3l     519    50 plus券\n冷排    瓦尔基里c360w-rgb      539    \n风扇    棱镜argb*7           115    \n显示器   优派vx2758-2k-pro    939    40 plus券+充值赠10元+反10元e卡\n\n纯主机6720+显示器949\n\n\n# cpu\n\n# 价格\n\n型号       价格     渠道      备注\n13600k   2599   京东      \n13700    2999   天猫      \n13700    3199   京东      京东很迷惑和带k一个价\n13700    2420   淘宝散片    \n13700k   3199   京东，天猫   \n13700k   2599   淘宝散片    \n13900k   4899   京东      \n\n# 分析\n\n * 性能过剩的时代，要么买个便宜低端u超频到5ghz以上，图稳定就买个差不多的不折腾。\n * 13600k已经超越12700，但13700 大小核对等，大核多些总是更靠谱。\n * 13700性能比12900要强已经足够了，没必要上13900这种富人u，散热解决不了再高主频也上不去。能把解锁功耗墙把默频拉满就挺好。\n * 要不要13700k？带k除了可以超频，默频也更高，并且京东售价很奇葩，13700和13700k一个价或者差不了多少。带k的cpu不锁sa电压方便超频，带k能支持的功能不带k的不一定都能支持，所以上ddr5内存一定会超频也最好搭配带k的cpu。当然带k也不一定要cpu超频，超频要换好点的主板、散热、电源，整体的价钱都够上13900k了，没必要。\n * 不带k的cpu 尽量不要内存超频或超太多，有蓝屏风险，比如ddr4尽量3200频率。如果想上ddr5内存超频，必选13代，13代支持的频率更高，不要选12代，imc不耐高温影响稳定性。\n * amd暂不考虑，有过两台amd电脑，19年买的联想小新pro13 锐龙3560h跑分和14年的3代i7差一丢丢，实际体验比三代i7差了很多，小新其他硬件都是碾压所以只能是amd确实比不了英特尔。跑分也不是那么公正的。\n\n# 结论\n\n13700k\n\n不为超频，但基频更高，价格差不多。\n\n# 渠道\n\n * 京东 3149 还送50e卡\n * 拼多多英特尔旗舰店 3179\n * 天猫英特尔旗舰店3199\n * 本来不考虑散片，京东下单第二天就降价200，客服不给价保，那就散片吧\n\n\n# 主板\n\n# 主板尺寸\n\n主板分大板(atx)和小板(m-atx)，区别如下：\n\n * 标准的atx主板长为三百零五毫米，宽为二百四十四毫米。\n\n * 标准的m-atx主板长为二百四十四毫米，宽为二百四十四毫米，长和宽相等。\n\n# 价格\n\n品牌   型号                价格     内存最高频率\n华硕   b660m重炮手d5        1199   6000\n华硕   b760m 重炮手 d5      1449   7200\n华硕   b760-g 小吹雪d5      1499   7800\n华硕   b760-i d5         1799   7600\n华硕   b760 -f d5        1999   6400\n华硕   z690a 吹雪d5        2599   6400\n华硕   z790a 吹雪 d5       2899   7800\n微星   b760m max 迫击炮d5   1499   7000\n微星   b760m 迫击炮d5       1399   7000\n技嘉   b760 小雕 d5        1249   7600\n\n# 分析\n\n * 优选d5，d5是未来，对生产力来说提升是很大，但d4 d5主板的内存插槽不通用，所以从内存的角度来说主板应该选d5，d5也比d4没贵多少，甚至一些终端卡d5有时比d4便宜，最近d5内存价格下降才涨上来。16g内存优先选d5，以下优先d4。\n\n * 优选b760,总是有人说b760对比660没多少提升，其实最重要的一点是d5内存频率上来了，660比较低，对游戏玩家来说，d5的致命问题是延迟高，导致游戏体验略有轻微下降，760对内存频率支持不断增高到接近8000,问题迎刃而解，以前d5内存之前的价格是d4的很多倍，如今d5内存下降，并且主板价格没贵多少，值得入手。\n\n * b还是z，有cpu超频需求选z系列，无需求选b系列性价比更高，当然cpu需要带k。不过总有例外，微信迫击炮max外置时钟发生器，可超12代不带k cpu外频，13代英特尔限制不能超\n\n * 品牌，从品控来说华硕>技嘉>微星(引用业内人员的经验)，从主板技术、调教来说华硕最强，如同合资车的发动机变速箱地盘技术碾压一样。从用料来说微星最强，但价格也最贵，从评测看主板散热装甲、供电，但内存优化一般，才支持到7000频率，技嘉性价比最高，价格最便宜，内存频率到7600也高，还有内存低延时高带宽，就是没有pice5.0接口(华硕微星都支持)，用料稍微差一丢丢。\n\n * b站很多博主说660m带13代u 功耗高 温度高，所以新装机直接760\n   \n   # 结论\n   \n   首选华硕 b760小吹雪d5\n   \n   其次技嘉，最后微星。实际不关注pcie5的支持技嘉性价比高，微星用料好不过价格没优势料好也是花钱多的原因，技术上华硕最强，返修率也低。华硕内部吹雪定位比重炮手高一档次才贵50，内存频率支持更高还有ape3.0，加上吹雪加持所以重炮手的定价不太合理。不过小吹雪作为高端760已经和低端品牌的z690一个价了，谁让我不超频呢。\n   \n   # 渠道\n   \n   * 京东 1499 只有京东有\n   \n   # 参考\n   \n   * [1] 华硕主板产品划分\n\n\n# 内存\n\n# 内存品牌\n\n * 原厂品牌：指的是生产内存颗粒的厂商，如三星、海力士、镁光，这类厂商掌握着技术，天然有这优先选择权，质量没的说，但一般面向oem，如给联想、戴尔等pc制造商大批量供货，消费级市场比较少，价格也会更贵，但质量一般不会有问题。\n   * 原厂品牌的子公司如科赋是海力士的子公司，英睿达是镁光的子品牌，这类也是质量靠得住。\n * 贴牌：从原厂品牌采购颗粒，自己组装，颗粒好不好，就看品牌商采购价了。\n   * 一线贴牌：芝奇、金士顿、宏基、威刚、海盗船；\n     * 金士顿、威刚、海盗船一般面向渠道如电脑城，一线的原因是出货量大，兼容性好，毕竟电脑城老板最头疼的就是选品质量不行一直应对售后问题。\n     * 芝奇和宏基面向diy玩家出了很多高端条，超频玩家的最爱。一线的原因是超频潜力强，这种一般都是特挑，也需要调校。\n   * 二线贴牌：金百达(威刚的代工厂)、光威和阿斯加特是一家公司，光威主打中低端，阿斯加特主打中高端，diy人士的首选。二线一般是国产厂商，颗粒都是普通颗粒，超频潜力中规中矩，厂商的调校也没那么好，比如金百达对英特尔平台支持的比较好，amd可能就会不兼容。优点是便宜。\n   * 三线贴牌：除以上以外的牌子，颗粒可能等于或低于普通水准，兼容性也一般，质量也一般，无明显优点。便宜不了多少。\n * 如何选？\n   * 不差钱直接一线品牌，原厂颗粒不会把次品用到自己家牌子上，再者兼容性比较好，毕竟面向pc商供货。其实英睿达也不贵就是性价比没那么高\n   * 一线贴牌里芝奇主打高端，超频能力强，宏基在ddr5也主打超频。海盗船、金士顿纯出货量大名气大，假货也多，当然兼容性也不错。\n   * 二线里兼容性就不如一线贴牌 ，超频潜力也是不如的，当然d5超频主要看颗粒，如海力士a-die，需要问客服是那种颗粒，比如金百达刃用a-die并且灯条价格是真的香，如果是英特尔系列加御三家主板可以无脑入，其他主板需要看看网上评价，不一定都会不兼容，但有概率。不过内存拆封京东也可退。\n   * 内存和cpu一样，只要能点亮就能用到淘汰，所以即使二线贴牌也是可以买的，只要认准颗粒和兼容的平台。\n\n品牌               频率     颗粒                 价格     rgb   备注\n英睿达ddr5          4800                      769          \n英睿达ddr5          5600                      899          \n美商海盗船            6000                      849          \n金百达-刃            6400   海力士第二代a-die颗粒      869    ✅     \n宏基pallas ii 凌霜   6000   海力士a-die m-die随机   700多         \n阿斯加特女武神·瓦尔基里     6400   海力士a-die颗粒         859    ✅     支持expo\n光威天策             6400   海力士第二代a-die颗粒      799          \n\n# 分析\n\n * 超频要么选大品牌要么选好的颗粒比如海力士a-die，大品牌也得是贵的，低端的一样不行，先看容量再看频率，最后看时序。\n * 超频到多少除了上一条再就看主板和cpu的支持了，华硕主板的技术一流，小吹雪属于猛禽系列已经是中高端又是760，加上13700k的支持，只要你敢花钱，频率就敢往上窜。\n * 金百达、阿斯加特、光威都是国产性价比高的，当然也得满足第一条要求\n * amd平台尽量买支持expo，一般对英特尔的xmp都是适配的，amd总是受到歧视\n * 目前内存大降价，2023-03国产内存条一个月降价三回，不适合买太高端的买完可能就降价了，满足第一条的情况下选一个相对价格不是那么贵的的先用着后面再说。国外品牌就算了价格贵后期降价割的更狠。我看的价位就在700左右，国产一般买到海力士a-die颗粒主频在6400，再高就在千元左右了，国外一般800能买到6000频率，得益于主板选的规格够高支持到7800频率，后面降价了再换7800的。\n\n# 结论\n\n * 灯条：金百达刃6400、阿斯加特女武神瓦尔基里\n * 马甲条：光威天策6400(6800)、金百达银爵6400\n * 以上哪个便宜买哪个\n\n# 渠道\n\n * 京东18号最低769\n * 天猫无官方店\n * 拼多多 最低769没有百亿补贴\n\n参考\n\n * [1] 内存对比\n * [2] 主要看品牌性和产品序列\n\n\n# 硬盘\n\n# 固态硬盘品牌\n\n * 原厂品牌：硬盘分为颗粒和主控，原厂指的是生产内存颗粒的厂家。颗粒分原厂颗粒、白片、黑片。原厂品牌有三星、海力士、镁光、西数、铠侠(原东芝)、长江存储，这类厂家能够自己生产颗粒，自己的产品一般都会用原厂颗粒，当然价格也贵，但质量差不了。\n   * 长江存储是国产厂商，将固态价格打下来了，自己的品牌是致态\n   * 闪迪被西数收购\n   * 镁光的品牌是英睿达\n * 一线贴牌：金士顿 、宏基\n * 国产贴牌：不推荐金士顿以外的金字辈硬盘，其他牌子需要擦亮眼睛看使用的颗粒和主控，但不保证标的和实际的一致，最好先看看网上的评测及口碑。\n * 如何选？\n   * 固态不同于内存，内存颗粒一般影响超频但不影响日常使用，固态颗粒影响读写速度、系统稳定性；内存能开机就没事一般用不坏，固态有寿命。所以要看 颗粒 还得看读写速度测评，另外还有代表寿命的数据写入量\n   * 目前颗粒一般都是 tlc\n   * 有外置缓存不容易掉速\n   * 不差钱直接三星、海力士，西数测评看已经 跌出第一梯队，便宜的就国产当然致态不一定都比其他品牌便宜，折中就一线贴牌，这类贴牌颗粒还是靠得住的，不会用白片，但金士顿假货多，需警惕。\n\n# 价格\n\n品牌             容量     独立缓存   京东价格   顺序读写           随机4k iops\n铠侠se10         1t     ✅      599    写6400 读7300    读80w写110w\n宏基掠夺者gm7000    1t     ✅      499    写6400 读7300    读写100w\n致态tiplus7100   1t            574    写6000 读7000    \n海力士p44 pro     1t            694    写6500 读 7000   \n西数sn 850x      1t            689    写6300 读7300    \n三星980pro       500g   ✅      549    写5100 读7000    \n西数 sn770       500g          329    写4000 读5000    \n\n# 分析\n\n * 硬盘4k读写要比顺序有用的多；装黑苹果需要注意避坑有些盘容易出现问题。\n\n * pcie3 做系统盘就不考虑了，不过用来当数据盘价格确实不贵，不过致态tiplus5000读写速度在同价位是最顶尖的\n\n * 三星0e门事件，暂时不选\n\n * 西数，海力士，性价比不高，图一个稳定\n\n * 致态是国产品牌，性价比高，速度比西数海力士略微弱一点，4k读写不太高毕竟便宜。有的版本固件会掉盘。\n\n * 铠侠性价比也很高，有独立缓存，寿命比其他官宣的短，实际测评数据最高\n\n * 宏基掠夺者gm7000参数上无敌了，但实测比不上铠侠，主要还是最便宜的，性价比高，参数再高不一定用得上。\n   \n   > tips:\n   > \n   > 如果笔记本平台需要注意散热，有的硬盘发热量大不适合笔记本，还有双面颗粒对笔记本散热不好\n\n参考\n\n * [1] 2023-3硬盘价格\n * [2] 黑苹果硬盘避坑\n\n# 结论\n\n首选宏基掠夺者gm7000，次选铠侠，最后致钛7100\n\n# 渠道\n\n * 京东 524\n\n * 天猫无旗舰店\n\n * 拼多多无百亿补贴\n\n\n# 机箱\n\n# 价格\n\n品牌                主板支持             风扇位   水冷大小   电源位置   京东价格\n航嘉s960暴风雪x        m-atx、itx        9     360    左右分仓   249\n航嘉s980            atx 、m-atx、itx   10    360    左右分仓   349\n玩嘉罗宾3             atx 、m-atx、itx   10    360    左右分仓   339\n先马颜值神mini air雪装   m-atx、itx        6     360    前置     204\n\n# 分析\n\n * 确定自己主板是什么类型，atx 、m-atx、itx\n * 确认用多大的水冷，机箱放不放得下\n * 确认显卡放不放得下\n * 海景房机箱，确认电源位置，有的放到里面不好看，比如先马系列的\n * 还有不是双面玻璃，或是亚克力\n * 接口，type-c接口的一般贵，不过主板都有了，前面有的话会方便，没有也无所谓\n\n# 结论\n\n选最便宜的航嘉s980\n\n# 渠道\n\n * pdd 300\n\n\n# 电源\n\n我的div风格是白色，但白色的电源很少都在750w以上，并且基本都是要比黑色更贵，要么买全白色，要么买黑色搭白色延长线(京东150)，\n\n品牌     系列             功率     转换效率   接线类型   日系电容   价格            保修    京东页面评价   备注\n振华     leadex g       550w   金牌     全模     ✅      599+150=749   10年   10w      竟然白色电源黑色线\n先马     gd550          550w   金牌     直出            329+150=479   3年    10w      550w以上是全模组\n海韵     s12iii         650w   铜牌     直出            479+150=629   5年    1w       大牌子就是贵\n航嘉     wd600k         600w   金牌     直出            359+150=509         50w      \n安钛克    ne650          650w   金牌     全模组    ✅      469+150=619   7年    20w      风扇智能启停\n鑫谷     gn 650         650w   金牌     直出            379+150=529   5年    20w      \n航嘉     mvp k650白色     650w   金牌     全模            579           5年    2k       750w 699元\n安钛克    ne750纯白        750w   金牌     全模     ✅      649           7年    20w      风扇智能启停\n先马     2400k          750w   金牌     全模            409+150=559   3年    10w      \n鑫谷     gm750冰山        750w   金牌     全模            569           5年    10w      \n酷冷     gx750白色        750w   金牌     全模     ✅      599           5年    5w       650w的499元\n威刚     xpg-魔核 白色      750w   金牌     全模     ✅      629           5年    44       好评返现50\n九州风神   dq750m-v3l白色   750w   金牌     全模     ✅      575           7年    5000     智能启停,线材最好\n航嘉     gx800          800w   金牌     全模            659           3年    5        新品\n先马     xf750          750w   金牌     全模     ✅      659           10年   2000     智能启停，日系主电容\n\n# 分析\n\n * 首先得了解自己的功耗，比如13700k+4080双烤功率500多w加风扇水冷等其他供电插线板功耗达到606w，可以参考网上的烤机\n * 再就是要知道电源都有转化率，电源在低负载、中负载、满负载的转化率不同，不同级别的电源转化率也不同，700w的转化率按金牌级别算最低600w出头。\n * 功耗最好不要跑满电源标注最大功率，60%左右即可。\n * 看下最新产品标准机协议变化，比如atx3.0 pice5.0类型的供电变化，买新电源可以考虑下上一个新点的，别过了几年升级pcie5.0显卡还得重新买电源，当然如果新产品不成熟也可以直接买个老的，到时候换。\n * 全模组就是模块化的，可以把不用的线拔下来，比如我现在没用到显卡，就不需要那根线。直出是固定的，不管你用不用。\n * 定级牌子有海韵 振华，平民一点的有长城\n\n# 结论\n\n九州风神dq750m-v3l，750w这个价位算是最便宜的，7年售后也有保障。\n\n参考\n\n * [1] 电源品牌全览\n * [2] 九州风神产品介绍\n * [3] 常见cpu显卡功耗\n * [4] 白色电源推荐\n\n\n# 冷排\n\n如果玩内存超频一定要注重cpu散热，内存超频会导致cpu imc 温度升高，散热不好影响内存超频稳定。\n\n品牌                  尺寸    价格    售后\n雅浚                  240   299   漏夜包赔3年质保\n雅浚                  360   399   漏夜包赔3年质保\n利民 冰封幻境white argb   360   425   漏夜包赔3年质保\n先马mw360dw           360   309   漏夜包赔3年质保\n利民冰封棱镜              360   460   漏液包赔5年质保\n利民冰封环境-ex           360   519   漏液包赔5年质保\n利民冰封魔镜              360   479   漏液包赔5年质保\n瓦尔基里c360w-rgb       360   539   漏液包赔5年质保\n\n# 分析\n\n * 先马性价比最高，性能尚可，价格便宜，噪音高，销量最差。\n * 雅浚性能很强，冷夜冰点低不适合寒冷地区，噪音相对大。\n * 利民静音，性能和雅俊差不多，价格贵，唯一有京东自营店，\n\n# 结论\n\n瓦尔基里c360w,普通价位网红产品，好看散热能力也可以\n\n# 渠道\n\n考虑水冷漏液包赔，京东售后合适。\n\n# 参考\n\n[1] 2022旗舰360水冷横评(下半场)\n\n[2] 亲民价水冷横屏\n\n# 结论\n\n利民\n\n\n# 风扇\n\n * 棱镜 argb\n\n# 分析\n\n * 支持argb 神光同步\n * 区分正反，这样颜色都漂亮，不区分的下部金风就看不到灯效\n * 风道设计\n   * 正压：进风风扇多出风风扇少\n     * 优点：进风风扇位置确定，上防尘网机箱内部干净\n     * 缺点：进风多，出风少，属于往外推，热量会弥漫机箱，理论上散热不如负压\n   * 负压：进风风扇少出风风扇多\n     * 优点：散热效果理论上会好\n     * 缺点：因为进风少，会从机箱缝隙吸风，无法对每个位置防尘\n\n\n# 显示器\n\n需求：27寸,2k分辨率,fastips屏，最好带支持升降旋转，否则就得买个支架悬臂\n\n品牌    型号              接口                      刷新率(hz)   色深      亮度    价格     备注\nhkc   vg245                                   165                     699    \n优派    vx2758-2k-pro   hdmi2.0*2 dp1.4         170       10bit   300   979    送10元ek\n科睿    27e1qs          hdmi1.4 hdmi2.0 dp1.2   155       10bit   300   999    送20元e卡\nktc   h27t22          hdmi2.0*2 dp1.4*2       170       10bit   300   1199   升降旋转\n微星    md272qp         hdmi1.4 dp1.2           75        8bit    300   1199   升降旋转，65w反向充电，内置扬声器\n飞利浦   27m1n3500l      hdmi2.0*2 dp1.4         165               250   1449   升降旋转\n\n# 分析\n\n * 选择合适的分辨率还是合适的尺寸，比如想要27寸显示器，分辨率最高选2k。选择4k分辨率，屏幕尺寸就不要低于34寸。\n * 屏幕缩放，对应上一条原则的原因，比如27寸显示器选择了4k分辨率，那势必要配置屏幕缩放到150%，不缩放字体太小看不清，缩放了就失去了4k的优势。现在的联想笔记本13寸屏2.5k分辨率屏幕缩放200%，既发挥不出2.5k屏的效果又卡顿，不外接显示器很难受。\n * 显示器分辨率、刷新率要和显卡对应，一味追求高刷显卡跟不上节奏也是浪费，比如4070定位是2k100hz，4070ti定位是2k120hz。\n\n# 结论\n\n优派vx2758-2k-pro\n\n\n# 支架悬臂\n\n如果显示器支架不可升降旋转货对调节角度范围不满意可以考虑入手一个便宜点的支架悬臂。\n\n品牌型号            类型    特点                                     价格         京东销量\n北狐e350          机械式   17-32寸 2-9kg 上下升降133mm-428mm 银色 颜值尚可   116        20w\n松能t6-1w         机械式   17-32寸 2-9kg 上下升降110-410mm 白色          116        2w\n松能t6jd1b        气弹式   17-32寸 上下升降160-410mm 2-9kg 黑色 颜值尚可     129        5w\n北狐ldt13(e310)   气弹式   17-32寸 2-9kg 360度旋转 上下升降160-410mm 黑色   129        5w\nnb f100a        气弹式   22-35寸 2-12kg 3.0usb 纯铝合金 360度旋转 黑色    京东第三方139   20w\n\n销量非单品，京东不显示单品。\n\n# 分析\n\n * 需要了解显示器的孔位是不是采用国际标准vesa孔位尺寸（7575或者100100）\n * 需要了解支架能够承受的重量以及显示器的重量\n * 需要了解自己桌面的厚度，支架是否支持\n * 需要了解支架可调节角度，比如你想竖屏，显示器的大小和支架的调节角度是否契合\n * 机械式寿命更久精度更高，气弹式更丝滑旋转更灵活。\n\n# 结论\n\n机械式北狐e350(销冠)，气弹式nbf100a京东第三方139，比nbf80要强不少。\n\n# 参考\n\n * [1] 2023年显示器支架臂推荐-2月\n * [2] 2023年显示器支架\n\n\n# 显卡\n\n不玩游戏，工作也用不到显卡，所以加不加都行，就看了看近期价格\n\n品牌    型号          价格     备注\n撼讯    rx6500xt    1099   比1650强20%\n讯景    rx6600      1799   比rtx3050强20%\n撼讯    rx6650xt    2449   比6600强18%，比3060-12g强\n七彩虹   rtx3060ti   3399   d6x非矿卡\n撼讯    rx6750xt    3299   比3060ti强10%\n七彩虹   rtx3070ti   4599   比3070强6%，涨价不建议。d6x非矿卡\n\n# 参考\n\n * [1] 船长\n\n\n# 耳机\n\n品牌             价格    类型           备注\n漫步者g2          169                \n漫步者g4s雷霆版      299   无线           续航20h\n漫步者w820nb双金标   389   蓝牙+有线        40mm镀钛复合振膜续航50h，80ms延迟\n雷蛇梭鱼x 2021     399   有线+2.4g      支持虚拟7.1，只有粉色，40mm，续航20h，拼多多官翻299\n雷蛇梭鱼x 2022     449   有线+蓝牙+2.4g   拼多多官翻，40mm，虚拟7.1，续航50h\n极度未知-阿尔法             有线           拼多多429\n极度未知-飓风2       359   有线           支持虚拟7.1，外置声卡不支持mac\n                                  ",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"Go Study Day05 - 接口和反射",frontmatter:{title:"Go Study Day05 - 接口和反射",date:"2019-7-27",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第5天 接口、反射的使用"},{name:"keywords",content:"自学 go interface 反射 reflect TypeOf ValueOf"},{name:"image",content:"https://www.yangxiaokang.com/day05-接口.assets/1564211890251.png"},{name:"twitter:title",content:"Go Study Day05 - 接口和反射"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day05-接口.assets/1564211890251.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day05-%E6%8E%A5%E5%8F%A3.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day05 - 接口和反射"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/day05-接口.assets/1564211890251.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day05-%E6%8E%A5%E5%8F%A3.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-7-27"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day05 - 接口和反射"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/day05-接口.assets/1564211890251.png"}],feed:{enable:!0},permalink:"/article/gostudy/studygoday5.html",summary:"不断学习，不断提升，日拱一卒，学习go第5天！",description:""},regularPath:"/article/gostudy/day05-%E6%8E%A5%E5%8F%A3.html",relativePath:"article/gostudy/day05-接口.md",key:"v-3be0ab5a",path:"/article/gostudy/studygoday5.html",headers:[{level:2,title:"接口(interface)",slug:"接口-interface",normalizedTitle:"接口(interface)",charIndex:2},{level:3,title:"接口的实现",slug:"接口的实现",normalizedTitle:"接口的实现",charIndex:407},{level:3,title:"值接收者与指针接收者",slug:"值接收者与指针接收者",normalizedTitle:"值接收者与指针接收者",charIndex:1305},{level:3,title:"接口和类型的关系",slug:"接口和类型的关系",normalizedTitle:"接口和类型的关系",charIndex:1378},{level:3,title:"接口组合",slug:"接口组合",normalizedTitle:"接口组合",charIndex:1961},{level:3,title:"空接口",slug:"空接口",normalizedTitle:"空接口",charIndex:2351},{level:2,title:"类型断言",slug:"类型断言",normalizedTitle:"类型断言",charIndex:2440},{level:2,title:"反射",slug:"反射",normalizedTitle:"反射",charIndex:3074},{level:3,title:"TypeOf",slug:"typeof",normalizedTitle:"typeof",charIndex:3405},{level:3,title:"ValueOf",slug:"valueof",normalizedTitle:"valueof",charIndex:3436},{level:3,title:"结构体反射",slug:"结构体反射",normalizedTitle:"结构体反射",charIndex:5499}],headersStr:"接口(interface) 接口的实现 值接收者与指针接收者 接口和类型的关系 接口组合 空接口 类型断言 反射 TypeOf ValueOf 结构体反射",content:'# 接口(interface)\n\n接口是一种类型,是一种特殊的类型,它规定了变量有哪些方法.\n\n在编程中会遇到以下场景:\n\n我不关心一个变量是什么类型,我只关心能调用它的什么方法.\n\n接口的定义\n\ntype 接口名 interface {\n    方法名1(参数1,参数2...)(返回值1, 返回值2...)\n    方法名2(参数1,参数2...)(返回值1, 返回值2...)\n    ...\n}\n\n\n1\n2\n3\n4\n5\n\n * 接口类型名：Go语言的接口在命名时，一般会在单词后面添加er，如有写操作的接口叫Writer，有关闭操作的接口叫closer等。接口名最好要能突出该接口的类型含义。\n * 方法名：当方法名首字母是大写且这个接口类型名首字母也是大写时，这个方法可以被接口所在的包（package）之外的代码访问。\n * 参数列表、返回值列表：参数列表和返回值列表中的参数变量名可以省略。\n\n\n# 接口的实现\n\n一个变量如果实现了接口中规定的所有的方法,那么这个变量就实现了这个接口,可以称为这个接口类型的变量.\n\n举个例子：\n\n我们定义的Singer接口类型，它包含一个Sing方法。\n\n// Singer 接口\ntype Singer interface {\n\tSing()\n}\n\n\n1\n2\n3\n4\n\n\n我们有一个Bird结构体类型如下。\n\ntype Bird struct {}\n\n\n1\n\n\n因为Singer接口只包含一个Sing方法，所以只需要给Bird结构体添加一个Sing方法就可以满足Singer接口的要求。\n\n// Sing Bird类型的Sing方法\nfunc (b Bird) Sing() {\n\tfmt.Println("汪汪汪")\n}\n\n\n1\n2\n3\n4\n\n\nBird结构体实现了Singer接口，因为它具备Sing方法。\n\n在看一个反面教材：\n\nanimal接口要求有eat(string)方法，而cat的eat方法并没有定义要传参，所以不满足。\n\ntype animal interface {\n\tmove()\n\teat(string)\n}\ntype cat struct\n\tname\n\tstring\n\tfeet int8\n}\n\nfunc (c cat) move(){\n\tfmt.Println("走猫步..")\n}\nfunc (c cat)eat()\n\tfmt.Println("猫吃鱼..")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n\n# 接口的意义\n\n在电商系统中我们允许用户使用多种支付方式（支付宝支付、微信支付、银联支付等），我们的交易流程中可能不太在乎用户究竟使用什么支付方式，只要它能提供一个实现支付功能的Pay方法让调用方调用就可以了。\n\n再比如我们需要在某个程序中添加一个将某些指标数据向外输出的功能，根据不同的需求可能要将数据输出到终端、写入到文件或者通过网络连接发送出去。在这个场景下我们可以不关注最终输出的目的地是什么，只需要它能提供一个Write方法让我们把内容写入就可以了。\n\n\n# 值接收者与指针接收者\n\n使用值接收者实现接口,结构体类型和结构体指针类型的变量都能存.\n\n指针接收者实现接口只能存结构体指针类型的变量.\n\n\n# 接口和类型的关系\n\n * 多个类型可以实现同一个接口.\n\n// 实现Mover接口\nfunc (d Dog) Move() {\n\tfmt.Printf("%s会动\\n", d.Name)\n}\n\n// Car 汽车结构体类型\ntype Car struct {\n\tBrand string\n}\n\n// Move Car类型实现Mover接口\nfunc (c Car) Move() {\n\tfmt.Printf("%s速度70迈\\n", c.Brand)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * 一个类型可以实现多个接口\n\ntype mover interface\n\tmove()\n}\ntype eater interface\n\teat(string)\n}\ntype cat struct\n\tname string\n\tfeet int8\n}\n//cat实现了mover:接口\nfunc (c *cat) move(){\n\tfmt.Println("走猫步..")\n}\n//cat实现了eater接口\nfunc (c *cat)eat(food string){\n\tfmt.Printf("猫吃%s..\\n",food)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 接口组合\n\n/同一个结构体可以实现多个接口\n//接口还可以嵌套\ntype animal interface\n\tmover\n\teater\n}\ntype mover interface\n\tmove()\n}\ntype eater interface\n\teat(string)\n}\ntype cat struct\n\tname string\n\tfeet int8\n}\n//cat实现了mover:接口\nfunc (c *cat) move(){\n\tfmt.Println("走猫步..")\n}\n//cat实现了eater接口\nfunc (c *cat)eat(food string){\n\tfmt.Printf("猫吃%s..\\n",food)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 空接口\n\n没有必要起名字,通常定义成下面的格式:\n\ninterface{} // 空接口\n\n\n1\n\n\n所有的类型都实现了空接口.也就是任意类型的变量都能保存到空接口中.\n\n\n# 类型断言\n\n接口值可能赋值为任意类型的值，那我们如何从接口值获取其存储的具体数据呢？\n\n我们可以借助标准库fmt包的格式化打印获取到接口值的动态类型。\n\n而想要从接口值中获取到对应的实际值需要使用类型断言，其语法格式如下。\n\nx.(T)\n\n其中：\n\n * x：表示接口类型的变量\n * T：表示断言x可能是的类型。\n\n/类型断言1\nfunc assign(a interface{}){\n\tfmt.Printf("%T\\n",a)\n  str,ok:= a.(string)\n\n  if !ok {\n\t\tfmt.Println("猜错了")\n\telse\n\t\tfmt.Println("传进来的是一个字符串："，str)\n\t}\n}\n/类型断言2\nfunc assign2(a interface{}){\n\tfmt.Printf("%T\\n",a)\n\tswitch t= a.(type){\n\tcase string:\n\t\tfmt.Println("是一个字符串："，t)\n\tcase int:\n\t\tfmt.Println("是-个int:",t)\n\tcase int64:\n\t\tfmt.Println("是-个int64:",t)\n\tcase bool:\n\t\tfmt.Println("是-个bool:",t)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 反射\n\n反射是指在程序运行期间对程序本身进行访问和修改的能力。程序在编译时，变量被转换为内存地址，变量名不会被编译器写入到可执行部分。在运行程序时，程序无法获取自身的信息。\n\n支持反射的语言可以在程序编译期间将变量的反射信息，如字段名称、类型信息、结构体信息等整合到可执行文件中，并给程序提供接口访问反射信息，这样就可以在程序运行期间获取类型的反射信息，并且有能力修改它们。\n\nGo程序在运行期间使用reflect包访问程序的反射信息。\n\njson反序列化就是反射的应用。\n\n{"name:"zhoulin", "age":9000}\n\ntype person struct {\n  Name string `json:name`\n}\n\n\n1\n2\n3\n\n\n\n# TypeOf\n\nreflect.TypeOf和reflect.ValueOf\n\n在反射中关于类型还划分为两种：类型（Type）和种类（Kind）。因为在Go语言中我们可以使用type关键字构造很多自定义类型，而种类（Kind）就是指底层的类型，但在反射中，当需要区分指针、结构体等大品种的类型时，就会用到种类（Kind）\n\nGo语言的反射中像数组、切片、Map、指针等类型的变量，它们的.Name()都是返回空。\n\npackage main\n\nimport (\n\t"fmt"\n\t"reflect"\n)\n\ntype myInt int64\n\nfunc reflectType(x interface{}) {\n\tt := reflect.TypeOf(x)\n\tfmt.Printf("type:%v kind:%v\\n", t.Name(), t.Kind())\n}\n\nfunc main() {\n\tvar a *float32 // 指针\n\tvar b myInt    // 自定义类型\n\tvar c rune     // 类型别名\n\treflectType(a) // type: kind:ptr\n\treflectType(b) // type:myInt kind:int64\n\treflectType(c) // type:int32 kind:int32\n  \n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# ValueOf\n\nreflect.ValueOf()返回的是reflect.Value类型，其中包含了原始值的值信息。reflect.Value与原始值之间可以互相转换。\n\n简单来说，如果我们定义空接口类型的变量，typeOf是查看这个变量的种类和类型，但仅限于自己程序通过type定义的类型，如果是一个json就做不到了。我们不知道他得值到底是什么类型，那就通过switch把所有的类型都写到判断分支里，挨个判断，valueOf的作用就是拿到原始值。\n\nfunc reflectValue(x interface{}) {\n\tv := reflect.ValueOf(x)\n\tk := v.Kind() // 值的类型种类\n\tswitch k {\n\tcase reflect.Int64:\n\t\t// v.Int()从反射中获取整型的原始值，然后通过int64()强制类型转换\n\t\tfmt.Printf("type is int64, value is %d\\n", int64(v.Int()))\n\tcase reflect.Float32:\n\t\t// v.Float()从反射中获取整型的原始值，然后通过float32()强制类型转换\n\t\tfmt.Printf("type is float32, value is %f\\n", float32(v.Float()))\n\tcase reflect.Float64:\n\t\t// v.Float()从反射中获取整型的原始值，然后通过float64()强制类型转换\n\t\tfmt.Printf("type is float64, value is %f\\n", float64(v.Float()))\n\t}\n}\n\n// 通过反射设置变量的值\nfunc reflectSetValue1(x interface{}) {\n\tv := reflect.ValueOf(x)\n\tif v.Kind() == reflect.Int64 {\n\t\tv.SetInt(200) //修改的是副本，reflect包会引发panic\n\t}\n}\n\nfunc reflectSetValue2(x interface{}) {\n\tv := reflect.ValueOf(x)\n\tif v.Elem().Kind() == reflect.Int64 {\n\t\tv.Elem().SetInt(200) //修改的是副本，reflect包会引发panic\n\t}\n}\n\nfunc main() {\n\tvar a float32 = 3.14\n\treflectType(a) // type:float32\n\tvar b int64 = 100\n\treflectType(b) // type:int64\n\tvar c = Cat{}\n\treflectType(c)\n\t// ValueOf\n\treflectValue(a)\n\t// 设置值\n\t// reflectSetValue1(&b)\n\treflectSetValue2(&b)\n\tfmt.Println(b)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# 结构体反射\n\npackage main\n\nimport (\n\t"fmt"\n\t"reflect"\n)\n\ntype student struct {\n\tName  string `json:"name" zhoulin:"嘿嘿嘿"`\n\tScore int    `json:"score" zhoulin:"哈哈哈"`\n}\n\nfunc main() {\n\tstu1 := student{\n\t\tName:  "小王子",\n\t\tScore: 90,\n\t}\n\n\tt := reflect.TypeOf(stu1)\n\n\tfmt.Println(t.Name(), t.Kind()) // student struct\n\n\t// 通过for循环遍历结构体的所有字段信息\n\tfmt.Println(t.NumField()) // 2\n\tfor i := 0; i < t.NumField(); i++ {\n\t\tfield := t.Field(i)\n\t\tfmt.Printf("name:%s index:%d type:%v json tag:%v\\n", field.Name, field.Index, field.Type, field.Tag.Get("zhoulin"))\n\t}\n\n\t// 通过字段名获取指定结构体字段信息\n\tif scoreField, ok := t.FieldByName("Score"); ok {\n\t\tfmt.Printf("name:%s index:%d type:%v json tag:%v\\n", scoreField.Name, scoreField.Index, scoreField.Type, scoreField.Tag.Get("json"))\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n',normalizedContent:'# 接口(interface)\n\n接口是一种类型,是一种特殊的类型,它规定了变量有哪些方法.\n\n在编程中会遇到以下场景:\n\n我不关心一个变量是什么类型,我只关心能调用它的什么方法.\n\n接口的定义\n\ntype 接口名 interface {\n    方法名1(参数1,参数2...)(返回值1, 返回值2...)\n    方法名2(参数1,参数2...)(返回值1, 返回值2...)\n    ...\n}\n\n\n1\n2\n3\n4\n5\n\n * 接口类型名：go语言的接口在命名时，一般会在单词后面添加er，如有写操作的接口叫writer，有关闭操作的接口叫closer等。接口名最好要能突出该接口的类型含义。\n * 方法名：当方法名首字母是大写且这个接口类型名首字母也是大写时，这个方法可以被接口所在的包（package）之外的代码访问。\n * 参数列表、返回值列表：参数列表和返回值列表中的参数变量名可以省略。\n\n\n# 接口的实现\n\n一个变量如果实现了接口中规定的所有的方法,那么这个变量就实现了这个接口,可以称为这个接口类型的变量.\n\n举个例子：\n\n我们定义的singer接口类型，它包含一个sing方法。\n\n// singer 接口\ntype singer interface {\n\tsing()\n}\n\n\n1\n2\n3\n4\n\n\n我们有一个bird结构体类型如下。\n\ntype bird struct {}\n\n\n1\n\n\n因为singer接口只包含一个sing方法，所以只需要给bird结构体添加一个sing方法就可以满足singer接口的要求。\n\n// sing bird类型的sing方法\nfunc (b bird) sing() {\n\tfmt.println("汪汪汪")\n}\n\n\n1\n2\n3\n4\n\n\nbird结构体实现了singer接口，因为它具备sing方法。\n\n在看一个反面教材：\n\nanimal接口要求有eat(string)方法，而cat的eat方法并没有定义要传参，所以不满足。\n\ntype animal interface {\n\tmove()\n\teat(string)\n}\ntype cat struct\n\tname\n\tstring\n\tfeet int8\n}\n\nfunc (c cat) move(){\n\tfmt.println("走猫步..")\n}\nfunc (c cat)eat()\n\tfmt.println("猫吃鱼..")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n\n# 接口的意义\n\n在电商系统中我们允许用户使用多种支付方式（支付宝支付、微信支付、银联支付等），我们的交易流程中可能不太在乎用户究竟使用什么支付方式，只要它能提供一个实现支付功能的pay方法让调用方调用就可以了。\n\n再比如我们需要在某个程序中添加一个将某些指标数据向外输出的功能，根据不同的需求可能要将数据输出到终端、写入到文件或者通过网络连接发送出去。在这个场景下我们可以不关注最终输出的目的地是什么，只需要它能提供一个write方法让我们把内容写入就可以了。\n\n\n# 值接收者与指针接收者\n\n使用值接收者实现接口,结构体类型和结构体指针类型的变量都能存.\n\n指针接收者实现接口只能存结构体指针类型的变量.\n\n\n# 接口和类型的关系\n\n * 多个类型可以实现同一个接口.\n\n// 实现mover接口\nfunc (d dog) move() {\n\tfmt.printf("%s会动\\n", d.name)\n}\n\n// car 汽车结构体类型\ntype car struct {\n\tbrand string\n}\n\n// move car类型实现mover接口\nfunc (c car) move() {\n\tfmt.printf("%s速度70迈\\n", c.brand)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n * 一个类型可以实现多个接口\n\ntype mover interface\n\tmove()\n}\ntype eater interface\n\teat(string)\n}\ntype cat struct\n\tname string\n\tfeet int8\n}\n//cat实现了mover:接口\nfunc (c *cat) move(){\n\tfmt.println("走猫步..")\n}\n//cat实现了eater接口\nfunc (c *cat)eat(food string){\n\tfmt.printf("猫吃%s..\\n",food)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 接口组合\n\n/同一个结构体可以实现多个接口\n//接口还可以嵌套\ntype animal interface\n\tmover\n\teater\n}\ntype mover interface\n\tmove()\n}\ntype eater interface\n\teat(string)\n}\ntype cat struct\n\tname string\n\tfeet int8\n}\n//cat实现了mover:接口\nfunc (c *cat) move(){\n\tfmt.println("走猫步..")\n}\n//cat实现了eater接口\nfunc (c *cat)eat(food string){\n\tfmt.printf("猫吃%s..\\n",food)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 空接口\n\n没有必要起名字,通常定义成下面的格式:\n\ninterface{} // 空接口\n\n\n1\n\n\n所有的类型都实现了空接口.也就是任意类型的变量都能保存到空接口中.\n\n\n# 类型断言\n\n接口值可能赋值为任意类型的值，那我们如何从接口值获取其存储的具体数据呢？\n\n我们可以借助标准库fmt包的格式化打印获取到接口值的动态类型。\n\n而想要从接口值中获取到对应的实际值需要使用类型断言，其语法格式如下。\n\nx.(t)\n\n其中：\n\n * x：表示接口类型的变量\n * t：表示断言x可能是的类型。\n\n/类型断言1\nfunc assign(a interface{}){\n\tfmt.printf("%t\\n",a)\n  str,ok:= a.(string)\n\n  if !ok {\n\t\tfmt.println("猜错了")\n\telse\n\t\tfmt.println("传进来的是一个字符串："，str)\n\t}\n}\n/类型断言2\nfunc assign2(a interface{}){\n\tfmt.printf("%t\\n",a)\n\tswitch t= a.(type){\n\tcase string:\n\t\tfmt.println("是一个字符串："，t)\n\tcase int:\n\t\tfmt.println("是-个int:",t)\n\tcase int64:\n\t\tfmt.println("是-个int64:",t)\n\tcase bool:\n\t\tfmt.println("是-个bool:",t)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 反射\n\n反射是指在程序运行期间对程序本身进行访问和修改的能力。程序在编译时，变量被转换为内存地址，变量名不会被编译器写入到可执行部分。在运行程序时，程序无法获取自身的信息。\n\n支持反射的语言可以在程序编译期间将变量的反射信息，如字段名称、类型信息、结构体信息等整合到可执行文件中，并给程序提供接口访问反射信息，这样就可以在程序运行期间获取类型的反射信息，并且有能力修改它们。\n\ngo程序在运行期间使用reflect包访问程序的反射信息。\n\njson反序列化就是反射的应用。\n\n{"name:"zhoulin", "age":9000}\n\ntype person struct {\n  name string `json:name`\n}\n\n\n1\n2\n3\n\n\n\n# typeof\n\nreflect.typeof和reflect.valueof\n\n在反射中关于类型还划分为两种：类型（type）和种类（kind）。因为在go语言中我们可以使用type关键字构造很多自定义类型，而种类（kind）就是指底层的类型，但在反射中，当需要区分指针、结构体等大品种的类型时，就会用到种类（kind）\n\ngo语言的反射中像数组、切片、map、指针等类型的变量，它们的.name()都是返回空。\n\npackage main\n\nimport (\n\t"fmt"\n\t"reflect"\n)\n\ntype myint int64\n\nfunc reflecttype(x interface{}) {\n\tt := reflect.typeof(x)\n\tfmt.printf("type:%v kind:%v\\n", t.name(), t.kind())\n}\n\nfunc main() {\n\tvar a *float32 // 指针\n\tvar b myint    // 自定义类型\n\tvar c rune     // 类型别名\n\treflecttype(a) // type: kind:ptr\n\treflecttype(b) // type:myint kind:int64\n\treflecttype(c) // type:int32 kind:int32\n  \n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# valueof\n\nreflect.valueof()返回的是reflect.value类型，其中包含了原始值的值信息。reflect.value与原始值之间可以互相转换。\n\n简单来说，如果我们定义空接口类型的变量，typeof是查看这个变量的种类和类型，但仅限于自己程序通过type定义的类型，如果是一个json就做不到了。我们不知道他得值到底是什么类型，那就通过switch把所有的类型都写到判断分支里，挨个判断，valueof的作用就是拿到原始值。\n\nfunc reflectvalue(x interface{}) {\n\tv := reflect.valueof(x)\n\tk := v.kind() // 值的类型种类\n\tswitch k {\n\tcase reflect.int64:\n\t\t// v.int()从反射中获取整型的原始值，然后通过int64()强制类型转换\n\t\tfmt.printf("type is int64, value is %d\\n", int64(v.int()))\n\tcase reflect.float32:\n\t\t// v.float()从反射中获取整型的原始值，然后通过float32()强制类型转换\n\t\tfmt.printf("type is float32, value is %f\\n", float32(v.float()))\n\tcase reflect.float64:\n\t\t// v.float()从反射中获取整型的原始值，然后通过float64()强制类型转换\n\t\tfmt.printf("type is float64, value is %f\\n", float64(v.float()))\n\t}\n}\n\n// 通过反射设置变量的值\nfunc reflectsetvalue1(x interface{}) {\n\tv := reflect.valueof(x)\n\tif v.kind() == reflect.int64 {\n\t\tv.setint(200) //修改的是副本，reflect包会引发panic\n\t}\n}\n\nfunc reflectsetvalue2(x interface{}) {\n\tv := reflect.valueof(x)\n\tif v.elem().kind() == reflect.int64 {\n\t\tv.elem().setint(200) //修改的是副本，reflect包会引发panic\n\t}\n}\n\nfunc main() {\n\tvar a float32 = 3.14\n\treflecttype(a) // type:float32\n\tvar b int64 = 100\n\treflecttype(b) // type:int64\n\tvar c = cat{}\n\treflecttype(c)\n\t// valueof\n\treflectvalue(a)\n\t// 设置值\n\t// reflectsetvalue1(&b)\n\treflectsetvalue2(&b)\n\tfmt.println(b)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# 结构体反射\n\npackage main\n\nimport (\n\t"fmt"\n\t"reflect"\n)\n\ntype student struct {\n\tname  string `json:"name" zhoulin:"嘿嘿嘿"`\n\tscore int    `json:"score" zhoulin:"哈哈哈"`\n}\n\nfunc main() {\n\tstu1 := student{\n\t\tname:  "小王子",\n\t\tscore: 90,\n\t}\n\n\tt := reflect.typeof(stu1)\n\n\tfmt.println(t.name(), t.kind()) // student struct\n\n\t// 通过for循环遍历结构体的所有字段信息\n\tfmt.println(t.numfield()) // 2\n\tfor i := 0; i < t.numfield(); i++ {\n\t\tfield := t.field(i)\n\t\tfmt.printf("name:%s index:%d type:%v json tag:%v\\n", field.name, field.index, field.type, field.tag.get("zhoulin"))\n\t}\n\n\t// 通过字段名获取指定结构体字段信息\n\tif scorefield, ok := t.fieldbyname("score"); ok {\n\t\tfmt.printf("name:%s index:%d type:%v json tag:%v\\n", scorefield.name, scorefield.index, scorefield.type, scorefield.tag.get("json"))\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n',charsets:{cjk:!0},lastUpdated:"2023/4/11",lastUpdatedTimestamp:1681189099e3},{title:"Go Study Day04 - 结构体和包",frontmatter:{title:"Go Study Day04 - 结构体和包",date:"2019-7-20",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第4天 结构体 package"},{name:"keywords",content:"自学 go 结构体 面向对象 package"},{name:"image",content:"https://www.yangxiaokang.com/day04-%E7%BB%93%E6%9E%84%E4%BD%93.assets/1564219349069.png"},{name:"twitter:title",content:"Go Study Day04 - 结构体和包"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day04-%E7%BB%93%E6%9E%84%E4%BD%93.assets/1564219349069.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day04-%E7%BB%93%E6%9E%84%E4%BD%93.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day04 - 结构体和包"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/day04-%E7%BB%93%E6%9E%84%E4%BD%93.assets/1564219349069.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day04-%E7%BB%93%E6%9E%84%E4%BD%93.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-7-20"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day04 - 结构体和包"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/day04-%E7%BB%93%E6%9E%84%E4%BD%93.assets/1564219349069.png"}],feed:{enable:!0},permalink:"/article/gostudy/studygoday4.html",summary:"不断学习，不断提升，日拱一卒，学习go第4天！",description:""},regularPath:"/article/gostudy/day04-%E7%BB%93%E6%9E%84%E4%BD%93.html",relativePath:"article/gostudy/day04-结构体.md",key:"v-719f06b9",path:"/article/gostudy/studygoday4.html",headers:[{level:2,title:"结构体",slug:"结构体",normalizedTitle:"结构体",charIndex:2},{level:3,title:"结构体定义",slug:"结构体定义",normalizedTitle:"结构体定义",charIndex:186},{level:3,title:"结构体初始化",slug:"结构体初始化",normalizedTitle:"结构体初始化",charIndex:456},{level:2,title:"面向对象",slug:"面向对象",normalizedTitle:"面向对象",charIndex:176},{level:2,title:"结构体与JSON",slug:"结构体与json",normalizedTitle:"结构体与json",charIndex:3597},{level:2,title:"包(package)",slug:"包-package",normalizedTitle:"包(package)",charIndex:4250},{level:3,title:"包的引入",slug:"包的引入",normalizedTitle:"包的引入",charIndex:4631},{level:3,title:"go module介绍",slug:"go-module介绍",normalizedTitle:"go module介绍",charIndex:5261}],headersStr:"结构体 结构体定义 结构体初始化 面向对象 结构体与JSON 包(package) 包的引入 go module介绍",content:'# 结构体\n\nGo语言中的基础数据类型可以表示一些事物的基本属性，但是当我们想表达一个事物的全部或部分属性时，这时候再用单一的基本数据类型明显就无法满足需求了，Go语言提供了一种自定义数据类型，可以封装多个基本数据类型，这种数据类型叫结构体，英文名称struct。 也就是我们可以通过struct来定义自己的类型了。\n\nGo语言中通过struct来实现面向对象。\n\n\n# 结构体定义\n\ntype 结构体名 struct{\n    字段1 字段1的类型\n    字段2 字段2的类型\n    ...\n} \n// 如\ntype person struct {\n\tname string\n\tcity string\n\tage  int8\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> 结构体是值类型，需要注意的是，由于结构体中可能包含指针类型的成员，因此在复制结构体时，仅会复制指针的值，而不会复制指针所指向的内存地址和数据。这意味着在复制结构体时，新的结构体和原始结构体可能会共享某些数据。\n\n\n# 结构体初始化\n\n# 先声明再赋值\n\nvar p person // 声明一个person类型的变量p\np.name = "元帅"\np.age = 18\nfmt.Println(p)\n\n\n1\n2\n3\n4\n\n\n# 声明同时初始化\n\n * 键值对初始化\n\n// 键值对初始化\nvar p2 = person{\n\tname: "冠华",\n\tage:  15,\n}\nfmt.Println(p2)\n\n\n1\n2\n3\n4\n5\n6\n\n * 值列表初始化\n\n// 值列表初始化\nvar p3 = person{\n\t"理想",\n\t100,\n}\nfmt.Println(p3)\n\n\n1\n2\n3\n4\n5\n6\n\n\n注意事项:\n\n 1. 两者不能混用\n 2. 没有赋值的字段会使用对应类型的零值.\n\n# 匿名结构体\n\n在定义一些临时数据结构等场景下还可以使用匿名结构体。\n\npackage main\n     \nimport (\n    "fmt"\n)\n     \nfunc main() {\n    var user struct{Name string; Age int}\n    user.Name = "小王子"\n    user.Age = 18\n    fmt.Printf("%#v\\n", user)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 结构体指针\n\n结构体是值类型,赋值的时候都是拷贝.\n\n当结构体字段较多的时候,为了减少内存消耗可以传递结构体指针.\n\n我们还可以通过使用new关键字对结构体进行实例化，得到的是结构体的地址。 格式如下：\n\nvar p2 = new(person)\nfmt.Printf("%T\\n", p2)     //*main.person\nfmt.Printf("p2=%#v\\n", p2) //p2=&main.person{name:"", city:"", age:0}\n\n\n1\n2\n3\n\n\n\n# 面向对象\n\n# 构造函数\n\n返回一个结构体变量的函数,为了实例化结构体的时候更省事儿.\n\nfunc newPerson(name string, age int)person{\n    return person{\n        name: name,\n        age: age,\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 方法\n\n方法是作用于特定类型的函数.\n\n方法的定义:(万变不离其宗)\n\nfunc (接收者变量 接收者类型)方法名(参数)返回值{\n    // 方法体\n}\n\n\n1\n2\n3\n\n\n# 接收者\n\n接收者通常使用类型首字母的小写,不建议使用诸如this和self这样的.\n\n# 值接收者和指针接收者的区别\n\n使用值接收者的方法不能修改结构体变量\n\n// SetAge2 设置p的年龄\n// 使用值接收者\nfunc (p Person) SetAge2(newAge int8) {\n\tp.age = newAge\n}\n\nfunc main() {\n\tp1 := NewPerson("小王子", 25)\n\tp1.Dream()\n\tfmt.Println(p1.age) // 25\n\tp1.SetAge2(30) // (*p1).SetAge2(30)\n\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n使用指针接收者的方法可以修改结构体的变量\n\n// SetAge 设置p的年龄\n// 使用指针接收者\nfunc (p *Person) SetAge(newAge int8) {\n\tp.age = newAge\n}\n\n\n1\n2\n3\n4\n5\n\n\n调用该方法：\n\nfunc main() {\n\tp1 := NewPerson("小王子", 25)\n\tfmt.Println(p1.age) // 25\n\tp1.SetAge(30)\n\tfmt.Println(p1.age) // 30\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 1. 需要修改接收者中的值\n 2. 接收者是拷贝代价比较大的大对象\n 3. 保证一致性，如果有某个方法使用了指针接收者，那么其他的方法也应该使用指针接收者。\n\n我们应该尽量使用指针接收者.\n\n# 匿名字段\n\n没有名字的字段.\n\n//Person 结构体Person类型\ntype Person struct {\n\tstring\n\tint\n}\n\nfunc main() {\n\tp1 := Person{\n\t\t"二狗",\n\t\t18,\n\t}\n\tfmt.Printf("%#v\\n", p1)        //main.Person{string:"北京", int:18}\n\tfmt.Println(p1.string, p1.int) //北京 18\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 嵌套结构体\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype company struct {\n\tname string\n\taddr address // 嵌套\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 匿名嵌套结构体\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype company struct {\n\tname string\n\taddress // 嵌套匿名结构体\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 匿名嵌套结构体的字段冲突\n\n先在自己结构体找这个字段,找不到就去匿名嵌套的结构体中查找该字段\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype workPlace struct {\n\tprovince string\n\tcity     string\n}\n\ntype person struct {\n\tname    string\n\tage     int\n\taddress   // 匿名嵌套结构体\n\tworkPlace // 匿名嵌套结构体\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 结构体的“继承”\n\nGo语言中使用结构体也可以实现其他编程语言中面向对象的继承。\n\n//Animal 动物\ntype Animal struct {\n\tname string\n}\n\nfunc (a *Animal) move() {\n\tfmt.Printf("%s会动！\\n", a.name)\n}\n\n//Dog 狗\ntype Dog struct {\n\tFeet    int8\n\t*Animal //通过嵌套匿名结构体实现继承\n}\n\nfunc (d *Dog) wang() {\n\tfmt.Printf("%s会汪汪汪~\\n", d.name)\n}\n\nfunc main() {\n\td1 := &Dog{\n\t\tFeet: 4,\n\t\tAnimal: &Animal{ //注意嵌套的是结构体指针\n\t\t\tname: "乐乐",\n\t\t},\n\t}\n\td1.wang() //乐乐会汪汪汪~\n\td1.move() //乐乐会动！\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 结构体与JSON\n\nJSON:是一种跨语言的数据格式.多用于在不同语言间传递数据\n\n// 1.序列化:   把Go语言中的结构体变量 --\x3e json格式的字符串\n// 2.反序列化: json格式的字符串   --\x3e Go语言中能够识别的结构体变量\n\ntype person struct {\n\tName string `json:"name" db:"name" ini:"name"`\n\tAge  int    `json:"age"`\n}\n\nfunc main() {\n\tp1 := person{\n\t\tName: "周林",\n\t\tAge:  9000,\n\t}\n\t// 序列化\n\tb, err := json.Marshal(p1)\n\tif err != nil {\n\t\tfmt.Printf("marshal failed, err:%v", err)\n\t\treturn\n\t}\n\tfmt.Printf("%v\\n", string(b))\n\t// 反序列化\n\tstr := `{"name":"理想","age":18}`\n\tvar p2 person\n\tjson.Unmarshal([]byte(str), &p2) // 传指针是为了能在json.Unmarshal内部修改p2的值\n\tfmt.Printf("%#v\\n", p2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 包(package)\n\n包的定义 --\x3epackage关键字,包名通常是和目录名一致,不能包含-\n\n * 一个文件夹就是一个包\n * 文件夹里面放的都是.go文件\n\n包的导入 --\x3e import\n\n * 包的路径从GOPATH/src后面的路径开始写起,路径分隔符用/\n * 想被别的包调用的标识符都要首字母大写!\n * 单行导入和多行导入\n * 导入包的时候可以指定别名\n * 导入包不想使用包内部的标识符,需要使用匿名导入sql包导入时会讲这个\n * 每个包导入的时候会自动执行一个名为init()的函数,它没有参数也没有返回值也不能手动调用\n * 包导入的时候会自动执行\n * 一个包里面只有一个init()\n * 多个包中都定义了init()函数,则它们的执行顺序见下图:\n\n\n\n# 定义包\n\npackage packagename\n\n\n1\n\n\n\n# 包的引入\n\n要在当前包中使用另外一个包的内容就需要使用import关键字引入这个包，并且import语句通常放在文件的开头，package声明语句的下方。完整的引入声明语句格式如下:\n\nimport importname "path/to/package"\n\n\n1\n\n\n * importname：引入的包名，通常都省略。默认值为引入包的包名。\n\n * path/to/package：引入包的路径名称，必须使用双引号包裹起来。\n\n * Go语言中禁止循环导入包。\n   \n   批量引入\n   \n   import (\n       "fmt"\n     \t"net/http"\n       "os"\n   )\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# init函数\n\n在每一个Go源文件中，都可以定义任意个如下格式的特殊函数：\n\nfunc init(){\n  // ...\n}\n\n\n1\n2\n3\n\n\n这种特殊的函数不接收任何参数也没有任何返回值，我们也不能在代码中主动调用它。当程序启动的时候，init函数会按照它们声明的顺序自动执行。\n\n一个包的初始化过程是按照代码中引入的顺序来进行的，所有在该包中声明的init函数都将被串行调用并且仅调用执行一次。每一个包初始化的时候都是先执行依赖的包中声明的init函数再执行当前包中声明的init函数。确保在程序的main函数开始执行时所有的依赖包都已初始化完成。\n\n\n# go module介绍\n\nGo module 是 Go1.11 版本发布的依赖管理方案，从 Go1.14 版本开始推荐在生产环境使用，于Go1.16版本默认开启。Go module 提供了以下命令供我们使用：\n\n命令                介绍\ngo mod init       初始化项目依赖，生成go.mod文件\ngo mod download   根据go.mod文件下载依赖\ngo mod tidy       比对项目文件中引入的依赖与go.mod进行比对\ngo mod graph      输出依赖关系图\ngo mod edit       编辑go.mod文件\ngo mod vendor     将项目的所有依赖导出至vendor目录\ngo mod verify     检验一个依赖包是否被篡改过\ngo mod why        解释为什么需要某个依赖\n\n# GOPROXY\n\nGOPROXY 的默认值是：https://proxy.golang.org,direct，由于某些原因国内无法正常访问该地址，所以我们通常需要配置一个可访问的地址。目前社区使用比较多的有两个https://goproxy.cn和https://goproxy.io，当然如果你的公司有提供GOPROXY地址那么就直接使用。设置GOPAROXY的命令如下：\n\ngo env -w GOPROXY=https://goproxy.cn,direct\n\n\n1\n\n\n# GOPRIVATE\n\n设置了GOPROXY 之后，go 命令就会从配置的代理地址拉取和校验依赖包。当我们在项目中引入了非公开的包（公司内部git仓库或 github 私有仓库等），此时便无法正常从代理拉取到这些非公开的依赖包，这个时候就需要配置 GOPRIVATE 环境变量。GOPRIVATE用来告诉 go 命令哪些仓库属于私有仓库，不必通过代理服务器拉取和校验。\n\nGOPRIVATE 的值也可以设置多个，多个地址之间使用英文逗号 “,” 分隔。我们通常会把自己公司内部的代码仓库设置到 GOPRIVATE 中，例如：\n\n$ go env -w GOPRIVATE="git.mycompany.com"\n\n\n1\n\n\n# 使用\n\ngo mod init 项目名',normalizedContent:'# 结构体\n\ngo语言中的基础数据类型可以表示一些事物的基本属性，但是当我们想表达一个事物的全部或部分属性时，这时候再用单一的基本数据类型明显就无法满足需求了，go语言提供了一种自定义数据类型，可以封装多个基本数据类型，这种数据类型叫结构体，英文名称struct。 也就是我们可以通过struct来定义自己的类型了。\n\ngo语言中通过struct来实现面向对象。\n\n\n# 结构体定义\n\ntype 结构体名 struct{\n    字段1 字段1的类型\n    字段2 字段2的类型\n    ...\n} \n// 如\ntype person struct {\n\tname string\n\tcity string\n\tage  int8\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n> 结构体是值类型，需要注意的是，由于结构体中可能包含指针类型的成员，因此在复制结构体时，仅会复制指针的值，而不会复制指针所指向的内存地址和数据。这意味着在复制结构体时，新的结构体和原始结构体可能会共享某些数据。\n\n\n# 结构体初始化\n\n# 先声明再赋值\n\nvar p person // 声明一个person类型的变量p\np.name = "元帅"\np.age = 18\nfmt.println(p)\n\n\n1\n2\n3\n4\n\n\n# 声明同时初始化\n\n * 键值对初始化\n\n// 键值对初始化\nvar p2 = person{\n\tname: "冠华",\n\tage:  15,\n}\nfmt.println(p2)\n\n\n1\n2\n3\n4\n5\n6\n\n * 值列表初始化\n\n// 值列表初始化\nvar p3 = person{\n\t"理想",\n\t100,\n}\nfmt.println(p3)\n\n\n1\n2\n3\n4\n5\n6\n\n\n注意事项:\n\n 1. 两者不能混用\n 2. 没有赋值的字段会使用对应类型的零值.\n\n# 匿名结构体\n\n在定义一些临时数据结构等场景下还可以使用匿名结构体。\n\npackage main\n     \nimport (\n    "fmt"\n)\n     \nfunc main() {\n    var user struct{name string; age int}\n    user.name = "小王子"\n    user.age = 18\n    fmt.printf("%#v\\n", user)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 结构体指针\n\n结构体是值类型,赋值的时候都是拷贝.\n\n当结构体字段较多的时候,为了减少内存消耗可以传递结构体指针.\n\n我们还可以通过使用new关键字对结构体进行实例化，得到的是结构体的地址。 格式如下：\n\nvar p2 = new(person)\nfmt.printf("%t\\n", p2)     //*main.person\nfmt.printf("p2=%#v\\n", p2) //p2=&main.person{name:"", city:"", age:0}\n\n\n1\n2\n3\n\n\n\n# 面向对象\n\n# 构造函数\n\n返回一个结构体变量的函数,为了实例化结构体的时候更省事儿.\n\nfunc newperson(name string, age int)person{\n    return person{\n        name: name,\n        age: age,\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 方法\n\n方法是作用于特定类型的函数.\n\n方法的定义:(万变不离其宗)\n\nfunc (接收者变量 接收者类型)方法名(参数)返回值{\n    // 方法体\n}\n\n\n1\n2\n3\n\n\n# 接收者\n\n接收者通常使用类型首字母的小写,不建议使用诸如this和self这样的.\n\n# 值接收者和指针接收者的区别\n\n使用值接收者的方法不能修改结构体变量\n\n// setage2 设置p的年龄\n// 使用值接收者\nfunc (p person) setage2(newage int8) {\n\tp.age = newage\n}\n\nfunc main() {\n\tp1 := newperson("小王子", 25)\n\tp1.dream()\n\tfmt.println(p1.age) // 25\n\tp1.setage2(30) // (*p1).setage2(30)\n\t\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n使用指针接收者的方法可以修改结构体的变量\n\n// setage 设置p的年龄\n// 使用指针接收者\nfunc (p *person) setage(newage int8) {\n\tp.age = newage\n}\n\n\n1\n2\n3\n4\n5\n\n\n调用该方法：\n\nfunc main() {\n\tp1 := newperson("小王子", 25)\n\tfmt.println(p1.age) // 25\n\tp1.setage(30)\n\tfmt.println(p1.age) // 30\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 1. 需要修改接收者中的值\n 2. 接收者是拷贝代价比较大的大对象\n 3. 保证一致性，如果有某个方法使用了指针接收者，那么其他的方法也应该使用指针接收者。\n\n我们应该尽量使用指针接收者.\n\n# 匿名字段\n\n没有名字的字段.\n\n//person 结构体person类型\ntype person struct {\n\tstring\n\tint\n}\n\nfunc main() {\n\tp1 := person{\n\t\t"二狗",\n\t\t18,\n\t}\n\tfmt.printf("%#v\\n", p1)        //main.person{string:"北京", int:18}\n\tfmt.println(p1.string, p1.int) //北京 18\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 嵌套结构体\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype company struct {\n\tname string\n\taddr address // 嵌套\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 匿名嵌套结构体\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype company struct {\n\tname string\n\taddress // 嵌套匿名结构体\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 匿名嵌套结构体的字段冲突\n\n先在自己结构体找这个字段,找不到就去匿名嵌套的结构体中查找该字段\n\ntype address struct {\n\tprovince string\n\tcity     string\n}\n\ntype workplace struct {\n\tprovince string\n\tcity     string\n}\n\ntype person struct {\n\tname    string\n\tage     int\n\taddress   // 匿名嵌套结构体\n\tworkplace // 匿名嵌套结构体\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 结构体的“继承”\n\ngo语言中使用结构体也可以实现其他编程语言中面向对象的继承。\n\n//animal 动物\ntype animal struct {\n\tname string\n}\n\nfunc (a *animal) move() {\n\tfmt.printf("%s会动！\\n", a.name)\n}\n\n//dog 狗\ntype dog struct {\n\tfeet    int8\n\t*animal //通过嵌套匿名结构体实现继承\n}\n\nfunc (d *dog) wang() {\n\tfmt.printf("%s会汪汪汪~\\n", d.name)\n}\n\nfunc main() {\n\td1 := &dog{\n\t\tfeet: 4,\n\t\tanimal: &animal{ //注意嵌套的是结构体指针\n\t\t\tname: "乐乐",\n\t\t},\n\t}\n\td1.wang() //乐乐会汪汪汪~\n\td1.move() //乐乐会动！\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 结构体与json\n\njson:是一种跨语言的数据格式.多用于在不同语言间传递数据\n\n// 1.序列化:   把go语言中的结构体变量 --\x3e json格式的字符串\n// 2.反序列化: json格式的字符串   --\x3e go语言中能够识别的结构体变量\n\ntype person struct {\n\tname string `json:"name" db:"name" ini:"name"`\n\tage  int    `json:"age"`\n}\n\nfunc main() {\n\tp1 := person{\n\t\tname: "周林",\n\t\tage:  9000,\n\t}\n\t// 序列化\n\tb, err := json.marshal(p1)\n\tif err != nil {\n\t\tfmt.printf("marshal failed, err:%v", err)\n\t\treturn\n\t}\n\tfmt.printf("%v\\n", string(b))\n\t// 反序列化\n\tstr := `{"name":"理想","age":18}`\n\tvar p2 person\n\tjson.unmarshal([]byte(str), &p2) // 传指针是为了能在json.unmarshal内部修改p2的值\n\tfmt.printf("%#v\\n", p2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 包(package)\n\n包的定义 --\x3epackage关键字,包名通常是和目录名一致,不能包含-\n\n * 一个文件夹就是一个包\n * 文件夹里面放的都是.go文件\n\n包的导入 --\x3e import\n\n * 包的路径从gopath/src后面的路径开始写起,路径分隔符用/\n * 想被别的包调用的标识符都要首字母大写!\n * 单行导入和多行导入\n * 导入包的时候可以指定别名\n * 导入包不想使用包内部的标识符,需要使用匿名导入sql包导入时会讲这个\n * 每个包导入的时候会自动执行一个名为init()的函数,它没有参数也没有返回值也不能手动调用\n * 包导入的时候会自动执行\n * 一个包里面只有一个init()\n * 多个包中都定义了init()函数,则它们的执行顺序见下图:\n\n\n\n# 定义包\n\npackage packagename\n\n\n1\n\n\n\n# 包的引入\n\n要在当前包中使用另外一个包的内容就需要使用import关键字引入这个包，并且import语句通常放在文件的开头，package声明语句的下方。完整的引入声明语句格式如下:\n\nimport importname "path/to/package"\n\n\n1\n\n\n * importname：引入的包名，通常都省略。默认值为引入包的包名。\n\n * path/to/package：引入包的路径名称，必须使用双引号包裹起来。\n\n * go语言中禁止循环导入包。\n   \n   批量引入\n   \n   import (\n       "fmt"\n     \t"net/http"\n       "os"\n   )\n   \n   \n   1\n   2\n   3\n   4\n   5\n   \n\n# init函数\n\n在每一个go源文件中，都可以定义任意个如下格式的特殊函数：\n\nfunc init(){\n  // ...\n}\n\n\n1\n2\n3\n\n\n这种特殊的函数不接收任何参数也没有任何返回值，我们也不能在代码中主动调用它。当程序启动的时候，init函数会按照它们声明的顺序自动执行。\n\n一个包的初始化过程是按照代码中引入的顺序来进行的，所有在该包中声明的init函数都将被串行调用并且仅调用执行一次。每一个包初始化的时候都是先执行依赖的包中声明的init函数再执行当前包中声明的init函数。确保在程序的main函数开始执行时所有的依赖包都已初始化完成。\n\n\n# go module介绍\n\ngo module 是 go1.11 版本发布的依赖管理方案，从 go1.14 版本开始推荐在生产环境使用，于go1.16版本默认开启。go module 提供了以下命令供我们使用：\n\n命令                介绍\ngo mod init       初始化项目依赖，生成go.mod文件\ngo mod download   根据go.mod文件下载依赖\ngo mod tidy       比对项目文件中引入的依赖与go.mod进行比对\ngo mod graph      输出依赖关系图\ngo mod edit       编辑go.mod文件\ngo mod vendor     将项目的所有依赖导出至vendor目录\ngo mod verify     检验一个依赖包是否被篡改过\ngo mod why        解释为什么需要某个依赖\n\n# goproxy\n\ngoproxy 的默认值是：https://proxy.golang.org,direct，由于某些原因国内无法正常访问该地址，所以我们通常需要配置一个可访问的地址。目前社区使用比较多的有两个https://goproxy.cn和https://goproxy.io，当然如果你的公司有提供goproxy地址那么就直接使用。设置goparoxy的命令如下：\n\ngo env -w goproxy=https://goproxy.cn,direct\n\n\n1\n\n\n# goprivate\n\n设置了goproxy 之后，go 命令就会从配置的代理地址拉取和校验依赖包。当我们在项目中引入了非公开的包（公司内部git仓库或 github 私有仓库等），此时便无法正常从代理拉取到这些非公开的依赖包，这个时候就需要配置 goprivate 环境变量。goprivate用来告诉 go 命令哪些仓库属于私有仓库，不必通过代理服务器拉取和校验。\n\ngoprivate 的值也可以设置多个，多个地址之间使用英文逗号 “,” 分隔。我们通常会把自己公司内部的代码仓库设置到 goprivate 中，例如：\n\n$ go env -w goprivate="git.mycompany.com"\n\n\n1\n\n\n# 使用\n\ngo mod init 项目名',charsets:{cjk:!0},lastUpdated:"2023/4/27",lastUpdatedTimestamp:1682597449e3},{title:"Go Study Day08 - 标准库",frontmatter:{title:"Go Study Day08 - 标准库",date:"2019-8-17",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第8天 文件操作和time库"},{name:"keywords",content:"自学 go time bufio ioutil file.Read"},{name:"twitter:title",content:"Go Study Day08 - 标准库"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day08-%E6%A0%87%E5%87%86%E5%BA%93.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day08 - 标准库"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day08-%E6%A0%87%E5%87%86%E5%BA%93.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-8-17"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day08 - 标准库"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday8.html",summary:"不断学习，不断提升，日拱一卒，学习go第8天！ go time bufio ioutil file.Read",description:""},regularPath:"/article/gostudy/day08-%E6%A0%87%E5%87%86%E5%BA%93.html",relativePath:"article/gostudy/day08-标准库.md",key:"v-67ca7500",path:"/article/gostudy/studygoday8.html",headers:[{level:2,title:"time标准库",slug:"time标准库",normalizedTitle:"time标准库",charIndex:2},{level:3,title:"时间类型",slug:"时间类型",normalizedTitle:"时间类型",charIndex:14},{level:3,title:"时间戳",slug:"时间戳",normalizedTitle:"时间戳",charIndex:252},{level:3,title:"时间间隔",slug:"时间间隔",normalizedTitle:"时间间隔",charIndex:450},{level:3,title:"定时器",slug:"定时器",normalizedTitle:"定时器",charIndex:555},{level:3,title:"格式化时间",slug:"格式化时间",normalizedTitle:"格式化时间",charIndex:659},{level:2,title:"文件操作",slug:"文件操作",normalizedTitle:"文件操作",charIndex:2151},{level:3,title:"file.Read()",slug:"file-read",normalizedTitle:"file.read()",charIndex:3089},{level:3,title:"bufio读取文件",slug:"bufio读取文件",normalizedTitle:"bufio读取文件",charIndex:4302},{level:3,title:"ioutil读取整个文件",slug:"ioutil读取整个文件",normalizedTitle:"ioutil读取整个文件",charIndex:4954},{level:3,title:"文件写入操作",slug:"文件写入操作",normalizedTitle:"文件写入操作",charIndex:5298}],headersStr:"time标准库 时间类型 时间戳 时间间隔 定时器 格式化时间 文件操作 file.Read() bufio读取文件 ioutil读取整个文件 文件写入操作",content:'# time标准库\n\n\n# 时间类型\n\nnow := time.Now()\nfmt.Println(now)\nfmt.Println(now.Year())\nfmt.Println(now.Month())\nfmt.Println(now.Day())\nfmt.Println(now.Date())\nfmt.Println(now.Hour())\nfmt.Println(now.Minute())\nfmt.Println(now.Second())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 时间戳\n\n// 时间戳\nfmt.Println(now.Unix())\nfmt.Println(now.UnixNano())\n// time.Unix()\nret := time.Unix(1564803667, 0)\nfmt.Println(ret)\nfmt.Println(ret.Year())\nfmt.Println(ret.Day())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 时间间隔\n\n// 时间间隔\nfmt.Println(time.Second)\n// now + 24小时\nfmt.Println(now.Add(24 * time.Hour))\n\n\n1\n2\n3\n4\n\n\n\n# 定时器\n\ntimer := time.Tick(time.Second)\nfor t := range timer {\n\tfmt.Println(t) // 1秒钟执行一次\n}\n\n\n1\n2\n3\n4\n\n\n\n# 格式化时间\n\n// 格式化时间 把语言中时间对象 转换成字符串类型的时间\n// 2019-08-03\nfmt.Println(now.Format("2006-01-02"))\n// 2019/02/03 11:55:02\nfmt.Println(now.Format("2006/01/02 15:04:05"))\n// 2019/02/03 11:55:02 AM\nfmt.Println(now.Format("2006/01/02 03:04:05 PM"))\n// // 2019/02/03 11:55:02.342\nfmt.Println(now.Format("2006/01/02 15:04:05.000"))\n// 按照对应的格式解析字符串类型的时间\ntimeObj, err := time.Parse("2006-01-02", "2019-08-03")\nif err != nil {\n\tfmt.Printf("parse time failed, err:%v\\n", err)\n\treturn\n}\nfmt.Println(timeObj)\nfmt.Println(timeObj.Unix())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n/格式化时间把语言中时间对象转换成字符串类型的时间\n//2019-08-03\nfmt.Println(now.Format("2006-01-02"))\n//2019/02/0311:55:02\nfmt.Print1n(now.Format("2006/01/0215:04:05"))\n//2019/02/0311:55:02AM\nfmt.Println(now.Format("2006/01/02 03:04:05 PM"))\n////2019/02/0311:55:02.342\nfmt.Print.1n(now.Format("2006/01/0215:04:05.000"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nfunc f2(){\n\tnow:=time.Now()//本地的时间\n\tfmt.Println(now)\n\t//明天的这个时间\n\t//按照指定格式职解析一个字符串格式的时间\n\ttime.Parse("2886-81-0215:64:65","2019-68-6414:41:58")\n\t//按照东八区的时区和格式取解析一个字符串格式的时间\n\t//根据字符串加载时区\n\tloc,err :=time.LoadLocation("Asia/Shanghai")\n\tif err != nil{\n\t\tfmt.Printf("load loc failed,err:%v\\n",err)\n\t\treturn\n\t}\n\t//按照指定时区程析时间\n\ttime0bj,err:=time.ParseInLocation("2006-01-8215:04:05","2019-08-0414:41:50",1oc)\n\tif err !=nil {\n\tfmt.Printf("parse time failed,err:%v\\n",err)\n\treturn\n\t}\n\tfmt.Println(timeobj)\n\t//时间对家相减\n\ttd :timeobj.Sub(now)\n\tfmt.Println(td)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 文件操作\n\npackage main\n\nimport (\n        "fmt"\n        "os"\n)\n\n// 打开文件\n\nfunc main() {\n        fileObj, err := os.Open("./main.go")\n        if err !\n读了128个字节\n= nil {\n                fmt.Printf("open file failed, err:%v", err)\n                return\n        }\n        // 记得关闭文件\n        defer fileObj.Close()\n        // 读文\n读了128个字节\n件\n        // var tmp = make([]byte, 128) // 指定读的长度\n        var tmp [128]byte\n        for {\n                n, err := fileObj.Read(tmp[:])\n                if e\n读了128个字节\nrr != nil {\n                        fmt.Printf("read from file failed, err:%v", err)\n                        return\n                }\n                fmt.Printf("读了%d个字节\\n", n)\n                fmt.\n读了66个字节\nPrintln(string(tmp[:n]))\n                if n == 0 {\n                        return\n                }\n        }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# file.Read()\n\n# 基本使用\n\nRead方法定义如下：\n\nfunc (f *File) Read(b []byte) (n int, err error)\n\n\n1\n\n\n它接收一个字节切片，返回读取的字节数和可能的具体错误，读到文件末尾时会返回0和io.EOF。 举个例子：\n\nfunc main() {\n\t// 只读方式打开当前目录下的main.go文件\n\tfile, err := os.Open("./main.go")\n\tif err != nil {\n\t\tfmt.Println("open file failed!, err:", err)\n\t\treturn\n\t}\n\tdefer file.Close()\n\t// 使用Read方法读取数据\n\tvar tmp = make([]byte, 128)\n\tn, err := file.Read(tmp)\n\tif err == io.EOF {\n\t\tfmt.Println("文件读完了")\n\t\treturn\n\t}\n\tif err != nil {\n\t\tfmt.Println("read file failed, err:", err)\n\t\treturn\n\t}\n\tfmt.Printf("读取了%d字节数据\\n", n)\n\tfmt.Println(string(tmp[:n]))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 循环读取\n\n使用for循环读取文件中的所有数据。\n\nfunc main() {\n\t// 只读方式打开当前目录下的main.go文件\n\tfile, err := os.Open("./main.go")\n\tif err != nil {\n\t\tfmt.Println("open file failed!, err:", err)\n\t\treturn\n\t}\n\tdefer file.Close()\n\t// 循环读取文件\n\tvar content []byte\n\tvar tmp = make([]byte, 128)\n\tfor {\n\t\tn, err := file.Read(tmp)\n\t\tif err == io.EOF {\n\t\t\tfmt.Println("文件读完了")\n\t\t\tbreak\n\t\t}\n\t\tif err != nil {\n\t\t\tfmt.Println("read file failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tcontent = append(content, tmp[:n]...)\n\t}\n\tfmt.Println(string(content))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# bufio读取文件\n\nbufio是在file的基础上封装了一层API，支持更多的功能。\n\npackage main\n\nimport (\n\t"bufio"\n\t"fmt"\n\t"io"\n\t"os"\n)\n\n// bufio按行读取示例\nfunc main() {\n\tfile, err := os.Open("./xx.txt")\n\tif err != nil {\n\t\tfmt.Println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.Close()\n\treader := bufio.NewReader(file)\n\tfor {\n\t\tline, err := reader.ReadString(\'\\n\') //注意是字符\n\t\tif err == io.EOF {\n\t\t\tif len(line) != 0 {\n\t\t\t\tfmt.Println(line)\n\t\t\t}\n\t\t\tfmt.Println("文件读完了")\n\t\t\tbreak\n\t\t}\n\t\tif err != nil {\n\t\t\tfmt.Println("read file failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tfmt.Print(line)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ioutil读取整个文件\n\nio/ioutil包的ReadFile方法能够读取完整的文件，只需要将文件名作为参数传入。\n\npackage main\n\nimport (\n\t"fmt"\n\t"io/ioutil"\n)\n\n// ioutil.ReadFile读取整个文件\nfunc main() {\n\tcontent, err := ioutil.ReadFile("./main.go")\n\tif err != nil {\n\t\tfmt.Println("read file failed, err:", err)\n\t\treturn\n\t}\n\tfmt.Println(string(content))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 文件写入操作\n\nos.OpenFile()函数能够以指定模式打开文件，从而实现文件写入相关功能。\n\nfunc OpenFile(name string, flag int, perm FileMode) (*File, error) {\n\t...\n}\n\n\n1\n2\n3\n\n\nname：要打开的文件名 flag：打开文件的模式。 模式有以下几种：\n\n模式            含义\nos.O_WRONLY   只写\nos.O_CREATE   创建文件\nos.O_RDONLY   只读\nos.O_RDWR     读写\nos.O_TRUNC    清空\nos.O_APPEND   追加\n\nperm：文件权限，一个八进制数。r（读）04，w（写）02，x（执行）01。\n\n# Write和WriteString\n\nfunc main() {\n\tfile, err := os.OpenFile("xx.txt", os.O_CREATE|os.O_TRUNC|os.O_WRONLY, 0666)\n\tif err != nil {\n\t\tfmt.Println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.Close()\n\tstr := "hello 沙河"\n\tfile.Write([]byte(str))       //写入字节切片数据\n\tfile.WriteString("hello 小王子") //直接写入字符串数据\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# bufio.NewWriter\n\nfunc main() {\n\tfile, err := os.OpenFile("xx.txt", os.O_CREATE|os.O_TRUNC|os.O_WRONLY, 0666)\n\tif err != nil {\n\t\tfmt.Println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.Close()\n\twriter := bufio.NewWriter(file)\n\tfor i := 0; i < 10; i++ {\n\t\twriter.WriteString("hello沙河\\n") //将数据先写入缓存\n\t}\n\twriter.Flush() //将缓存中的内容写入文件\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ioutil.WriteFile\n\nfunc main() {\n\tstr := "hello 沙河"\n\terr := ioutil.WriteFile("./xx.txt", []byte(str), 0666)\n\tif err != nil {\n\t\tfmt.Println("write file failed, err:", err)\n\t\treturn\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',normalizedContent:'# time标准库\n\n\n# 时间类型\n\nnow := time.now()\nfmt.println(now)\nfmt.println(now.year())\nfmt.println(now.month())\nfmt.println(now.day())\nfmt.println(now.date())\nfmt.println(now.hour())\nfmt.println(now.minute())\nfmt.println(now.second())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 时间戳\n\n// 时间戳\nfmt.println(now.unix())\nfmt.println(now.unixnano())\n// time.unix()\nret := time.unix(1564803667, 0)\nfmt.println(ret)\nfmt.println(ret.year())\nfmt.println(ret.day())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 时间间隔\n\n// 时间间隔\nfmt.println(time.second)\n// now + 24小时\nfmt.println(now.add(24 * time.hour))\n\n\n1\n2\n3\n4\n\n\n\n# 定时器\n\ntimer := time.tick(time.second)\nfor t := range timer {\n\tfmt.println(t) // 1秒钟执行一次\n}\n\n\n1\n2\n3\n4\n\n\n\n# 格式化时间\n\n// 格式化时间 把语言中时间对象 转换成字符串类型的时间\n// 2019-08-03\nfmt.println(now.format("2006-01-02"))\n// 2019/02/03 11:55:02\nfmt.println(now.format("2006/01/02 15:04:05"))\n// 2019/02/03 11:55:02 am\nfmt.println(now.format("2006/01/02 03:04:05 pm"))\n// // 2019/02/03 11:55:02.342\nfmt.println(now.format("2006/01/02 15:04:05.000"))\n// 按照对应的格式解析字符串类型的时间\ntimeobj, err := time.parse("2006-01-02", "2019-08-03")\nif err != nil {\n\tfmt.printf("parse time failed, err:%v\\n", err)\n\treturn\n}\nfmt.println(timeobj)\nfmt.println(timeobj.unix())\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n/格式化时间把语言中时间对象转换成字符串类型的时间\n//2019-08-03\nfmt.println(now.format("2006-01-02"))\n//2019/02/0311:55:02\nfmt.print1n(now.format("2006/01/0215:04:05"))\n//2019/02/0311:55:02am\nfmt.println(now.format("2006/01/02 03:04:05 pm"))\n////2019/02/0311:55:02.342\nfmt.print.1n(now.format("2006/01/0215:04:05.000"))\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\nfunc f2(){\n\tnow:=time.now()//本地的时间\n\tfmt.println(now)\n\t//明天的这个时间\n\t//按照指定格式职解析一个字符串格式的时间\n\ttime.parse("2886-81-0215:64:65","2019-68-6414:41:58")\n\t//按照东八区的时区和格式取解析一个字符串格式的时间\n\t//根据字符串加载时区\n\tloc,err :=time.loadlocation("asia/shanghai")\n\tif err != nil{\n\t\tfmt.printf("load loc failed,err:%v\\n",err)\n\t\treturn\n\t}\n\t//按照指定时区程析时间\n\ttime0bj,err:=time.parseinlocation("2006-01-8215:04:05","2019-08-0414:41:50",1oc)\n\tif err !=nil {\n\tfmt.printf("parse time failed,err:%v\\n",err)\n\treturn\n\t}\n\tfmt.println(timeobj)\n\t//时间对家相减\n\ttd :timeobj.sub(now)\n\tfmt.println(td)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 文件操作\n\npackage main\n\nimport (\n        "fmt"\n        "os"\n)\n\n// 打开文件\n\nfunc main() {\n        fileobj, err := os.open("./main.go")\n        if err !\n读了128个字节\n= nil {\n                fmt.printf("open file failed, err:%v", err)\n                return\n        }\n        // 记得关闭文件\n        defer fileobj.close()\n        // 读文\n读了128个字节\n件\n        // var tmp = make([]byte, 128) // 指定读的长度\n        var tmp [128]byte\n        for {\n                n, err := fileobj.read(tmp[:])\n                if e\n读了128个字节\nrr != nil {\n                        fmt.printf("read from file failed, err:%v", err)\n                        return\n                }\n                fmt.printf("读了%d个字节\\n", n)\n                fmt.\n读了66个字节\nprintln(string(tmp[:n]))\n                if n == 0 {\n                        return\n                }\n        }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# file.read()\n\n# 基本使用\n\nread方法定义如下：\n\nfunc (f *file) read(b []byte) (n int, err error)\n\n\n1\n\n\n它接收一个字节切片，返回读取的字节数和可能的具体错误，读到文件末尾时会返回0和io.eof。 举个例子：\n\nfunc main() {\n\t// 只读方式打开当前目录下的main.go文件\n\tfile, err := os.open("./main.go")\n\tif err != nil {\n\t\tfmt.println("open file failed!, err:", err)\n\t\treturn\n\t}\n\tdefer file.close()\n\t// 使用read方法读取数据\n\tvar tmp = make([]byte, 128)\n\tn, err := file.read(tmp)\n\tif err == io.eof {\n\t\tfmt.println("文件读完了")\n\t\treturn\n\t}\n\tif err != nil {\n\t\tfmt.println("read file failed, err:", err)\n\t\treturn\n\t}\n\tfmt.printf("读取了%d字节数据\\n", n)\n\tfmt.println(string(tmp[:n]))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# 循环读取\n\n使用for循环读取文件中的所有数据。\n\nfunc main() {\n\t// 只读方式打开当前目录下的main.go文件\n\tfile, err := os.open("./main.go")\n\tif err != nil {\n\t\tfmt.println("open file failed!, err:", err)\n\t\treturn\n\t}\n\tdefer file.close()\n\t// 循环读取文件\n\tvar content []byte\n\tvar tmp = make([]byte, 128)\n\tfor {\n\t\tn, err := file.read(tmp)\n\t\tif err == io.eof {\n\t\t\tfmt.println("文件读完了")\n\t\t\tbreak\n\t\t}\n\t\tif err != nil {\n\t\t\tfmt.println("read file failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tcontent = append(content, tmp[:n]...)\n\t}\n\tfmt.println(string(content))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# bufio读取文件\n\nbufio是在file的基础上封装了一层api，支持更多的功能。\n\npackage main\n\nimport (\n\t"bufio"\n\t"fmt"\n\t"io"\n\t"os"\n)\n\n// bufio按行读取示例\nfunc main() {\n\tfile, err := os.open("./xx.txt")\n\tif err != nil {\n\t\tfmt.println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.close()\n\treader := bufio.newreader(file)\n\tfor {\n\t\tline, err := reader.readstring(\'\\n\') //注意是字符\n\t\tif err == io.eof {\n\t\t\tif len(line) != 0 {\n\t\t\t\tfmt.println(line)\n\t\t\t}\n\t\t\tfmt.println("文件读完了")\n\t\t\tbreak\n\t\t}\n\t\tif err != nil {\n\t\t\tfmt.println("read file failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tfmt.print(line)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# ioutil读取整个文件\n\nio/ioutil包的readfile方法能够读取完整的文件，只需要将文件名作为参数传入。\n\npackage main\n\nimport (\n\t"fmt"\n\t"io/ioutil"\n)\n\n// ioutil.readfile读取整个文件\nfunc main() {\n\tcontent, err := ioutil.readfile("./main.go")\n\tif err != nil {\n\t\tfmt.println("read file failed, err:", err)\n\t\treturn\n\t}\n\tfmt.println(string(content))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 文件写入操作\n\nos.openfile()函数能够以指定模式打开文件，从而实现文件写入相关功能。\n\nfunc openfile(name string, flag int, perm filemode) (*file, error) {\n\t...\n}\n\n\n1\n2\n3\n\n\nname：要打开的文件名 flag：打开文件的模式。 模式有以下几种：\n\n模式            含义\nos.o_wronly   只写\nos.o_create   创建文件\nos.o_rdonly   只读\nos.o_rdwr     读写\nos.o_trunc    清空\nos.o_append   追加\n\nperm：文件权限，一个八进制数。r（读）04，w（写）02，x（执行）01。\n\n# write和writestring\n\nfunc main() {\n\tfile, err := os.openfile("xx.txt", os.o_create|os.o_trunc|os.o_wronly, 0666)\n\tif err != nil {\n\t\tfmt.println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.close()\n\tstr := "hello 沙河"\n\tfile.write([]byte(str))       //写入字节切片数据\n\tfile.writestring("hello 小王子") //直接写入字符串数据\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# bufio.newwriter\n\nfunc main() {\n\tfile, err := os.openfile("xx.txt", os.o_create|os.o_trunc|os.o_wronly, 0666)\n\tif err != nil {\n\t\tfmt.println("open file failed, err:", err)\n\t\treturn\n\t}\n\tdefer file.close()\n\twriter := bufio.newwriter(file)\n\tfor i := 0; i < 10; i++ {\n\t\twriter.writestring("hello沙河\\n") //将数据先写入缓存\n\t}\n\twriter.flush() //将缓存中的内容写入文件\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# ioutil.writefile\n\nfunc main() {\n\tstr := "hello 沙河"\n\terr := ioutil.writefile("./xx.txt", []byte(str), 0666)\n\tif err != nil {\n\t\tfmt.println("write file failed, err:", err)\n\t\treturn\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',charsets:{cjk:!0},lastUpdated:"2023/4/19",lastUpdatedTimestamp:1681877889e3},{title:"Go Study Day07 - 并发安全",frontmatter:{title:"Go Study Day07 - 并发安全",date:"2019-8-17",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第7天 并发安全 sync atomic"},{name:"keywords",content:"自学 go sync atomic"},{name:"twitter:title",content:"Go Study Day07 - 并发安全"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day07-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day07 - 并发安全"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day07-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-8-17"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day07 - 并发安全"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday7.html",summary:"不断学习，不断提升，日拱一卒，学习go第7天！ go sync atomic",description:""},regularPath:"/article/gostudy/day07-%E5%B9%B6%E5%8F%91%E5%AE%89%E5%85%A8.html",relativePath:"article/gostudy/day07-并发安全.md",key:"v-6c303cd8",path:"/article/gostudy/studygoday7.html",headers:[{level:2,title:"为什么会有并发安全",slug:"为什么会有并发安全",normalizedTitle:"为什么会有并发安全",charIndex:2},{level:2,title:"并发安全",slug:"并发安全",normalizedTitle:"并发安全",charIndex:7},{level:3,title:"互斥锁",slug:"互斥锁",normalizedTitle:"互斥锁",charIndex:744},{level:3,title:"读写互斥锁",slug:"读写互斥锁",normalizedTitle:"读写互斥锁",charIndex:1073},{level:3,title:"sync.WaitGroup",slug:"sync-waitgroup",normalizedTitle:"sync.waitgroup",charIndex:1662},{level:3,title:"sync.Once",slug:"sync-once",normalizedTitle:"sync.once",charIndex:1958},{level:3,title:"sync.Map",slug:"sync-map",normalizedTitle:"sync.map",charIndex:699},{level:2,title:"原子操作",slug:"原子操作",normalizedTitle:"原子操作",charIndex:199},{level:3,title:"atomic",slug:"atomic",normalizedTitle:"atomic",charIndex:217}],headersStr:"为什么会有并发安全 并发安全 互斥锁 读写互斥锁 sync.WaitGroup sync.Once sync.Map 原子操作 atomic",content:'# 为什么会有并发安全\n\n多个线程同时改数据，以谁为准？所以有了并发安全。\n\n那什么类型的数据需要开发者关注并发安全呢？\n\n# 原子类型\n\n原子类型意味着该数据类型的读取和写入操作是原子的，即在同一时刻只能有一个goroutine访问和修改该值，保证了该操作的原子性和可见性，不会出现竞争状态，因此在多个goroutine对其进行读写时不需要额外的同步机制（如锁）来保证数据的正确性和并发安全。\n\n原子操作类型在Go语言中的sync/atomic标准库中，包含以下类型：\n\n * int32\n * int64\n * uint32\n * uint64\n * uintptr\n * unsafe.Pointer\n\n这些类型提供了一些原子操作，例如加减运算、交换、比较和交换等，这些操作可以在并发执行的多个goroutine之间安全地保留变量的原子性。这使得在并发执行的情况下使用共享内存变得更加安全和高效。\n\n> 系统默认来保证原子类型在做原子操作时的并发安全。\n\n# 非原子类型\n\n而map、切片等非原子类型则系统并不会来保证他的并发安全，因为那样会让他变的低效。\n\n在并发环境下，对于 Go 语言的 Map 而言，\n\n * 当多个 goroutine 并发写入或者读取 map 时，会出现竞争条件而导致运行时错误或者未定义的行为。\n * 单独的读取、覆盖或者增加操作不会引起竞态条件问题，但是由于 map 的实现机制导致读写 map 会涉及到对 map 中的桶、链表等内部数据的修改，因此具有一定的复杂性。\n\n所以，虽然增加 key value 操作不会出现竞态条件，但是在并发环境中还是需要使用 sync.Map 或者加锁的方式来保证 map 的并发安全性。\n\n\n# 并发安全\n\n\n# 互斥锁\n\n适用于并发访问公共资源的场景。\n\n声明互斥锁\n\nvar lock sync.Mutex\n\n\n1\n\n\n使用互斥锁\n\nfunc add() {\n\tfor i := 0; i < 500000; i++ {\n\t\tlock.Lock() // 获取互斥锁\n\t\tx = x + 1\n\t\tlock.Unlock() // 释放互斥锁\n\t}\n\twg.Done()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n使用互斥锁能够保证同一时间有且只有一个 goroutine 进入临界区，其他的 goroutine 则在等待锁；当互斥锁释放后，等待的 goroutine 才可以获取锁进入临界区，多个 goroutine 同时等待一个锁时，唤醒的策略是随机的。\n\n\n# 读写互斥锁\n\n读写锁分为两种：读锁和写锁。当一个 goroutine 获取到读锁之后，其他的 goroutine 如果是获取读锁会继续获得锁，如果是获取写锁就会等待；而当一个 goroutine 获取写锁之后，其他的 goroutine 无论是获取读锁还是写锁都会等待。\n\n声明读写互斥锁\n\nvar rwLock sync.RWMutex\n\n\n1\n\n\n使用读写互斥锁\n\n// 读操作\nfunc read() {\n\tdefer wg.Done()\n\trwLock.RLock() // 获取读锁\n\tfmt.Println(x)\n\ttime.Sleep(time.Millisecond * 2)\n\trwLock.RUnlock() // 释放读锁\n}\n\n// 写操作\nfunc write() {\n\tdefer wg.Done()\n\trwLock.Lock() // 获取写锁\n\tx = x + 1\n\ttime.Sleep(time.Millisecond * 10)\n\trwLock.Unlock() // 释放写锁\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n使用读写互斥锁在读多写少的场景下能够极大地提高程序的性能。不过需要注意的是如果一个程序中的读操作和写操作数量级差别不大，那么读写互斥锁的优势就发挥不出来。\n\n\n# sync.WaitGroup\n\nday06并发里面已经使用过,主要用于阻塞主进程，在协程执行完成之前不退出。\n\nvar wg sync.WaitGroup\n\nfunc hello() {\n\tdefer wg.Done()\n\tfmt.Println("Hello Goroutine!")\n}\nfunc main() {\n\twg.Add(1)\n\tgo hello() // 启动另外一个goroutine去执行hello函数\n\tfmt.Println("main goroutine done!")\n\twg.Wait()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# sync.Once\n\n适用于那些只执行一次的场景。\n\n例如，只加载一次图片、只关闭一次channel\n\nvar icons map[string]image.Image\n\nvar loadIconsOnce sync.Once\n\nfunc loadIcons() {\n\ticons = map[string]image.Image{\n\t\t"left":  loadIcon("left.png"),\n\t\t"up":    loadIcon("up.png"),\n\t\t"right": loadIcon("right.png"),\n\t\t"down":  loadIcon("down.png"),\n\t}\n}\n\n// Icon 是并发安全的\nfunc Icon(name string) image.Image {\n\tloadIconsOnce.Do(loadIcons)\n\treturn icons[name]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# sync.Map\n\nGo内置的map不是并发安全的。\n\n// sync.Map 是一个开箱即用的并发安全的map\n\nvar m2 = sync.Map{}\n\nfunc main() {\n\twg := sync.WaitGroup{}\n\tfor i := 0; i < 21; i++ {\n\t\twg.Add(1)\n\t\tgo func(n int) {\n\t\t\tkey := strconv.Itoa(n)\n\t\t\tm2.Store(key, n)         // 必须使用sync.Map内置的Store方法设置键值对\n\t\t\tvalue, _ := m2.Load(key) // 必须使用sync.Map提供的Load方法根据key取值\n\t\t\tfmt.Printf("k=:%v,v:=%v\\n", key, value)\n\t\t\twg.Done()\n\t\t}(i)\n\t}\n\twg.Wait()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 原子操作\n\n针对整数数据类型（int32、uint32、int64、uint64）我们还可以使用原子操作来保证并发安全，通常直接使用原子操作比使用锁操作效率更高。Go语言中原子操作由内置的标准库sync/atomic提供。\n\n\n# atomic\n\n方法                                                            释义\nfunc LoadInt32(addr *int32) (val int32)                       读取操作\nfunc LoadUint32(addr *uint32) (val uint32)                    读取操作\nfunc LoadUint64(addr *uint64) (val uint64)                    读取操作\nfunc LoadUintptr(addr *uintptr) (val uintptr)                 读取操作\nfunc LoadPointer(addr *unsafe.Pointer) (val unsafe.Pointer)   读取操作\n                                                              \nfunc StoreInt32(addr *int32, val int32)                       写入操作\nfunc StoreInt64(addr *int64, val int64)                       写入操作\nfunc StoreUint32(addr *uint32, val uint32)                    写入操作\nfunc StoreUint64(addr *uint64, val uint64)                    写入操作\nfunc StoreUintptr(addr *uintptr, val uintptr)                 写入操作\nfunc StorePointer(addr *unsafe.Pointer, val unsafe.Pointer)   写入操作\n                                                              \nfunc AddInt32(addr *int32, delta int32) (new int32)           修改操作\nfunc AddInt64(addr *int64, delta int64) (new int64)           修改操作\nfunc AddUint32(addr *uint32, delta uint32) (new uint32)       修改操作\nfunc AddUint64(addr *uint64, delta uint64) (new uint64)       修改操作\nfunc AddUintptr(addr *uintptr, delta uintptr) (new uintptr)   修改操作\n                                                              \nfunc SwapInt32(addr *int32, new int32) (old int32)            交换操作\nfunc SwapInt64(addr *int64, new int64) (old int64)            交换操作\nfunc SwapUint32(addr *uint32, new uint32) (old uint32)        交换操作\nfunc SwapUint64(addr *uint64, new uint64) (old uint64)        交换操作\nfunc SwapUintptr(addr *uintptr, new uintptr) (old uintptr)    交换操作\nfunc SwapPointer(addr *unsafe.Pointer, new unsafe.Pointer)    交换操作\n(old unsafe.Pointer)\n                                                              \nfunc CompareAndSwapInt32(addr *int32, old, new int32)         比较并交换操作\n(swapped bool)\nfunc CompareAndSwapInt64(addr *int64, old, new int64)         比较并交换操作\n(swapped bool)\nfunc CompareAndSwapUint32(addr *uint32, old, new uint32)      比较并交换操作\n(swapped bool)\nfunc CompareAndSwapUint64(addr *uint64, old, new uint64)      比较并交换操作\n(swapped bool)\nfunc CompareAndSwapUintptr(addr *uintptr, old, new uintptr)   比较并交换操作\n(swapped bool)\n\n# 性能对比\n\npackage main\n\nimport (\n\t"fmt"\n\t"sync"\n\t"sync/atomic"\n\t"time"\n)\n\ntype Counter interface {\n\tInc()\n\tLoad() int64\n}\n\n// 普通版\ntype CommonCounter struct {\n\tcounter int64\n}\n\nfunc (c CommonCounter) Inc() {\n\tc.counter++\n}\n\nfunc (c CommonCounter) Load() int64 {\n\treturn c.counter\n}\n\n// 互斥锁版\ntype MutexCounter struct {\n\tcounter int64\n\tlock    sync.Mutex\n}\n\nfunc (m *MutexCounter) Inc() {\n\tm.lock.Lock()\n\tdefer m.lock.Unlock()\n\tm.counter++\n}\n\nfunc (m *MutexCounter) Load() int64 {\n\tm.lock.Lock()\n\tdefer m.lock.Unlock()\n\treturn m.counter\n}\n\n// 原子操作版\ntype AtomicCounter struct {\n\tcounter int64\n}\n\nfunc (a *AtomicCounter) Inc() {\n\tatomic.AddInt64(&a.counter, 1)\n}\n\nfunc (a *AtomicCounter) Load() int64 {\n\treturn atomic.LoadInt64(&a.counter)\n}\n\nfunc test(c Counter) {\n\tvar wg sync.WaitGroup\n\tstart := time.Now()\n\tfor i := 0; i < 1000; i++ {\n\t\twg.Add(1)\n\t\tgo func() {\n\t\t\tc.Inc()\n\t\t\twg.Done()\n\t\t}()\n\t}\n\twg.Wait()\n\tend := time.Now()\n\tfmt.Println(c.Load(), end.Sub(start))\n}\n\nfunc main() {\n\tc1 := CommonCounter{} // 非并发安全\n\ttest(c1)\n\tc2 := MutexCounter{} // 使用互斥锁实现并发安全\n\ttest(&c2)\n\tc3 := AtomicCounter{} // 并发安全且比互斥锁效率更高\n\ttest(&c3)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n',normalizedContent:'# 为什么会有并发安全\n\n多个线程同时改数据，以谁为准？所以有了并发安全。\n\n那什么类型的数据需要开发者关注并发安全呢？\n\n# 原子类型\n\n原子类型意味着该数据类型的读取和写入操作是原子的，即在同一时刻只能有一个goroutine访问和修改该值，保证了该操作的原子性和可见性，不会出现竞争状态，因此在多个goroutine对其进行读写时不需要额外的同步机制（如锁）来保证数据的正确性和并发安全。\n\n原子操作类型在go语言中的sync/atomic标准库中，包含以下类型：\n\n * int32\n * int64\n * uint32\n * uint64\n * uintptr\n * unsafe.pointer\n\n这些类型提供了一些原子操作，例如加减运算、交换、比较和交换等，这些操作可以在并发执行的多个goroutine之间安全地保留变量的原子性。这使得在并发执行的情况下使用共享内存变得更加安全和高效。\n\n> 系统默认来保证原子类型在做原子操作时的并发安全。\n\n# 非原子类型\n\n而map、切片等非原子类型则系统并不会来保证他的并发安全，因为那样会让他变的低效。\n\n在并发环境下，对于 go 语言的 map 而言，\n\n * 当多个 goroutine 并发写入或者读取 map 时，会出现竞争条件而导致运行时错误或者未定义的行为。\n * 单独的读取、覆盖或者增加操作不会引起竞态条件问题，但是由于 map 的实现机制导致读写 map 会涉及到对 map 中的桶、链表等内部数据的修改，因此具有一定的复杂性。\n\n所以，虽然增加 key value 操作不会出现竞态条件，但是在并发环境中还是需要使用 sync.map 或者加锁的方式来保证 map 的并发安全性。\n\n\n# 并发安全\n\n\n# 互斥锁\n\n适用于并发访问公共资源的场景。\n\n声明互斥锁\n\nvar lock sync.mutex\n\n\n1\n\n\n使用互斥锁\n\nfunc add() {\n\tfor i := 0; i < 500000; i++ {\n\t\tlock.lock() // 获取互斥锁\n\t\tx = x + 1\n\t\tlock.unlock() // 释放互斥锁\n\t}\n\twg.done()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n使用互斥锁能够保证同一时间有且只有一个 goroutine 进入临界区，其他的 goroutine 则在等待锁；当互斥锁释放后，等待的 goroutine 才可以获取锁进入临界区，多个 goroutine 同时等待一个锁时，唤醒的策略是随机的。\n\n\n# 读写互斥锁\n\n读写锁分为两种：读锁和写锁。当一个 goroutine 获取到读锁之后，其他的 goroutine 如果是获取读锁会继续获得锁，如果是获取写锁就会等待；而当一个 goroutine 获取写锁之后，其他的 goroutine 无论是获取读锁还是写锁都会等待。\n\n声明读写互斥锁\n\nvar rwlock sync.rwmutex\n\n\n1\n\n\n使用读写互斥锁\n\n// 读操作\nfunc read() {\n\tdefer wg.done()\n\trwlock.rlock() // 获取读锁\n\tfmt.println(x)\n\ttime.sleep(time.millisecond * 2)\n\trwlock.runlock() // 释放读锁\n}\n\n// 写操作\nfunc write() {\n\tdefer wg.done()\n\trwlock.lock() // 获取写锁\n\tx = x + 1\n\ttime.sleep(time.millisecond * 10)\n\trwlock.unlock() // 释放写锁\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n使用读写互斥锁在读多写少的场景下能够极大地提高程序的性能。不过需要注意的是如果一个程序中的读操作和写操作数量级差别不大，那么读写互斥锁的优势就发挥不出来。\n\n\n# sync.waitgroup\n\nday06并发里面已经使用过,主要用于阻塞主进程，在协程执行完成之前不退出。\n\nvar wg sync.waitgroup\n\nfunc hello() {\n\tdefer wg.done()\n\tfmt.println("hello goroutine!")\n}\nfunc main() {\n\twg.add(1)\n\tgo hello() // 启动另外一个goroutine去执行hello函数\n\tfmt.println("main goroutine done!")\n\twg.wait()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# sync.once\n\n适用于那些只执行一次的场景。\n\n例如，只加载一次图片、只关闭一次channel\n\nvar icons map[string]image.image\n\nvar loadiconsonce sync.once\n\nfunc loadicons() {\n\ticons = map[string]image.image{\n\t\t"left":  loadicon("left.png"),\n\t\t"up":    loadicon("up.png"),\n\t\t"right": loadicon("right.png"),\n\t\t"down":  loadicon("down.png"),\n\t}\n}\n\n// icon 是并发安全的\nfunc icon(name string) image.image {\n\tloadiconsonce.do(loadicons)\n\treturn icons[name]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# sync.map\n\ngo内置的map不是并发安全的。\n\n// sync.map 是一个开箱即用的并发安全的map\n\nvar m2 = sync.map{}\n\nfunc main() {\n\twg := sync.waitgroup{}\n\tfor i := 0; i < 21; i++ {\n\t\twg.add(1)\n\t\tgo func(n int) {\n\t\t\tkey := strconv.itoa(n)\n\t\t\tm2.store(key, n)         // 必须使用sync.map内置的store方法设置键值对\n\t\t\tvalue, _ := m2.load(key) // 必须使用sync.map提供的load方法根据key取值\n\t\t\tfmt.printf("k=:%v,v:=%v\\n", key, value)\n\t\t\twg.done()\n\t\t}(i)\n\t}\n\twg.wait()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 原子操作\n\n针对整数数据类型（int32、uint32、int64、uint64）我们还可以使用原子操作来保证并发安全，通常直接使用原子操作比使用锁操作效率更高。go语言中原子操作由内置的标准库sync/atomic提供。\n\n\n# atomic\n\n方法                                                            释义\nfunc loadint32(addr *int32) (val int32)                       读取操作\nfunc loaduint32(addr *uint32) (val uint32)                    读取操作\nfunc loaduint64(addr *uint64) (val uint64)                    读取操作\nfunc loaduintptr(addr *uintptr) (val uintptr)                 读取操作\nfunc loadpointer(addr *unsafe.pointer) (val unsafe.pointer)   读取操作\n                                                              \nfunc storeint32(addr *int32, val int32)                       写入操作\nfunc storeint64(addr *int64, val int64)                       写入操作\nfunc storeuint32(addr *uint32, val uint32)                    写入操作\nfunc storeuint64(addr *uint64, val uint64)                    写入操作\nfunc storeuintptr(addr *uintptr, val uintptr)                 写入操作\nfunc storepointer(addr *unsafe.pointer, val unsafe.pointer)   写入操作\n                                                              \nfunc addint32(addr *int32, delta int32) (new int32)           修改操作\nfunc addint64(addr *int64, delta int64) (new int64)           修改操作\nfunc adduint32(addr *uint32, delta uint32) (new uint32)       修改操作\nfunc adduint64(addr *uint64, delta uint64) (new uint64)       修改操作\nfunc adduintptr(addr *uintptr, delta uintptr) (new uintptr)   修改操作\n                                                              \nfunc swapint32(addr *int32, new int32) (old int32)            交换操作\nfunc swapint64(addr *int64, new int64) (old int64)            交换操作\nfunc swapuint32(addr *uint32, new uint32) (old uint32)        交换操作\nfunc swapuint64(addr *uint64, new uint64) (old uint64)        交换操作\nfunc swapuintptr(addr *uintptr, new uintptr) (old uintptr)    交换操作\nfunc swappointer(addr *unsafe.pointer, new unsafe.pointer)    交换操作\n(old unsafe.pointer)\n                                                              \nfunc compareandswapint32(addr *int32, old, new int32)         比较并交换操作\n(swapped bool)\nfunc compareandswapint64(addr *int64, old, new int64)         比较并交换操作\n(swapped bool)\nfunc compareandswapuint32(addr *uint32, old, new uint32)      比较并交换操作\n(swapped bool)\nfunc compareandswapuint64(addr *uint64, old, new uint64)      比较并交换操作\n(swapped bool)\nfunc compareandswapuintptr(addr *uintptr, old, new uintptr)   比较并交换操作\n(swapped bool)\n\n# 性能对比\n\npackage main\n\nimport (\n\t"fmt"\n\t"sync"\n\t"sync/atomic"\n\t"time"\n)\n\ntype counter interface {\n\tinc()\n\tload() int64\n}\n\n// 普通版\ntype commoncounter struct {\n\tcounter int64\n}\n\nfunc (c commoncounter) inc() {\n\tc.counter++\n}\n\nfunc (c commoncounter) load() int64 {\n\treturn c.counter\n}\n\n// 互斥锁版\ntype mutexcounter struct {\n\tcounter int64\n\tlock    sync.mutex\n}\n\nfunc (m *mutexcounter) inc() {\n\tm.lock.lock()\n\tdefer m.lock.unlock()\n\tm.counter++\n}\n\nfunc (m *mutexcounter) load() int64 {\n\tm.lock.lock()\n\tdefer m.lock.unlock()\n\treturn m.counter\n}\n\n// 原子操作版\ntype atomiccounter struct {\n\tcounter int64\n}\n\nfunc (a *atomiccounter) inc() {\n\tatomic.addint64(&a.counter, 1)\n}\n\nfunc (a *atomiccounter) load() int64 {\n\treturn atomic.loadint64(&a.counter)\n}\n\nfunc test(c counter) {\n\tvar wg sync.waitgroup\n\tstart := time.now()\n\tfor i := 0; i < 1000; i++ {\n\t\twg.add(1)\n\t\tgo func() {\n\t\t\tc.inc()\n\t\t\twg.done()\n\t\t}()\n\t}\n\twg.wait()\n\tend := time.now()\n\tfmt.println(c.load(), end.sub(start))\n}\n\nfunc main() {\n\tc1 := commoncounter{} // 非并发安全\n\ttest(c1)\n\tc2 := mutexcounter{} // 使用互斥锁实现并发安全\n\ttest(&c2)\n\tc3 := atomiccounter{} // 并发安全且比互斥锁效率更高\n\ttest(&c3)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n',charsets:{cjk:!0},lastUpdated:"2023/4/21",lastUpdatedTimestamp:1682074658e3},{title:"Go Study Day06 - 并发",frontmatter:{title:"Go Study Day06 - 并发",date:"2019-8-03",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第6天 goroutine和channel select多路复用"},{name:"keywords",content:"自学 go goroutine channel select多路复用"},{name:"image",content:"https://www.yangxiaokang.com/day06-并发.assets/image-20230316115639836.png"},{name:"twitter:title",content:"Go Study Day06 - 并发"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day06-并发.assets/image-20230316115639836.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day06-%E5%B9%B6%E5%8F%91.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day06 - 并发"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/day06-并发.assets/image-20230316115639836.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day06-%E5%B9%B6%E5%8F%91.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-8-03"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day06 - 并发"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/day06-并发.assets/image-20230316115639836.png"}],feed:{enable:!0},permalink:"/article/gostudy/studygoday6.html",summary:"不断学习，不断提升，日拱一卒，学习go第6天！ goroutine channel gselect多路复用",description:""},regularPath:"/article/gostudy/day06-%E5%B9%B6%E5%8F%91.html",relativePath:"article/gostudy/day06-并发.md",key:"v-f16e80a4",path:"/article/gostudy/studygoday6.html",headers:[{level:2,title:"基本概念",slug:"基本概念",normalizedTitle:"基本概念",charIndex:2},{level:3,title:"串行、并发与并行",slug:"串行、并发与并行",normalizedTitle:"串行、并发与并行",charIndex:11},{level:3,title:"进程、线程和协程",slug:"进程、线程和协程",normalizedTitle:"进程、线程和协程",charIndex:124},{level:2,title:"goroutine",slug:"goroutine",normalizedTitle:"goroutine",charIndex:282},{level:2,title:"channel",slug:"channel",normalizedTitle:"channel",charIndex:1857},{level:2,title:"select多路复用",slug:"select多路复用",normalizedTitle:"select多路复用",charIndex:3619},{level:2,title:"workPool",slug:"workpool",normalizedTitle:"workpool",charIndex:4292}],headersStr:"基本概念 串行、并发与并行 进程、线程和协程 goroutine channel select多路复用 workPool",content:'# 基本概念\n\n\n# 串行、并发与并行\n\n串行：我们都是先读小学，小学毕业后再读初中，读完初中再读高中。\n\n并发：同一时间段内执行多个任务（你在用微信和两个女朋友聊天）。\n\n并行：同一时刻执行多个任务（你和你朋友都在用微信和女朋友聊天）。\n\n\n# 进程、线程和协程\n\n进程（process）：程序在操作系统中的一次执行过程，系统进行资源分配和调度的一个独立单位。\n\n线程（thread）：操作系统基于进程开启的轻量级进程，是操作系统调度执行的最小单位。\n\n协程（coroutine）：非操作系统提供而是由用户自行创建和控制的用户态‘线程’，比线程更轻量级。\n\n> goroutine与操作系统线程（OS线程）的区别?\n> \n> goroutine是用户态的线程，比内核态的线程更轻量级一点，初始时只占用2KB的栈空间。可以轻松开启数十万的goroutine也不会崩内存。\n\n\n# goroutine\n\ngoroutine是用户态的线程，比内核态线程更轻量级，是由Go语言的运行时(runtime)调度的。\n\n# 启动goroutine\n\n将要并发执行的任务包装成一个函数，调用函数的时候前面加上go关键字，就能够开启一个goroutine去执行该函数的任务。\n\npackage main\n\nimport (\n\t"fmt"\n\t//"time"\n)\n\nfunc hello() {\n\tfmt.Println("hello")\n}\n\nfunc main() {\n\tgo hello()\n\tfmt.Println("你好")\n\t// time.Sleep(time.Second)\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n为什么会先打印你好呢？\n\n这是因为在程序中创建 goroutine 执行函数需要一定的开销，而与此同时 main 函数所在的 goroutine 是继续执行的。\n\n\n\n可以通过sleep的方式让goroutine执行完，但不够优雅。\n\n# sync.WaitGroup\n\n我们在 main goroutine 中使用sync.WaitGroup来等待 hello goroutine 完成后再退出。\n\npackage main\n\nimport (\n\t"fmt"\n\t"sync"\n)\n\n// 声明全局等待组变量\nvar wg sync.WaitGroup\n\nfunc hello() {\n\tfmt.Println("hello")\n\twg.Done() // 告知当前goroutine完成\n}\n\nfunc main() {\n\twg.Add(1) // 登记1个goroutine\n\tgo hello()\n\tfmt.Println("你好")\n\twg.Wait() // 阻塞等待登记的goroutine完成\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# goroutine什么结束?\n\ngoroutine 对应的函数结束了，goroutine结束了。\n\nmain函数执行完了，由main函数创建的那些goroutine都结束了。\n\n# goroutine调度模型\n\n * G：表示 goroutine，每执行一次go f()就创建一个 G，包含要执行的函数和上下文信息。\n * 全局队列（Global Queue）：存放等待运行的 G。\n * P：表示 goroutine 执行所需的资源，最多有 GOMAXPROCS 个。\n * P 的本地队列：同全局队列类似，存放的也是等待运行的G，存的数量有限，不超过256个。新建 G 时，G 优先加入到 P 的本地队列，如果本地队列满了会批量移动部分 G 到全局队列。\n * M：线程想运行任务就得获取 P，从 P 的本地队列获取 G，当 P 的本地队列为空时，M 也会尝试从全局队列或其他 P 的本地队列获取 G。M 运行 G，G 执行之后，M 会从 P 获取下一个 G，不断重复下去。\n * Goroutine 调度器和操作系统调度器是通过 M 结合起来的，每个 M 都代表了1个内核线程，操作系统调度器负责把内核线程分配到 CPU 的核上执行。\n\n# GOMAXPROCS\n\nGo1.5之后默认就是操作系统的逻辑核心数，默认跑满CPU\n\nruntime.GOMAXPROCS(1):只占用一个核。\n\n\n# channel\n\nGo 语言中的通道（channel）是一种特殊的类型。通道像一个传送带或者队列，总是遵循先入先出（First In First Out）的规则，保证收发数据的顺序。每一个通道都是一个具体类型的导管，也就是声明channel的时候需要为其指定元素类型。\n\nGo语言采用的并发模型是CSP（Communicating Sequential Processes），提倡通过通信共享内存而不是通过共享内存而实现通信。\n\n# channel类型\n\nvar 变量名称 chan 元素类型\nvar b chan int // 需要指定通道中元素的类型\n\n\n1\n2\n\n\n通道必须使用make函数初始化才能使用!!!\n\nch1 := make(chan int) // 无缓冲\nch2 := make(chan bool, 1)  // 声明一个缓冲区大小为1的通道\n\n\n1\n2\n\n\n# 通道的操作\n\n<-\n\n 1. 发送 : ch1 <- 1\n 2. 接收: <- ch1\n 3. 关闭:close()\n\n# 单向通道\n\n多用于函数传参，限制函数中通道的操作。\n\n<- chan int // 只接收通道，只能接收不能发送\nchan <- int // 只发送通道，只能发送不能接收\n\n\n1\n2\n\n\n# demo\n\npackage main\n\nimport (\n    "fmt"\n)\n\nfunc producer(ch chan int) {\n    for i := 0; i < 10; i++ {\n        ch <- i\n    }\n    close(ch)\n}\n\nfunc consumer(ch chan int, done chan bool) {\n    for {\n        val, ok := <- ch\n        if ok {\n            fmt.Println(val)\n        } else {\n            done <- true\n            return\n        }\n    }\n}\n\nfunc main() {\n    ch := make(chan int)\n    done := make(chan bool)\n    go producer(ch)\n    go consumer(ch, done)\n    <- done\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n上述代码中，我们定义了两个 goroutine：producer() 和 consumer()。producer() 生产整数数据并将其发送到一个通道 ch 中；consumer() 则从通道 ch 中接收数据并消费。\n\n主函数中，我们启动两个 producer() 和 consumer() 的 goroutine，然后等待 consumer() 结束信号从 done 通道中读取。当 consumer() 接收到 ch 通道被关闭的信号时，它会将一个 boolean 类型的值发送到 done 通道中表示其结束，并退出。\n\n简单调用 go run 命令运行该程序即可看到生产者和消费者 goroutine 的交互过程和输出结果。\n\nQ：如果是无缓冲通道，此时关闭通道，生产者还可以继续往通道发消息吗？\n\nA：对于无缓冲通道，关闭通道会导致无法再向该通道发送数据，任何试图发送数据的操作都会导致程序 panic。因此，在通道被关闭之前，生产者可以继续往通道发送消息，但在通道被关闭后，生产者无法继续发送消息。\n\nQ：此时我们用的是无缓冲的通道，假设是有缓冲的通道，如果通道有数据，此时关闭通道，读取通道，ok值是false吗？\n\nA：答案是否定的。关闭一个非空的通道时，其中的数据可以继续被读取直到通道中的所有数据都被读取完毕。在数据被全部读取之前，读取通道后的ok值仍然是true。只有在通道中的数据被全部读取之后，再次读取通道时，ok值才会变为false。\n\n# 总结\n\n\n\n\n\n\n# select多路复用\n\nSelect 的使用方式类似于之前学到的 switch 语句，它也有一系列 case 分支和一个默认的分支。每个 case 分支会对应一个通道的通信（接收或发送）过程。select 会一直等待，直到其中的某个 case 的通信操作完成时，就会执行该 case 分支对应的语句。具体格式如下：\n\nselect {\ncase <-ch1:\n\t//...\ncase data := <-ch2:\n\t//...\ncase ch3 <- 10:\n\t//...\ndefault:\n\t//默认操作\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 特点\n\n * 可处理一个或多个 channel 的发送/接收操作。\n * 如果多个 case 同时满足，select 会随机选择一个执行。如果多个case都想执行，需要在外层套一个for{}，无限循环在迫使select一直执行下去，这样可使多个case都会被执行到。\n * 对于没有 case 的 select 会一直阻塞，可用于阻塞 main 函数，防止退出。\n\npackage main\n\nimport "fmt"\n\nfunc main() {\n\tch := make(chan int, 1)\n\tfor i := 1; i <= 10; i++ {\n\t\tselect {\n\t\tcase x := <-ch:\n\t\t\tfmt.Println(x)\n\t\tcase ch <- i:\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# workPool\n\n控制并发，当有10个任务需要处理时，可以先把任务线程创建出来，通过控制并发数量慢慢处理。\n\nvar wg sync.WaitGroupt\nfunc main(){\n\tuserCount :=10\n\tch := make(chan bool,2)\n\tfor i:=0;i userCount;i++ {\n\t\twg.Add(1)\n\t\tgo Read(ch,i)\n\t}\n\t\twg.Wait()\n}\nfunc Read(ch chan bool,i int){\n\tdefer wg.Done()\n\tch <-true\n\tfmt.Printf("go func:%d,time:%d\\n",i,time.Now().Unix())\n\ttime.Sleep(time.Second)\n\t<-ch\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',normalizedContent:'# 基本概念\n\n\n# 串行、并发与并行\n\n串行：我们都是先读小学，小学毕业后再读初中，读完初中再读高中。\n\n并发：同一时间段内执行多个任务（你在用微信和两个女朋友聊天）。\n\n并行：同一时刻执行多个任务（你和你朋友都在用微信和女朋友聊天）。\n\n\n# 进程、线程和协程\n\n进程（process）：程序在操作系统中的一次执行过程，系统进行资源分配和调度的一个独立单位。\n\n线程（thread）：操作系统基于进程开启的轻量级进程，是操作系统调度执行的最小单位。\n\n协程（coroutine）：非操作系统提供而是由用户自行创建和控制的用户态‘线程’，比线程更轻量级。\n\n> goroutine与操作系统线程（os线程）的区别?\n> \n> goroutine是用户态的线程，比内核态的线程更轻量级一点，初始时只占用2kb的栈空间。可以轻松开启数十万的goroutine也不会崩内存。\n\n\n# goroutine\n\ngoroutine是用户态的线程，比内核态线程更轻量级，是由go语言的运行时(runtime)调度的。\n\n# 启动goroutine\n\n将要并发执行的任务包装成一个函数，调用函数的时候前面加上go关键字，就能够开启一个goroutine去执行该函数的任务。\n\npackage main\n\nimport (\n\t"fmt"\n\t//"time"\n)\n\nfunc hello() {\n\tfmt.println("hello")\n}\n\nfunc main() {\n\tgo hello()\n\tfmt.println("你好")\n\t// time.sleep(time.second)\n}\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n为什么会先打印你好呢？\n\n这是因为在程序中创建 goroutine 执行函数需要一定的开销，而与此同时 main 函数所在的 goroutine 是继续执行的。\n\n\n\n可以通过sleep的方式让goroutine执行完，但不够优雅。\n\n# sync.waitgroup\n\n我们在 main goroutine 中使用sync.waitgroup来等待 hello goroutine 完成后再退出。\n\npackage main\n\nimport (\n\t"fmt"\n\t"sync"\n)\n\n// 声明全局等待组变量\nvar wg sync.waitgroup\n\nfunc hello() {\n\tfmt.println("hello")\n\twg.done() // 告知当前goroutine完成\n}\n\nfunc main() {\n\twg.add(1) // 登记1个goroutine\n\tgo hello()\n\tfmt.println("你好")\n\twg.wait() // 阻塞等待登记的goroutine完成\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# goroutine什么结束?\n\ngoroutine 对应的函数结束了，goroutine结束了。\n\nmain函数执行完了，由main函数创建的那些goroutine都结束了。\n\n# goroutine调度模型\n\n * g：表示 goroutine，每执行一次go f()就创建一个 g，包含要执行的函数和上下文信息。\n * 全局队列（global queue）：存放等待运行的 g。\n * p：表示 goroutine 执行所需的资源，最多有 gomaxprocs 个。\n * p 的本地队列：同全局队列类似，存放的也是等待运行的g，存的数量有限，不超过256个。新建 g 时，g 优先加入到 p 的本地队列，如果本地队列满了会批量移动部分 g 到全局队列。\n * m：线程想运行任务就得获取 p，从 p 的本地队列获取 g，当 p 的本地队列为空时，m 也会尝试从全局队列或其他 p 的本地队列获取 g。m 运行 g，g 执行之后，m 会从 p 获取下一个 g，不断重复下去。\n * goroutine 调度器和操作系统调度器是通过 m 结合起来的，每个 m 都代表了1个内核线程，操作系统调度器负责把内核线程分配到 cpu 的核上执行。\n\n# gomaxprocs\n\ngo1.5之后默认就是操作系统的逻辑核心数，默认跑满cpu\n\nruntime.gomaxprocs(1):只占用一个核。\n\n\n# channel\n\ngo 语言中的通道（channel）是一种特殊的类型。通道像一个传送带或者队列，总是遵循先入先出（first in first out）的规则，保证收发数据的顺序。每一个通道都是一个具体类型的导管，也就是声明channel的时候需要为其指定元素类型。\n\ngo语言采用的并发模型是csp（communicating sequential processes），提倡通过通信共享内存而不是通过共享内存而实现通信。\n\n# channel类型\n\nvar 变量名称 chan 元素类型\nvar b chan int // 需要指定通道中元素的类型\n\n\n1\n2\n\n\n通道必须使用make函数初始化才能使用!!!\n\nch1 := make(chan int) // 无缓冲\nch2 := make(chan bool, 1)  // 声明一个缓冲区大小为1的通道\n\n\n1\n2\n\n\n# 通道的操作\n\n<-\n\n 1. 发送 : ch1 <- 1\n 2. 接收: <- ch1\n 3. 关闭:close()\n\n# 单向通道\n\n多用于函数传参，限制函数中通道的操作。\n\n<- chan int // 只接收通道，只能接收不能发送\nchan <- int // 只发送通道，只能发送不能接收\n\n\n1\n2\n\n\n# demo\n\npackage main\n\nimport (\n    "fmt"\n)\n\nfunc producer(ch chan int) {\n    for i := 0; i < 10; i++ {\n        ch <- i\n    }\n    close(ch)\n}\n\nfunc consumer(ch chan int, done chan bool) {\n    for {\n        val, ok := <- ch\n        if ok {\n            fmt.println(val)\n        } else {\n            done <- true\n            return\n        }\n    }\n}\n\nfunc main() {\n    ch := make(chan int)\n    done := make(chan bool)\n    go producer(ch)\n    go consumer(ch, done)\n    <- done\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n上述代码中，我们定义了两个 goroutine：producer() 和 consumer()。producer() 生产整数数据并将其发送到一个通道 ch 中；consumer() 则从通道 ch 中接收数据并消费。\n\n主函数中，我们启动两个 producer() 和 consumer() 的 goroutine，然后等待 consumer() 结束信号从 done 通道中读取。当 consumer() 接收到 ch 通道被关闭的信号时，它会将一个 boolean 类型的值发送到 done 通道中表示其结束，并退出。\n\n简单调用 go run 命令运行该程序即可看到生产者和消费者 goroutine 的交互过程和输出结果。\n\nq：如果是无缓冲通道，此时关闭通道，生产者还可以继续往通道发消息吗？\n\na：对于无缓冲通道，关闭通道会导致无法再向该通道发送数据，任何试图发送数据的操作都会导致程序 panic。因此，在通道被关闭之前，生产者可以继续往通道发送消息，但在通道被关闭后，生产者无法继续发送消息。\n\nq：此时我们用的是无缓冲的通道，假设是有缓冲的通道，如果通道有数据，此时关闭通道，读取通道，ok值是false吗？\n\na：答案是否定的。关闭一个非空的通道时，其中的数据可以继续被读取直到通道中的所有数据都被读取完毕。在数据被全部读取之前，读取通道后的ok值仍然是true。只有在通道中的数据被全部读取之后，再次读取通道时，ok值才会变为false。\n\n# 总结\n\n\n\n\n\n\n# select多路复用\n\nselect 的使用方式类似于之前学到的 switch 语句，它也有一系列 case 分支和一个默认的分支。每个 case 分支会对应一个通道的通信（接收或发送）过程。select 会一直等待，直到其中的某个 case 的通信操作完成时，就会执行该 case 分支对应的语句。具体格式如下：\n\nselect {\ncase <-ch1:\n\t//...\ncase data := <-ch2:\n\t//...\ncase ch3 <- 10:\n\t//...\ndefault:\n\t//默认操作\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 特点\n\n * 可处理一个或多个 channel 的发送/接收操作。\n * 如果多个 case 同时满足，select 会随机选择一个执行。如果多个case都想执行，需要在外层套一个for{}，无限循环在迫使select一直执行下去，这样可使多个case都会被执行到。\n * 对于没有 case 的 select 会一直阻塞，可用于阻塞 main 函数，防止退出。\n\npackage main\n\nimport "fmt"\n\nfunc main() {\n\tch := make(chan int, 1)\n\tfor i := 1; i <= 10; i++ {\n\t\tselect {\n\t\tcase x := <-ch:\n\t\t\tfmt.println(x)\n\t\tcase ch <- i:\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# workpool\n\n控制并发，当有10个任务需要处理时，可以先把任务线程创建出来，通过控制并发数量慢慢处理。\n\nvar wg sync.waitgroupt\nfunc main(){\n\tusercount :=10\n\tch := make(chan bool,2)\n\tfor i:=0;i usercount;i++ {\n\t\twg.add(1)\n\t\tgo read(ch,i)\n\t}\n\t\twg.wait()\n}\nfunc read(ch chan bool,i int){\n\tdefer wg.done()\n\tch <-true\n\tfmt.printf("go func:%d,time:%d\\n",i,time.now().unix())\n\ttime.sleep(time.second)\n\t<-ch\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n',charsets:{cjk:!0},lastUpdated:"2023/4/26",lastUpdatedTimestamp:1682510928e3},{title:"Go Study Day09 - 单元测试",frontmatter:{title:"Go Study Day09 - 单元测试",date:"2019-8-24",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第9天  单元测试"},{name:"keywords",content:"自学 go test 单元测试 bench Benchmark"},{name:"twitter:title",content:"Go Study Day09 - 单元测试"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day09-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day09 - 单元测试"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day09-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-8-24"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day09 - 单元测试"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday9.html",summary:"不断学习，不断提升，日拱一卒，学习go第9天！ go Benchmark test",description:""},regularPath:"/article/gostudy/day09-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html",relativePath:"article/gostudy/day09-单元测试.md",key:"v-4bb32e94",path:"/article/gostudy/studygoday9.html",headers:[{level:2,title:"测试函数",slug:"测试函数",normalizedTitle:"测试函数",charIndex:185},{level:2,title:"基准测试",slug:"基准测试",normalizedTitle:"基准测试",charIndex:190}],headersStr:"测试函数 基准测试",content:'Go语言中的测试依赖go test命令\n\ngo test命令是一个按照一定约定和组织的测试代码的驱动程序。在包目录内，所有以_test.go为后缀名的源代码文件都是go test测试的一部分，不会被go build编译到最终的可执行文件中。一般来说，如果你的文件名为user.go测试文件的名为user_test.go\n\n在*_test.go文件中有三种类型的函数，单元测试函数、基准测试函数和示例函数。\n\n类型     格式                作用\n测试函数   函数名前缀为Test        测试程序的一些逻辑行为是否正确\n基准函数   函数名前缀为Benchmark   测试函数的性能\n示例函数   函数名前缀为Example     为文档提供示例文档\n\ngo test命令会遍历所有的*_test.go文件中符合上述命名规则的函数，然后生成一个临时的main包用于调用相应的测试函数，然后构建并运行、报告测试结果，最后清理测试中生成的临时文件。\n\n\n# 测试函数\n\n# 测试函数的格式\n\n每个测试函数必须导入testing包，测试函数的基本格式（签名）如下：\n\nfunc TestName(t *testing.T){\n    // ...\n}\n\n\n1\n2\n3\n\n\n测试函数的名字必须以Test开头，可选的后缀名必须以大写字母开头，举几个例子：\n\nfunc TestAdd(t *testing.T){ ... }\nfunc TestSum(t *testing.T){ ... }\nfunc TestLog(t *testing.T){ ... }\n\n\n1\n2\n3\n\n\n# 测试函数示例\n\n * 定义业务逻辑\n   \n   // split/split.go\n   \n   package split\n   \n   import "strings"\n   \n   // split package with a single split function.\n   \n   // Split slices s into all substrings separated by sep and\n   // returns a slice of the substrings between those separators.\n   func Split(s, sep string) (result []string) {\n   \ti := strings.Index(s, sep)\n   \n   \tfor i > -1 {\n   \t\tresult = append(result, s[:i])\n   \t\ts = s[i+1:]\n   \t\ti = strings.Index(s, sep)\n   \t}\n   \tresult = append(result, s)\n   \treturn\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n\n * 定义spilt_test.go\n   \n   // split/split_test.go\n   \n   package split\n   \n   import (\n   \t"reflect"\n   \t"testing"\n   )\n   \n   func TestSplit(t *testing.T) { // 测试函数名必须以Test开头，必须接收一个*testing.T类型参数\n   \tgot := Split("a:b:c", ":")         // 程序输出的结果\n   \twant := []string{"a", "b", "c"}    // 期望的结果\n   \tif !reflect.DeepEqual(want, got) { // 因为slice不能比较直接，借助反射包中的方法比较\n   \t\tt.Errorf("expected:%v, got:%v", want, got) // 测试失败输出错误提示\n   \t}\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n * 执行test\n   \n   go test // 执行测试\n   go test -v // 显示详细信息\n   go test -v -run="spilt" // -run后跟正则表达式，对匹配到的测试函数测试\n   go test -v -run="spilt" utest/spilt // 如果有多个包，指定包名，utest为项目名，spilt为项目的package\n   \n   \n   1\n   2\n   3\n   4\n   \n\n# 子测试\n\nt.Run执行子测试，适合对多个测试用例测试，区分每个测试用例\n\nfunc TestSplit(t *testing.T) {\n\ttype test struct { // 定义test结构体\n\t\tinput string\n\t\tsep   string\n\t\twant  []string\n\t}\n\ttests := map[string]test{ // 测试用例使用map存储\n\t\t"simple":      {input: "a:b:c", sep: ":", want: []string{"a", "b", "c"}},\n\t\t"wrong sep":   {input: "a:b:c", sep: ",", want: []string{"a:b:c"}},\n\t\t"more sep":    {input: "abcd", sep: "bc", want: []string{"a", "d"}},\n\t\t"leading sep": {input: "沙河有沙又有河", sep: "沙", want: []string{"河有", "又有河"}},\n\t}\n\tfor name, tc := range tests {\n\t\tt.Run(name, func(t *testing.T) { // 使用t.Run()执行子测试\n\t\t\tgot := Split(tc.input, tc.sep)\n\t\t\tif !reflect.DeepEqual(got, tc.want) {\n\t\t\t\tt.Errorf("expected:%#v, got:%#v", tc.want, got)\n\t\t\t}\n\t\t})\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n此时我们再执行go test命令就能够看到更清晰的输出内容了：\n\nsplit $ go test -v\n=== RUN   TestSplit\n=== RUN   TestSplit/leading_sep\n=== RUN   TestSplit/simple\n=== RUN   TestSplit/wrong_sep\n=== RUN   TestSplit/more_sep\n--- FAIL: TestSplit (0.00s)\n    --- FAIL: TestSplit/leading_sep (0.00s)\n        split_test.go:83: expected:[]string{"河有", "又有河"}, got:[]string{"", "河有", "又有河"}\n    --- PASS: TestSplit/simple (0.00s)\n    --- PASS: TestSplit/wrong_sep (0.00s)\n    --- PASS: TestSplit/more_sep (0.00s)\nFAIL\nexit status 1\nFAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * 执行某一个子测试用例\n\ngo test -v -run=Split/simple只会运行simple对应的子测试用例\n\n# 测试覆盖率\n\ngo test -cover来查看测试覆盖率。例如：\n\nsplit $ go test -cover\nPASS\ncoverage: 100.0% of statements\nok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s\n\n\n1\n2\n3\n4\n\n\n\n# 基准测试\n\n基准测试就是在一定的工作负载之下检测程序性能的一种方法。基准测试的基本格式如下：\n\nfunc BenchmarkName(b *testing.B){\n    // ...\n}\n\n\n1\n2\n3\n\n\n# 基准测试示例\n\n我们为split包中的Split函数编写基准测试如下：\n\nfunc BenchmarkSplit(b *testing.B) {\n\tfor i := 0; i < b.N; i++ {\n\t\tSplit("沙河有沙又有河", "沙")\n\t}\n}\n\n\n1\n2\n3\n4\n5\n\n\n准测试并不会默认执行，需要增加-bench参数，所以我们通过执行go test -bench=Split命令执行基准测试，输出结果如下：\n\nsplit $ go test -bench=Split\ngoos: darwin\ngoarch: amd64\npkg: github.com/Q1mi/studygo/code_demo/test_demo/split\nBenchmarkSplit-8        10000000               203 ns/op\nPASS\nok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.255s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n其中BenchmarkSplit-8表示对Split函数进行基准测试，数字8表示GOMAXPROCS的值，这个对于并发基准测试很重要。10000000和203ns/op表示每次调用Split函数耗时203ns，这个结果是10000000次调用的平均值。\n\n我们还可以为基准测试添加-benchmem参数，来获得内存分配的统计数据。\n\nsplit $ go test -bench=Split -benchmem\ngoos: darwin\ngoarch: amd64\npkg: github.com/Q1mi/studygo/code_demo/test_demo/split\nBenchmarkSplit-8        10000000               215 ns/op             112 B/op          3 allocs/op\nPASS\nok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.394s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n其中，112 B/op表示每次操作内存分配了112字节，3 allocs/op则表示每次操作进行了3次内存分配。 我们将我们的Split函数优化如下：\n\nfunc Split(s, sep string) (result []string) {\n\tresult = make([]string, 0, strings.Count(s, sep)+1)\n\ti := strings.Index(s, sep)\n\tfor i > -1 {\n\t\tresult = append(result, s[:i])\n\t\ts = s[i+len(sep):] // 这里使用len(sep)获取sep的长度\n\t\ti = strings.Index(s, sep)\n\t}\n\tresult = append(result, s)\n\treturn\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n这一次我们提前使用make函数将result初始化为一个容量足够大的切片，而不再像之前一样通过调用append函数来追加。我们来看一下这个改进会带来多大的性能提升：\n\nsplit $ go test -bench=Split -benchmem\ngoos: darwin\ngoarch: amd64\npkg: github.com/Q1mi/studygo/code_demo/test_demo/split\nBenchmarkSplit-8        10000000               127 ns/op              48 B/op          1 allocs/op\nPASS\nok      github.com/Q1mi/studygo/code_demo/test_demo/split       1.423s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这个使用make函数提前分配内存的改动，减少了2/3的内存分配次数，并且减少了一半的内存分配。\n\n# 性能比较\n\n// fib.go\n\n// Fib 是一个计算第n个斐波那契数的函数\nfunc Fib(n int) int {\n\tif n < 2 {\n\t\treturn n\n\t}\n\treturn Fib(n-1) + Fib(n-2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n测试函数\n\n// fib_test.go\n\nfunc benchmarkFib(b *testing.B, n int) {\n\tfor i := 0; i < b.N; i++ {\n\t\tFib(n)\n\t}\n}\n\nfunc BenchmarkFib1(b *testing.B)  { benchmarkFib(b, 1) }\nfunc BenchmarkFib2(b *testing.B)  { benchmarkFib(b, 2) }\nfunc BenchmarkFib3(b *testing.B)  { benchmarkFib(b, 3) }\nfunc BenchmarkFib10(b *testing.B) { benchmarkFib(b, 10) }\nfunc BenchmarkFib20(b *testing.B) { benchmarkFib(b, 20) }\nfunc BenchmarkFib40(b *testing.B) { benchmarkFib(b, 40) }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n测试\n\ngo test -bench=.  // 测试全部\ngo test -bench=Fib40 -benchtime=20s  // 制定测试函数及时间\n\n\n1\n2\n\n\n# 重置时间\n\nb.ResetTimer之前的处理不会放到执行时间里，也不会输出到报告中，所以可以在之前做一些不计划作为测试报告的操作。例如：\n\nfunc BenchmarkSplit(b *testing.B) {\n\ttime.Sleep(5 * time.Second) // 假设需要做一些耗时的无关操作\n\tb.ResetTimer()              // 重置计时器\n\tfor i := 0; i < b.N; i++ {\n\t\tSplit("沙河有沙又有河", "沙")\n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 参考\n\n * [1] 李文周的博客',normalizedContent:'go语言中的测试依赖go test命令\n\ngo test命令是一个按照一定约定和组织的测试代码的驱动程序。在包目录内，所有以_test.go为后缀名的源代码文件都是go test测试的一部分，不会被go build编译到最终的可执行文件中。一般来说，如果你的文件名为user.go测试文件的名为user_test.go\n\n在*_test.go文件中有三种类型的函数，单元测试函数、基准测试函数和示例函数。\n\n类型     格式                作用\n测试函数   函数名前缀为test        测试程序的一些逻辑行为是否正确\n基准函数   函数名前缀为benchmark   测试函数的性能\n示例函数   函数名前缀为example     为文档提供示例文档\n\ngo test命令会遍历所有的*_test.go文件中符合上述命名规则的函数，然后生成一个临时的main包用于调用相应的测试函数，然后构建并运行、报告测试结果，最后清理测试中生成的临时文件。\n\n\n# 测试函数\n\n# 测试函数的格式\n\n每个测试函数必须导入testing包，测试函数的基本格式（签名）如下：\n\nfunc testname(t *testing.t){\n    // ...\n}\n\n\n1\n2\n3\n\n\n测试函数的名字必须以test开头，可选的后缀名必须以大写字母开头，举几个例子：\n\nfunc testadd(t *testing.t){ ... }\nfunc testsum(t *testing.t){ ... }\nfunc testlog(t *testing.t){ ... }\n\n\n1\n2\n3\n\n\n# 测试函数示例\n\n * 定义业务逻辑\n   \n   // split/split.go\n   \n   package split\n   \n   import "strings"\n   \n   // split package with a single split function.\n   \n   // split slices s into all substrings separated by sep and\n   // returns a slice of the substrings between those separators.\n   func split(s, sep string) (result []string) {\n   \ti := strings.index(s, sep)\n   \n   \tfor i > -1 {\n   \t\tresult = append(result, s[:i])\n   \t\ts = s[i+1:]\n   \t\ti = strings.index(s, sep)\n   \t}\n   \tresult = append(result, s)\n   \treturn\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n\n * 定义spilt_test.go\n   \n   // split/split_test.go\n   \n   package split\n   \n   import (\n   \t"reflect"\n   \t"testing"\n   )\n   \n   func testsplit(t *testing.t) { // 测试函数名必须以test开头，必须接收一个*testing.t类型参数\n   \tgot := split("a:b:c", ":")         // 程序输出的结果\n   \twant := []string{"a", "b", "c"}    // 期望的结果\n   \tif !reflect.deepequal(want, got) { // 因为slice不能比较直接，借助反射包中的方法比较\n   \t\tt.errorf("expected:%v, got:%v", want, got) // 测试失败输出错误提示\n   \t}\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   \n\n * 执行test\n   \n   go test // 执行测试\n   go test -v // 显示详细信息\n   go test -v -run="spilt" // -run后跟正则表达式，对匹配到的测试函数测试\n   go test -v -run="spilt" utest/spilt // 如果有多个包，指定包名，utest为项目名，spilt为项目的package\n   \n   \n   1\n   2\n   3\n   4\n   \n\n# 子测试\n\nt.run执行子测试，适合对多个测试用例测试，区分每个测试用例\n\nfunc testsplit(t *testing.t) {\n\ttype test struct { // 定义test结构体\n\t\tinput string\n\t\tsep   string\n\t\twant  []string\n\t}\n\ttests := map[string]test{ // 测试用例使用map存储\n\t\t"simple":      {input: "a:b:c", sep: ":", want: []string{"a", "b", "c"}},\n\t\t"wrong sep":   {input: "a:b:c", sep: ",", want: []string{"a:b:c"}},\n\t\t"more sep":    {input: "abcd", sep: "bc", want: []string{"a", "d"}},\n\t\t"leading sep": {input: "沙河有沙又有河", sep: "沙", want: []string{"河有", "又有河"}},\n\t}\n\tfor name, tc := range tests {\n\t\tt.run(name, func(t *testing.t) { // 使用t.run()执行子测试\n\t\t\tgot := split(tc.input, tc.sep)\n\t\t\tif !reflect.deepequal(got, tc.want) {\n\t\t\t\tt.errorf("expected:%#v, got:%#v", tc.want, got)\n\t\t\t}\n\t\t})\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n此时我们再执行go test命令就能够看到更清晰的输出内容了：\n\nsplit $ go test -v\n=== run   testsplit\n=== run   testsplit/leading_sep\n=== run   testsplit/simple\n=== run   testsplit/wrong_sep\n=== run   testsplit/more_sep\n--- fail: testsplit (0.00s)\n    --- fail: testsplit/leading_sep (0.00s)\n        split_test.go:83: expected:[]string{"河有", "又有河"}, got:[]string{"", "河有", "又有河"}\n    --- pass: testsplit/simple (0.00s)\n    --- pass: testsplit/wrong_sep (0.00s)\n    --- pass: testsplit/more_sep (0.00s)\nfail\nexit status 1\nfail    github.com/q1mi/studygo/code_demo/test_demo/split       0.006s\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n * 执行某一个子测试用例\n\ngo test -v -run=split/simple只会运行simple对应的子测试用例\n\n# 测试覆盖率\n\ngo test -cover来查看测试覆盖率。例如：\n\nsplit $ go test -cover\npass\ncoverage: 100.0% of statements\nok      github.com/q1mi/studygo/code_demo/test_demo/split       0.005s\n\n\n1\n2\n3\n4\n\n\n\n# 基准测试\n\n基准测试就是在一定的工作负载之下检测程序性能的一种方法。基准测试的基本格式如下：\n\nfunc benchmarkname(b *testing.b){\n    // ...\n}\n\n\n1\n2\n3\n\n\n# 基准测试示例\n\n我们为split包中的split函数编写基准测试如下：\n\nfunc benchmarksplit(b *testing.b) {\n\tfor i := 0; i < b.n; i++ {\n\t\tsplit("沙河有沙又有河", "沙")\n\t}\n}\n\n\n1\n2\n3\n4\n5\n\n\n准测试并不会默认执行，需要增加-bench参数，所以我们通过执行go test -bench=split命令执行基准测试，输出结果如下：\n\nsplit $ go test -bench=split\ngoos: darwin\ngoarch: amd64\npkg: github.com/q1mi/studygo/code_demo/test_demo/split\nbenchmarksplit-8        10000000               203 ns/op\npass\nok      github.com/q1mi/studygo/code_demo/test_demo/split       2.255s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n其中benchmarksplit-8表示对split函数进行基准测试，数字8表示gomaxprocs的值，这个对于并发基准测试很重要。10000000和203ns/op表示每次调用split函数耗时203ns，这个结果是10000000次调用的平均值。\n\n我们还可以为基准测试添加-benchmem参数，来获得内存分配的统计数据。\n\nsplit $ go test -bench=split -benchmem\ngoos: darwin\ngoarch: amd64\npkg: github.com/q1mi/studygo/code_demo/test_demo/split\nbenchmarksplit-8        10000000               215 ns/op             112 b/op          3 allocs/op\npass\nok      github.com/q1mi/studygo/code_demo/test_demo/split       2.394s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n其中，112 b/op表示每次操作内存分配了112字节，3 allocs/op则表示每次操作进行了3次内存分配。 我们将我们的split函数优化如下：\n\nfunc split(s, sep string) (result []string) {\n\tresult = make([]string, 0, strings.count(s, sep)+1)\n\ti := strings.index(s, sep)\n\tfor i > -1 {\n\t\tresult = append(result, s[:i])\n\t\ts = s[i+len(sep):] // 这里使用len(sep)获取sep的长度\n\t\ti = strings.index(s, sep)\n\t}\n\tresult = append(result, s)\n\treturn\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n这一次我们提前使用make函数将result初始化为一个容量足够大的切片，而不再像之前一样通过调用append函数来追加。我们来看一下这个改进会带来多大的性能提升：\n\nsplit $ go test -bench=split -benchmem\ngoos: darwin\ngoarch: amd64\npkg: github.com/q1mi/studygo/code_demo/test_demo/split\nbenchmarksplit-8        10000000               127 ns/op              48 b/op          1 allocs/op\npass\nok      github.com/q1mi/studygo/code_demo/test_demo/split       1.423s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这个使用make函数提前分配内存的改动，减少了2/3的内存分配次数，并且减少了一半的内存分配。\n\n# 性能比较\n\n// fib.go\n\n// fib 是一个计算第n个斐波那契数的函数\nfunc fib(n int) int {\n\tif n < 2 {\n\t\treturn n\n\t}\n\treturn fib(n-1) + fib(n-2)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n测试函数\n\n// fib_test.go\n\nfunc benchmarkfib(b *testing.b, n int) {\n\tfor i := 0; i < b.n; i++ {\n\t\tfib(n)\n\t}\n}\n\nfunc benchmarkfib1(b *testing.b)  { benchmarkfib(b, 1) }\nfunc benchmarkfib2(b *testing.b)  { benchmarkfib(b, 2) }\nfunc benchmarkfib3(b *testing.b)  { benchmarkfib(b, 3) }\nfunc benchmarkfib10(b *testing.b) { benchmarkfib(b, 10) }\nfunc benchmarkfib20(b *testing.b) { benchmarkfib(b, 20) }\nfunc benchmarkfib40(b *testing.b) { benchmarkfib(b, 40) }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n测试\n\ngo test -bench=.  // 测试全部\ngo test -bench=fib40 -benchtime=20s  // 制定测试函数及时间\n\n\n1\n2\n\n\n# 重置时间\n\nb.resettimer之前的处理不会放到执行时间里，也不会输出到报告中，所以可以在之前做一些不计划作为测试报告的操作。例如：\n\nfunc benchmarksplit(b *testing.b) {\n\ttime.sleep(5 * time.second) // 假设需要做一些耗时的无关操作\n\tb.resettimer()              // 重置计时器\n\tfor i := 0; i < b.n; i++ {\n\t\tsplit("沙河有沙又有河", "沙")\n\t}\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 参考\n\n * [1] 李文周的博客',charsets:{cjk:!0},lastUpdated:"2023/5/8",lastUpdatedTimestamp:1683548986e3},{title:"Go Study Day10 - 中间件",frontmatter:{title:"Go Study Day10 - 中间件",date:"2019-8-31",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第10天  中间件使用及常见的业务用法"},{name:"keywords",content:"自学 go 中间件 mysql redis"},{name:"twitter:title",content:"Go Study Day10 - 中间件"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day10-%E4%B8%AD%E9%97%B4%E4%BB%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day10 - 中间件"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day10-%E4%B8%AD%E9%97%B4%E4%BB%B6.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-8-31"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day10 - 中间件"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday10.html",summary:"不断学习，不断提升，日拱一卒，学习go第10天！ go mysql redis",description:""},regularPath:"/article/gostudy/day10-%E4%B8%AD%E9%97%B4%E4%BB%B6.html",relativePath:"article/gostudy/day10-中间件.md",key:"v-688337c1",path:"/article/gostudy/studygoday10.html",headers:[{level:2,title:"MySQL",slug:"mysql",normalizedTitle:"mysql",charIndex:2},{level:2,title:"Redis",slug:"redis",normalizedTitle:"redis",charIndex:95}],headersStr:"MySQL Redis",content:'# MySQL\n\n推荐使用第三方库gorm\n\n# 参考文档\n\n * [1] gorm官方文档\n * [2] 轻量gorm文档\n * [3] 业务常用功能\n * [4] 李文周的博客\n\n\n# Redis\n\n# 下载第三方库\n\ngo get -u github.com/go-redis/redis\n\n\n1\n\n\n# 连接\n\n// 声明一个全局的redisdb变量\nvar redisdb *redis.Client\n\n// 初始化连接\nfunc initClient() (err error) {\n\tredisdb = redis.NewClient(&redis.Options{\n\t\tAddr:     "localhost:6379",\n\t\tPassword: "", // no password set\n\t\tDB:       0,  // use default DB\n\t})\n\n\t_, err = redisdb.Ping().Result()\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 使用\n\nfunc redisExample() {\n\terr := redisdb.Set("score", 100, 0).Err()\n\tif err != nil {\n\t\tfmt.Printf("set score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\n\tval, err := redisdb.Get("score").Result()\n\tif err != nil {\n\t\tfmt.Printf("get score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Println("score", val)\n\n\tval2, err := redisdb.Get("name").Result()\n\tif err == redis.Nil {\n\t\tfmt.Println("name does not exist")\n\t} else if err != nil {\n\t\tfmt.Printf("get name failed, err:%v\\n", err)\n\t\treturn\n\t} else {\n\t\tfmt.Println("name", val2)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n',normalizedContent:'# mysql\n\n推荐使用第三方库gorm\n\n# 参考文档\n\n * [1] gorm官方文档\n * [2] 轻量gorm文档\n * [3] 业务常用功能\n * [4] 李文周的博客\n\n\n# redis\n\n# 下载第三方库\n\ngo get -u github.com/go-redis/redis\n\n\n1\n\n\n# 连接\n\n// 声明一个全局的redisdb变量\nvar redisdb *redis.client\n\n// 初始化连接\nfunc initclient() (err error) {\n\tredisdb = redis.newclient(&redis.options{\n\t\taddr:     "localhost:6379",\n\t\tpassword: "", // no password set\n\t\tdb:       0,  // use default db\n\t})\n\n\t_, err = redisdb.ping().result()\n\tif err != nil {\n\t\treturn err\n\t}\n\treturn nil\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 使用\n\nfunc redisexample() {\n\terr := redisdb.set("score", 100, 0).err()\n\tif err != nil {\n\t\tfmt.printf("set score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\n\tval, err := redisdb.get("score").result()\n\tif err != nil {\n\t\tfmt.printf("get score failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.println("score", val)\n\n\tval2, err := redisdb.get("name").result()\n\tif err == redis.nil {\n\t\tfmt.println("name does not exist")\n\t} else if err != nil {\n\t\tfmt.printf("get name failed, err:%v\\n", err)\n\t\treturn\n\t} else {\n\t\tfmt.println("name", val2)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n',charsets:{cjk:!0},lastUpdated:"2023/4/19",lastUpdatedTimestamp:1681877889e3},{title:"Go Study Day11 - Context",frontmatter:{title:"Go Study Day11 - Context",date:"2019-9-07",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第11天  context 上下文"},{name:"keywords",content:"自学 go context 上下文 withContext"},{name:"twitter:title",content:"Go Study Day11 - Context"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day11-context.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day11 - Context"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day11-context.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-9-07"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day11 - Context"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday11.html",summary:"不断学习，不断提升，日拱一卒，学习go第11天！",description:""},regularPath:"/article/gostudy/day11-context.html",relativePath:"article/gostudy/day11-context.md",key:"v-5993644e",path:"/article/gostudy/studygoday11.html",headers:[{level:2,title:"简介",slug:"简介",normalizedTitle:"简介",charIndex:2},{level:2,title:"Background()",slug:"background",normalizedTitle:"background()",charIndex:942},{level:2,title:"with函数",slug:"with函数",normalizedTitle:"with函数",charIndex:1003},{level:2,title:"最佳实践",slug:"最佳实践",normalizedTitle:"最佳实践",charIndex:5241}],headersStr:"简介 Background() with函数 最佳实践",content:'# 简介\n\nGo1.7加入了一个新的标准库context，它定义了Context类型，专门用来简化 对于处理单个请求的多个 goroutine 之间与请求域的数据、取消信号、截止时间等相关操作，这些操作可能涉及多个 API 调用。\n\n对服务器传入的请求应该创建上下文，而对服务器的传出调用应该接受上下文。它们之间的函数调用链必须传递上下文，或者可以使用WithCancel、WithDeadline、WithTimeout或WithValue创建的派生上下文。当一个上下文被取消时，它派生的所有上下文也被取消。\n\ncontext.Context是一个接口，该接口定义了四个需要实现的方法。具体签名如下：\n\ntype Context interface {\n    Deadline() (deadline time.Time, ok bool)\n    Done() <-chan struct{}\n    Err() error\n    Value(key interface{}) interface{}\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n其中：\n\n * Deadline方法需要返回当前Context被取消的时间，也就是完成工作的截止时间（deadline）；\n\n * Done方法需要返回一个Channel，这个Channel会在当前工作完成或者上下文被取消之后关闭，多次调用Done方法会返回同一个Channel；\n\n * Err\n   \n   \n   1\n   \n   \n   方法会返回当前\n   \n   Context\n   \n   \n   1\n   \n   \n   结束的原因，它只会在\n   \n   Done\n   \n   \n   1\n   \n   \n   返回的Channel被关闭时才会返回非空的值；\n   \n   * 如果当前Context被取消就会返回Canceled错误；\n   * 如果当前Context超时就会返回DeadlineExceeded错误；\n\n * Value方法会从Context中返回键对应的值，对于同一个上下文来说，多次调用Value 并传入相同的Key会返回相同的结果，该方法仅用于传递跨API和进程间跟请求域的数据；\n\n\n# Background()\n\n声明context时需要将Background()函数传入作为最顶层的context\n\n\n# with函数\n\n# WithCancel\n\nWithCancel的函数签名如下：\n\nfunc WithCancel(parent Context) (ctx Context, cancel CancelFunc)\n\n\n1\n\n\nWithCancel返回带有新Done通道的父节点的副本。当调用返回的cancel函数或当关闭父上下文的Done通道时，将关闭返回上下文的Done通道，无论先发生什么情况。\n\n> context最基本的用法，当触发cancel()时，context则终止\n\n比如：\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\nvar wg sync.WaitGroup\n\nfunc worker(ctx context.Context) {\nLOOP:\n\tfor {\n\t\tfmt.Println("worker")\n\t\ttime.Sleep(time.Second)\n\t\tselect {\n\t\tcase <-ctx.Done(): // 等待上级通知\n\t\t\tbreak LOOP\n\t\tdefault:\n\t\t}\n\t}\n\twg.Done()\n}\n\nfunc main() {\n\tctx, cancel := context.WithCancel(context.Background())\n\twg.Add(1)\n\tgo worker(ctx)\n\ttime.Sleep(time.Second * 3)\n\tcancel() // 通知子goroutine结束\n\twg.Wait()\n\tfmt.Println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n如果groutine起了子groutine，只需要将ctx传入即可\n\nfunc worker(ctx context.Context) {\n\tgo worker2(ctx)\nLOOP:\n\tfor {\n\t\tfmt.Println("worker")\n\t\ttime.Sleep(time.Second)\n\t\tselect {\n\t\tcase <-ctx.Done(): // 等待上级通知\n\t\t\tbreak LOOP\n\t\tdefault:\n\t\t}\n\t}\n\twg.Done()\n}\n\nfunc worker2(ctx context.Context) {\nLOOP:\n\tfor {\n\t\tfmt.Println("worker2")\n\t\ttime.Sleep(time.Second)\n\t\tselect {\n\t\tcase <-ctx.Done(): // 等待上级通知\n\t\t\tbreak LOOP\n\t\tdefault:\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n# WithDeadline\n\nWithDeadline的函数签名如下：\n\nfunc WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)\n\n\n1\n\n\n以下三种情况都会使context退出\n\n * 截止日过期时\n * 调用返回的cancel函数时\n * 当父上下文的Done通道关闭时\n\n> 所以，withDeadline比WithCancel多了一个截止时间\n\nfunc main() {\n\td := time.Now().Add(50 * time.Millisecond)\n\tctx, cancel := context.WithDeadline(context.Background(), d)\n\n\t// 尽管ctx会过期，但在任何情况下调用它的cancel函数都是很好的实践。\n\t// 如果不这样做，可能会使上下文及其父类存活的时间超过必要的时间。\n\tdefer cancel()\n\n\tselect {\n\tcase <-time.After(1 * time.Second):\n\t\tfmt.Println("overslept")\n\tcase <-ctx.Done():\n\t\tfmt.Println(ctx.Err())\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# WithTimeout\n\nWithTimeout的函数签名如下：\n\nfunc WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)\n\n\n1\n\n\n> WithTimeout它传入的是一个超时时间，计算除了deadline时间，本质上调用了withDeadline。\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\n// context.WithTimeout\n\nvar wg sync.WaitGroup\n\nfunc worker(ctx context.Context) {\nLOOP:\n\tfor {\n\t\tfmt.Println("db connecting ...")\n\t\ttime.Sleep(time.Millisecond * 10) // 假设正常连接数据库耗时10毫秒\n\t\tselect {\n\t\tcase <-ctx.Done(): // 50毫秒后自动调用\n\t\t\tbreak LOOP\n\t\tdefault:\n\t\t}\n\t}\n\tfmt.Println("worker done!")\n\twg.Done()\n}\n\nfunc main() {\n\t// 设置一个50毫秒的超时\n\tctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50)\n\twg.Add(1)\n\tgo worker(ctx)\n\ttime.Sleep(time.Second * 5)\n\tcancel() // 通知子goroutine结束\n\twg.Wait()\n\tfmt.Println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n# WithValue\n\nWithValue函数能够将请求作用域的数据与 Context 对象建立关系。声明如下：\n\nfunc WithValue(parent Context, key, val interface{}) Context\n\n\n1\n\n\n> WithValue返回父节点的副本，其中与key关联的值为val。类似一个map，主要是为了通过context传递一些信息，比如traceID，把一个调用链路串起来。\n\n仅对API和进程间传递请求域的数据使用上下文值，而不是使用它来传递可选参数给函数。\n\n所提供的键必须是可比较的，并且不应该是string类型或任何其他内置类型，以避免使用上下文在包之间发生冲突。WithValue的用户应该为键定义自己的类型。为了避免在分配给interface{}时进行分配，上下文键通常具有具体类型struct{}。或者，导出的上下文关键变量的静态类型应该是指针或接口。\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\n// context.WithValue\n\ntype TraceCode string\n\nvar wg sync.WaitGroup\n\nfunc worker(ctx context.Context) {\n\tkey := TraceCode("TRACE_CODE")\n\ttraceCode, ok := ctx.Value(key).(string) // 在子goroutine中获取trace code\n\tif !ok {\n\t\tfmt.Println("invalid trace code")\n\t}\nLOOP:\n\tfor {\n\t\tfmt.Printf("worker, trace code:%s\\n", traceCode)\n\t\ttime.Sleep(time.Millisecond * 10) // 假设正常连接数据库耗时10毫秒\n\t\tselect {\n\t\tcase <-ctx.Done(): // 50毫秒后自动调用\n\t\t\tbreak LOOP\n\t\tdefault:\n\t\t}\n\t}\n\tfmt.Println("worker done!")\n\twg.Done()\n}\n\nfunc main() {\n\t// 设置一个50毫秒的超时\n\tctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50)\n\t// 在系统的入口中设置trace code传递给后续启动的goroutine实现日志数据聚合\n\tctx = context.WithValue(ctx, TraceCode("TRACE_CODE"), "12512312234")\n\twg.Add(1)\n\tgo worker(ctx)\n\ttime.Sleep(time.Second * 5)\n\tcancel() // 通知子goroutine结束\n\twg.Wait()\n\tfmt.Println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 最佳实践\n\n * 推荐以参数的方式显示传递Context\n * 以Context作为参数的函数方法，应该把Context作为第一个参数。\n * 给一个函数方法传递Context的时候，不要传递nil，如果不知道传递什么，就使用context.TODO()\n * Context的Value相关方法应该传递请求域的必要数据，不应该用于传递可选参数\n * Context是线程安全的，可以放心的在多个goroutine中传递',normalizedContent:'# 简介\n\ngo1.7加入了一个新的标准库context，它定义了context类型，专门用来简化 对于处理单个请求的多个 goroutine 之间与请求域的数据、取消信号、截止时间等相关操作，这些操作可能涉及多个 api 调用。\n\n对服务器传入的请求应该创建上下文，而对服务器的传出调用应该接受上下文。它们之间的函数调用链必须传递上下文，或者可以使用withcancel、withdeadline、withtimeout或withvalue创建的派生上下文。当一个上下文被取消时，它派生的所有上下文也被取消。\n\ncontext.context是一个接口，该接口定义了四个需要实现的方法。具体签名如下：\n\ntype context interface {\n    deadline() (deadline time.time, ok bool)\n    done() <-chan struct{}\n    err() error\n    value(key interface{}) interface{}\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n其中：\n\n * deadline方法需要返回当前context被取消的时间，也就是完成工作的截止时间（deadline）；\n\n * done方法需要返回一个channel，这个channel会在当前工作完成或者上下文被取消之后关闭，多次调用done方法会返回同一个channel；\n\n * err\n   \n   \n   1\n   \n   \n   方法会返回当前\n   \n   context\n   \n   \n   1\n   \n   \n   结束的原因，它只会在\n   \n   done\n   \n   \n   1\n   \n   \n   返回的channel被关闭时才会返回非空的值；\n   \n   * 如果当前context被取消就会返回canceled错误；\n   * 如果当前context超时就会返回deadlineexceeded错误；\n\n * value方法会从context中返回键对应的值，对于同一个上下文来说，多次调用value 并传入相同的key会返回相同的结果，该方法仅用于传递跨api和进程间跟请求域的数据；\n\n\n# background()\n\n声明context时需要将background()函数传入作为最顶层的context\n\n\n# with函数\n\n# withcancel\n\nwithcancel的函数签名如下：\n\nfunc withcancel(parent context) (ctx context, cancel cancelfunc)\n\n\n1\n\n\nwithcancel返回带有新done通道的父节点的副本。当调用返回的cancel函数或当关闭父上下文的done通道时，将关闭返回上下文的done通道，无论先发生什么情况。\n\n> context最基本的用法，当触发cancel()时，context则终止\n\n比如：\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\nvar wg sync.waitgroup\n\nfunc worker(ctx context.context) {\nloop:\n\tfor {\n\t\tfmt.println("worker")\n\t\ttime.sleep(time.second)\n\t\tselect {\n\t\tcase <-ctx.done(): // 等待上级通知\n\t\t\tbreak loop\n\t\tdefault:\n\t\t}\n\t}\n\twg.done()\n}\n\nfunc main() {\n\tctx, cancel := context.withcancel(context.background())\n\twg.add(1)\n\tgo worker(ctx)\n\ttime.sleep(time.second * 3)\n\tcancel() // 通知子goroutine结束\n\twg.wait()\n\tfmt.println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n如果groutine起了子groutine，只需要将ctx传入即可\n\nfunc worker(ctx context.context) {\n\tgo worker2(ctx)\nloop:\n\tfor {\n\t\tfmt.println("worker")\n\t\ttime.sleep(time.second)\n\t\tselect {\n\t\tcase <-ctx.done(): // 等待上级通知\n\t\t\tbreak loop\n\t\tdefault:\n\t\t}\n\t}\n\twg.done()\n}\n\nfunc worker2(ctx context.context) {\nloop:\n\tfor {\n\t\tfmt.println("worker2")\n\t\ttime.sleep(time.second)\n\t\tselect {\n\t\tcase <-ctx.done(): // 等待上级通知\n\t\t\tbreak loop\n\t\tdefault:\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n# withdeadline\n\nwithdeadline的函数签名如下：\n\nfunc withdeadline(parent context, deadline time.time) (context, cancelfunc)\n\n\n1\n\n\n以下三种情况都会使context退出\n\n * 截止日过期时\n * 调用返回的cancel函数时\n * 当父上下文的done通道关闭时\n\n> 所以，withdeadline比withcancel多了一个截止时间\n\nfunc main() {\n\td := time.now().add(50 * time.millisecond)\n\tctx, cancel := context.withdeadline(context.background(), d)\n\n\t// 尽管ctx会过期，但在任何情况下调用它的cancel函数都是很好的实践。\n\t// 如果不这样做，可能会使上下文及其父类存活的时间超过必要的时间。\n\tdefer cancel()\n\n\tselect {\n\tcase <-time.after(1 * time.second):\n\t\tfmt.println("overslept")\n\tcase <-ctx.done():\n\t\tfmt.println(ctx.err())\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# withtimeout\n\nwithtimeout的函数签名如下：\n\nfunc withtimeout(parent context, timeout time.duration) (context, cancelfunc)\n\n\n1\n\n\n> withtimeout它传入的是一个超时时间，计算除了deadline时间，本质上调用了withdeadline。\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\n// context.withtimeout\n\nvar wg sync.waitgroup\n\nfunc worker(ctx context.context) {\nloop:\n\tfor {\n\t\tfmt.println("db connecting ...")\n\t\ttime.sleep(time.millisecond * 10) // 假设正常连接数据库耗时10毫秒\n\t\tselect {\n\t\tcase <-ctx.done(): // 50毫秒后自动调用\n\t\t\tbreak loop\n\t\tdefault:\n\t\t}\n\t}\n\tfmt.println("worker done!")\n\twg.done()\n}\n\nfunc main() {\n\t// 设置一个50毫秒的超时\n\tctx, cancel := context.withtimeout(context.background(), time.millisecond*50)\n\twg.add(1)\n\tgo worker(ctx)\n\ttime.sleep(time.second * 5)\n\tcancel() // 通知子goroutine结束\n\twg.wait()\n\tfmt.println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n# withvalue\n\nwithvalue函数能够将请求作用域的数据与 context 对象建立关系。声明如下：\n\nfunc withvalue(parent context, key, val interface{}) context\n\n\n1\n\n\n> withvalue返回父节点的副本，其中与key关联的值为val。类似一个map，主要是为了通过context传递一些信息，比如traceid，把一个调用链路串起来。\n\n仅对api和进程间传递请求域的数据使用上下文值，而不是使用它来传递可选参数给函数。\n\n所提供的键必须是可比较的，并且不应该是string类型或任何其他内置类型，以避免使用上下文在包之间发生冲突。withvalue的用户应该为键定义自己的类型。为了避免在分配给interface{}时进行分配，上下文键通常具有具体类型struct{}。或者，导出的上下文关键变量的静态类型应该是指针或接口。\n\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"sync"\n\n\t"time"\n)\n\n// context.withvalue\n\ntype tracecode string\n\nvar wg sync.waitgroup\n\nfunc worker(ctx context.context) {\n\tkey := tracecode("trace_code")\n\ttracecode, ok := ctx.value(key).(string) // 在子goroutine中获取trace code\n\tif !ok {\n\t\tfmt.println("invalid trace code")\n\t}\nloop:\n\tfor {\n\t\tfmt.printf("worker, trace code:%s\\n", tracecode)\n\t\ttime.sleep(time.millisecond * 10) // 假设正常连接数据库耗时10毫秒\n\t\tselect {\n\t\tcase <-ctx.done(): // 50毫秒后自动调用\n\t\t\tbreak loop\n\t\tdefault:\n\t\t}\n\t}\n\tfmt.println("worker done!")\n\twg.done()\n}\n\nfunc main() {\n\t// 设置一个50毫秒的超时\n\tctx, cancel := context.withtimeout(context.background(), time.millisecond*50)\n\t// 在系统的入口中设置trace code传递给后续启动的goroutine实现日志数据聚合\n\tctx = context.withvalue(ctx, tracecode("trace_code"), "12512312234")\n\twg.add(1)\n\tgo worker(ctx)\n\ttime.sleep(time.second * 5)\n\tcancel() // 通知子goroutine结束\n\twg.wait()\n\tfmt.println("over")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 最佳实践\n\n * 推荐以参数的方式显示传递context\n * 以context作为参数的函数方法，应该把context作为第一个参数。\n * 给一个函数方法传递context的时候，不要传递nil，如果不知道传递什么，就使用context.todo()\n * context的value相关方法应该传递请求域的必要数据，不应该用于传递可选参数\n * context是线程安全的，可以放心的在多个goroutine中传递',charsets:{cjk:!0},lastUpdated:"2023/4/21",lastUpdatedTimestamp:1682074658e3},{title:"CUDA和PyTorch关系-转载",frontmatter:{title:"CUDA和PyTorch关系-转载",date:"2023-09-27T00:00:00.000Z",categories:["大模型"],tags:["转载"],sticky:2,meta:[{name:"description",content:"CUDA CUDAtoolkit cudnn pytorch之间的关系，如何确定版本"},{name:"keywords",content:"llm CUDA CUDAtoolkit cudnn pytorch"},{name:"image",content:"https://s2.loli.net/2023/09/25/mkl6jYeWJ2dOiUQ.png"},{name:"twitter:title",content:"CUDA和PyTorch关系-转载"},{name:"twitter:description",content:"\n三者关系\nCUDA、cuDNN 和 PyTorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 PyTorch 进行深度学习开发时。\n\n CUDA（Compute Unified Device Architecture）：\n\n   CUDA是GPU并行计算平台：CUDA 是由 NVIDIA 开发的用于并行计算的平台和编程模型。它允许开发人员利用 NVIDIA GPU 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n   PyTorch依赖CUDA：PyTorch 使用 CUDA 来加速神经网络的训练和推理。在 PyTorch 中，张量（Tensor）可以在 CPU 或 GPU 上进行计算。如果你想在 GPU 上训练神经网络，你需要确保 CUDA 已经正确安装并配置。\n   版本兼容性：不同版本的 PyTorch 可能需要特定版本的 CUDA。你需要根据所使用的 PyTorch 版本来选择合适的 CUDA 版本，以确保兼容性。\n\n cuDNN（CUDA Deep Neural Network Library）：\n\n   cuDNN用于深度学习加速：cuDNN 是 NVIDIA 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n   PyTorch依赖cuDNN：PyTorch 使用 cuDNN 来执行深度学习操作，尤其是在卷积神经网络（CNN）中。cuDNN 提供了高性能的卷积操作，使 PyTorch 能够在 GPU 上高效地进行前向传播和反向传播。\n   版本兼容性：不同版本的 PyTorch 需要特定版本的 cuDNN。你需要确保所使用的 cuDNN 版本与 PyTorch 版本兼容。\n\n PyTorch：\n\n   PyTorch是深度学习框架：PyTorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n   PyTorch依赖CUDA和cuDNN：PyTorch 可以在 CPU 或 GPU 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 PyTorch 配置为在 GPU 上运行。这就需要确保 CUDA 和 cuDNN 已正确安装和配置。\n\n显卡驱动\n\n CUDA Toolkit 包含显卡驱动：\n\n   CUDA Toolkit 是一个由 NVIDIA 提供的开发工具包，其中包括了用于 CUDA 编程的库、编译器、工具和示例代码。而且，每个 CUDA Toolkit 版本都会附带特定版本的 NVIDIA 显卡驱动。\n   这意味着，如果你安装了特定版本的 CUDA Toolkit，它将包括与该版本兼容的 NVIDIA 显卡驱动。这个驱动版本是为了保证 CUDA 和 GPU 的正常运行，因此需要与 CUDA Toolkit 版本匹配。\n\n CUDA Toolkit和显卡驱动的兼容性：\n\n   不同版本的 CUDA Toolkit 需要与特定版本的显卡驱动兼容，以确保 GPU 正常工作。如果 CUDA Toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 CUDA 不可用或运行时错误。\n   为了获得最佳性能和兼容性，你应该查看 NVIDIA 的官方文档，以了解哪个版本的 CUDA Toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 NVIDIA 的官方网站上找到这些信息。\n\nPytorch版本\n\nCUDA 和 PyTorch 之间存在版本依赖关系，这是因为 PyTorch 可以使用 CUDA 加速深度学习模型的训练和推理，需要与特定版本的 CUDA 兼容才能正常工作。以下是 CUDA 和 PyTorch 版本之间的关系：\n\n CUDA 和 PyTorch 的版本兼容性：\n\n   不同版本的 PyTorch 需要与特定版本的 CUDA 兼容，以确保能够利用 GPU 的计算能力。这是因为 PyTorch 使用 CUDA 来执行深度学习操作。\n   在使用 PyTorch 之前，你应该查看 PyTorch 官方文档或 GitHub 仓库中的文档，以了解当前版本所支持的 CUDA 版本。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n\n 示例：\n\n   例如，如果你使用的是 PyTorch 1.8.0，官方文档可能会明确指出支持 CUDA 11.1，因此你需要安装 CUDA 11.1 或兼容版本的 CUDA 驱动来与 PyTorch 1.8.0 一起使用。\n\n总结\n确定 PyTorch、CUDA 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 确定显卡驱动版本：\n\n   首先，你需要确定你的计算机上安装了哪个版本的 NVIDIA 显卡驱动。你可以使用以下方法来查看：\n\n     在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 NVIDIA 显卡驱动版本以及相关信息。\n\n   记下显示的 NVIDIA 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 确定 CUDA 版本：\n\n   通常，NVIDIA 显卡驱动与 CUDA 版本一起安装。所以，你可以通过查看 CUDA 的版本来确定。\n   在终端中执行以下命令来查看 CUDA 版本： nvcc --version\n\n   记下显示的 CUDA 版本号。例如，版本号可能类似于 11.1。\n\n 确定 PyTorch 版本：\n\n   使用以下 Python 代码来查看 PyTorch 的版本： import torch\nprint(torch.version)\n\n   记下显示的 PyTorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 检查兼容性：\n\n   一旦你确定了各个组件的版本号，你可以查阅 PyTorch 的官方文档，了解哪个版本的 PyTorch 与哪个版本的 CUDA 和显卡驱动兼容。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n   如果你的 PyTorch 版本与你的 CUDA 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n 往往我们在实际项目时，起始首先确定的是PyTorch的版本，进而确定CUDA的版本，再根据CUDA的版本去查看自己平台的驱动是否支持。\n"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://s2.loli.net/2023/09/25/mkl6jYeWJ2dOiUQ.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/cuda%E5%92%8Cpytorch%E5%85%B3%E7%B3%BB.html"},{property:"og:type",content:"article"},{property:"og:title",content:"CUDA和PyTorch关系-转载"},{property:"og:description",content:"\n三者关系\nCUDA、cuDNN 和 PyTorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 PyTorch 进行深度学习开发时。\n\n CUDA（Compute Unified Device Architecture）：\n\n   CUDA是GPU并行计算平台：CUDA 是由 NVIDIA 开发的用于并行计算的平台和编程模型。它允许开发人员利用 NVIDIA GPU 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n   PyTorch依赖CUDA：PyTorch 使用 CUDA 来加速神经网络的训练和推理。在 PyTorch 中，张量（Tensor）可以在 CPU 或 GPU 上进行计算。如果你想在 GPU 上训练神经网络，你需要确保 CUDA 已经正确安装并配置。\n   版本兼容性：不同版本的 PyTorch 可能需要特定版本的 CUDA。你需要根据所使用的 PyTorch 版本来选择合适的 CUDA 版本，以确保兼容性。\n\n cuDNN（CUDA Deep Neural Network Library）：\n\n   cuDNN用于深度学习加速：cuDNN 是 NVIDIA 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n   PyTorch依赖cuDNN：PyTorch 使用 cuDNN 来执行深度学习操作，尤其是在卷积神经网络（CNN）中。cuDNN 提供了高性能的卷积操作，使 PyTorch 能够在 GPU 上高效地进行前向传播和反向传播。\n   版本兼容性：不同版本的 PyTorch 需要特定版本的 cuDNN。你需要确保所使用的 cuDNN 版本与 PyTorch 版本兼容。\n\n PyTorch：\n\n   PyTorch是深度学习框架：PyTorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n   PyTorch依赖CUDA和cuDNN：PyTorch 可以在 CPU 或 GPU 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 PyTorch 配置为在 GPU 上运行。这就需要确保 CUDA 和 cuDNN 已正确安装和配置。\n\n显卡驱动\n\n CUDA Toolkit 包含显卡驱动：\n\n   CUDA Toolkit 是一个由 NVIDIA 提供的开发工具包，其中包括了用于 CUDA 编程的库、编译器、工具和示例代码。而且，每个 CUDA Toolkit 版本都会附带特定版本的 NVIDIA 显卡驱动。\n   这意味着，如果你安装了特定版本的 CUDA Toolkit，它将包括与该版本兼容的 NVIDIA 显卡驱动。这个驱动版本是为了保证 CUDA 和 GPU 的正常运行，因此需要与 CUDA Toolkit 版本匹配。\n\n CUDA Toolkit和显卡驱动的兼容性：\n\n   不同版本的 CUDA Toolkit 需要与特定版本的显卡驱动兼容，以确保 GPU 正常工作。如果 CUDA Toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 CUDA 不可用或运行时错误。\n   为了获得最佳性能和兼容性，你应该查看 NVIDIA 的官方文档，以了解哪个版本的 CUDA Toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 NVIDIA 的官方网站上找到这些信息。\n\nPytorch版本\n\nCUDA 和 PyTorch 之间存在版本依赖关系，这是因为 PyTorch 可以使用 CUDA 加速深度学习模型的训练和推理，需要与特定版本的 CUDA 兼容才能正常工作。以下是 CUDA 和 PyTorch 版本之间的关系：\n\n CUDA 和 PyTorch 的版本兼容性：\n\n   不同版本的 PyTorch 需要与特定版本的 CUDA 兼容，以确保能够利用 GPU 的计算能力。这是因为 PyTorch 使用 CUDA 来执行深度学习操作。\n   在使用 PyTorch 之前，你应该查看 PyTorch 官方文档或 GitHub 仓库中的文档，以了解当前版本所支持的 CUDA 版本。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n\n 示例：\n\n   例如，如果你使用的是 PyTorch 1.8.0，官方文档可能会明确指出支持 CUDA 11.1，因此你需要安装 CUDA 11.1 或兼容版本的 CUDA 驱动来与 PyTorch 1.8.0 一起使用。\n\n总结\n确定 PyTorch、CUDA 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 确定显卡驱动版本：\n\n   首先，你需要确定你的计算机上安装了哪个版本的 NVIDIA 显卡驱动。你可以使用以下方法来查看：\n\n     在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 NVIDIA 显卡驱动版本以及相关信息。\n\n   记下显示的 NVIDIA 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 确定 CUDA 版本：\n\n   通常，NVIDIA 显卡驱动与 CUDA 版本一起安装。所以，你可以通过查看 CUDA 的版本来确定。\n   在终端中执行以下命令来查看 CUDA 版本： nvcc --version\n\n   记下显示的 CUDA 版本号。例如，版本号可能类似于 11.1。\n\n 确定 PyTorch 版本：\n\n   使用以下 Python 代码来查看 PyTorch 的版本： import torch\nprint(torch.version)\n\n   记下显示的 PyTorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 检查兼容性：\n\n   一旦你确定了各个组件的版本号，你可以查阅 PyTorch 的官方文档，了解哪个版本的 PyTorch 与哪个版本的 CUDA 和显卡驱动兼容。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n   如果你的 PyTorch 版本与你的 CUDA 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n 往往我们在实际项目时，起始首先确定的是PyTorch的版本，进而确定CUDA的版本，再根据CUDA的版本去查看自己平台的驱动是否支持。\n"},{property:"og:image",content:"https://s2.loli.net/2023/09/25/mkl6jYeWJ2dOiUQ.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/cuda%E5%92%8Cpytorch%E5%85%B3%E7%B3%BB.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-09-27T00:00:00.000Z"},{property:"article:tag",content:"转载"},{itemprop:"name",content:"CUDA和PyTorch关系-转载"},{itemprop:"description",content:"\n三者关系\nCUDA、cuDNN 和 PyTorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 PyTorch 进行深度学习开发时。\n\n CUDA（Compute Unified Device Architecture）：\n\n   CUDA是GPU并行计算平台：CUDA 是由 NVIDIA 开发的用于并行计算的平台和编程模型。它允许开发人员利用 NVIDIA GPU 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n   PyTorch依赖CUDA：PyTorch 使用 CUDA 来加速神经网络的训练和推理。在 PyTorch 中，张量（Tensor）可以在 CPU 或 GPU 上进行计算。如果你想在 GPU 上训练神经网络，你需要确保 CUDA 已经正确安装并配置。\n   版本兼容性：不同版本的 PyTorch 可能需要特定版本的 CUDA。你需要根据所使用的 PyTorch 版本来选择合适的 CUDA 版本，以确保兼容性。\n\n cuDNN（CUDA Deep Neural Network Library）：\n\n   cuDNN用于深度学习加速：cuDNN 是 NVIDIA 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n   PyTorch依赖cuDNN：PyTorch 使用 cuDNN 来执行深度学习操作，尤其是在卷积神经网络（CNN）中。cuDNN 提供了高性能的卷积操作，使 PyTorch 能够在 GPU 上高效地进行前向传播和反向传播。\n   版本兼容性：不同版本的 PyTorch 需要特定版本的 cuDNN。你需要确保所使用的 cuDNN 版本与 PyTorch 版本兼容。\n\n PyTorch：\n\n   PyTorch是深度学习框架：PyTorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n   PyTorch依赖CUDA和cuDNN：PyTorch 可以在 CPU 或 GPU 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 PyTorch 配置为在 GPU 上运行。这就需要确保 CUDA 和 cuDNN 已正确安装和配置。\n\n显卡驱动\n\n CUDA Toolkit 包含显卡驱动：\n\n   CUDA Toolkit 是一个由 NVIDIA 提供的开发工具包，其中包括了用于 CUDA 编程的库、编译器、工具和示例代码。而且，每个 CUDA Toolkit 版本都会附带特定版本的 NVIDIA 显卡驱动。\n   这意味着，如果你安装了特定版本的 CUDA Toolkit，它将包括与该版本兼容的 NVIDIA 显卡驱动。这个驱动版本是为了保证 CUDA 和 GPU 的正常运行，因此需要与 CUDA Toolkit 版本匹配。\n\n CUDA Toolkit和显卡驱动的兼容性：\n\n   不同版本的 CUDA Toolkit 需要与特定版本的显卡驱动兼容，以确保 GPU 正常工作。如果 CUDA Toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 CUDA 不可用或运行时错误。\n   为了获得最佳性能和兼容性，你应该查看 NVIDIA 的官方文档，以了解哪个版本的 CUDA Toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 NVIDIA 的官方网站上找到这些信息。\n\nPytorch版本\n\nCUDA 和 PyTorch 之间存在版本依赖关系，这是因为 PyTorch 可以使用 CUDA 加速深度学习模型的训练和推理，需要与特定版本的 CUDA 兼容才能正常工作。以下是 CUDA 和 PyTorch 版本之间的关系：\n\n CUDA 和 PyTorch 的版本兼容性：\n\n   不同版本的 PyTorch 需要与特定版本的 CUDA 兼容，以确保能够利用 GPU 的计算能力。这是因为 PyTorch 使用 CUDA 来执行深度学习操作。\n   在使用 PyTorch 之前，你应该查看 PyTorch 官方文档或 GitHub 仓库中的文档，以了解当前版本所支持的 CUDA 版本。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n\n 示例：\n\n   例如，如果你使用的是 PyTorch 1.8.0，官方文档可能会明确指出支持 CUDA 11.1，因此你需要安装 CUDA 11.1 或兼容版本的 CUDA 驱动来与 PyTorch 1.8.0 一起使用。\n\n总结\n确定 PyTorch、CUDA 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 确定显卡驱动版本：\n\n   首先，你需要确定你的计算机上安装了哪个版本的 NVIDIA 显卡驱动。你可以使用以下方法来查看：\n\n     在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 NVIDIA 显卡驱动版本以及相关信息。\n\n   记下显示的 NVIDIA 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 确定 CUDA 版本：\n\n   通常，NVIDIA 显卡驱动与 CUDA 版本一起安装。所以，你可以通过查看 CUDA 的版本来确定。\n   在终端中执行以下命令来查看 CUDA 版本： nvcc --version\n\n   记下显示的 CUDA 版本号。例如，版本号可能类似于 11.1。\n\n 确定 PyTorch 版本：\n\n   使用以下 Python 代码来查看 PyTorch 的版本： import torch\nprint(torch.version)\n\n   记下显示的 PyTorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 检查兼容性：\n\n   一旦你确定了各个组件的版本号，你可以查阅 PyTorch 的官方文档，了解哪个版本的 PyTorch 与哪个版本的 CUDA 和显卡驱动兼容。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n   如果你的 PyTorch 版本与你的 CUDA 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n 往往我们在实际项目时，起始首先确定的是PyTorch的版本，进而确定CUDA的版本，再根据CUDA的版本去查看自己平台的驱动是否支持。\n"},{itemprop:"image",content:"https://s2.loli.net/2023/09/25/mkl6jYeWJ2dOiUQ.png"}],feed:{enable:!0},permalink:"/article/llm/cuda-pytorch.html",description:"\n三者关系\nCUDA、cuDNN 和 PyTorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 PyTorch 进行深度学习开发时。\n\n CUDA（Compute Unified Device Architecture）：\n\n   CUDA是GPU并行计算平台：CUDA 是由 NVIDIA 开发的用于并行计算的平台和编程模型。它允许开发人员利用 NVIDIA GPU 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n   PyTorch依赖CUDA：PyTorch 使用 CUDA 来加速神经网络的训练和推理。在 PyTorch 中，张量（Tensor）可以在 CPU 或 GPU 上进行计算。如果你想在 GPU 上训练神经网络，你需要确保 CUDA 已经正确安装并配置。\n   版本兼容性：不同版本的 PyTorch 可能需要特定版本的 CUDA。你需要根据所使用的 PyTorch 版本来选择合适的 CUDA 版本，以确保兼容性。\n\n cuDNN（CUDA Deep Neural Network Library）：\n\n   cuDNN用于深度学习加速：cuDNN 是 NVIDIA 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n   PyTorch依赖cuDNN：PyTorch 使用 cuDNN 来执行深度学习操作，尤其是在卷积神经网络（CNN）中。cuDNN 提供了高性能的卷积操作，使 PyTorch 能够在 GPU 上高效地进行前向传播和反向传播。\n   版本兼容性：不同版本的 PyTorch 需要特定版本的 cuDNN。你需要确保所使用的 cuDNN 版本与 PyTorch 版本兼容。\n\n PyTorch：\n\n   PyTorch是深度学习框架：PyTorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n   PyTorch依赖CUDA和cuDNN：PyTorch 可以在 CPU 或 GPU 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 PyTorch 配置为在 GPU 上运行。这就需要确保 CUDA 和 cuDNN 已正确安装和配置。\n\n显卡驱动\n\n CUDA Toolkit 包含显卡驱动：\n\n   CUDA Toolkit 是一个由 NVIDIA 提供的开发工具包，其中包括了用于 CUDA 编程的库、编译器、工具和示例代码。而且，每个 CUDA Toolkit 版本都会附带特定版本的 NVIDIA 显卡驱动。\n   这意味着，如果你安装了特定版本的 CUDA Toolkit，它将包括与该版本兼容的 NVIDIA 显卡驱动。这个驱动版本是为了保证 CUDA 和 GPU 的正常运行，因此需要与 CUDA Toolkit 版本匹配。\n\n CUDA Toolkit和显卡驱动的兼容性：\n\n   不同版本的 CUDA Toolkit 需要与特定版本的显卡驱动兼容，以确保 GPU 正常工作。如果 CUDA Toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 CUDA 不可用或运行时错误。\n   为了获得最佳性能和兼容性，你应该查看 NVIDIA 的官方文档，以了解哪个版本的 CUDA Toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 NVIDIA 的官方网站上找到这些信息。\n\nPytorch版本\n\nCUDA 和 PyTorch 之间存在版本依赖关系，这是因为 PyTorch 可以使用 CUDA 加速深度学习模型的训练和推理，需要与特定版本的 CUDA 兼容才能正常工作。以下是 CUDA 和 PyTorch 版本之间的关系：\n\n CUDA 和 PyTorch 的版本兼容性：\n\n   不同版本的 PyTorch 需要与特定版本的 CUDA 兼容，以确保能够利用 GPU 的计算能力。这是因为 PyTorch 使用 CUDA 来执行深度学习操作。\n   在使用 PyTorch 之前，你应该查看 PyTorch 官方文档或 GitHub 仓库中的文档，以了解当前版本所支持的 CUDA 版本。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n\n 示例：\n\n   例如，如果你使用的是 PyTorch 1.8.0，官方文档可能会明确指出支持 CUDA 11.1，因此你需要安装 CUDA 11.1 或兼容版本的 CUDA 驱动来与 PyTorch 1.8.0 一起使用。\n\n总结\n确定 PyTorch、CUDA 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 确定显卡驱动版本：\n\n   首先，你需要确定你的计算机上安装了哪个版本的 NVIDIA 显卡驱动。你可以使用以下方法来查看：\n\n     在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 NVIDIA 显卡驱动版本以及相关信息。\n\n   记下显示的 NVIDIA 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 确定 CUDA 版本：\n\n   通常，NVIDIA 显卡驱动与 CUDA 版本一起安装。所以，你可以通过查看 CUDA 的版本来确定。\n   在终端中执行以下命令来查看 CUDA 版本： nvcc --version\n\n   记下显示的 CUDA 版本号。例如，版本号可能类似于 11.1。\n\n 确定 PyTorch 版本：\n\n   使用以下 Python 代码来查看 PyTorch 的版本： import torch\nprint(torch.version)\n\n   记下显示的 PyTorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 检查兼容性：\n\n   一旦你确定了各个组件的版本号，你可以查阅 PyTorch 的官方文档，了解哪个版本的 PyTorch 与哪个版本的 CUDA 和显卡驱动兼容。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n   如果你的 PyTorch 版本与你的 CUDA 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n 往往我们在实际项目时，起始首先确定的是PyTorch的版本，进而确定CUDA的版本，再根据CUDA的版本去查看自己平台的驱动是否支持。\n"},regularPath:"/article/llm/cuda%E5%92%8Cpytorch%E5%85%B3%E7%B3%BB.html",relativePath:"article/llm/cuda和pytorch关系.md",key:"v-e06de964",path:"/article/llm/cuda-pytorch.html",headersStr:null,content:'CUDA\n\nCUDA（Compute Unified Device Architecture）是由NVIDIA开发的用于并行计算的平台和编程模型。CUDA旨在利用NVIDIA GPU（图形处理单元）的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n\n 1. GPU并行计算：\n    \n    CUDA使GPU能够执行并行计算任务，从而大幅提高了计算性能。GPU由许多小型处理单元组成，每个处理单元都能够执行多个线程，这意味着GPU可以同时处理大量的计算任务。\n\n 2. CUDA编程模型：\n    \n    CUDA提供了一种编程模型，允许开发人员编写C/C++代码，利用GPU的并行性来执行任务。开发人员可以编写称为"核函数"（kernel）的代码，这些核函数在GPU上并行执行。CUDA编程模型还提供了一组API（应用程序接口）来管理GPU内存、控制GPU设备和调度核函数的执行。\n\n 3. 并行计算应用：\n    \n    CUDA广泛用于各种领域的科学计算和高性能计算应用，包括：\n    \n    * 数值模拟：CUDA可用于模拟物理现象、天气模型、流体力学等领域的数值模拟。\n    * 深度学习：深度学习框架如TensorFlow和PyTorch都支持CUDA，可用于训练和推理深度神经网络，加速图像识别、自然语言处理等任务。\n    * 分子动力学：用于模拟分子之间相互作用，有助于药物设计和材料科学研究。\n    * 地球科学：用于地震模拟、气象学、地球物理学等领域的大规模数值模拟。\n\n 4. NVIDIA GPU支持：\n    \n    CUDA仅适用于NVIDIA GPU。不同版本的CUDA通常与特定型号的NVIDIA GPU兼容，因此需要确保你的GPU支持所选版本的CUDA。\n\n 5. CUDA工具和库：\n    \n    NVIDIA提供了一套用于CUDA开发的工具和库，包括CUDA Toolkit、cuDNN（CUDA深度神经网络库）、cuBLAS（CUDA基础线性代数库）等。这些工具和库简化了CUDA应用程序的开发和优化过程。\n\n\nCudnn\n\ncuDNN（CUDA Deep Neural Network Library）是由NVIDIA开发的用于深度学习的加速库。cuDNN旨在优化神经网络的前向传播和反向传播过程，以利用NVIDIA GPU的并行计算能力，从而加速深度学习模型的训练和推理。\n\n 1. 深度学习加速：\n    \n    cuDNN是专门为深度学习任务而设计的，旨在加速神经网络的训练和推理。它提供了一系列高度优化的算法和函数，用于执行神经网络层的前向传播、反向传播和权重更新。\n\n 2. GPU加速：\n    \n    cuDNN充分利用NVIDIA GPU的并行计算能力，以高效地执行深度学习操作。这使得训练深度神经网络更快速，尤其是对于大型模型和大规模数据集。\n\n 3. 深度学习框架支持：\n    \n    cuDNN被广泛用于多个深度学习框架，包括TensorFlow、PyTorch、Caffe、MXNet等。这些框架通过cuDNN来加速模型的训练和推理过程，使得深度学习研究和开发更加高效。\n\n 4. 提高性能：\n    \n    cuDNN通过使用高度优化的卷积和池化算法、自动混合精度计算、内存管理和多GPU支持等技术，显著提高了深度学习任务的性能。这些优化可以加速卷积神经网络（CNN）、循环神经网络（RNN）、生成对抗网络（GAN）等各种类型的神经网络。\n\n 5. 版本兼容性：\n    \n    cuDNN的不同版本与NVIDIA GPU架构和深度学习框架的版本兼容。因此，为了获得最佳性能，你需要选择适用于你的GPU型号和深度学习框架版本的cuDNN版本。\n\n 6. 免费使用：\n    \n    cuDNN是免费的，可以在NVIDIA的官方网站上下载和使用。\n\n\nPyTorch\n\nPyTorch 是一个开源的深度学习框架，由Facebook的人工智能研究团队开发和维护。它是一个非常流行的深度学习框架，用于构建和训练神经网络模型。\n\n 1. 动态计算图：\n    \n    PyTorch 采用动态计算图（Dynamic Computational Graph）的方式来定义和执行神经网络。这意味着你可以像编写常规Python代码一样编写神经网络，同时保留了计算图的优势，使模型的构建和调试更加直观和灵活。\n\n 2. 灵活性：\n    \n    PyTorch 提供了丰富的张量操作，以及各种优化工具和模块，可以轻松构建各种类型的深度学习模型，包括卷积神经网络（CNN）、循环神经网络（RNN）、生成对抗网络（GAN）等。它还支持自定义神经网络层和损失函数，允许你创建高度定制的模型。\n\n 3. GPU加速：\n    \n    PyTorch天然支持GPU加速，你可以在GPU上训练和执行神经网络，大幅提高了计算性能。PyTorch的GPU张量操作与CPU张量操作非常相似，使得将计算从CPU迁移到GPU变得相对容易。\n\n 4. 动态调试：\n    \n    由于采用动态计算图，PyTorch允许你在模型构建和训练过程中轻松进行动态调试，检查梯度、查看中间变量等。这对于理解和诊断模型行为非常有帮助。\n\n 5. 丰富的生态系统：\n    \n    PyTorch拥有庞大的用户社区，有许多开源项目、库和工具，可以扩展其功能。这些包括模型部署工具、迁移学习库、自然语言处理工具和计算机视觉工具，以及与其他深度学习框架的集成。\n\n 6. 深度学习研究和教育：\n    \n    PyTorch在深度学习研究和教育中非常流行，因为它易于学习、易于使用，并提供了丰富的教程和文档资源。它还被许多大学和研究机构用于深度学习课程和研究项目。\n\n 7. 跨平台支持：\n    \n    PyTorch支持多种操作系统，包括Linux、macOS和Windows，以及多种编程语言接口，如Python、C++等。这使得它适用于各种应用场景。\n\n\n三者关系\n\nCUDA、cuDNN 和 PyTorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 PyTorch 进行深度学习开发时。\n\n 1. CUDA（Compute Unified Device Architecture）：\n    * CUDA是GPU并行计算平台：CUDA 是由 NVIDIA 开发的用于并行计算的平台和编程模型。它允许开发人员利用 NVIDIA GPU 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n    * PyTorch依赖CUDA：PyTorch 使用 CUDA 来加速神经网络的训练和推理。在 PyTorch 中，张量（Tensor）可以在 CPU 或 GPU 上进行计算。如果你想在 GPU 上训练神经网络，你需要确保 CUDA 已经正确安装并配置。\n    * 版本兼容性：不同版本的 PyTorch 可能需要特定版本的 CUDA。你需要根据所使用的 PyTorch 版本来选择合适的 CUDA 版本，以确保兼容性。\n 2. cuDNN（CUDA Deep Neural Network Library）：\n    * cuDNN用于深度学习加速：cuDNN 是 NVIDIA 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n    * PyTorch依赖cuDNN：PyTorch 使用 cuDNN 来执行深度学习操作，尤其是在卷积神经网络（CNN）中。cuDNN 提供了高性能的卷积操作，使 PyTorch 能够在 GPU 上高效地进行前向传播和反向传播。\n    * 版本兼容性：不同版本的 PyTorch 需要特定版本的 cuDNN。你需要确保所使用的 cuDNN 版本与 PyTorch 版本兼容。\n 3. PyTorch：\n    * PyTorch是深度学习框架：PyTorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n    * PyTorch依赖CUDA和cuDNN：PyTorch 可以在 CPU 或 GPU 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 PyTorch 配置为在 GPU 上运行。这就需要确保 CUDA 和 cuDNN 已正确安装和配置。\n\n\n显卡驱动\n\n\n\n 1. CUDA Toolkit 包含显卡驱动：\n    * CUDA Toolkit 是一个由 NVIDIA 提供的开发工具包，其中包括了用于 CUDA 编程的库、编译器、工具和示例代码。而且，每个 CUDA Toolkit 版本都会附带特定版本的 NVIDIA 显卡驱动。\n    * 这意味着，如果你安装了特定版本的 CUDA Toolkit，它将包括与该版本兼容的 NVIDIA 显卡驱动。这个驱动版本是为了保证 CUDA 和 GPU 的正常运行，因此需要与 CUDA Toolkit 版本匹配。\n 2. CUDA Toolkit和显卡驱动的兼容性：\n    * 不同版本的 CUDA Toolkit 需要与特定版本的显卡驱动兼容，以确保 GPU 正常工作。如果 CUDA Toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 CUDA 不可用或运行时错误。\n    * 为了获得最佳性能和兼容性，你应该查看 NVIDIA 的官方文档，以了解哪个版本的 CUDA Toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 NVIDIA 的官方网站上找到这些信息。\n\n\nPytorch版本\n\n\n\nCUDA 和 PyTorch 之间存在版本依赖关系，这是因为 PyTorch 可以使用 CUDA 加速深度学习模型的训练和推理，需要与特定版本的 CUDA 兼容才能正常工作。以下是 CUDA 和 PyTorch 版本之间的关系：\n\n 1. CUDA 和 PyTorch 的版本兼容性：\n    * 不同版本的 PyTorch 需要与特定版本的 CUDA 兼容，以确保能够利用 GPU 的计算能力。这是因为 PyTorch 使用 CUDA 来执行深度学习操作。\n    * 在使用 PyTorch 之前，你应该查看 PyTorch 官方文档或 GitHub 仓库中的文档，以了解当前版本所支持的 CUDA 版本。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n 2. 示例：\n    * 例如，如果你使用的是 PyTorch 1.8.0，官方文档可能会明确指出支持 CUDA 11.1，因此你需要安装 CUDA 11.1 或兼容版本的 CUDA 驱动来与 PyTorch 1.8.0 一起使用。\n\n\n总结\n\n确定 PyTorch、CUDA 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 1. 确定显卡驱动版本：\n    \n    * 首先，你需要确定你的计算机上安装了哪个版本的 NVIDIA 显卡驱动。你可以使用以下方法来查看：\n      \n      * 在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 NVIDIA 显卡驱动版本以及相关信息。\n    \n    * 记下显示的 NVIDIA 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 2. 确定 CUDA 版本：\n    \n    * 通常，NVIDIA 显卡驱动与 CUDA 版本一起安装。所以，你可以通过查看 CUDA 的版本来确定。\n    \n    * 在终端中执行以下命令来查看 CUDA 版本：\n      \n      nvcc --version\n      \n    \n    * 记下显示的 CUDA 版本号。例如，版本号可能类似于 11.1。\n\n 3. 确定 PyTorch 版本：\n    \n    * 使用以下 Python 代码来查看 PyTorch 的版本：\n      \n      import torch\n      print(torch.__version__)\n      \n    \n    * 记下显示的 PyTorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 4. 检查兼容性：\n    \n    * 一旦你确定了各个组件的版本号，你可以查阅 PyTorch 的官方文档，了解哪个版本的 PyTorch 与哪个版本的 CUDA 和显卡驱动兼容。通常，PyTorch 的文档会明确说明支持的 CUDA 版本范围。\n    \n    * 如果你的 PyTorch 版本与你的 CUDA 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n> 往往我们在实际项目时，起始首先确定的是PyTorch的版本，进而确定CUDA的版本，再根据CUDA的版本去查看自己平台的驱动是否支持。\n\n原文连接',normalizedContent:'cuda\n\ncuda（compute unified device architecture）是由nvidia开发的用于并行计算的平台和编程模型。cuda旨在利用nvidia gpu（图形处理单元）的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n\n 1. gpu并行计算：\n    \n    cuda使gpu能够执行并行计算任务，从而大幅提高了计算性能。gpu由许多小型处理单元组成，每个处理单元都能够执行多个线程，这意味着gpu可以同时处理大量的计算任务。\n\n 2. cuda编程模型：\n    \n    cuda提供了一种编程模型，允许开发人员编写c/c++代码，利用gpu的并行性来执行任务。开发人员可以编写称为"核函数"（kernel）的代码，这些核函数在gpu上并行执行。cuda编程模型还提供了一组api（应用程序接口）来管理gpu内存、控制gpu设备和调度核函数的执行。\n\n 3. 并行计算应用：\n    \n    cuda广泛用于各种领域的科学计算和高性能计算应用，包括：\n    \n    * 数值模拟：cuda可用于模拟物理现象、天气模型、流体力学等领域的数值模拟。\n    * 深度学习：深度学习框架如tensorflow和pytorch都支持cuda，可用于训练和推理深度神经网络，加速图像识别、自然语言处理等任务。\n    * 分子动力学：用于模拟分子之间相互作用，有助于药物设计和材料科学研究。\n    * 地球科学：用于地震模拟、气象学、地球物理学等领域的大规模数值模拟。\n\n 4. nvidia gpu支持：\n    \n    cuda仅适用于nvidia gpu。不同版本的cuda通常与特定型号的nvidia gpu兼容，因此需要确保你的gpu支持所选版本的cuda。\n\n 5. cuda工具和库：\n    \n    nvidia提供了一套用于cuda开发的工具和库，包括cuda toolkit、cudnn（cuda深度神经网络库）、cublas（cuda基础线性代数库）等。这些工具和库简化了cuda应用程序的开发和优化过程。\n\n\ncudnn\n\ncudnn（cuda deep neural network library）是由nvidia开发的用于深度学习的加速库。cudnn旨在优化神经网络的前向传播和反向传播过程，以利用nvidia gpu的并行计算能力，从而加速深度学习模型的训练和推理。\n\n 1. 深度学习加速：\n    \n    cudnn是专门为深度学习任务而设计的，旨在加速神经网络的训练和推理。它提供了一系列高度优化的算法和函数，用于执行神经网络层的前向传播、反向传播和权重更新。\n\n 2. gpu加速：\n    \n    cudnn充分利用nvidia gpu的并行计算能力，以高效地执行深度学习操作。这使得训练深度神经网络更快速，尤其是对于大型模型和大规模数据集。\n\n 3. 深度学习框架支持：\n    \n    cudnn被广泛用于多个深度学习框架，包括tensorflow、pytorch、caffe、mxnet等。这些框架通过cudnn来加速模型的训练和推理过程，使得深度学习研究和开发更加高效。\n\n 4. 提高性能：\n    \n    cudnn通过使用高度优化的卷积和池化算法、自动混合精度计算、内存管理和多gpu支持等技术，显著提高了深度学习任务的性能。这些优化可以加速卷积神经网络（cnn）、循环神经网络（rnn）、生成对抗网络（gan）等各种类型的神经网络。\n\n 5. 版本兼容性：\n    \n    cudnn的不同版本与nvidia gpu架构和深度学习框架的版本兼容。因此，为了获得最佳性能，你需要选择适用于你的gpu型号和深度学习框架版本的cudnn版本。\n\n 6. 免费使用：\n    \n    cudnn是免费的，可以在nvidia的官方网站上下载和使用。\n\n\npytorch\n\npytorch 是一个开源的深度学习框架，由facebook的人工智能研究团队开发和维护。它是一个非常流行的深度学习框架，用于构建和训练神经网络模型。\n\n 1. 动态计算图：\n    \n    pytorch 采用动态计算图（dynamic computational graph）的方式来定义和执行神经网络。这意味着你可以像编写常规python代码一样编写神经网络，同时保留了计算图的优势，使模型的构建和调试更加直观和灵活。\n\n 2. 灵活性：\n    \n    pytorch 提供了丰富的张量操作，以及各种优化工具和模块，可以轻松构建各种类型的深度学习模型，包括卷积神经网络（cnn）、循环神经网络（rnn）、生成对抗网络（gan）等。它还支持自定义神经网络层和损失函数，允许你创建高度定制的模型。\n\n 3. gpu加速：\n    \n    pytorch天然支持gpu加速，你可以在gpu上训练和执行神经网络，大幅提高了计算性能。pytorch的gpu张量操作与cpu张量操作非常相似，使得将计算从cpu迁移到gpu变得相对容易。\n\n 4. 动态调试：\n    \n    由于采用动态计算图，pytorch允许你在模型构建和训练过程中轻松进行动态调试，检查梯度、查看中间变量等。这对于理解和诊断模型行为非常有帮助。\n\n 5. 丰富的生态系统：\n    \n    pytorch拥有庞大的用户社区，有许多开源项目、库和工具，可以扩展其功能。这些包括模型部署工具、迁移学习库、自然语言处理工具和计算机视觉工具，以及与其他深度学习框架的集成。\n\n 6. 深度学习研究和教育：\n    \n    pytorch在深度学习研究和教育中非常流行，因为它易于学习、易于使用，并提供了丰富的教程和文档资源。它还被许多大学和研究机构用于深度学习课程和研究项目。\n\n 7. 跨平台支持：\n    \n    pytorch支持多种操作系统，包括linux、macos和windows，以及多种编程语言接口，如python、c++等。这使得它适用于各种应用场景。\n\n\n三者关系\n\ncuda、cudnn 和 pytorch 是三个不同但相关的组件，它们之间存在一些依赖关系，特别是在使用 pytorch 进行深度学习开发时。\n\n 1. cuda（compute unified device architecture）：\n    * cuda是gpu并行计算平台：cuda 是由 nvidia 开发的用于并行计算的平台和编程模型。它允许开发人员利用 nvidia gpu 的强大计算能力来加速各种科学计算、数值模拟和深度学习任务。\n    * pytorch依赖cuda：pytorch 使用 cuda 来加速神经网络的训练和推理。在 pytorch 中，张量（tensor）可以在 cpu 或 gpu 上进行计算。如果你想在 gpu 上训练神经网络，你需要确保 cuda 已经正确安装并配置。\n    * 版本兼容性：不同版本的 pytorch 可能需要特定版本的 cuda。你需要根据所使用的 pytorch 版本来选择合适的 cuda 版本，以确保兼容性。\n 2. cudnn（cuda deep neural network library）：\n    * cudnn用于深度学习加速：cudnn 是 nvidia 开发的专门用于深度学习的加速库。它提供了高度优化的卷积和其他深度神经网络层的操作，以提高深度学习模型的性能。\n    * pytorch依赖cudnn：pytorch 使用 cudnn 来执行深度学习操作，尤其是在卷积神经网络（cnn）中。cudnn 提供了高性能的卷积操作，使 pytorch 能够在 gpu 上高效地进行前向传播和反向传播。\n    * 版本兼容性：不同版本的 pytorch 需要特定版本的 cudnn。你需要确保所使用的 cudnn 版本与 pytorch 版本兼容。\n 3. pytorch：\n    * pytorch是深度学习框架：pytorch 是一个开源的深度学习框架，用于构建、训练和部署神经网络模型。它提供了张量操作、自动求导、优化器、损失函数等工具，使深度学习任务更加便捷。\n    * pytorch依赖cuda和cudnn：pytorch 可以在 cpu 或 gpu 上运行，但为了获得最佳性能，特别是在大规模深度学习任务中，你通常会将 pytorch 配置为在 gpu 上运行。这就需要确保 cuda 和 cudnn 已正确安装和配置。\n\n\n显卡驱动\n\n\n\n 1. cuda toolkit 包含显卡驱动：\n    * cuda toolkit 是一个由 nvidia 提供的开发工具包，其中包括了用于 cuda 编程的库、编译器、工具和示例代码。而且，每个 cuda toolkit 版本都会附带特定版本的 nvidia 显卡驱动。\n    * 这意味着，如果你安装了特定版本的 cuda toolkit，它将包括与该版本兼容的 nvidia 显卡驱动。这个驱动版本是为了保证 cuda 和 gpu 的正常运行，因此需要与 cuda toolkit 版本匹配。\n 2. cuda toolkit和显卡驱动的兼容性：\n    * 不同版本的 cuda toolkit 需要与特定版本的显卡驱动兼容，以确保 gpu 正常工作。如果 cuda toolkit 和显卡驱动版本不匹配，可能会导致问题，例如 cuda 不可用或运行时错误。\n    * 为了获得最佳性能和兼容性，你应该查看 nvidia 的官方文档，以了解哪个版本的 cuda toolkit 与哪个版本的显卡驱动兼容。通常，你可以在 nvidia 的官方网站上找到这些信息。\n\n\npytorch版本\n\n\n\ncuda 和 pytorch 之间存在版本依赖关系，这是因为 pytorch 可以使用 cuda 加速深度学习模型的训练和推理，需要与特定版本的 cuda 兼容才能正常工作。以下是 cuda 和 pytorch 版本之间的关系：\n\n 1. cuda 和 pytorch 的版本兼容性：\n    * 不同版本的 pytorch 需要与特定版本的 cuda 兼容，以确保能够利用 gpu 的计算能力。这是因为 pytorch 使用 cuda 来执行深度学习操作。\n    * 在使用 pytorch 之前，你应该查看 pytorch 官方文档或 github 仓库中的文档，以了解当前版本所支持的 cuda 版本。通常，pytorch 的文档会明确说明支持的 cuda 版本范围。\n 2. 示例：\n    * 例如，如果你使用的是 pytorch 1.8.0，官方文档可能会明确指出支持 cuda 11.1，因此你需要安装 cuda 11.1 或兼容版本的 cuda 驱动来与 pytorch 1.8.0 一起使用。\n\n\n总结\n\n确定 pytorch、cuda 和显卡驱动的版本并确保它们兼容，可以按照以下步骤进行：\n\n 1. 确定显卡驱动版本：\n    \n    * 首先，你需要确定你的计算机上安装了哪个版本的 nvidia 显卡驱动。你可以使用以下方法来查看：\n      \n      * 在终端中执行 nvidia-smi 命令。这个命令会显示当前系统上的 nvidia 显卡驱动版本以及相关信息。\n    \n    * 记下显示的 nvidia 驱动版本号。例如，版本号可能类似于 465.19.01。\n\n 2. 确定 cuda 版本：\n    \n    * 通常，nvidia 显卡驱动与 cuda 版本一起安装。所以，你可以通过查看 cuda 的版本来确定。\n    \n    * 在终端中执行以下命令来查看 cuda 版本：\n      \n      nvcc --version\n      \n    \n    * 记下显示的 cuda 版本号。例如，版本号可能类似于 11.1。\n\n 3. 确定 pytorch 版本：\n    \n    * 使用以下 python 代码来查看 pytorch 的版本：\n      \n      import torch\n      print(torch.__version__)\n      \n    \n    * 记下显示的 pytorch 版本号。例如，版本号可能类似于 1.8.1。\n\n 4. 检查兼容性：\n    \n    * 一旦你确定了各个组件的版本号，你可以查阅 pytorch 的官方文档，了解哪个版本的 pytorch 与哪个版本的 cuda 和显卡驱动兼容。通常，pytorch 的文档会明确说明支持的 cuda 版本范围。\n    \n    * 如果你的 pytorch 版本与你的 cuda 版本和显卡驱动版本不兼容，你可能需要升级或降级其中一个或多个组件，以确保它们能够良好地协同工作。\n\n> 往往我们在实际项目时，起始首先确定的是pytorch的版本，进而确定cuda的版本，再根据cuda的版本去查看自己平台的驱动是否支持。\n\n原文连接',charsets:{cjk:!0},lastUpdated:"2023/12/9",lastUpdatedTimestamp:170211155e4},{title:"Go Study Day13 - 网络编程",frontmatter:{title:"Go Study Day13 - 网络编程",date:"2019-9-21",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第13天  网络编程"},{name:"keywords",content:"自学 go net/http TCP UDP HTTP"},{name:"twitter:title",content:"Go Study Day13 - 网络编程"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day13-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day13 - 网络编程"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day13-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-9-21"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day13 - 网络编程"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday13.html",summary:"不断学习，不断提升，日拱一卒，学习go第13天！",description:""},regularPath:"/article/gostudy/day13-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html",relativePath:"article/gostudy/day13-网络编程.md",key:"v-8c1e76fa",path:"/article/gostudy/studygoday13.html",headers:[{level:2,title:"socket编程",slug:"socket编程",normalizedTitle:"socket编程",charIndex:2},{level:3,title:"TCP通信",slug:"tcp通信",normalizedTitle:"tcp通信",charIndex:48},{level:3,title:"TCP黏包",slug:"tcp黏包",normalizedTitle:"tcp黏包",charIndex:1518},{level:3,title:"UDP通信",slug:"udp通信",normalizedTitle:"udp通信",charIndex:2010},{level:2,title:"HTTP编程",slug:"http编程",normalizedTitle:"http编程",charIndex:3321},{level:3,title:"HTTP协议",slug:"http协议",normalizedTitle:"http协议",charIndex:3368},{level:3,title:"HTTP通信",slug:"http通信",normalizedTitle:"http通信",charIndex:3494},{level:3,title:"开源框架",slug:"开源框架",normalizedTitle:"开源框架",charIndex:6148}],headersStr:"socket编程 TCP通信 TCP黏包 UDP通信 HTTP编程 HTTP协议 HTTP通信 开源框架",content:'# socket编程\n\n主要使用了go内置的net包来实现4层TCP UDP协议通信。\n\n\n# TCP通信\n\n# server\n\n// 处理函数\nfunc process(conn net.Conn) {\n\tdefer conn.Close() // 关闭连接\n\tfor {\n\t\treader := bufio.NewReader(conn)\n\t\tvar buf [128]byte\n\t\tn, err := reader.Read(buf[:]) // 读取数据\n\t\tif err != nil {\n\t\t\tfmt.Println("read from client failed, err:", err)\n\t\t\tbreak\n\t\t}\n\t\trecvStr := string(buf[:n])\n\t\tfmt.Println("收到client端发来的数据：", recvStr)\n\t\tconn.Write([]byte(recvStr)) // 发送数据\n\t}\n}\n\nfunc main() {\n\tlisten, err := net.Listen("tcp", "127.0.0.1:20000")\n\tif err != nil {\n\t\tfmt.Println("listen failed, err:", err)\n\t\treturn\n\t}\n\tfor {\n\t\tconn, err := listen.Accept() // 建立连接\n\t\tif err != nil {\n\t\t\tfmt.Println("accept failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t\tgo process(conn) // 启动一个goroutine处理连接\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# client\n\nfunc main() {\n\tconn, err := net.Dial("tcp", "127.0.0.1:20000")\n\tif err != nil {\n\t\tfmt.Println("err :", err)\n\t\treturn\n\t}\n\tdefer conn.Close() // 关闭连接\n\tinputReader := bufio.NewReader(os.Stdin)\n\tfor {\n\t\tinput, _ := inputReader.ReadString(\'\\n\') // 读取用户输入\n\t\tinputInfo := strings.Trim(input, "\\r\\n")\n\t\tif strings.ToUpper(inputInfo) == "Q" { // 如果输入q就退出\n\t\t\treturn\n\t\t}\n\t\t_, err = conn.Write([]byte(inputInfo)) // 发送数据\n\t\tif err != nil {\n\t\t\treturn\n\t\t}\n\t\tbuf := [512]byte{}\n\t\tn, err := conn.Read(buf[:])\n\t\tif err != nil {\n\t\t\tfmt.Println("recv failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tfmt.Println(string(buf[:n]))\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# TCP黏包\n\n# 黏包的原因\n\n主要原因就是tcp数据传递模式是流模式，在保持长连接的时候可以进行多次的收和发。\n\n“粘包”可发生在发送端也可发生在接收端：\n\n 1. 由Nagle算法造成的发送端的粘包：Nagle算法是一种改善网络传输效率的算法。简单来说就是当我们提交一段数据给TCP发送时，TCP并不立刻发送此段数据，而是等待一小段时间看看在等待期间是否还有要发送的数据，若有则会一次把这两段数据发送出去。\n 2. 接收端接收不及时造成的接收端粘包：TCP会把接收到的数据存在自己的缓冲区中，然后通知应用层取数据。当应用层由于某些原因不能及时的把TCP的数据取出来，就会造成TCP缓冲区中存放了几段数据。\n\n# 解决思路\n\n出现”粘包”的关键在于接收方不确定将要传输的数据包的大小，因此我们可以对数据包进行封包和拆包的操作。\n\n封包：封包就是给一段数据加上包头，这样一来数据包就分为包头和包体两部分内容了(过滤非法包时封包会加入”包尾”内容)。包头部分的长度是固定的，并且它存储了包体的长度，根据包头长度固定以及包头中含有包体长度的变量就能正确的拆分出一个完整的数据包。\n\n\n# UDP通信\n\n# server\n\nfunc main() {\n\tlisten, err := net.ListenUDP("udp", &net.UDPAddr{\n\t\tIP:   net.IPv4(0, 0, 0, 0),\n\t\tPort: 30000,\n\t})\n\tif err != nil {\n\t\tfmt.Println("listen failed, err:", err)\n\t\treturn\n\t}\n\tdefer listen.Close()\n\tfor {\n\t\tvar data [1024]byte\n\t\tn, addr, err := listen.ReadFromUDP(data[:]) // 接收数据\n\t\tif err != nil {\n\t\t\tfmt.Println("read udp failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t\tfmt.Printf("data:%v addr:%v count:%v\\n", string(data[:n]), addr, n)\n\t\t_, err = listen.WriteToUDP(data[:n], addr) // 发送数据\n\t\tif err != nil {\n\t\t\tfmt.Println("write to udp failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 客户端\n\nfunc main() {\n\tsocket, err := net.DialUDP("udp", nil, &net.UDPAddr{\n\t\tIP:   net.IPv4(0, 0, 0, 0),\n\t\tPort: 30000,\n\t})\n\tif err != nil {\n\t\tfmt.Println("连接服务端失败，err:", err)\n\t\treturn\n\t}\n\tdefer socket.Close()\n\tsendData := []byte("Hello server")\n\t_, err = socket.Write(sendData) // 发送数据\n\tif err != nil {\n\t\tfmt.Println("发送数据失败，err:", err)\n\t\treturn\n\t}\n\tdata := make([]byte, 4096)\n\tn, remoteAddr, err := socket.ReadFromUDP(data) // 接收数据\n\tif err != nil {\n\t\tfmt.Println("接收数据失败，err:", err)\n\t\treturn\n\t}\n\tfmt.Printf("recv:%v addr:%v count:%v\\n", string(data[:n]), remoteAddr, n)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# HTTP编程\n\nGo语言内置的net/http包提供了HTTP客户端和服务端的实现。\n\n\n# HTTP协议\n\n超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络传输协议，所有的WWW文件都必须遵守这个标准。设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法。\n\n\n# HTTP通信\n\n# server\n\n使用Go语言中的net/http包来编写一个简单的接收HTTP请求的Server端示例，net/http包是对net包的进一步封装，专门用来处理HTTP协议的数据。具体的代码如下：\n\nfunc sayHello(w http.ResponseWriter, r *http.Request) {\n\tfmt.Fprintln(w, "Hello 沙河！")\n}\n\nfunc main() {\n\thttp.HandleFunc("/", sayHello)\n\terr := http.ListenAndServe(":9090", nil)\n\tif err != nil {\n\t\tfmt.Printf("http server failed, err:%v\\n", err)\n\t\treturn\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# client\n\nget请求\n\n关于GET请求的参数需要使用Go语言内置的net/url这个标准库来处理。\n\nfunc main() {\n\tapiUrl := "http://127.0.0.1:9090/get"\n\t// URL param\n\tdata := url.Values{}\n\tdata.Set("name", "小王子")\n\tdata.Set("age", "18")\n\tu, err := url.ParseRequestURI(apiUrl)\n\tif err != nil {\n\t\tfmt.Printf("parse url requestUrl failed, err:%v\\n", err)\n\t}\n\tu.RawQuery = data.Encode() // URL encode\n\tfmt.Println(u.String())\n\tresp, err := http.Get(u.String())\n\tif err != nil {\n\t\tfmt.Printf("post failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tdefer resp.Body.Close()\n\tb, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\tfmt.Printf("get resp failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Println(string(b))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n对应的Server端HandlerFunc如下：\n\nfunc getHandler(w http.ResponseWriter, r *http.Request) {\n\tdefer r.Body.Close()\n\tdata := r.URL.Query()\n\tfmt.Println(data.Get("name"))\n\tfmt.Println(data.Get("age"))\n\tanswer := `{"status": "ok"}`\n\tw.Write([]byte(answer))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npackage main\n\nimport (\n\t"fmt"\n\t"io/ioutil"\n\t"net/http"\n\t"strings"\n)\n\n// net/http post demo\n\nfunc main() {\n\turl := "http://127.0.0.1:9090/post"\n\t// 表单数据\n\t//contentType := "application/x-www-form-urlencoded"\n\t//data := "name=小王子&age=18"\n\t// json\n\tcontentType := "application/json"\n\tdata := `{"name":"小王子","age":18}`\n\tresp, err := http.Post(url, contentType, strings.NewReader(data))\n\tif err != nil {\n\t\tfmt.Printf("post failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tdefer resp.Body.Close()\n\tb, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\tfmt.Printf("get resp failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Println(string(b))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n对应的Server端HandlerFunc如下：\n\nfunc postHandler(w http.ResponseWriter, r *http.Request) {\n\tdefer r.Body.Close()\n\t// 1. 请求类型是application/x-www-form-urlencoded时解析form数据\n\tr.ParseForm()\n\tfmt.Println(r.PostForm) // 打印form数据\n\tfmt.Println(r.PostForm.Get("name"), r.PostForm.Get("age"))\n\t// 2. 请求类型是application/json时从r.Body读取数据\n\tb, err := ioutil.ReadAll(r.Body)\n\tif err != nil {\n\t\tfmt.Printf("read request.Body failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.Println(string(b))\n\tanswer := `{"status": "ok"}`\n\tw.Write([]byte(answer))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 开源框架\n\ngin，后面一节会讲到gin框架用法。一般来说开发都会使用开源框架，不会一点点手撸，但是也需要了解背后原理。',normalizedContent:'# socket编程\n\n主要使用了go内置的net包来实现4层tcp udp协议通信。\n\n\n# tcp通信\n\n# server\n\n// 处理函数\nfunc process(conn net.conn) {\n\tdefer conn.close() // 关闭连接\n\tfor {\n\t\treader := bufio.newreader(conn)\n\t\tvar buf [128]byte\n\t\tn, err := reader.read(buf[:]) // 读取数据\n\t\tif err != nil {\n\t\t\tfmt.println("read from client failed, err:", err)\n\t\t\tbreak\n\t\t}\n\t\trecvstr := string(buf[:n])\n\t\tfmt.println("收到client端发来的数据：", recvstr)\n\t\tconn.write([]byte(recvstr)) // 发送数据\n\t}\n}\n\nfunc main() {\n\tlisten, err := net.listen("tcp", "127.0.0.1:20000")\n\tif err != nil {\n\t\tfmt.println("listen failed, err:", err)\n\t\treturn\n\t}\n\tfor {\n\t\tconn, err := listen.accept() // 建立连接\n\t\tif err != nil {\n\t\t\tfmt.println("accept failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t\tgo process(conn) // 启动一个goroutine处理连接\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# client\n\nfunc main() {\n\tconn, err := net.dial("tcp", "127.0.0.1:20000")\n\tif err != nil {\n\t\tfmt.println("err :", err)\n\t\treturn\n\t}\n\tdefer conn.close() // 关闭连接\n\tinputreader := bufio.newreader(os.stdin)\n\tfor {\n\t\tinput, _ := inputreader.readstring(\'\\n\') // 读取用户输入\n\t\tinputinfo := strings.trim(input, "\\r\\n")\n\t\tif strings.toupper(inputinfo) == "q" { // 如果输入q就退出\n\t\t\treturn\n\t\t}\n\t\t_, err = conn.write([]byte(inputinfo)) // 发送数据\n\t\tif err != nil {\n\t\t\treturn\n\t\t}\n\t\tbuf := [512]byte{}\n\t\tn, err := conn.read(buf[:])\n\t\tif err != nil {\n\t\t\tfmt.println("recv failed, err:", err)\n\t\t\treturn\n\t\t}\n\t\tfmt.println(string(buf[:n]))\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# tcp黏包\n\n# 黏包的原因\n\n主要原因就是tcp数据传递模式是流模式，在保持长连接的时候可以进行多次的收和发。\n\n“粘包”可发生在发送端也可发生在接收端：\n\n 1. 由nagle算法造成的发送端的粘包：nagle算法是一种改善网络传输效率的算法。简单来说就是当我们提交一段数据给tcp发送时，tcp并不立刻发送此段数据，而是等待一小段时间看看在等待期间是否还有要发送的数据，若有则会一次把这两段数据发送出去。\n 2. 接收端接收不及时造成的接收端粘包：tcp会把接收到的数据存在自己的缓冲区中，然后通知应用层取数据。当应用层由于某些原因不能及时的把tcp的数据取出来，就会造成tcp缓冲区中存放了几段数据。\n\n# 解决思路\n\n出现”粘包”的关键在于接收方不确定将要传输的数据包的大小，因此我们可以对数据包进行封包和拆包的操作。\n\n封包：封包就是给一段数据加上包头，这样一来数据包就分为包头和包体两部分内容了(过滤非法包时封包会加入”包尾”内容)。包头部分的长度是固定的，并且它存储了包体的长度，根据包头长度固定以及包头中含有包体长度的变量就能正确的拆分出一个完整的数据包。\n\n\n# udp通信\n\n# server\n\nfunc main() {\n\tlisten, err := net.listenudp("udp", &net.udpaddr{\n\t\tip:   net.ipv4(0, 0, 0, 0),\n\t\tport: 30000,\n\t})\n\tif err != nil {\n\t\tfmt.println("listen failed, err:", err)\n\t\treturn\n\t}\n\tdefer listen.close()\n\tfor {\n\t\tvar data [1024]byte\n\t\tn, addr, err := listen.readfromudp(data[:]) // 接收数据\n\t\tif err != nil {\n\t\t\tfmt.println("read udp failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t\tfmt.printf("data:%v addr:%v count:%v\\n", string(data[:n]), addr, n)\n\t\t_, err = listen.writetoudp(data[:n], addr) // 发送数据\n\t\tif err != nil {\n\t\t\tfmt.println("write to udp failed, err:", err)\n\t\t\tcontinue\n\t\t}\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 客户端\n\nfunc main() {\n\tsocket, err := net.dialudp("udp", nil, &net.udpaddr{\n\t\tip:   net.ipv4(0, 0, 0, 0),\n\t\tport: 30000,\n\t})\n\tif err != nil {\n\t\tfmt.println("连接服务端失败，err:", err)\n\t\treturn\n\t}\n\tdefer socket.close()\n\tsenddata := []byte("hello server")\n\t_, err = socket.write(senddata) // 发送数据\n\tif err != nil {\n\t\tfmt.println("发送数据失败，err:", err)\n\t\treturn\n\t}\n\tdata := make([]byte, 4096)\n\tn, remoteaddr, err := socket.readfromudp(data) // 接收数据\n\tif err != nil {\n\t\tfmt.println("接收数据失败，err:", err)\n\t\treturn\n\t}\n\tfmt.printf("recv:%v addr:%v count:%v\\n", string(data[:n]), remoteaddr, n)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# http编程\n\ngo语言内置的net/http包提供了http客户端和服务端的实现。\n\n\n# http协议\n\n超文本传输协议（http，hypertext transfer protocol)是互联网上应用最为广泛的一种网络传输协议，所有的www文件都必须遵守这个标准。设计http最初的目的是为了提供一种发布和接收html页面的方法。\n\n\n# http通信\n\n# server\n\n使用go语言中的net/http包来编写一个简单的接收http请求的server端示例，net/http包是对net包的进一步封装，专门用来处理http协议的数据。具体的代码如下：\n\nfunc sayhello(w http.responsewriter, r *http.request) {\n\tfmt.fprintln(w, "hello 沙河！")\n}\n\nfunc main() {\n\thttp.handlefunc("/", sayhello)\n\terr := http.listenandserve(":9090", nil)\n\tif err != nil {\n\t\tfmt.printf("http server failed, err:%v\\n", err)\n\t\treturn\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# client\n\nget请求\n\n关于get请求的参数需要使用go语言内置的net/url这个标准库来处理。\n\nfunc main() {\n\tapiurl := "http://127.0.0.1:9090/get"\n\t// url param\n\tdata := url.values{}\n\tdata.set("name", "小王子")\n\tdata.set("age", "18")\n\tu, err := url.parserequesturi(apiurl)\n\tif err != nil {\n\t\tfmt.printf("parse url requesturl failed, err:%v\\n", err)\n\t}\n\tu.rawquery = data.encode() // url encode\n\tfmt.println(u.string())\n\tresp, err := http.get(u.string())\n\tif err != nil {\n\t\tfmt.printf("post failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tdefer resp.body.close()\n\tb, err := ioutil.readall(resp.body)\n\tif err != nil {\n\t\tfmt.printf("get resp failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.println(string(b))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n对应的server端handlerfunc如下：\n\nfunc gethandler(w http.responsewriter, r *http.request) {\n\tdefer r.body.close()\n\tdata := r.url.query()\n\tfmt.println(data.get("name"))\n\tfmt.println(data.get("age"))\n\tanswer := `{"status": "ok"}`\n\tw.write([]byte(answer))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\npackage main\n\nimport (\n\t"fmt"\n\t"io/ioutil"\n\t"net/http"\n\t"strings"\n)\n\n// net/http post demo\n\nfunc main() {\n\turl := "http://127.0.0.1:9090/post"\n\t// 表单数据\n\t//contenttype := "application/x-www-form-urlencoded"\n\t//data := "name=小王子&age=18"\n\t// json\n\tcontenttype := "application/json"\n\tdata := `{"name":"小王子","age":18}`\n\tresp, err := http.post(url, contenttype, strings.newreader(data))\n\tif err != nil {\n\t\tfmt.printf("post failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tdefer resp.body.close()\n\tb, err := ioutil.readall(resp.body)\n\tif err != nil {\n\t\tfmt.printf("get resp failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.println(string(b))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n对应的server端handlerfunc如下：\n\nfunc posthandler(w http.responsewriter, r *http.request) {\n\tdefer r.body.close()\n\t// 1. 请求类型是application/x-www-form-urlencoded时解析form数据\n\tr.parseform()\n\tfmt.println(r.postform) // 打印form数据\n\tfmt.println(r.postform.get("name"), r.postform.get("age"))\n\t// 2. 请求类型是application/json时从r.body读取数据\n\tb, err := ioutil.readall(r.body)\n\tif err != nil {\n\t\tfmt.printf("read request.body failed, err:%v\\n", err)\n\t\treturn\n\t}\n\tfmt.println(string(b))\n\tanswer := `{"status": "ok"}`\n\tw.write([]byte(answer))\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 开源框架\n\ngin，后面一节会讲到gin框架用法。一般来说开发都会使用开源框架，不会一点点手撸，但是也需要了解背后原理。',charsets:{cjk:!0},lastUpdated:"2023/4/21",lastUpdatedTimestamp:1682074658e3},{title:"Go Study Day12 - go module和pprof",frontmatter:{title:"Go Study Day12 - go module和pprof",date:"2019-9-14",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"从0学go 第12天  go module和pprof性能调优"},{name:"keywords",content:"自学 go go module和pprof go tool go-torch FlameGraph"},{name:"twitter:title",content:"Go Study Day12 - go module和pprof"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/day12-go%20module%E5%92%8Cpprof.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go Study Day12 - go module和pprof"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/day12-go%20module%E5%92%8Cpprof.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-9-14"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go Study Day12 - go module和pprof"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/studygoday12.html",summary:"不断学习，不断提升，日拱一卒，学习go第12天！",description:""},regularPath:"/article/gostudy/day12-go%20module%E5%92%8Cpprof.html",relativePath:"article/gostudy/day12-go module和pprof.md",key:"v-40eb3134",path:"/article/gostudy/studygoday12.html",headers:[{level:2,title:"go module",slug:"go-module",normalizedTitle:"go module",charIndex:2},{level:3,title:"GO111MODULE",slug:"go111module",normalizedTitle:"go111module",charIndex:16},{level:3,title:"GOPROXY",slug:"goproxy",normalizedTitle:"goproxy",charIndex:425},{level:3,title:"go mod命令",slug:"go-mod命令",normalizedTitle:"go mod命令",charIndex:592},{level:3,title:"go.mod",slug:"go-mod",normalizedTitle:"go.mod",charIndex:215},{level:3,title:"go get",slug:"go-get",normalizedTitle:"go get",charIndex:1739},{level:2,title:"pporf",slug:"pporf",normalizedTitle:"pporf",charIndex:1960},{level:3,title:"工具型应用",slug:"工具型应用",normalizedTitle:"工具型应用",charIndex:2018},{level:3,title:"服务型应用",slug:"服务型应用",normalizedTitle:"服务型应用",charIndex:2052},{level:3,title:"分析",slug:"分析",normalizedTitle:"分析",charIndex:2029}],headersStr:"go module GO111MODULE GOPROXY go mod命令 go.mod go get pporf 工具型应用 服务型应用 分析",content:'# go module\n\n\n# GO111MODULE\n\n要启用go module支持首先要设置环境变量GO111MODULE，通过它可以开启或关闭模块支持，它有三个可选值：off、on、auto，默认值是auto。\n\n 1. GO111MODULE=off禁用模块支持，编译时会从GOPATH和vendor文件夹中查找包。\n 2. GO111MODULE=on启用模块支持，编译时会忽略GOPATH和vendor文件夹，只根据 go.mod下载依赖。\n 3. GO111MODULE=auto，当项目在$GOPATH/src外且项目根目录有go.mod文件时，开启模块支持。\n\n简单来说，设置GO111MODULE=on之后就可以使用go module了，以后就没有必要在GOPATH中创建项目了，并且还能够很好的管理项目依赖的第三方包信息。\n\n使用 go module 管理依赖后会在项目根目录下生成两个文件go.mod和go.sum。\n\n\n# GOPROXY\n\nGo1.11之后设置GOPROXY命令为：\n\nexport GOPROXY=https://goproxy.cn\n\n\n1\n\n\nGo1.13之后GOPROXY默认值为https://proxy.golang.org，在国内是无法访问的，所以十分建议大家设置GOPROXY，这里我推荐使用goproxy.cn。\n\n\n# go mod命令\n\n常用的go mod命令如下：\n\ngo mod download    下载依赖的module到本地cache（默认为$GOPATH/pkg/mod目录）\ngo mod edit        编辑go.mod文件\ngo mod graph       打印模块依赖图\ngo mod init        初始化当前文件夹, 创建go.mod文件\ngo mod tidy        增加缺少的module，删除无用的module\ngo mod vendor      将依赖复制到vendor下\ngo mod verify      校验依赖\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# go.mod\n\ngo.mod文件记录了项目所有的依赖信息，其结构大致如下：\n\nmodule github.com/Q1mi/studygo/blogger\n\ngo 1.12\n\nrequire (\n\tgithub.com/DeanThompson/ginpprof v0.0.0-20190408063150-3be636683586\n\tgithub.com/gin-gonic/gin v1.4.0\n\tgithub.com/go-sql-driver/mysql v1.4.1\n\tgithub.com/jmoiron/sqlx v1.2.0\n\tgithub.com/satori/go.uuid v1.2.0\n\tgoogle.golang.org/appengine v1.6.1 // indirect\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n其中，\n\n * module用来定义包名\n * require用来定义依赖包及版本\n * indirect表示间接引用\n\n# replace\n\n在国内访问golang.org/x的各个包都需要翻墙，你可以在go.mod中使用replace替换成github上对应的库。\n\nreplace (\n\tgolang.org/x/crypto v0.0.0-20180820150726-614d502a4dac => github.com/golang/crypto v0.0.0-20180820150726-614d502a4dac\n\tgolang.org/x/net v0.0.0-20180821023952-922f4815f713 => github.com/golang/net v0.0.0-20180826012351-8a410e7b638d\n\tgolang.org/x/text v0.3.0 => github.com/golang/text v0.3.0\n)\n\n\n1\n2\n3\n4\n5\n\n\n\n# go get\n\n在项目中执行go get命令可以下载依赖包，并且还可以指定下载的版本。\n\n 1. 运行go get -u将会升级到最新的次要版本或者修订版本(x.y.z, z是修订版本号， y是次要版本号)\n 2. 运行go get -u=patch将会升级到最新的修订版本\n 3. 运行go get package@version将会升级到指定的版本号version\n\n如果下载所有依赖可以使用go mod download命令。\n\n\n# pporf\n\nGo语言内置了获取程序的运行数据的工具，包括以下两个标准库：\n\n * runtime/pprof：采集工具型应用运行数据进行分析\n * net/http/pprof：采集服务型应用运行时数据进行分析\n\npprof开启后，每隔一段时间（10ms）就会收集下当前的堆栈信息，获取各个函数占用的CPU以及内存资源；最后通过对这些采样数据进行分析，形成一个性能分析报告。\n\n注意，我们只应该在性能测试的时候才在代码中引入pprof。\n\n\n# 工具型应用\n\n如果你的应用程序是运行一段时间就结束退出类型。那么最好的办法是在应用退出的时候把 profiling 的报告保存到文件中，进行分析。对于这种情况，可以使用runtime/pprof库。 首先在代码中导入runtime/pprof工具：\n\nimport "runtime/pprof"\n\n\n1\n\n\n# CPU性能分析\n\n开启CPU性能分析：\n\npprof.StartCPUProfile(w io.Writer)\n\n\n1\n\n\n停止CPU性能分析：\n\npprof.StopCPUProfile()\n\n\n1\n\n\n应用执行结束后，就会生成一个文件，保存了我们的 CPU profiling 数据。得到采样数据之后，使用go tool pprof工具进行CPU性能分析。\n\n# 内存性能优化\n\n记录程序的堆栈信息\n\npprof.WriteHeapProfile(w io.Writer)\n\n\n1\n\n\n得到采样数据之后，使用go tool pprof工具进行内存性能分析。\n\ngo tool pprof默认是使用-inuse_space进行统计，还可以使用-inuse-objects查看分配对象的数量。\n\n\n# 服务型应用\n\n如果你的应用程序是一直运行的，比如 web 应用，那么可以使用net/http/pprof库，它能够在提供 HTTP 服务进行分析。\n\n如果使用了默认的http.DefaultServeMux（通常是代码直接使用 http.ListenAndServe(“0.0.0.0:8000”, nil)），只需要在你的web server端代码中按如下方式导入net/http/pprof\n\nimport _ "net/http/pprof"\n\n\n1\n\n\n如果你使用自定义的 Mux，则需要手动注册一些路由规则：\n\nr.HandleFunc("/debug/pprof/", pprof.Index)\nr.HandleFunc("/debug/pprof/cmdline", pprof.Cmdline)\nr.HandleFunc("/debug/pprof/profile", pprof.Profile)\nr.HandleFunc("/debug/pprof/symbol", pprof.Symbol)\nr.HandleFunc("/debug/pprof/trace", pprof.Trace)\n\n\n1\n2\n3\n4\n5\n\n\n如果你使用的是gin框架，那么推荐使用github.com/gin-contrib/pprof，在代码中通过以下命令注册pprof相关路由。\n\npprof.Register(router)\n\n\n1\n\n\n127.0.0.1:8080/debug/pprof这个路径下还有几个子页面：\n\n * /debug/pprof/profile：访问这个链接会自动进行 CPU profiling，持续 30s，并生成一个文件供下载\n * /debug/pprof/heap： Memory Profiling 的路径，访问这个链接会得到一个内存 Profiling 结果的文件\n * /debug/pprof/block：block Profiling 的路径\n * /debug/pprof/goroutines：运行的 goroutines 列表，以及调用关系\n\n\n# 分析\n\n# go tool\n\n不管是工具型应用还是服务型应用，我们使用相应的pprof库获取数据之后，下一步的都要对这些数据进行分析，我们可以使用go tool pprof命令行工具。\n\ngo tool pprof最简单的使用方式为:\n\ngo tool pprof [binary] [source]\n\n\n1\n\n\n其中：\n\n * binary 是应用的二进制文件，用来解析各种符号；\n * source 表示 profile 数据的来源，可以是本地的文件，也可以是 http 地址。\n\n# go-torch和火焰图\n\n * 安装go-torch\n\n   go get -v github.com/uber/go-torch\n\n\n1\n\n\ngo-torch 工具的使用非常简单，没有任何参数的话，它会尝试从http://localhost:8080/debug/pprof/profile获取 profiling 数据。它有三个常用的参数可以调整：\n\nu –url：要访问的 URL，这里只是主机和端口部分\n\n-s –suffix：pprof profile 的路径，默认为 /debug/pprof/profile\n\n–seconds：要执行 profiling 的时间长度，默认为 30s\n\n * 安装 FlameGraph\n\n 1. 下载安装perl：https://www.perl.org/get.html\n\n * 使用go-torch\n   \n   go-torch -u http://127.0.0.1:8080 -t 30\n   \n   \n   1\n   ',normalizedContent:'# go module\n\n\n# go111module\n\n要启用go module支持首先要设置环境变量go111module，通过它可以开启或关闭模块支持，它有三个可选值：off、on、auto，默认值是auto。\n\n 1. go111module=off禁用模块支持，编译时会从gopath和vendor文件夹中查找包。\n 2. go111module=on启用模块支持，编译时会忽略gopath和vendor文件夹，只根据 go.mod下载依赖。\n 3. go111module=auto，当项目在$gopath/src外且项目根目录有go.mod文件时，开启模块支持。\n\n简单来说，设置go111module=on之后就可以使用go module了，以后就没有必要在gopath中创建项目了，并且还能够很好的管理项目依赖的第三方包信息。\n\n使用 go module 管理依赖后会在项目根目录下生成两个文件go.mod和go.sum。\n\n\n# goproxy\n\ngo1.11之后设置goproxy命令为：\n\nexport goproxy=https://goproxy.cn\n\n\n1\n\n\ngo1.13之后goproxy默认值为https://proxy.golang.org，在国内是无法访问的，所以十分建议大家设置goproxy，这里我推荐使用goproxy.cn。\n\n\n# go mod命令\n\n常用的go mod命令如下：\n\ngo mod download    下载依赖的module到本地cache（默认为$gopath/pkg/mod目录）\ngo mod edit        编辑go.mod文件\ngo mod graph       打印模块依赖图\ngo mod init        初始化当前文件夹, 创建go.mod文件\ngo mod tidy        增加缺少的module，删除无用的module\ngo mod vendor      将依赖复制到vendor下\ngo mod verify      校验依赖\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# go.mod\n\ngo.mod文件记录了项目所有的依赖信息，其结构大致如下：\n\nmodule github.com/q1mi/studygo/blogger\n\ngo 1.12\n\nrequire (\n\tgithub.com/deanthompson/ginpprof v0.0.0-20190408063150-3be636683586\n\tgithub.com/gin-gonic/gin v1.4.0\n\tgithub.com/go-sql-driver/mysql v1.4.1\n\tgithub.com/jmoiron/sqlx v1.2.0\n\tgithub.com/satori/go.uuid v1.2.0\n\tgoogle.golang.org/appengine v1.6.1 // indirect\n)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n其中，\n\n * module用来定义包名\n * require用来定义依赖包及版本\n * indirect表示间接引用\n\n# replace\n\n在国内访问golang.org/x的各个包都需要翻墙，你可以在go.mod中使用replace替换成github上对应的库。\n\nreplace (\n\tgolang.org/x/crypto v0.0.0-20180820150726-614d502a4dac => github.com/golang/crypto v0.0.0-20180820150726-614d502a4dac\n\tgolang.org/x/net v0.0.0-20180821023952-922f4815f713 => github.com/golang/net v0.0.0-20180826012351-8a410e7b638d\n\tgolang.org/x/text v0.3.0 => github.com/golang/text v0.3.0\n)\n\n\n1\n2\n3\n4\n5\n\n\n\n# go get\n\n在项目中执行go get命令可以下载依赖包，并且还可以指定下载的版本。\n\n 1. 运行go get -u将会升级到最新的次要版本或者修订版本(x.y.z, z是修订版本号， y是次要版本号)\n 2. 运行go get -u=patch将会升级到最新的修订版本\n 3. 运行go get package@version将会升级到指定的版本号version\n\n如果下载所有依赖可以使用go mod download命令。\n\n\n# pporf\n\ngo语言内置了获取程序的运行数据的工具，包括以下两个标准库：\n\n * runtime/pprof：采集工具型应用运行数据进行分析\n * net/http/pprof：采集服务型应用运行时数据进行分析\n\npprof开启后，每隔一段时间（10ms）就会收集下当前的堆栈信息，获取各个函数占用的cpu以及内存资源；最后通过对这些采样数据进行分析，形成一个性能分析报告。\n\n注意，我们只应该在性能测试的时候才在代码中引入pprof。\n\n\n# 工具型应用\n\n如果你的应用程序是运行一段时间就结束退出类型。那么最好的办法是在应用退出的时候把 profiling 的报告保存到文件中，进行分析。对于这种情况，可以使用runtime/pprof库。 首先在代码中导入runtime/pprof工具：\n\nimport "runtime/pprof"\n\n\n1\n\n\n# cpu性能分析\n\n开启cpu性能分析：\n\npprof.startcpuprofile(w io.writer)\n\n\n1\n\n\n停止cpu性能分析：\n\npprof.stopcpuprofile()\n\n\n1\n\n\n应用执行结束后，就会生成一个文件，保存了我们的 cpu profiling 数据。得到采样数据之后，使用go tool pprof工具进行cpu性能分析。\n\n# 内存性能优化\n\n记录程序的堆栈信息\n\npprof.writeheapprofile(w io.writer)\n\n\n1\n\n\n得到采样数据之后，使用go tool pprof工具进行内存性能分析。\n\ngo tool pprof默认是使用-inuse_space进行统计，还可以使用-inuse-objects查看分配对象的数量。\n\n\n# 服务型应用\n\n如果你的应用程序是一直运行的，比如 web 应用，那么可以使用net/http/pprof库，它能够在提供 http 服务进行分析。\n\n如果使用了默认的http.defaultservemux（通常是代码直接使用 http.listenandserve(“0.0.0.0:8000”, nil)），只需要在你的web server端代码中按如下方式导入net/http/pprof\n\nimport _ "net/http/pprof"\n\n\n1\n\n\n如果你使用自定义的 mux，则需要手动注册一些路由规则：\n\nr.handlefunc("/debug/pprof/", pprof.index)\nr.handlefunc("/debug/pprof/cmdline", pprof.cmdline)\nr.handlefunc("/debug/pprof/profile", pprof.profile)\nr.handlefunc("/debug/pprof/symbol", pprof.symbol)\nr.handlefunc("/debug/pprof/trace", pprof.trace)\n\n\n1\n2\n3\n4\n5\n\n\n如果你使用的是gin框架，那么推荐使用github.com/gin-contrib/pprof，在代码中通过以下命令注册pprof相关路由。\n\npprof.register(router)\n\n\n1\n\n\n127.0.0.1:8080/debug/pprof这个路径下还有几个子页面：\n\n * /debug/pprof/profile：访问这个链接会自动进行 cpu profiling，持续 30s，并生成一个文件供下载\n * /debug/pprof/heap： memory profiling 的路径，访问这个链接会得到一个内存 profiling 结果的文件\n * /debug/pprof/block：block profiling 的路径\n * /debug/pprof/goroutines：运行的 goroutines 列表，以及调用关系\n\n\n# 分析\n\n# go tool\n\n不管是工具型应用还是服务型应用，我们使用相应的pprof库获取数据之后，下一步的都要对这些数据进行分析，我们可以使用go tool pprof命令行工具。\n\ngo tool pprof最简单的使用方式为:\n\ngo tool pprof [binary] [source]\n\n\n1\n\n\n其中：\n\n * binary 是应用的二进制文件，用来解析各种符号；\n * source 表示 profile 数据的来源，可以是本地的文件，也可以是 http 地址。\n\n# go-torch和火焰图\n\n * 安装go-torch\n\n   go get -v github.com/uber/go-torch\n\n\n1\n\n\ngo-torch 工具的使用非常简单，没有任何参数的话，它会尝试从http://localhost:8080/debug/pprof/profile获取 profiling 数据。它有三个常用的参数可以调整：\n\nu –url：要访问的 url，这里只是主机和端口部分\n\n-s –suffix：pprof profile 的路径，默认为 /debug/pprof/profile\n\n–seconds：要执行 profiling 的时间长度，默认为 30s\n\n * 安装 flamegraph\n\n 1. 下载安装perl：https://www.perl.org/get.html\n\n * 使用go-torch\n   \n   go-torch -u http://127.0.0.1:8080 -t 30\n   \n   \n   1\n   ',charsets:{cjk:!0},lastUpdated:"2023/4/26",lastUpdatedTimestamp:1682510928e3},{title:"Go版本管理",frontmatter:{title:"Go版本管理",date:"2023-05-26T00:00:00.000Z",categories:["go"],tags:["go"],meta:[{name:"description",content:"go 版本管理"},{name:"keywords",content:"go gin"},{name:"twitter:title",content:"Go版本管理"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/go%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go版本管理"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/go%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-05-26T00:00:00.000Z"},{property:"article:tag",content:"go"},{itemprop:"name",content:"Go版本管理"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/go/go-version-manage.html",summary:"不断学习，不断提升，日拱一卒！",description:""},regularPath:"/article/gostudy/go%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.html",relativePath:"article/gostudy/go版本管理工具.md",key:"v-05801c55",path:"/article/go/go-version-manage.html",headers:[{level:2,title:"grop",slug:"grop",normalizedTitle:"grop",charIndex:71}],headersStr:"grop",content:"当本地有多套代码分别使用了go的不同版本时，如何能够更优雅的切换并管理呢？\n\npython有很多管理工具如pyenv，go同样也有。\n\n\n# grop\n\n# 安装\n\n$ curl -sSf https://raw.githubusercontent.com/owenthereal/goup/master/install.sh | sh\n\n需要魔法才能下载，可以选择开全局代理或设置curl代理。\n\n# 使用方法\n\n * install：安装对应的 Go 版本，也可以是 tip。如果不提供版本，则安装当前最新版本；\n * List：显示当前存在的go版本以及当前生效的 Go 版本；\n * set ： 设置默认go版本\n * Search: 如查询search用法，可goup search help，其他用法参考goup help\n\n示例\n\ngoup install 1.10.8\ngoup list\n| VERSION | ACTIVE |\n|---------|--------|\n| 1.17.13 |   *    |\n| 1.20.4  |        |\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"当本地有多套代码分别使用了go的不同版本时，如何能够更优雅的切换并管理呢？\n\npython有很多管理工具如pyenv，go同样也有。\n\n\n# grop\n\n# 安装\n\n$ curl -ssf https://raw.githubusercontent.com/owenthereal/goup/master/install.sh | sh\n\n需要魔法才能下载，可以选择开全局代理或设置curl代理。\n\n# 使用方法\n\n * install：安装对应的 go 版本，也可以是 tip。如果不提供版本，则安装当前最新版本；\n * list：显示当前存在的go版本以及当前生效的 go 版本；\n * set ： 设置默认go版本\n * search: 如查询search用法，可goup search help，其他用法参考goup help\n\n示例\n\ngoup install 1.10.8\ngoup list\n| version | active |\n|---------|--------|\n| 1.17.13 |   *    |\n| 1.20.4  |        |\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2023/5/29",lastUpdatedTimestamp:1685359848e3},{title:"Go进阶 - web框架gin",frontmatter:{title:"Go进阶 - web框架gin",date:"2019-10-08T00:00:00.000Z",categories:["go"],tags:["go","学习提升"],meta:[{name:"description",content:"go web进阶 gin框架"},{name:"keywords",content:"go gin"},{name:"twitter:title",content:"Go进阶 - web框架gin"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/gin.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go进阶 - web框架gin"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/gin.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-10-08T00:00:00.000Z"},{property:"article:tag",content:"go"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"Go进阶 - web框架gin"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/gostudy/go-gin.html",summary:"不断学习，不断提升，日拱一卒！",description:""},regularPath:"/article/gostudy/gin.html",relativePath:"article/gostudy/gin.md",key:"v-279330ce",path:"/article/gostudy/go-gin.html",headers:[{level:2,title:"gin是什么",slug:"gin是什么",normalizedTitle:"gin是什么",charIndex:2},{level:2,title:"路由",slug:"路由",normalizedTitle:"路由",charIndex:333},{level:3,title:"普通路由",slug:"普通路由",normalizedTitle:"普通路由",charIndex:596},{level:3,title:"routers group",slug:"routers-group",normalizedTitle:"routers group",charIndex:1914},{level:2,title:"请求处理",slug:"请求处理",normalizedTitle:"请求处理",charIndex:2901},{level:3,title:"GET请求",slug:"get请求",normalizedTitle:"get请求",charIndex:2910},{level:3,title:"POST请求",slug:"post请求",normalizedTitle:"post请求",charIndex:3787},{level:3,title:"结构体参数绑定",slug:"结构体参数绑定",normalizedTitle:"结构体参数绑定",charIndex:4736},{level:3,title:"上传文件",slug:"上传文件",normalizedTitle:"上传文件",charIndex:6479},{level:2,title:"中间件",slug:"中间件",normalizedTitle:"中间件",charIndex:727},{level:3,title:"定义中间件",slug:"定义中间件",normalizedTitle:"定义中间件",charIndex:7928},{level:3,title:"使用中间件",slug:"使用中间件",normalizedTitle:"使用中间件",charIndex:7843},{level:3,title:"全局中间件",slug:"全局中间件",normalizedTitle:"全局中间件",charIndex:7870},{level:3,title:"局部中间件",slug:"局部中间件",normalizedTitle:"局部中间件",charIndex:9563}],headersStr:"gin是什么 路由 普通路由 routers group 请求处理 GET请求 POST请求 结构体参数绑定 上传文件 中间件 定义中间件 使用中间件 全局中间件 局部中间件",content:'# gin是什么\n\n# 简介\n\n * Gin是一个golang的微框架，封装比较优雅，API友好，源码注释比较明确，具有快速灵活，容错方便等特点\n * 对于golang而言，web框架的依赖要远比Python，Java之类的要小。自身的net/http足够简单，性能也非常不错\n * 借助框架开发，不仅可以省去很多常用的封装带来的时间，也有助于团队的编码风格和形成规范\n\n# 基本使用\n\n安装 go get -u github.com/gin-gonic/gin\n\n\npackage main\nimport (\n"github.com/gin-gonic/gin"\n"net/http"\n)\n// gin的helloWorld\nfunc main(){\n//1.创建路由\n\tr :=gin.Default()\n//2.绑定路由规则，执行的函数\n//gin.Context,封装了request和response\n\tr.GET("/",func(c *gin.Context){\n\t\tc.String(http.StatusOK,"hello World!")\n  })\n//3.监听端口，默认在8080\n\tr.Run(":8000")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n浏览器访问：localhost:8080\n\n\n# 路由\n\n\n# 普通路由\n\n# 基本路由\n\n * gin 框架中采用的路由库是基于httprouter做的\n * 地址为：https://github.com/julienschmidt/httprouter\n\nfunc main() {\n//1.创建路由\n// 默认使用了2个中间件Logger O,RecoveryO\n  r := gin.Default()\n//也可以创建不带中间件的路由\n//r :gin.New(\n//2.绑定路由规贝则，执行的函数\n//gIin.Context,封装了reques ti和response\n\tr.GET("/" ,func(c *gin.Context){\n\t\tc.String(http.StatusoK,"hello World!")\n1)\n\tr.POST("/xxx123",getting)\n    r.PUT("/xxxPut")\n\t//3.监听端口，默认在8080\n    r.Run(":8000")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# Restful风格的API\n\n * gin支持Restful风格的API\n * 即Representational State Transfer的缩写。直接翻译的意思是"表现层状态转化"，是一种互联网应用程序的API设计理念：URL定位资源，用HTTP描述操作\n\n1.获取文章 /blog/Xxx      Get   blog/Xxx \n2.添加     /blog/Xxx      POST  blog/Xxx\n3.修改     /blog/Xxx       PUT   blog/Xxx\n4.删除     /blog/Xxx     DELETE blog/Xxx\n\n\n1\n2\n3\n4\n\n\n> 不过有部分公司会不建议使用restful，建议get来获取资源，post来变更资源包含增删改。\n\nrestful风格的gin\n\nfunc main() {\n\tr := gin.Default()\n\tr.GET("/book", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t"message": "GET",\n\t\t})\n\t})\n\n\tr.POST("/book", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t"message": "POST",\n\t\t})\n\t})\n\n\tr.PUT("/book", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t"message": "PUT",\n\t\t})\n\t})\n\n\tr.DELETE("/book", func(c *gin.Context) {\n\t\tc.JSON(200, gin.H{\n\t\t\t"message": "DELETE",\n\t\t})\n\t})\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# routers group\n\n我们可以将拥有共同URL前缀的路由划分为一个路由组。习惯性一对{}包裹同组的路由，这只是为了看着清晰，你用不用{}包裹功能上没什么区别。\n\n一般来说，路由对应的处理函数会单独放到controller目录下，不会直接卸载router的go文件中，看起来会更清晰。\n\nfunc main() {\n\tr := gin.Default()\n\tuserGroup := r.Group("/user")\n\t{\n\t\tuserGroup.GET("/index", func(c *gin.Context) {...}) // 实际路由/user/index\n\t\tuserGroup.GET("/login", func(c *gin.Context) {...})\n\t\tuserGroup.POST("/login", func(c *gin.Context) {...})\n\n\t}\n\tshopGroup := r.Group("/shop")\n\t{\n\t\tshopGroup.GET("/index", func(c *gin.Context) {...})\n\t\tshopGroup.GET("/cart", func(c *gin.Context) {...})\n\t\tshopGroup.POST("/checkout", func(c *gin.Context) {...})\n\t}\n\tr.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n路由组也是支持嵌套的，例如：\n\nshopGroup := r.Group("/shop")\n\t{\n\t\tshopGroup.GET("/index", func(c *gin.Context) {...})\n\t\tshopGroup.GET("/cart", func(c *gin.Context) {...})\n\t\tshopGroup.POST("/checkout", func(c *gin.Context) {...})\n\t\t// 嵌套路由组\n\t\txx := shopGroup.Group("xx")\n\t\txx.GET("/oo", func(c *gin.Context) {...})\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 请求处理\n\n\n# GET请求\n\n# 获取querystring参数\n\nquerystring指的是URL中?后面携带的参数，也称为URL参数\n\nfunc main() {\n\t//Default返回一个默认的路由引擎\n\tr := gin.Default()\n\tr.GET("/user/search", func(c *gin.Context) {\n\t\tusername := c.DefaultQuery("username", "张三")\n\t\t//username := c.Query("username")\n\t\taddress := c.Query("address")\n\t\t//输出json结果给调用方\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\tr.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 获取path参数\n\n请求的参数通过URL路径传递，也称为API参数\n\nfunc main() {\n\t//Default返回一个默认的路由引擎\n\tr := gin.Default()\n\tr.GET("/user/search/:username/:address", func(c *gin.Context) {\n\t\tusername := c.Param("username")\n\t\taddress := c.Param("address")\n\t\t//输出json结果给调用方\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\n\tr.Run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# POST请求\n\n * 表单传输为post请求，http常见的传输格式为四种：\n\n * * application/x-www-form-urlencoded\n   * multipart/form-data\n   * application/json\n   * application/xml\n\n# FORM请求\n\n * 表单参数可以通过PostForm()方法获取，该方法默认解析的是x-www-form-urlencoded或from-data格式的参数\n\nfunc main() {\n\t//Default返回一个默认的路由引擎\n\tr := gin.Default()\n\tr.POST("/user/search", func(c *gin.Context) {\n\t\t// DefaultPostForm取不到值时会返回指定的默认值\n\t\t//username := c.DefaultPostForm("username", "小王子")\n\t\tusername := c.PostForm("username")\n\t\taddress := c.PostForm("address")\n\t\t//输出json结果给调用方\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\tr.Run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# JSON请求\n\nr.POST("/json", func(c *gin.Context) {\n\t// 注意：下面为了举例子方便，暂时忽略了错误处理\n\tb, _ := c.GetRawData()  // 从c.Request.Body读取请求数据\n\t// 定义map或结构体\n\tvar m map[string]interface{}\n\t// 反序列化\n\t_ = json.Unmarshal(b, &m)\n\n\tc.JSON(http.StatusOK, m)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 结构体参数绑定\n\n上面的方式不适合获取结构体参数\n\n// Binding from JSON\ntype Login struct {\n\tUser     string `form:"user" json:"user" binding:"required"`\n\tPassword string `form:"password" json:"password" binding:"required"`\n}\n\nfunc main() {\n\trouter := gin.Default()\n\n\t// 绑定JSON的示例 ({"user": "q1mi", "password": "123456"})\n\trouter.POST("/loginJSON", func(c *gin.Context) {\n\t\tvar login Login\n\n\t\tif err := c.ShouldBind(&login); err == nil {\n\t\t\tfmt.Printf("login info:%#v\\n", login)\n\t\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t\t"user":     login.User,\n\t\t\t\t"password": login.Password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})\n\t\t}\n\t})\n\n\t// 绑定form表单示例 (user=q1mi&password=123456)\n\trouter.POST("/loginForm", func(c *gin.Context) {\n\t\tvar login Login\n\t\t// ShouldBind()会根据请求的Content-Type自行选择绑定器\n\t\tif err := c.ShouldBind(&login); err == nil {\n\t\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t\t"user":     login.User,\n\t\t\t\t"password": login.Password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})\n\t\t}\n\t})\n\n\t// 绑定QueryString示例 (/loginQuery?user=q1mi&password=123456)\n\trouter.GET("/loginForm", func(c *gin.Context) {\n\t\tvar login Login\n\t\t// ShouldBind()会根据请求的Content-Type自行选择绑定器\n\t\tif err := c.ShouldBind(&login); err == nil {\n\t\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t\t"user":     login.User,\n\t\t\t\t"password": login.Password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.JSON(http.StatusBadRequest, gin.H{"error": err.Error()})\n\t\t}\n\t})\n\n\t// Listen and serve on 0.0.0.0:8080\n\trouter.Run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n * c.ShouldBind.JSON 按照json格式解析\n * c.Bind 按照form格式解析，可根据content-type自动推断\n * c.ShouldBindUri 绑定get请求里的path参数\n\n\n# 上传文件\n\n# 单文件\n\nfunc main() {\n\trouter := gin.Default()\n\t// 处理multipart forms提交文件时默认的内存限制是32 MiB\n\t// 可以通过下面的方式修改\n\t// router.MaxMultipartMemory = 8 << 20  // 8 MiB\n\trouter.POST("/upload", func(c *gin.Context) {\n\t\t// 单个文件\n\t\tfile, err := c.FormFile("f1")\n\t\tif err != nil {\n\t\t\tc.JSON(http.StatusInternalServerError, gin.H{\n\t\t\t\t"message": err.Error(),\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tlog.Println(file.Filename)\n\t\tdst := fmt.Sprintf("C:/tmp/%s", file.Filename)\n\t\t// 上传文件到指定的目录\n\t\tc.SaveUploadedFile(file, dst)\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message": fmt.Sprintf("\'%s\' uploaded!", file.Filename),\n\t\t})\n\t})\n\trouter.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 多文件\n\nfunc main() {\n\trouter := gin.Default()\n\t// 处理multipart forms提交文件时默认的内存限制是32 MiB\n\t// 可以通过下面的方式修改\n\t// router.MaxMultipartMemory = 8 << 20  // 8 MiB\n\trouter.POST("/upload", func(c *gin.Context) {\n\t\t// Multipart form\n\t\tform, _ := c.MultipartForm()\n\t\tfiles := form.File["file"]\n\n\t\tfor index, file := range files {\n\t\t\tlog.Println(file.Filename)\n\t\t\tdst := fmt.Sprintf("C:/tmp/%s_%d", file.Filename, index)\n\t\t\t// 上传文件到指定的目录\n\t\t\tc.SaveUploadedFile(file, dst)\n\t\t}\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message": fmt.Sprintf("%d files uploaded!", len(files)),\n\t\t})\n\t})\n\trouter.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 中间件\n\n * gin可以构建中间件，但它只对注册过的路由函数起作用\n * 对于分组路由，嵌套使用中间件，可以限定中间件的作用范围\n * 中间件分为全局中间件，单个路由中间件和群组中间件\n * gin中间件必须是一个 gin.HandlerFunc 类型\n\n\n# 定义中间件\n\n# 请求耗时的中间件\n\n// StatCost 是一个统计耗时请求耗时的中间件\nfunc StatCost() gin.HandlerFunc {\n\treturn func(c *gin.Context) {\n\t\tstart := time.Now()\n\t\tc.Set("name", "小王子") // 可以通过c.Set在请求上下文中设置值，后续的处理函数能够取到该值\n\t\t// 调用该请求的剩余处理程序\n\t\tc.Next()\n\t\t// 不调用该请求的剩余处理程序\n\t\t// c.Abort()\n\t\t// 计算耗时\n\t\tcost := time.Since(start)\n\t\tlog.Println(cost)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# cors跨域中间件\n\npackage main\n\nimport (\n  "time"\n\n  "github.com/gin-contrib/cors"\n  "github.com/gin-gonic/gin"\n)\n\nfunc main() {\n  router := gin.Default()\n  // CORS for https://foo.com and https://github.com origins, allowing:\n  // - PUT and PATCH methods\n  // - Origin header\n  // - Credentials share\n  // - Preflight requests cached for 12 hours\n  router.Use(cors.New(cors.Config{\n    AllowOrigins:     []string{"https://foo.com"},  // 允许跨域发来请求的网站\n    AllowMethods:     []string{"GET", "POST", "PUT", "DELETE",  "OPTIONS"},  // 允许的请求方法\n    AllowHeaders:     []string{"Origin", "Authorization", "Content-Type"},\n    ExposeHeaders:    []string{"Content-Length"},\n    AllowCredentials: true,\n    AllowOriginFunc: func(origin string) bool {  // 自定义过滤源站的方法\n      return origin == "https://github.com"\n    },\n    MaxAge: 12 * time.Hour,\n  }))\n  router.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n或不需要自定义就全部放行\n\nfunc main() {\n  router := gin.Default()\n  // same as\n  // config := cors.DefaultConfig()\n  // config.AllowAllOrigins = true\n  // router.Use(cors.New(config))\n  router.Use(cors.Default())\n  router.Run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 使用中间件\n\n\n# 全局中间件\n\n\t// 新建一个没有任何默认中间件的路由\n\tr := gin.New()\n\t// 注册一个全局中间件\n\tr.Use(StatCost())\n\n\n1\n2\n3\n4\n\n\n\n# 局部中间件\n\n# 单路由使用\n\n// 给/test2路由单独注册中间件（可注册多个）\n\tr.GET("/test2", StatCost(), func(c *gin.Context) {\n\t\tname := c.MustGet("name").(string) // 从上下文取值\n\t\tlog.Println(name)\n\t\tc.JSON(http.StatusOK, gin.H{\n\t\t\t"message": "Hello world!",\n\t\t})\n\t})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 路由组使用\n\n写法1：\n\nshopGroup := r.Group("/shop", StatCost())\n{\n    shopGroup.GET("/index", func(c *gin.Context) {...})\n    ...\n}\n\n\n1\n2\n3\n4\n5\n\n\n写法2：\n\nshopGroup := r.Group("/shop")\nshopGroup.Use(StatCost())\n{\n    shopGroup.GET("/index", func(c *gin.Context) {...})\n    ...\n}\n\n\n1\n2\n3\n4\n5\n6\n',normalizedContent:'# gin是什么\n\n# 简介\n\n * gin是一个golang的微框架，封装比较优雅，api友好，源码注释比较明确，具有快速灵活，容错方便等特点\n * 对于golang而言，web框架的依赖要远比python，java之类的要小。自身的net/http足够简单，性能也非常不错\n * 借助框架开发，不仅可以省去很多常用的封装带来的时间，也有助于团队的编码风格和形成规范\n\n# 基本使用\n\n安装 go get -u github.com/gin-gonic/gin\n\n\npackage main\nimport (\n"github.com/gin-gonic/gin"\n"net/http"\n)\n// gin的helloworld\nfunc main(){\n//1.创建路由\n\tr :=gin.default()\n//2.绑定路由规则，执行的函数\n//gin.context,封装了request和response\n\tr.get("/",func(c *gin.context){\n\t\tc.string(http.statusok,"hello world!")\n  })\n//3.监听端口，默认在8080\n\tr.run(":8000")\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n浏览器访问：localhost:8080\n\n\n# 路由\n\n\n# 普通路由\n\n# 基本路由\n\n * gin 框架中采用的路由库是基于httprouter做的\n * 地址为：https://github.com/julienschmidt/httprouter\n\nfunc main() {\n//1.创建路由\n// 默认使用了2个中间件logger o,recoveryo\n  r := gin.default()\n//也可以创建不带中间件的路由\n//r :gin.new(\n//2.绑定路由规贝则，执行的函数\n//giin.context,封装了reques ti和response\n\tr.get("/" ,func(c *gin.context){\n\t\tc.string(http.statusok,"hello world!")\n1)\n\tr.post("/xxx123",getting)\n    r.put("/xxxput")\n\t//3.监听端口，默认在8080\n    r.run(":8000")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# restful风格的api\n\n * gin支持restful风格的api\n * 即representational state transfer的缩写。直接翻译的意思是"表现层状态转化"，是一种互联网应用程序的api设计理念：url定位资源，用http描述操作\n\n1.获取文章 /blog/xxx      get   blog/xxx \n2.添加     /blog/xxx      post  blog/xxx\n3.修改     /blog/xxx       put   blog/xxx\n4.删除     /blog/xxx     delete blog/xxx\n\n\n1\n2\n3\n4\n\n\n> 不过有部分公司会不建议使用restful，建议get来获取资源，post来变更资源包含增删改。\n\nrestful风格的gin\n\nfunc main() {\n\tr := gin.default()\n\tr.get("/book", func(c *gin.context) {\n\t\tc.json(200, gin.h{\n\t\t\t"message": "get",\n\t\t})\n\t})\n\n\tr.post("/book", func(c *gin.context) {\n\t\tc.json(200, gin.h{\n\t\t\t"message": "post",\n\t\t})\n\t})\n\n\tr.put("/book", func(c *gin.context) {\n\t\tc.json(200, gin.h{\n\t\t\t"message": "put",\n\t\t})\n\t})\n\n\tr.delete("/book", func(c *gin.context) {\n\t\tc.json(200, gin.h{\n\t\t\t"message": "delete",\n\t\t})\n\t})\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# routers group\n\n我们可以将拥有共同url前缀的路由划分为一个路由组。习惯性一对{}包裹同组的路由，这只是为了看着清晰，你用不用{}包裹功能上没什么区别。\n\n一般来说，路由对应的处理函数会单独放到controller目录下，不会直接卸载router的go文件中，看起来会更清晰。\n\nfunc main() {\n\tr := gin.default()\n\tusergroup := r.group("/user")\n\t{\n\t\tusergroup.get("/index", func(c *gin.context) {...}) // 实际路由/user/index\n\t\tusergroup.get("/login", func(c *gin.context) {...})\n\t\tusergroup.post("/login", func(c *gin.context) {...})\n\n\t}\n\tshopgroup := r.group("/shop")\n\t{\n\t\tshopgroup.get("/index", func(c *gin.context) {...})\n\t\tshopgroup.get("/cart", func(c *gin.context) {...})\n\t\tshopgroup.post("/checkout", func(c *gin.context) {...})\n\t}\n\tr.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n路由组也是支持嵌套的，例如：\n\nshopgroup := r.group("/shop")\n\t{\n\t\tshopgroup.get("/index", func(c *gin.context) {...})\n\t\tshopgroup.get("/cart", func(c *gin.context) {...})\n\t\tshopgroup.post("/checkout", func(c *gin.context) {...})\n\t\t// 嵌套路由组\n\t\txx := shopgroup.group("xx")\n\t\txx.get("/oo", func(c *gin.context) {...})\n\t}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 请求处理\n\n\n# get请求\n\n# 获取querystring参数\n\nquerystring指的是url中?后面携带的参数，也称为url参数\n\nfunc main() {\n\t//default返回一个默认的路由引擎\n\tr := gin.default()\n\tr.get("/user/search", func(c *gin.context) {\n\t\tusername := c.defaultquery("username", "张三")\n\t\t//username := c.query("username")\n\t\taddress := c.query("address")\n\t\t//输出json结果给调用方\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\tr.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 获取path参数\n\n请求的参数通过url路径传递，也称为api参数\n\nfunc main() {\n\t//default返回一个默认的路由引擎\n\tr := gin.default()\n\tr.get("/user/search/:username/:address", func(c *gin.context) {\n\t\tusername := c.param("username")\n\t\taddress := c.param("address")\n\t\t//输出json结果给调用方\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\n\tr.run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# post请求\n\n * 表单传输为post请求，http常见的传输格式为四种：\n\n * * application/x-www-form-urlencoded\n   * multipart/form-data\n   * application/json\n   * application/xml\n\n# form请求\n\n * 表单参数可以通过postform()方法获取，该方法默认解析的是x-www-form-urlencoded或from-data格式的参数\n\nfunc main() {\n\t//default返回一个默认的路由引擎\n\tr := gin.default()\n\tr.post("/user/search", func(c *gin.context) {\n\t\t// defaultpostform取不到值时会返回指定的默认值\n\t\t//username := c.defaultpostform("username", "小王子")\n\t\tusername := c.postform("username")\n\t\taddress := c.postform("address")\n\t\t//输出json结果给调用方\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message":  "ok",\n\t\t\t"username": username,\n\t\t\t"address":  address,\n\t\t})\n\t})\n\tr.run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# json请求\n\nr.post("/json", func(c *gin.context) {\n\t// 注意：下面为了举例子方便，暂时忽略了错误处理\n\tb, _ := c.getrawdata()  // 从c.request.body读取请求数据\n\t// 定义map或结构体\n\tvar m map[string]interface{}\n\t// 反序列化\n\t_ = json.unmarshal(b, &m)\n\n\tc.json(http.statusok, m)\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 结构体参数绑定\n\n上面的方式不适合获取结构体参数\n\n// binding from json\ntype login struct {\n\tuser     string `form:"user" json:"user" binding:"required"`\n\tpassword string `form:"password" json:"password" binding:"required"`\n}\n\nfunc main() {\n\trouter := gin.default()\n\n\t// 绑定json的示例 ({"user": "q1mi", "password": "123456"})\n\trouter.post("/loginjson", func(c *gin.context) {\n\t\tvar login login\n\n\t\tif err := c.shouldbind(&login); err == nil {\n\t\t\tfmt.printf("login info:%#v\\n", login)\n\t\t\tc.json(http.statusok, gin.h{\n\t\t\t\t"user":     login.user,\n\t\t\t\t"password": login.password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.json(http.statusbadrequest, gin.h{"error": err.error()})\n\t\t}\n\t})\n\n\t// 绑定form表单示例 (user=q1mi&password=123456)\n\trouter.post("/loginform", func(c *gin.context) {\n\t\tvar login login\n\t\t// shouldbind()会根据请求的content-type自行选择绑定器\n\t\tif err := c.shouldbind(&login); err == nil {\n\t\t\tc.json(http.statusok, gin.h{\n\t\t\t\t"user":     login.user,\n\t\t\t\t"password": login.password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.json(http.statusbadrequest, gin.h{"error": err.error()})\n\t\t}\n\t})\n\n\t// 绑定querystring示例 (/loginquery?user=q1mi&password=123456)\n\trouter.get("/loginform", func(c *gin.context) {\n\t\tvar login login\n\t\t// shouldbind()会根据请求的content-type自行选择绑定器\n\t\tif err := c.shouldbind(&login); err == nil {\n\t\t\tc.json(http.statusok, gin.h{\n\t\t\t\t"user":     login.user,\n\t\t\t\t"password": login.password,\n\t\t\t})\n\t\t} else {\n\t\t\tc.json(http.statusbadrequest, gin.h{"error": err.error()})\n\t\t}\n\t})\n\n\t// listen and serve on 0.0.0.0:8080\n\trouter.run(":8080")\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n * c.shouldbind.json 按照json格式解析\n * c.bind 按照form格式解析，可根据content-type自动推断\n * c.shouldbinduri 绑定get请求里的path参数\n\n\n# 上传文件\n\n# 单文件\n\nfunc main() {\n\trouter := gin.default()\n\t// 处理multipart forms提交文件时默认的内存限制是32 mib\n\t// 可以通过下面的方式修改\n\t// router.maxmultipartmemory = 8 << 20  // 8 mib\n\trouter.post("/upload", func(c *gin.context) {\n\t\t// 单个文件\n\t\tfile, err := c.formfile("f1")\n\t\tif err != nil {\n\t\t\tc.json(http.statusinternalservererror, gin.h{\n\t\t\t\t"message": err.error(),\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tlog.println(file.filename)\n\t\tdst := fmt.sprintf("c:/tmp/%s", file.filename)\n\t\t// 上传文件到指定的目录\n\t\tc.saveuploadedfile(file, dst)\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message": fmt.sprintf("\'%s\' uploaded!", file.filename),\n\t\t})\n\t})\n\trouter.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 多文件\n\nfunc main() {\n\trouter := gin.default()\n\t// 处理multipart forms提交文件时默认的内存限制是32 mib\n\t// 可以通过下面的方式修改\n\t// router.maxmultipartmemory = 8 << 20  // 8 mib\n\trouter.post("/upload", func(c *gin.context) {\n\t\t// multipart form\n\t\tform, _ := c.multipartform()\n\t\tfiles := form.file["file"]\n\n\t\tfor index, file := range files {\n\t\t\tlog.println(file.filename)\n\t\t\tdst := fmt.sprintf("c:/tmp/%s_%d", file.filename, index)\n\t\t\t// 上传文件到指定的目录\n\t\t\tc.saveuploadedfile(file, dst)\n\t\t}\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message": fmt.sprintf("%d files uploaded!", len(files)),\n\t\t})\n\t})\n\trouter.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 中间件\n\n * gin可以构建中间件，但它只对注册过的路由函数起作用\n * 对于分组路由，嵌套使用中间件，可以限定中间件的作用范围\n * 中间件分为全局中间件，单个路由中间件和群组中间件\n * gin中间件必须是一个 gin.handlerfunc 类型\n\n\n# 定义中间件\n\n# 请求耗时的中间件\n\n// statcost 是一个统计耗时请求耗时的中间件\nfunc statcost() gin.handlerfunc {\n\treturn func(c *gin.context) {\n\t\tstart := time.now()\n\t\tc.set("name", "小王子") // 可以通过c.set在请求上下文中设置值，后续的处理函数能够取到该值\n\t\t// 调用该请求的剩余处理程序\n\t\tc.next()\n\t\t// 不调用该请求的剩余处理程序\n\t\t// c.abort()\n\t\t// 计算耗时\n\t\tcost := time.since(start)\n\t\tlog.println(cost)\n\t}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# cors跨域中间件\n\npackage main\n\nimport (\n  "time"\n\n  "github.com/gin-contrib/cors"\n  "github.com/gin-gonic/gin"\n)\n\nfunc main() {\n  router := gin.default()\n  // cors for https://foo.com and https://github.com origins, allowing:\n  // - put and patch methods\n  // - origin header\n  // - credentials share\n  // - preflight requests cached for 12 hours\n  router.use(cors.new(cors.config{\n    alloworigins:     []string{"https://foo.com"},  // 允许跨域发来请求的网站\n    allowmethods:     []string{"get", "post", "put", "delete",  "options"},  // 允许的请求方法\n    allowheaders:     []string{"origin", "authorization", "content-type"},\n    exposeheaders:    []string{"content-length"},\n    allowcredentials: true,\n    alloworiginfunc: func(origin string) bool {  // 自定义过滤源站的方法\n      return origin == "https://github.com"\n    },\n    maxage: 12 * time.hour,\n  }))\n  router.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n或不需要自定义就全部放行\n\nfunc main() {\n  router := gin.default()\n  // same as\n  // config := cors.defaultconfig()\n  // config.allowallorigins = true\n  // router.use(cors.new(config))\n  router.use(cors.default())\n  router.run()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 使用中间件\n\n\n# 全局中间件\n\n\t// 新建一个没有任何默认中间件的路由\n\tr := gin.new()\n\t// 注册一个全局中间件\n\tr.use(statcost())\n\n\n1\n2\n3\n4\n\n\n\n# 局部中间件\n\n# 单路由使用\n\n// 给/test2路由单独注册中间件（可注册多个）\n\tr.get("/test2", statcost(), func(c *gin.context) {\n\t\tname := c.mustget("name").(string) // 从上下文取值\n\t\tlog.println(name)\n\t\tc.json(http.statusok, gin.h{\n\t\t\t"message": "hello world!",\n\t\t})\n\t})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 路由组使用\n\n写法1：\n\nshopgroup := r.group("/shop", statcost())\n{\n    shopgroup.get("/index", func(c *gin.context) {...})\n    ...\n}\n\n\n1\n2\n3\n4\n5\n\n\n写法2：\n\nshopgroup := r.group("/shop")\nshopgroup.use(statcost())\n{\n    shopgroup.get("/index", func(c *gin.context) {...})\n    ...\n}\n\n\n1\n2\n3\n4\n5\n6\n',charsets:{cjk:!0},lastUpdated:"2023/4/28",lastUpdatedTimestamp:1682674709e3},{title:"WSL-windows子系统",frontmatter:{title:"WSL-windows子系统",date:"2023-06-15T00:00:00.000Z",categories:["大模型"],tags:null,feed:{enable:!0},permalink:"/article/llm/wsl.html",description:"",meta:[{name:"twitter:title",content:"WSL-windows子系统"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/wsl.html"},{property:"og:type",content:"article"},{property:"og:title",content:"WSL-windows子系统"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/wsl.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-15T00:00:00.000Z"},{itemprop:"name",content:"WSL-windows子系统"},{itemprop:"description",content:""}]},regularPath:"/article/llm/wsl.html",relativePath:"article/llm/wsl.md",key:"v-61cfa864",path:"/article/llm/wsl.html",headers:[{level:2,title:"安装WSL",slug:"安装wsl",normalizedTitle:"安装wsl",charIndex:24},{level:2,title:"升级WSL2",slug:"升级wsl2",normalizedTitle:"升级wsl2",charIndex:778},{level:3,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:2,title:"开机启动",slug:"开机启动",normalizedTitle:"开机启动",charIndex:1210},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1503}],headersStr:"安装WSL 升级WSL2  开机启动 参考",content:"以下操作基于ubuntu22.02演示\n\n\n# 安装WSL\n\n使用管理员权限打开powershell，执行以下命令\n\n * 开启windows子系统功能\n\ndism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n\n\n1\n\n\n * WSL2\n   \n   * 检查系统版本\n     \n     如果只是安装WSL1此时可以重启电脑，如果需要安装WSL2，则需要检查版本，win10需要满足以下条件 For x64 systems: Version 1903 or later, with Build 18362.1049 or later. 对于 x64 系统：版本 1903 或更高版本，内部版本 18362.1049 或更高版本。 For ARM64 systems: Version 2004 or later, with Build 19041 or later. 对于 ARM64 系统：版本 2004 或更高版本，内部版本 19041 或更高版本。\n   \n   * 启用虚拟机功能，wsl2依赖虚拟机，和wsl1运行机制不同\n   \n   dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n   \n   \n   1\n   \n   * 下载linux内核更新包\n   \n   点击下载并双击安装\n   \n   * 切换为wsl2\n   \n   wsl --set-default-version 2\n\n * 下载linux发行版\n   \n   ubuntu22.04 下载后安装\n\n\n# 升级WSL2\n\n如果当时安装wsl安装的版本为1，则可升级为2\n\n查看版本：\n\n在CMD执行命令查看WSL子系统版本，如果不是2或为空则为1\n>wsl -l -v\n  NAME      STATE           VERSION\n* Ubuntu    Running         2\n\n\n1\n2\n3\n4\n\n\n升级WSL子系统到2\n\n> 以下操作是从1升级到2的步骤\n> 以管理员身份打开powershell或cmd执行以下命令\ndism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n> 执行成功后重启电脑\n> wsl -l -v 查看当前子系统对应的版本\n> wsl --set-version <distribution name> <versionNumber>  修改为要升级的版本\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n#\n\n\n# 开机启动\n\n在cmd中执行以下命令可启动ssh\n\nwsl -d Ubuntu-20.04 -u root -e /etc/init.d/ssh start\n\n将以上命令加入到windows计划任务中\n\n右键此电脑-管理-计算机管理(本地)-系统工具-任务计划程序-任务计划程序库\n\n * 右侧创建任务，勾选使用最高权限运行；\n * 触发器：登陆时-当任何用户登陆时；\n * 操作\n   * 程序或脚本：C:\\Windows\\System32\\wsl.exe\n   * 添加参数： -d Ubuntu-20.04 -u root -e /etc/init.d/ssh start\n\n\n# 参考\n\n * WSL Install",normalizedContent:"以下操作基于ubuntu22.02演示\n\n\n# 安装wsl\n\n使用管理员权限打开powershell，执行以下命令\n\n * 开启windows子系统功能\n\ndism.exe /online /enable-feature /featurename:microsoft-windows-subsystem-linux /all /norestart\n\n\n1\n\n\n * wsl2\n   \n   * 检查系统版本\n     \n     如果只是安装wsl1此时可以重启电脑，如果需要安装wsl2，则需要检查版本，win10需要满足以下条件 for x64 systems: version 1903 or later, with build 18362.1049 or later. 对于 x64 系统：版本 1903 或更高版本，内部版本 18362.1049 或更高版本。 for arm64 systems: version 2004 or later, with build 19041 or later. 对于 arm64 系统：版本 2004 或更高版本，内部版本 19041 或更高版本。\n   \n   * 启用虚拟机功能，wsl2依赖虚拟机，和wsl1运行机制不同\n   \n   dism.exe /online /enable-feature /featurename:virtualmachineplatform /all /norestart\n   \n   \n   1\n   \n   * 下载linux内核更新包\n   \n   点击下载并双击安装\n   \n   * 切换为wsl2\n   \n   wsl --set-default-version 2\n\n * 下载linux发行版\n   \n   ubuntu22.04 下载后安装\n\n\n# 升级wsl2\n\n如果当时安装wsl安装的版本为1，则可升级为2\n\n查看版本：\n\n在cmd执行命令查看wsl子系统版本，如果不是2或为空则为1\n>wsl -l -v\n  name      state           version\n* ubuntu    running         2\n\n\n1\n2\n3\n4\n\n\n升级wsl子系统到2\n\n> 以下操作是从1升级到2的步骤\n> 以管理员身份打开powershell或cmd执行以下命令\ndism.exe /online /enable-feature /featurename:virtualmachineplatform /all /norestart\n> 执行成功后重启电脑\n> wsl -l -v 查看当前子系统对应的版本\n> wsl --set-version <distribution name> <versionnumber>  修改为要升级的版本\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n#\n\n\n# 开机启动\n\n在cmd中执行以下命令可启动ssh\n\nwsl -d ubuntu-20.04 -u root -e /etc/init.d/ssh start\n\n将以上命令加入到windows计划任务中\n\n右键此电脑-管理-计算机管理(本地)-系统工具-任务计划程序-任务计划程序库\n\n * 右侧创建任务，勾选使用最高权限运行；\n * 触发器：登陆时-当任何用户登陆时；\n * 操作\n   * 程序或脚本：c:\\windows\\system32\\wsl.exe\n   * 添加参数： -d ubuntu-20.04 -u root -e /etc/init.d/ssh start\n\n\n# 参考\n\n * wsl install",charsets:{cjk:!0},lastUpdated:"2023/12/9",lastUpdatedTimestamp:170211155e4},{title:"Go进阶-pprof",frontmatter:{title:"Go进阶-pprof",date:"2023-05-26T00:00:00.000Z",categories:["go"],tags:["go"],meta:[{name:"description",content:"go pprof"},{name:"keywords",content:"go gin"},{name:"twitter:title",content:"Go进阶-pprof"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/gostudy/pprof.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Go进阶-pprof"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/gostudy/pprof.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-05-26T00:00:00.000Z"},{property:"article:tag",content:"go"},{itemprop:"name",content:"Go进阶-pprof"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/go/go-pprof.html",summary:"不断学习，不断提升，日拱一卒！",description:""},regularPath:"/article/gostudy/pprof.html",relativePath:"article/gostudy/pprof.md",key:"v-99129e24",path:"/article/go/go-pprof.html",headers:[{level:2,title:"PProf是什么",slug:"pprof是什么",normalizedTitle:"pprof是什么",charIndex:2},{level:2,title:"go PProf可以分析哪些指标",slug:"go-pprof可以分析哪些指标",normalizedTitle:"go pprof可以分析哪些指标",charIndex:513},{level:2,title:"如何使用",slug:"如何使用",normalizedTitle:"如何使用",charIndex:780},{level:3,title:"工具型应用",slug:"工具型应用",normalizedTitle:"工具型应用",charIndex:789},{level:3,title:"CPU性能分析",slug:"cpu性能分析",normalizedTitle:"cpu性能分析",charIndex:947},{level:3,title:"内存性能优化",slug:"内存性能优化",normalizedTitle:"内存性能优化",charIndex:1132},{level:3,title:"服务型应用",slug:"服务型应用",normalizedTitle:"服务型应用",charIndex:1199},{level:2,title:"如何在web ui查看",slug:"如何在web-ui查看",normalizedTitle:"如何在web ui查看",charIndex:2350},{level:3,title:"安装Graphviz",slug:"安装graphviz",normalizedTitle:"安装graphviz",charIndex:2643},{level:3,title:"使用",slug:"使用",normalizedTitle:"使用",charIndex:204}],headersStr:"PProf是什么 go PProf可以分析哪些指标 如何使用 工具型应用 CPU性能分析 内存性能优化 服务型应用 如何在web ui查看 安装Graphviz 使用",content:'# PProf是什么\n\npprof 是用于可视化和分析性能分析数据的工具。\n\nProfiling 是指在程序执行过程中，收集能够反映程序执行状态的数据。 在软件工程中，性能分析（performance analysis，也称为 profiling），是以收集程序运行时信息为手段研究程序行为的分析方法，是一种动态程序分析的方法\n\ngo的PProf 主要涉及两个包：\n\n * net/http/pprof：只是使用runtime/pprof包来进行封装了一下，并在http端口上暴露出来。使用 net/http/pprof 可以做到直接看到当前 web 服务的状态，包括 CPU 占用情况和内存使用情况等。如果服务是一直运行的，如 web 应用，可以很方便的使用这种方式 import "net/http/pprof"。\n * runtime/pprof: pprof开启后，每隔一段时间就会收集下当前的堆栈信息，获取各个函数占用的CPU以及内存资源；最后通过对这些采样数据进行分析，形成一个性能分析报告。适用于：对于本地只跑一次的程序，例如程序中的某一函数调优，调用 pprof 包提供的函数，手动开启性能数据采集。\n\n\n# go PProf可以分析哪些指标\n\n * CPU Profiling：CPU 分析，按照一定的频率采集所监听的应用程序 CPU（含寄存器）的使用情况，可确定应用程序在主动消耗 CPU 周期时花费时间的位置\n * Memory Profiling：内存分析，在应用程序进行堆分配时记录堆栈跟踪，用于监视当前和历史内存使用情况，以及检查内存泄漏\n * Block Profiling：阻塞分析，记录 goroutine 阻塞等待同步（包括定时器通道）的位置\n * Mutex Profiling：互斥锁分析，报告互斥锁的竞争情况\n\n\n# 如何使用\n\n\n# 工具型应用\n\n如果你的应用程序是运行一段时间就结束退出类型。那么最好的办法是在应用退出的时候把 profiling 的报告保存到文件中，进行分析。对于这种情况，可以使用runtime/pprof库。 首先在代码中导入runtime/pprof工具：\n\nimport "runtime/pprof"\n\n\n1\n\n\n\n# CPU性能分析\n\n开启CPU性能分析：\n\npprof.StartCPUProfile(w io.Writer)\n\n\n1\n\n\n停止CPU性能分析：\n\npprof.StopCPUProfile()\n\n\n1\n\n\n应用执行结束后，就会生成一个文件，保存了我们的 CPU profiling 数据。得到采样数据之后，使用go tool pprof工具进行CPU性能分析。\n\n\n# 内存性能优化\n\n记录程序的堆栈信息\n\npprof.WriteHeapProfile(w io.Writer)\n\n\n\n1\n2\n\n\n\n# 服务型应用\n\n如果你使用的是gin框架，那么推荐使用github.com/gin-contrib/pprof，在代码中通过以下命令注册pprof相关路由。\n\npprof.Register(router)\n\n\n1\n\n\n端口假设设置的为6060\n\n访问方式：http://{ip}:6060/debug/pprof 比如本地： http://127.0.0.1:6060/debug/pprof/\n\n# Go pprof页指标\n\n打开页面后，我们看到的是go pprof提供的所有指标类型。以一个列表的形式展示，第一列Count数量，第二列Profile 类型。 其中allocs、goroutine、threadcreate 这种可直接展示结果，profile、heap没有展示，点击详情后开始采样。 比如，点击 profile 后，跳转： $HOST:$PORT/debug/pprof/profile ，默认进行 30s 的 CPU Profiling，得到一个分析用的 profile 文件。\n\n如果遇到错误，表示采样时长大于了 server.writetimeout。 profile duration exceeds server\'s WriteTimeout\n\nconf/config.yam 中 server相关配置，表示整个 serverHTTP接口的时间， 如果采样时间大于30s 必定会超时，所以就不用进行采样了，直接返回错误。\n\n一般情况下我们可手动指定采样时间： http://127.0.0.1:6060/debug/pprof/profile?seconds=1 参数seconds表示采样时长。默认seconds=30s。\n\n * cpu（CPU Profiling）: $HOST/debug/pprof/profile，默认进行 30s 的 CPU Profiling，得到一个分析用的 profile 文件\n * block（Block Profiling）：$HOST/debug/pprof/block，查看导致阻塞同步的堆栈跟踪\n * goroutine：$HOST/debug/pprof/goroutine，查看当前所有运行的 goroutines 堆栈跟踪\n * heap（Memory Profiling）: $HOST/debug/pprof/heap，查看活动对象的内存分配情况\n * mutex（Mutex Profiling）：$HOST/debug/pprof/mutex，查看导致互斥锁的竞争持有者的堆栈跟踪\n * threadcreate：$HOST/debug/pprof/threadcreate，查看创建新OS线程的堆栈跟踪\n\n\n# 如何在web ui查看\n\npprof 可以用来通过多种方式来分析符合 profile.proto 格式的profiling 的数据，比如命令行交互方式、web ui方式、导出text report的方式等。 profile.proto 是用来描述一组调用堆栈和符号化信息的protobuffer，有关协议缓冲区的详细信息，请参阅https://developers.google.com/protocol-buffers 只要符合该格式的数据都可以用pprof工具进行分析。\n\npprof比较常用的方式是web ui，可读性较好。本文主要以web ui方式讲解下详细的字段值。\n\n\n# 安装Graphviz\n\n安装Graphviz（ http://www.graphviz.org/ ）后，可以以图表的方式打开，可读性更好。\n\n# mac安装\n\nbrew install graphviz 大概率是不会成功\n\n所以使用port命令安装。\n\n * 点击下载 port\n * 安装graphviz sudo port install graphviz\n * dot -V 输入版本graphviz即安装成功\n\n\n# 使用\n\n命令行启动，格式：go tool pprof -http=host:port pprof地址\n\nhost可省略,默认为localhost，port也可省略，会随机分配一个可用端口。\n\n示例：\n\n使用pprof工具查看堆配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/heap?seconds=5\n\n或者查看30秒钟的CPU配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/profile\n\n或者在程序中调用runtime.SetBlockProfileRate之后查看goroutine阻止配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/block\n\n或者收集5秒钟的执行轨迹\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/trace?seconds=5\n\n或者在程序中调用runtime.SetMutexProfileFraction之后查看争用互斥锁的持有者：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/mutex\n\n要查看所有可用的配置文件，请在浏览器中打开http://localhost:6060/debug/pprof/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',normalizedContent:'# pprof是什么\n\npprof 是用于可视化和分析性能分析数据的工具。\n\nprofiling 是指在程序执行过程中，收集能够反映程序执行状态的数据。 在软件工程中，性能分析（performance analysis，也称为 profiling），是以收集程序运行时信息为手段研究程序行为的分析方法，是一种动态程序分析的方法\n\ngo的pprof 主要涉及两个包：\n\n * net/http/pprof：只是使用runtime/pprof包来进行封装了一下，并在http端口上暴露出来。使用 net/http/pprof 可以做到直接看到当前 web 服务的状态，包括 cpu 占用情况和内存使用情况等。如果服务是一直运行的，如 web 应用，可以很方便的使用这种方式 import "net/http/pprof"。\n * runtime/pprof: pprof开启后，每隔一段时间就会收集下当前的堆栈信息，获取各个函数占用的cpu以及内存资源；最后通过对这些采样数据进行分析，形成一个性能分析报告。适用于：对于本地只跑一次的程序，例如程序中的某一函数调优，调用 pprof 包提供的函数，手动开启性能数据采集。\n\n\n# go pprof可以分析哪些指标\n\n * cpu profiling：cpu 分析，按照一定的频率采集所监听的应用程序 cpu（含寄存器）的使用情况，可确定应用程序在主动消耗 cpu 周期时花费时间的位置\n * memory profiling：内存分析，在应用程序进行堆分配时记录堆栈跟踪，用于监视当前和历史内存使用情况，以及检查内存泄漏\n * block profiling：阻塞分析，记录 goroutine 阻塞等待同步（包括定时器通道）的位置\n * mutex profiling：互斥锁分析，报告互斥锁的竞争情况\n\n\n# 如何使用\n\n\n# 工具型应用\n\n如果你的应用程序是运行一段时间就结束退出类型。那么最好的办法是在应用退出的时候把 profiling 的报告保存到文件中，进行分析。对于这种情况，可以使用runtime/pprof库。 首先在代码中导入runtime/pprof工具：\n\nimport "runtime/pprof"\n\n\n1\n\n\n\n# cpu性能分析\n\n开启cpu性能分析：\n\npprof.startcpuprofile(w io.writer)\n\n\n1\n\n\n停止cpu性能分析：\n\npprof.stopcpuprofile()\n\n\n1\n\n\n应用执行结束后，就会生成一个文件，保存了我们的 cpu profiling 数据。得到采样数据之后，使用go tool pprof工具进行cpu性能分析。\n\n\n# 内存性能优化\n\n记录程序的堆栈信息\n\npprof.writeheapprofile(w io.writer)\n\n\n\n1\n2\n\n\n\n# 服务型应用\n\n如果你使用的是gin框架，那么推荐使用github.com/gin-contrib/pprof，在代码中通过以下命令注册pprof相关路由。\n\npprof.register(router)\n\n\n1\n\n\n端口假设设置的为6060\n\n访问方式：http://{ip}:6060/debug/pprof 比如本地： http://127.0.0.1:6060/debug/pprof/\n\n# go pprof页指标\n\n打开页面后，我们看到的是go pprof提供的所有指标类型。以一个列表的形式展示，第一列count数量，第二列profile 类型。 其中allocs、goroutine、threadcreate 这种可直接展示结果，profile、heap没有展示，点击详情后开始采样。 比如，点击 profile 后，跳转： $host:$port/debug/pprof/profile ，默认进行 30s 的 cpu profiling，得到一个分析用的 profile 文件。\n\n如果遇到错误，表示采样时长大于了 server.writetimeout。 profile duration exceeds server\'s writetimeout\n\nconf/config.yam 中 server相关配置，表示整个 serverhttp接口的时间， 如果采样时间大于30s 必定会超时，所以就不用进行采样了，直接返回错误。\n\n一般情况下我们可手动指定采样时间： http://127.0.0.1:6060/debug/pprof/profile?seconds=1 参数seconds表示采样时长。默认seconds=30s。\n\n * cpu（cpu profiling）: $host/debug/pprof/profile，默认进行 30s 的 cpu profiling，得到一个分析用的 profile 文件\n * block（block profiling）：$host/debug/pprof/block，查看导致阻塞同步的堆栈跟踪\n * goroutine：$host/debug/pprof/goroutine，查看当前所有运行的 goroutines 堆栈跟踪\n * heap（memory profiling）: $host/debug/pprof/heap，查看活动对象的内存分配情况\n * mutex（mutex profiling）：$host/debug/pprof/mutex，查看导致互斥锁的竞争持有者的堆栈跟踪\n * threadcreate：$host/debug/pprof/threadcreate，查看创建新os线程的堆栈跟踪\n\n\n# 如何在web ui查看\n\npprof 可以用来通过多种方式来分析符合 profile.proto 格式的profiling 的数据，比如命令行交互方式、web ui方式、导出text report的方式等。 profile.proto 是用来描述一组调用堆栈和符号化信息的protobuffer，有关协议缓冲区的详细信息，请参阅https://developers.google.com/protocol-buffers 只要符合该格式的数据都可以用pprof工具进行分析。\n\npprof比较常用的方式是web ui，可读性较好。本文主要以web ui方式讲解下详细的字段值。\n\n\n# 安装graphviz\n\n安装graphviz（ http://www.graphviz.org/ ）后，可以以图表的方式打开，可读性更好。\n\n# mac安装\n\nbrew install graphviz 大概率是不会成功\n\n所以使用port命令安装。\n\n * 点击下载 port\n * 安装graphviz sudo port install graphviz\n * dot -v 输入版本graphviz即安装成功\n\n\n# 使用\n\n命令行启动，格式：go tool pprof -http=host:port pprof地址\n\nhost可省略,默认为localhost，port也可省略，会随机分配一个可用端口。\n\n示例：\n\n使用pprof工具查看堆配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/heap?seconds=5\n\n或者查看30秒钟的cpu配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/profile\n\n或者在程序中调用runtime.setblockprofilerate之后查看goroutine阻止配置文件：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/block\n\n或者收集5秒钟的执行轨迹\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/trace?seconds=5\n\n或者在程序中调用runtime.setmutexprofilefraction之后查看争用互斥锁的持有者：\ngo tool pprof -http=:6060 http://localhost:8088/debug/pprof/mutex\n\n要查看所有可用的配置文件，请在浏览器中打开http://localhost:6060/debug/pprof/\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n',charsets:{cjk:!0},lastUpdated:"2023/5/29",lastUpdatedTimestamp:1685359848e3},{title:"langchain-chatglm浅尝",frontmatter:{title:"langchain-chatglm浅尝",date:"2023-06-15T00:00:00.000Z",categories:["大模型"],tags:null,feed:{enable:!0},permalink:"/article/llm/langchain-chatglm6b.html",description:"",meta:[{name:"twitter:title",content:"langchain-chatglm浅尝"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/langchain-ChatGLM.html"},{property:"og:type",content:"article"},{property:"og:title",content:"langchain-chatglm浅尝"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/langchain-ChatGLM.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-15T00:00:00.000Z"},{itemprop:"name",content:"langchain-chatglm浅尝"},{itemprop:"description",content:""}]},regularPath:"/article/llm/langchain-ChatGLM.html",relativePath:"article/llm/langchain-ChatGLM.md",key:"v-5d9bfa4e",path:"/article/llm/langchain-chatglm6b.html",headers:[{level:2,title:"运行环境",slug:"运行环境",normalizedTitle:"运行环境",charIndex:2},{level:3,title:"显卡环境",slug:"显卡环境",normalizedTitle:"显卡环境",charIndex:309},{level:3,title:"安装pytorch",slug:"安装pytorch",normalizedTitle:"安装pytorch",charIndex:357},{level:2,title:"项目运行",slug:"项目运行",normalizedTitle:"项目运行",charIndex:390},{level:3,title:"ChatGLM",slug:"chatglm",normalizedTitle:"chatglm",charIndex:399},{level:3,title:"langchain-ChatGLM",slug:"langchain-chatglm",normalizedTitle:"langchain-chatglm",charIndex:439},{level:3,title:"配置修改",slug:"配置修改",normalizedTitle:"配置修改",charIndex:1049},{level:3,title:"启动项目",slug:"启动项目",normalizedTitle:"启动项目",charIndex:1589},{level:3,title:"错误处理",slug:"错误处理",normalizedTitle:"错误处理",charIndex:1679},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:296}],headersStr:"运行环境 显卡环境 安装pytorch 项目运行 ChatGLM langchain-ChatGLM 配置修改 启动项目 错误处理 参考",content:'# 运行环境\n\n# 环境要求\n\n# 首先，确定你的机器安装了 Python 3.8 及以上版本\n$ python --version\nPython 3.8.13\n\n\n1\n2\n3\n\n\n建议在linux上运行，windows会出现比较多的错误，本次在windows的ubuntu wsl子系统运行。\n\n需要注意，WSL子系统版本需要是2。\n\n在CMD执行命令查看WSL子系统版本，如果不是2或为空则为1需要升级\n>wsl -l -v\n  NAME      STATE           VERSION\n* Ubuntu    Running         2\n\n\n1\n2\n3\n4\n\n\n升级请参考WSL文档。\n\n\n# 显卡环境\n\n参考大模型N卡环境配置安装显卡驱动、CUDA Toolkit 、cuDNN\n\n\n# 安装pytorch\n\npython参考pytorch安装\n\n\n# 项目运行\n\n\n# ChatGLM\n\n只需要需要下载模型实现和参数，详细见chatGLM。\n\n\n# langchain-ChatGLM\n\n 拉取仓库\n$ git clone https://github.com/imClumsyPanda/langchain-ChatGLM.git\n\n# 进入目录\n$ cd langchain-ChatGLM\n\n# 项目中 pdf 加载由先前的 detectron2 替换为使用 paddleocr，如果之前有安装过 detectron2 需要先完成卸载避免引发 tools 冲突\n$ pip uninstall detectron2\n\n# 检查paddleocr依赖，linux环境下paddleocr依赖libX11，libXext\n$ yum install libX11 libXext -y\n#以上包在ubuntu上替换为\nsudo apt-get install libxext6 libX11-dev -y\n\n# 安装依赖\n$ pip install -r requirements.txt\n$ apt-get install ffmpeg libsm6 libxext6  -y\n\n\n\n# 验证paddleocr是否成功，首次运行会下载约18M模型到~/.paddleocr\n$ python loader/image_loader.py\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 配置修改\n\nvim configs/model_config.py\n\n# embedding模型使用了text2vec，建议提前下载到本地\n# embedding_model_dict里面对应的text2vec的值就可以改为绝对路径地址\nembedding_model_dict = {\n    "text2vec": "/data/rd/llm/huggingface.co/text2vec-large-chinese",\n}\nEMBEDDING_MODEL = "text2vec"  # 指定embedding模型\n# llm配置也是同样思路，将模型实现下载到本地，llm_model_dict里面对应的模型地址改为绝对路径\nLLM_MODEL = "chatglm2-6b" 如chatglm2-6b\n\n#  文本分句长度按需修改，100大概是50多个汉字，50-75个单词\n# 尽量每句话不要太长\nSENTENCE_SIZE = 100\n# 热度我设置了800，按需测试，我这调小了没什么高质量回答\n# VECTOR_SEARCH_SCORE_THRESHOLD = 800\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 启动项目\n\n可以参考docs下的StartOption.md\n\npython webui.py --model chatglm2-6b --no-remote-model\n\n\n# 错误处理\n\nImportError: libGL.so.1: cannot open shared object file: No such file or directory\n\n\n1\n\n\n解决方法：\n\nsudo apt-get install ffmpeg libsm6 libxext6  -y\n\n\n1\n\n\n错误：nvidia-smi 无法找到gpu\n\n解决方法：\n\ndpkg list |grep nvidia-utils \napt-get remove nvidia-utils*\n\n\n1\n2\n\n\n\n# 参考\n\n * [1] windows WSL子系统升级\n * [2] WSL子系统安装英伟达显卡相关驱动\n * [3] WSL子系统安装英伟达显卡驱动相关流程',normalizedContent:'# 运行环境\n\n# 环境要求\n\n# 首先，确定你的机器安装了 python 3.8 及以上版本\n$ python --version\npython 3.8.13\n\n\n1\n2\n3\n\n\n建议在linux上运行，windows会出现比较多的错误，本次在windows的ubuntu wsl子系统运行。\n\n需要注意，wsl子系统版本需要是2。\n\n在cmd执行命令查看wsl子系统版本，如果不是2或为空则为1需要升级\n>wsl -l -v\n  name      state           version\n* ubuntu    running         2\n\n\n1\n2\n3\n4\n\n\n升级请参考wsl文档。\n\n\n# 显卡环境\n\n参考大模型n卡环境配置安装显卡驱动、cuda toolkit 、cudnn\n\n\n# 安装pytorch\n\npython参考pytorch安装\n\n\n# 项目运行\n\n\n# chatglm\n\n只需要需要下载模型实现和参数，详细见chatglm。\n\n\n# langchain-chatglm\n\n 拉取仓库\n$ git clone https://github.com/imclumsypanda/langchain-chatglm.git\n\n# 进入目录\n$ cd langchain-chatglm\n\n# 项目中 pdf 加载由先前的 detectron2 替换为使用 paddleocr，如果之前有安装过 detectron2 需要先完成卸载避免引发 tools 冲突\n$ pip uninstall detectron2\n\n# 检查paddleocr依赖，linux环境下paddleocr依赖libx11，libxext\n$ yum install libx11 libxext -y\n#以上包在ubuntu上替换为\nsudo apt-get install libxext6 libx11-dev -y\n\n# 安装依赖\n$ pip install -r requirements.txt\n$ apt-get install ffmpeg libsm6 libxext6  -y\n\n\n\n# 验证paddleocr是否成功，首次运行会下载约18m模型到~/.paddleocr\n$ python loader/image_loader.py\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 配置修改\n\nvim configs/model_config.py\n\n# embedding模型使用了text2vec，建议提前下载到本地\n# embedding_model_dict里面对应的text2vec的值就可以改为绝对路径地址\nembedding_model_dict = {\n    "text2vec": "/data/rd/llm/huggingface.co/text2vec-large-chinese",\n}\nembedding_model = "text2vec"  # 指定embedding模型\n# llm配置也是同样思路，将模型实现下载到本地，llm_model_dict里面对应的模型地址改为绝对路径\nllm_model = "chatglm2-6b" 如chatglm2-6b\n\n#  文本分句长度按需修改，100大概是50多个汉字，50-75个单词\n# 尽量每句话不要太长\nsentence_size = 100\n# 热度我设置了800，按需测试，我这调小了没什么高质量回答\n# vector_search_score_threshold = 800\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 启动项目\n\n可以参考docs下的startoption.md\n\npython webui.py --model chatglm2-6b --no-remote-model\n\n\n# 错误处理\n\nimporterror: libgl.so.1: cannot open shared object file: no such file or directory\n\n\n1\n\n\n解决方法：\n\nsudo apt-get install ffmpeg libsm6 libxext6  -y\n\n\n1\n\n\n错误：nvidia-smi 无法找到gpu\n\n解决方法：\n\ndpkg list |grep nvidia-utils \napt-get remove nvidia-utils*\n\n\n1\n2\n\n\n\n# 参考\n\n * [1] windows wsl子系统升级\n * [2] wsl子系统安装英伟达显卡相关驱动\n * [3] wsl子系统安装英伟达显卡驱动相关流程',charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"chatglm-6b搭建",frontmatter:{title:"chatglm-6b搭建",date:"2023-06-15T00:00:00.000Z",categories:["大模型"],tags:null,feed:{enable:!0},permalink:"/article/llm/chatglm6b.html",description:"",meta:[{name:"twitter:title",content:"chatglm-6b搭建"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/chatGLM.html"},{property:"og:type",content:"article"},{property:"og:title",content:"chatglm-6b搭建"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/chatGLM.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-15T00:00:00.000Z"},{itemprop:"name",content:"chatglm-6b搭建"},{itemprop:"description",content:""}]},regularPath:"/article/llm/chatGLM.html",relativePath:"article/llm/chatGLM.md",key:"v-a38a6564",path:"/article/llm/chatglm6b.html",headers:[{level:2,title:"环境配置",slug:"环境配置",normalizedTitle:"环境配置",charIndex:2},{level:3,title:"环境要求",slug:"环境要求",normalizedTitle:"环境要求",charIndex:11},{level:3,title:"python环境",slug:"python环境",normalizedTitle:"python环境",charIndex:34},{level:3,title:"安装CUDA相关",slug:"安装cuda相关",normalizedTitle:"安装cuda相关",charIndex:59},{level:3,title:"安装pytorch",slug:"安装pytorch",normalizedTitle:"安装pytorch",charIndex:83},{level:3,title:"安装git-lfs",slug:"安装git-lfs",normalizedTitle:"安装git-lfs",charIndex:110},{level:2,title:"模型推理",slug:"模型推理",normalizedTitle:"模型推理",charIndex:172},{level:3,title:"配置",slug:"配置",normalizedTitle:"配置",charIndex:4},{level:3,title:"运行",slug:"运行",normalizedTitle:"运行",charIndex:159},{level:2,title:"报错",slug:"报错",normalizedTitle:"报错",charIndex:1850},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:44}],headersStr:"环境配置 环境要求 python环境 安装CUDA相关 安装pytorch 安装git-lfs 模型推理 配置 运行 报错 参考",content:'# 环境配置\n\n\n# 环境要求\n\nwin10\n\npyenv\n\n\n# python环境\n\n参考pyenv安装。\n\n\n# 安装CUDA相关\n\n参考英伟达驱动安装\n\n\n# 安装pytorch\n\n参考pytorch安装\n\n\n# 安装git-lfs\n\n从 Hugging Face Hub 下载模型需要先安装Git LFS，然后运行\n\n点击安装\n\n\n# 模型推理\n\n使用chatglm的过程属于推理过程。\n\n\n# 配置\n\n本次运行环境为win10(正常windows非WSL子系统)\n\n# 前置操作\n\n防止vpn导致无法访问\n\n# demo.queue().launch(share=False, inbrowser=True)改为\n\nos.environ["no_proxy"] = "localhost,127.0.0.1,::1"\ndemo.queue().launch(server_name="0.0.0.0", server_port=7890,share=False, inbrowser=True)\n\n\n1\n2\n3\n4\n\n\n# chatGLM-6B\n\n通过chatGLM来在消费级显卡上运行大模型，项目已经准备好demo脚本可直接启动。\n\n可先查看量化等级对硬件配置要求chatGLM-6B\n\ngit clone https://github.com/THUDM/ChatGLM-6B.git\n\n# 模型\n\nchatGLM-6B启动demo时会自动下载模型，但从transformers下载很慢，可以改为手动从国内镜像源下载，本地加载模型的方式实现。\n\n因为国内镜像源也是通过git方式下载，所以对于模型参数来说下载可能还达不到满速，此时可以把模型分为模型实现和参数，模型实现可通过git下载(需安装git-lfs)，模型参数可以通过清华网站下载通过多线程可以到40Mbps\n\n * 下载模型实现\n   \n   GIT_LFS_SKIP_SMUDGE=1 git clone https://huggingface.co/THUDM/chatglm-6b\n\n * 下载模型参数\n   \n   点击下载 ，参数需要放在上面git clone模型实现的目录下。\n\nint4量化\n\n以上是标准模型，如果电脑配置低可使用量化后的模型\n\n * 模型实现 :GIT_LFS_SKIP_SMUDGE=1 git clone https://huggingface.co/THUDM/chatglm-6b-int4/tree/main\n\n * int4模型参数 ，全部放到模型实现目录下\n\n\n# 运行\n\n# 普通运行\n\n找到chatglm-6b下的python web_demo.py ，把模型路径改成实际路径,windows下对\\转义\n\nchatglm6b=\'D:\\tom\\\\ai\\huggingface.co\\\\chatglm-6b\'\ntokenizer = AutoTokenizer.from_pretrained(chatglm6b, trust_remote_code=True)\nmodel = AutoModel.from_pretrained(chatglm6b, trust_remote_code=True).half().cuda()\n\n\n1\n2\n3\n\n\n# int4量化\n\n修改web_demo.py，增加quantize(4)参数，如果使用int8量化改为quantize(8)，前提是需要下载int量化的模型参考【配置】\n\nchatglm6b=\'D:\\yxk\\\\ai\\huggingface.co\\\\chatglm-6b-int4\'\nmodel = AutoModel.from_pretrained(chatglm6b, trust_remote_code=True).quantize(4).half().cuda()\n\n\n1\n2\n\n\n# 使用cpu运行\n\n如果没有显卡可以通过cpu运行\n\n改为：\n\nmodel = AutoModel.from_pretrained(chatglm6b, trust_remote_code=True).float()\n\n\n1\n\n\n# 命令行运行\n\n需要安装readline，python3安装命令\n\npip install pyreadline3 or python -m pip install pyreadline\n\n\n1\n\n\n\n# 报错\n\nAssertionError: Torch not compiled with CUDA enabled\n\n\n1\n\n\n * 原因\n   \n   驱动为正确安装或不支持CUDA或使用运行方式不对\n\n * 解法\n   \n   如果使用cpu运行应该配置model = AutoModel.from_pretrained(chatglm6b, trust_remote_code=True).float()\n   \n   如果使用gpu运行应该正确安装CUDA\n\n * 参考\n   \n   * issues\n\nSomething went wrong Expecting value: line 1 column 1\n\n\n1\n\n\nweb_demo.py起来输入文字发送报错\n\n * 原因\n   \n   开了vpn或代理导致，关闭即可\n\n * 参考\n   \n   * issues\n\nRuntimeError: Internal: D:\\a\\sentencepiece\\sentencepiece\\src\\sentencepiece_processor.cc(1102) [model_proto->ParseFromArray(serialized.data(), serialized.size())]\n\n\n1\n\n\n * 原因\n   \n   通常是AutoTokenizer.from_pretrained和AutoModel.from_pretrained加载的模型不一致\n\nOSError: You seem to have cloned a repository without having git-lfs installed. Please install git-lfs and run `git lfs install` followed by `git lfs pull` in the folder you cloned\n\n\n1\n\n\n * 原因\n   \n   安装git-lfs\n\n\n# 参考\n\n * [1] chatGLM\n * [2] chatGLM-6B-github\n * [3] int4量化参数-配合模型实现\n * [4] int4量化-模型实现\n * [5] win10安装CUDA cuDNN安装\n * [6] 参考部署1\n * [7] 参考部署2\n * [8] 友链k8sGPT\n * [9] pytorch安装',normalizedContent:'# 环境配置\n\n\n# 环境要求\n\nwin10\n\npyenv\n\n\n# python环境\n\n参考pyenv安装。\n\n\n# 安装cuda相关\n\n参考英伟达驱动安装\n\n\n# 安装pytorch\n\n参考pytorch安装\n\n\n# 安装git-lfs\n\n从 hugging face hub 下载模型需要先安装git lfs，然后运行\n\n点击安装\n\n\n# 模型推理\n\n使用chatglm的过程属于推理过程。\n\n\n# 配置\n\n本次运行环境为win10(正常windows非wsl子系统)\n\n# 前置操作\n\n防止vpn导致无法访问\n\n# demo.queue().launch(share=false, inbrowser=true)改为\n\nos.environ["no_proxy"] = "localhost,127.0.0.1,::1"\ndemo.queue().launch(server_name="0.0.0.0", server_port=7890,share=false, inbrowser=true)\n\n\n1\n2\n3\n4\n\n\n# chatglm-6b\n\n通过chatglm来在消费级显卡上运行大模型，项目已经准备好demo脚本可直接启动。\n\n可先查看量化等级对硬件配置要求chatglm-6b\n\ngit clone https://github.com/thudm/chatglm-6b.git\n\n# 模型\n\nchatglm-6b启动demo时会自动下载模型，但从transformers下载很慢，可以改为手动从国内镜像源下载，本地加载模型的方式实现。\n\n因为国内镜像源也是通过git方式下载，所以对于模型参数来说下载可能还达不到满速，此时可以把模型分为模型实现和参数，模型实现可通过git下载(需安装git-lfs)，模型参数可以通过清华网站下载通过多线程可以到40mbps\n\n * 下载模型实现\n   \n   git_lfs_skip_smudge=1 git clone https://huggingface.co/thudm/chatglm-6b\n\n * 下载模型参数\n   \n   点击下载 ，参数需要放在上面git clone模型实现的目录下。\n\nint4量化\n\n以上是标准模型，如果电脑配置低可使用量化后的模型\n\n * 模型实现 :git_lfs_skip_smudge=1 git clone https://huggingface.co/thudm/chatglm-6b-int4/tree/main\n\n * int4模型参数 ，全部放到模型实现目录下\n\n\n# 运行\n\n# 普通运行\n\n找到chatglm-6b下的python web_demo.py ，把模型路径改成实际路径,windows下对\\转义\n\nchatglm6b=\'d:\\tom\\\\ai\\huggingface.co\\\\chatglm-6b\'\ntokenizer = autotokenizer.from_pretrained(chatglm6b, trust_remote_code=true)\nmodel = automodel.from_pretrained(chatglm6b, trust_remote_code=true).half().cuda()\n\n\n1\n2\n3\n\n\n# int4量化\n\n修改web_demo.py，增加quantize(4)参数，如果使用int8量化改为quantize(8)，前提是需要下载int量化的模型参考【配置】\n\nchatglm6b=\'d:\\yxk\\\\ai\\huggingface.co\\\\chatglm-6b-int4\'\nmodel = automodel.from_pretrained(chatglm6b, trust_remote_code=true).quantize(4).half().cuda()\n\n\n1\n2\n\n\n# 使用cpu运行\n\n如果没有显卡可以通过cpu运行\n\n改为：\n\nmodel = automodel.from_pretrained(chatglm6b, trust_remote_code=true).float()\n\n\n1\n\n\n# 命令行运行\n\n需要安装readline，python3安装命令\n\npip install pyreadline3 or python -m pip install pyreadline\n\n\n1\n\n\n\n# 报错\n\nassertionerror: torch not compiled with cuda enabled\n\n\n1\n\n\n * 原因\n   \n   驱动为正确安装或不支持cuda或使用运行方式不对\n\n * 解法\n   \n   如果使用cpu运行应该配置model = automodel.from_pretrained(chatglm6b, trust_remote_code=true).float()\n   \n   如果使用gpu运行应该正确安装cuda\n\n * 参考\n   \n   * issues\n\nsomething went wrong expecting value: line 1 column 1\n\n\n1\n\n\nweb_demo.py起来输入文字发送报错\n\n * 原因\n   \n   开了vpn或代理导致，关闭即可\n\n * 参考\n   \n   * issues\n\nruntimeerror: internal: d:\\a\\sentencepiece\\sentencepiece\\src\\sentencepiece_processor.cc(1102) [model_proto->parsefromarray(serialized.data(), serialized.size())]\n\n\n1\n\n\n * 原因\n   \n   通常是autotokenizer.from_pretrained和automodel.from_pretrained加载的模型不一致\n\noserror: you seem to have cloned a repository without having git-lfs installed. please install git-lfs and run `git lfs install` followed by `git lfs pull` in the folder you cloned\n\n\n1\n\n\n * 原因\n   \n   安装git-lfs\n\n\n# 参考\n\n * [1] chatglm\n * [2] chatglm-6b-github\n * [3] int4量化参数-配合模型实现\n * [4] int4量化-模型实现\n * [5] win10安装cuda cudnn安装\n * [6] 参考部署1\n * [7] 参考部署2\n * [8] 友链k8sgpt\n * [9] pytorch安装',charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"大模型N卡环境配置",frontmatter:{title:"大模型N卡环境配置",date:"2023-06-22T00:00:00.000Z",categories:["大模型"],tags:null,feed:{enable:!0},permalink:"/article/llm/NVIDIA.html",description:"",meta:[{name:"image",content:"https://www.yangxiaokang.com/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.assets/image-20230618160523004.png"},{name:"twitter:title",content:"大模型N卡环境配置"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.assets/image-20230618160523004.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.html"},{property:"og:type",content:"article"},{property:"og:title",content:"大模型N卡环境配置"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.assets/image-20230618160523004.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-22T00:00:00.000Z"},{itemprop:"name",content:"大模型N卡环境配置"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.assets/image-20230618160523004.png"}]},regularPath:"/article/llm/%E8%8B%B1%E4%BC%9F%E8%BE%BEgpu%E7%8E%AF%E5%A2%83.html",relativePath:"article/llm/英伟达gpu环境.md",key:"v-00b45ead",path:"/article/llm/NVIDIA.html",headers:[{level:2,title:"显卡驱动",slug:"显卡驱动",normalizedTitle:"显卡驱动",charIndex:2},{level:3,title:"查看驱动",slug:"查看驱动",normalizedTitle:"查看驱动",charIndex:11},{level:3,title:"下载安装",slug:"下载安装",normalizedTitle:"下载安装",charIndex:161},{level:3,title:"验证",slug:"验证",normalizedTitle:"验证",charIndex:899},{level:2,title:"CUDA Toolkit",slug:"cuda-toolkit",normalizedTitle:"cuda toolkit",charIndex:690},{level:3,title:"查看版本",slug:"查看版本",normalizedTitle:"查看版本",charIndex:348},{level:3,title:"下载安装",slug:"下载安装-2",normalizedTitle:"下载安装",charIndex:161},{level:3,title:"配置环境变量",slug:"配置环境变量",normalizedTitle:"配置环境变量",charIndex:1717},{level:2,title:"cuDNN",slug:"cudnn",normalizedTitle:"cudnn",charIndex:2256},{level:3,title:"查看版本",slug:"查看版本-2",normalizedTitle:"查看版本",charIndex:348},{level:3,title:"下载安装",slug:"下载安装-3",normalizedTitle:"下载安装",charIndex:161}],headersStr:"显卡驱动 查看驱动 下载安装 验证 CUDA Toolkit 查看版本 下载安装 配置环境变量 cuDNN 查看版本 下载安装",content:"# 显卡驱动\n\n\n# 查看驱动\n\n首先需要确认当前有无安装驱动，命令行执行nvidia-smi ，会有如下图所示信息：\n\n\n\n第一行显示了驱动版本及CUDA版本，CUDA版本能够向后兼容Driver版本，也就是说只要Driver版本满足CUDA要求的最低版本即可运行，所以Driver版本可以无脑升级到最新即可。\n\n\n# 下载安装\n\nN卡驱动下载\n\n产品类型如何选？GeForce是消费级游戏显卡如RTX3060系列，执行nvidia-smi 也应该看到了第三个框的信息NVIDIA GeForce RTX 3060 或NVIDIA A10，按需选择下载即可。不清楚系列的的可以多点几个看看产品家族也能找得到。\n\n# windows\n\nwindows 下载到桌面安装即可，安装时可选最小安装。\n\n查看版本，也可使用nvidia-smi查看\n\n桌面右键或右下角托盘打开英伟达控制面板，点击帮助->系统信息->组件\n\n\n\n# WSL\n\nwsl子系统的驱动是在windows上装，windows装了之后在wsl2上子系统是可以读取的到，不要在子系统里装。\n\n显卡驱动在windows上安装exe驱动程序安装好好之后CMD执行nvidia-smi即可获得结果 ，子系统执行也可以正常得到这个显示\n\n如果读取不到需要检查是不是wsl版本为1。千万不要在执行nvidia-smi 失败时根据提示安装nvidia-utils ，WSL上的linux提示不可尽信，有些操作在WSL上的linux和单纯linux系统操作不同。\n\n# centos\n\n在下载驱动时，他会和windows不同的是需要选CUDA Toolkit版本，也就是nvidia-smi显示的CUDA，CUDA Toolkit版本如何选？那就看你使用的模型建议版本了，很多开源项目都标注了在什么版本下测试过，按需即可，或者就选all。\n\n下载后执行以下命令安装\n\nrpm -ivh nvidia-driver-local-repo-rhel7-515.105.01-1.0-1.x86_64.rpm #包名根据自己下载修改\n\n\n\n1\n2\n\n\n\n# 验证\n\n执行nvidia-smi后可以对比之前的看NVIDIA-SMI后面的版本应该时要和刚才安装的包名里的版本一致。\n\n如执行报错Failed to initialize NVML: Driver/library version mismatch,重启系统再执行。\n\n\n# CUDA Toolkit\n\n\n# 查看版本\n\n命令行执行nvcc -V 命令，可得到如下输出，如果命令无法执行表示未安装CUDA Toolkit\n\n----------------------------------------\n\nnvcc: NVIDIA (R) Cuda compiler driver Copyright (c) 2005-2021 NVIDIA Corporation Built on Wed_Jul_14_19:41:19_PDT_2021 Cuda compilation tools, release 11.4, V11.4.100 Build cuda_11.4.r11.4/compiler.30188945_0\n\n\n# 下载安装\n\n下载CUDA Toolkit, 一般显示的都是最新的版本，如果要下载历史版本，先把页面选项选择完，然后页面下方会出现Archive of Previous CUDA Releases 建议用aria2或curl多线程下载最高40Mbps\n\nCUDA Toolkit版本与CUDA显卡驱动版本对应关系，CUDA Toolkit版本向后兼容CUDA显卡驱动版本\n\n根据自己版本不同进行选择，windows选windows，linux选linux具体的版本，WSL就选WSL2，因为只有2支持，默认安装的windows子系统是WSL1并不支持，不要去选linux，WSL不能用linux的。\n\n本次linux系统使用rpm或deb安装\n\n下载完成后根据页面提示安装即可，页面附带了命令。\n\n\n# 配置环境变量\n\n# linux&WSL\n\n以下环境变量建议在子用户的~/.bashrc里设置，不影响其他用户使用。但是注意安装cudnn时还是得改/etc/\n\nexport PATH=/usr/local/cuda-11.7/bin${PATH:+:${PATH}}\nexport LD_LIBRARY_PATH=/usr/local/cuda-11.7/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}\n\n\n1\n2\n\n\n配置完source ~/.bashrc 生效\n\n# windows\n\nwindows10-右下角windows设置-系统-关于-右侧有高级系统设置-环境变量-系统变量-编辑path-新建\n\n分别新建以下两条，注意把版本替换为自己的版本，以下是默认路径安装\n\nC:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.2\n\nC:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.2\\lib\\x64\n\n\n1\n2\n3\n\n\n如果安装多个CUDA Tookit版本记得，使用哪个就把哪个版本的变量移动到最前面\n\n\n# cuDNN\n\n\n# 查看版本\n\n# windows\n\n如果已安装的情况下可以通过以下方式查看：\n\n打开C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.2\\extras\\demo_suite\n\n在此路径下打开cmd或powershell,执行命令:\n\n.\\bandwidthTest.exe\n\n\n1\n\n\n输出以下内容：\n\n[CUDA Bandwidth Test] - Starting...\nRunning on...\n\n Device 0: NVIDIA GeForce RTX 3060\n Quick Mode\n\n Host to Device Bandwidth, 1 Device(s)\n PINNED Memory Transfers\n   Transfer Size (Bytes)        Bandwidth(MB/s)\n   33554432                     23405.5\n\n Device to Host Bandwidth, 1 Device(s)\n PINNED Memory Transfers\n   Transfer Size (Bytes)        Bandwidth(MB/s)\n   33554432                     25694.9\n\n Device to Device Bandwidth, 1 Device(s)\n PINNED Memory Transfers\n   Transfer Size (Bytes)        Bandwidth(MB/s)\n   33554432                     319042.9\n\nResult = PASS\n\nNOTE: The CUDA Samples are not meant for performance measurements. Results may vary when GPU Boost is enabled.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 下载安装\n\ncuDNN版本依赖CUDA版本，按需选择即可。,需要注册账户，邮箱注册即可\n\n下载cuDNN\n\ncuDNN安装方法\n\n# windows\n\ncuDNN是zip包，解压可以看到bin、include、lib目录，打开C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA 进入具体版本目录，将cuDNN的3个目录里面的文件复制进去(是文件不是复制目录)\n\n# centos7.8\n\n使用tar包安装\n\nxz -d cudnn-linux-x86_64-8.9.2.26_cuda11-archive.tar.xz #先用xz解压\ntar xf cudnn-linux-x86_64-8.9.2.26_cuda11-archive.tar  # tar解压\n# 注意cuda软连接对应的是不是你期望的实际版本地址\n$ sudo cp cudnn-*-archive/include/cudnn*.h /usr/local/cuda/include \n$ sudo cp -P cudnn-*-archive/lib/libcudnn* /usr/local/cuda/lib64 \n$ sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",normalizedContent:"# 显卡驱动\n\n\n# 查看驱动\n\n首先需要确认当前有无安装驱动，命令行执行nvidia-smi ，会有如下图所示信息：\n\n\n\n第一行显示了驱动版本及cuda版本，cuda版本能够向后兼容driver版本，也就是说只要driver版本满足cuda要求的最低版本即可运行，所以driver版本可以无脑升级到最新即可。\n\n\n# 下载安装\n\nn卡驱动下载\n\n产品类型如何选？geforce是消费级游戏显卡如rtx3060系列，执行nvidia-smi 也应该看到了第三个框的信息nvidia geforce rtx 3060 或nvidia a10，按需选择下载即可。不清楚系列的的可以多点几个看看产品家族也能找得到。\n\n# windows\n\nwindows 下载到桌面安装即可，安装时可选最小安装。\n\n查看版本，也可使用nvidia-smi查看\n\n桌面右键或右下角托盘打开英伟达控制面板，点击帮助->系统信息->组件\n\n\n\n# wsl\n\nwsl子系统的驱动是在windows上装，windows装了之后在wsl2上子系统是可以读取的到，不要在子系统里装。\n\n显卡驱动在windows上安装exe驱动程序安装好好之后cmd执行nvidia-smi即可获得结果 ，子系统执行也可以正常得到这个显示\n\n如果读取不到需要检查是不是wsl版本为1。千万不要在执行nvidia-smi 失败时根据提示安装nvidia-utils ，wsl上的linux提示不可尽信，有些操作在wsl上的linux和单纯linux系统操作不同。\n\n# centos\n\n在下载驱动时，他会和windows不同的是需要选cuda toolkit版本，也就是nvidia-smi显示的cuda，cuda toolkit版本如何选？那就看你使用的模型建议版本了，很多开源项目都标注了在什么版本下测试过，按需即可，或者就选all。\n\n下载后执行以下命令安装\n\nrpm -ivh nvidia-driver-local-repo-rhel7-515.105.01-1.0-1.x86_64.rpm #包名根据自己下载修改\n\n\n\n1\n2\n\n\n\n# 验证\n\n执行nvidia-smi后可以对比之前的看nvidia-smi后面的版本应该时要和刚才安装的包名里的版本一致。\n\n如执行报错failed to initialize nvml: driver/library version mismatch,重启系统再执行。\n\n\n# cuda toolkit\n\n\n# 查看版本\n\n命令行执行nvcc -v 命令，可得到如下输出，如果命令无法执行表示未安装cuda toolkit\n\n----------------------------------------\n\nnvcc: nvidia (r) cuda compiler driver copyright (c) 2005-2021 nvidia corporation built on wed_jul_14_19:41:19_pdt_2021 cuda compilation tools, release 11.4, v11.4.100 build cuda_11.4.r11.4/compiler.30188945_0\n\n\n# 下载安装\n\n下载cuda toolkit, 一般显示的都是最新的版本，如果要下载历史版本，先把页面选项选择完，然后页面下方会出现archive of previous cuda releases 建议用aria2或curl多线程下载最高40mbps\n\ncuda toolkit版本与cuda显卡驱动版本对应关系，cuda toolkit版本向后兼容cuda显卡驱动版本\n\n根据自己版本不同进行选择，windows选windows，linux选linux具体的版本，wsl就选wsl2，因为只有2支持，默认安装的windows子系统是wsl1并不支持，不要去选linux，wsl不能用linux的。\n\n本次linux系统使用rpm或deb安装\n\n下载完成后根据页面提示安装即可，页面附带了命令。\n\n\n# 配置环境变量\n\n# linux&wsl\n\n以下环境变量建议在子用户的~/.bashrc里设置，不影响其他用户使用。但是注意安装cudnn时还是得改/etc/\n\nexport path=/usr/local/cuda-11.7/bin${path:+:${path}}\nexport ld_library_path=/usr/local/cuda-11.7/lib64${ld_library_path:+:${ld_library_path}}\n\n\n1\n2\n\n\n配置完source ~/.bashrc 生效\n\n# windows\n\nwindows10-右下角windows设置-系统-关于-右侧有高级系统设置-环境变量-系统变量-编辑path-新建\n\n分别新建以下两条，注意把版本替换为自己的版本，以下是默认路径安装\n\nc:\\program files\\nvidia gpu computing toolkit\\cuda\\v10.2\n\nc:\\program files\\nvidia gpu computing toolkit\\cuda\\v10.2\\lib\\x64\n\n\n1\n2\n3\n\n\n如果安装多个cuda tookit版本记得，使用哪个就把哪个版本的变量移动到最前面\n\n\n# cudnn\n\n\n# 查看版本\n\n# windows\n\n如果已安装的情况下可以通过以下方式查看：\n\n打开c:\\program files\\nvidia gpu computing toolkit\\cuda\\v10.2\\extras\\demo_suite\n\n在此路径下打开cmd或powershell,执行命令:\n\n.\\bandwidthtest.exe\n\n\n1\n\n\n输出以下内容：\n\n[cuda bandwidth test] - starting...\nrunning on...\n\n device 0: nvidia geforce rtx 3060\n quick mode\n\n host to device bandwidth, 1 device(s)\n pinned memory transfers\n   transfer size (bytes)        bandwidth(mb/s)\n   33554432                     23405.5\n\n device to host bandwidth, 1 device(s)\n pinned memory transfers\n   transfer size (bytes)        bandwidth(mb/s)\n   33554432                     25694.9\n\n device to device bandwidth, 1 device(s)\n pinned memory transfers\n   transfer size (bytes)        bandwidth(mb/s)\n   33554432                     319042.9\n\nresult = pass\n\nnote: the cuda samples are not meant for performance measurements. results may vary when gpu boost is enabled.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 下载安装\n\ncudnn版本依赖cuda版本，按需选择即可。,需要注册账户，邮箱注册即可\n\n下载cudnn\n\ncudnn安装方法\n\n# windows\n\ncudnn是zip包，解压可以看到bin、include、lib目录，打开c:\\program files\\nvidia gpu computing toolkit\\cuda 进入具体版本目录，将cudnn的3个目录里面的文件复制进去(是文件不是复制目录)\n\n# centos7.8\n\n使用tar包安装\n\nxz -d cudnn-linux-x86_64-8.9.2.26_cuda11-archive.tar.xz #先用xz解压\ntar xf cudnn-linux-x86_64-8.9.2.26_cuda11-archive.tar  # tar解压\n# 注意cuda软连接对应的是不是你期望的实际版本地址\n$ sudo cp cudnn-*-archive/include/cudnn*.h /usr/local/cuda/include \n$ sudo cp -p cudnn-*-archive/lib/libcudnn* /usr/local/cuda/lib64 \n$ sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*\n\n\n\n1\n2\n3\n4\n5\n6\n7\n",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"pytorch安装",frontmatter:{title:"pytorch安装",date:"2023-06-01T00:00:00.000Z",categories:["大模型"],tags:null,feed:{enable:!0},permalink:"/article/llm/pytorch-install.html",description:"",meta:[{name:"twitter:title",content:"pytorch安装"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/pytorch.html"},{property:"og:type",content:"article"},{property:"og:title",content:"pytorch安装"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/pytorch.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-01T00:00:00.000Z"},{itemprop:"name",content:"pytorch安装"},{itemprop:"description",content:""}]},regularPath:"/article/llm/pytorch.html",relativePath:"article/llm/pytorch.md",key:"v-775ba0ae",path:"/article/llm/pytorch-install.html",headersStr:null,content:"pytorch简介\n\n * 具有强大GPU加速的张量计算（如NumPy）\n * 基于基于磁带的自动刻度系统构建的深度神经网络\n * torch\n\n如果使用cpu推理直接pip install torch 即可，GPU推理继续阅读\n\n安装\n\n应该安装什么样的版本，首先需要参考使用的模型及显卡cuda版本，应该根据模型看兼容的cuda版本，根据cuda版本选择兼容的pytorch版本。\n\npytorch安装方法，按照系统选择适合的版本\n\nwindows示例：\n\n * 卸载当前版本pytorch，如果为避免不必要的麻烦，默认pip安装的torch只支持cpu\n   \n   > 最好是先安装pytorch这样可控，如果是先安装项目依赖可能会被动把pytorch下载下来，为防止版本不对就需要先进性卸载。当然也可以先执行最下方命令验证下是否支持gpu，如以支持则跳过安装。\n   \n   * pip uninstall torch torchvision torchaudio\n     \n     \n     1\n     \n\n * 安装11.8版本\n   \n   * pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n     \n     \n     1\n     \n\n * 验证\n   \n   * pip list 有如下显示：\n   \n   * torch              2.0.1+cu118\n     torchaudio         2.0.2+cu118\n     torchvision        0.15.2+cu118\n     \n     \n     1\n     2\n     3\n     \n   \n   * 进入python命令行\n     \n     * import torch\n       >>> torch.cuda.is_available()\n       True\n       \n       \n       1\n       2\n       3\n       \n     \n     * 输出True则表示安装的torch支持GPU",normalizedContent:"pytorch简介\n\n * 具有强大gpu加速的张量计算（如numpy）\n * 基于基于磁带的自动刻度系统构建的深度神经网络\n * torch\n\n如果使用cpu推理直接pip install torch 即可，gpu推理继续阅读\n\n安装\n\n应该安装什么样的版本，首先需要参考使用的模型及显卡cuda版本，应该根据模型看兼容的cuda版本，根据cuda版本选择兼容的pytorch版本。\n\npytorch安装方法，按照系统选择适合的版本\n\nwindows示例：\n\n * 卸载当前版本pytorch，如果为避免不必要的麻烦，默认pip安装的torch只支持cpu\n   \n   > 最好是先安装pytorch这样可控，如果是先安装项目依赖可能会被动把pytorch下载下来，为防止版本不对就需要先进性卸载。当然也可以先执行最下方命令验证下是否支持gpu，如以支持则跳过安装。\n   \n   * pip uninstall torch torchvision torchaudio\n     \n     \n     1\n     \n\n * 安装11.8版本\n   \n   * pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n     \n     \n     1\n     \n\n * 验证\n   \n   * pip list 有如下显示：\n   \n   * torch              2.0.1+cu118\n     torchaudio         2.0.2+cu118\n     torchvision        0.15.2+cu118\n     \n     \n     1\n     2\n     3\n     \n   \n   * 进入python命令行\n     \n     * import torch\n       >>> torch.cuda.is_available()\n       true\n       \n       \n       1\n       2\n       3\n       \n     \n     * 输出true则表示安装的torch支持gpu",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"模拟人声-文字生成语音",frontmatter:{title:"模拟人声-文字生成语音",date:"2023-08-22T00:00:00.000Z",categories:["大模型"],tags:null,meta:[{name:"description",content:"模拟人的音色，通过文字生成语音"},{name:"keywords",content:"vits 模拟人声"},{name:"image",content:"https://www.yangxiaokang.com/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.assets/4736d4ee09ed4692a9812b4764aea4e0.png"},{name:"twitter:title",content:"模拟人声-文字生成语音"},{name:"twitter:description",content:"​        VITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.assets/4736d4ee09ed4692a9812b4764aea4e0.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.html"},{property:"og:type",content:"article"},{property:"og:title",content:"模拟人声-文字生成语音"},{property:"og:description",content:"​        VITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文"},{property:"og:image",content:"https://www.yangxiaokang.com/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.assets/4736d4ee09ed4692a9812b4764aea4e0.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-08-22T00:00:00.000Z"},{itemprop:"name",content:"模拟人声-文字生成语音"},{itemprop:"description",content:"​        VITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文"},{itemprop:"image",content:"https://www.yangxiaokang.com/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.assets/4736d4ee09ed4692a9812b4764aea4e0.png"}],feed:{enable:!0},permalink:"/article/llm/voice-simulation.html",description:"​        VITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文"},regularPath:"/article/llm/%E5%A3%B0%E9%9F%B3%E6%A8%A1%E6%8B%9F.html",relativePath:"article/llm/声音模拟.md",key:"v-70bfbfe6",path:"/article/llm/voice-simulation.html",headers:[{level:2,title:"文生音频",slug:"文生音频",normalizedTitle:"文生音频",charIndex:2},{level:3,title:"VITS模型介绍",slug:"vits模型介绍",normalizedTitle:"vits模型介绍",charIndex:11},{level:3,title:"VITS-fast-fine-tuning介绍",slug:"vits-fast-fine-tuning介绍",normalizedTitle:"vits-fast-fine-tuning介绍",charIndex:391},{level:2,title:"使用",slug:"使用",normalizedTitle:"使用",charIndex:115},{level:3,title:"微调",slug:"微调",normalizedTitle:"微调",charIndex:838},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1028}],headersStr:"文生音频 VITS模型介绍 VITS-fast-fine-tuning介绍 使用 微调 参考",content:'# 文生音频\n\n\n# VITS模型介绍\n\nVITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文\n\n\n\nVITS 的工作流程如下：\n\n 1. 将文本输入 VITS 系统，系统会将文本转化为发音规则。\n 2. 将发音规则输入预先训练好的语音编码器 (vocoder)，vocoder 会根据发音规则生成语音信号的特征表示。\n 3. 将语音信号的特征表示输入预先训练好的语音合成模型，语音合成模型会根据特征表示生成合成语音。\n\n优点：成的语音质量较高，能够生成流畅的语音。\n\n缺点：需要大量的训练语料来训练 vocoder 和语音合成模型，同时需要较复杂的训练流程。\n\n\n# VITS-fast-fine-tuning介绍\n\nVITS-fast-fine-tuning是在原始VITS（VITS源码）基础上开发出的一站式多speaker训练的傻瓜式版本，简单易用，可以基于VITS-fast-fine-tuning半小时内无需标注训练任意角色的语音，并提供了基础的预训练模型，可以在预训练模型上进行二次训练，实现任意角色的语音生成。\n\n# 目前支持的任务:\n\n * 从 10条以上的短音频 克隆角色声音\n * 从 3分钟以上的长音频（单个音频只能包含单说话人） 克隆角色声音\n * 从 3分钟以上的视频（单个视频只能包含单说话人） 克隆角色声音\n * 通过输入 bilibili视频链接（单个视频只能包含单说话人） 克隆角色声音\n\n训练步骤如下：\n\n 1. 准备预训练数据，按照制定格式和路径进行存放，数据无需标注\n 2. 对数据进行预处理，采用whisper模型进行语音提取和切分，形成标注数据。\n 3. 使用提出的带标注的数据进行语音合成训练\n\n\n# 使用\n\n\n# 微调\n\n# 硬件要求\n\n内存：16GB+\n\n显存：16GB+(N卡，可多卡)\n\n# 环境配置\n\n * python版本:3.9\n\n * 系统版本：centos7\n\n * 克隆代码到本地，使用pyenv新建一个环境。\n\ngit clone https://github.com/Plachtaa/VITS-fast-fine-tuning.git\n\n\n1\n\n\n# 1. 安装依赖\n\n参考代码中给出的train locally 安装过程中如果需要编译则是因为相关的库没有提供当前pyhton版本的whl文件，建议安装低版本或把requirements.txt中的版本去掉。\n\npip install -r requirements.txt\n\n\n1\n\n * 安装 PyTorch\n\n# CUDA 11.6\npip install torch==1.13.1+cu116 torchvision==0.14.1+cu116 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu116\n# CUDA 11.7\npip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu117\n\n\n1\n2\n3\n4\n\n * 安装处理视频所需要的库\n\npip install imageio==2.4.1\npip install moviepy\n\n\n1\n2\n\n * 安装ffmpeg4.1版本\n\n# 2. 构建单调对齐\n\ncd monotonic_align\nmkdir monotonic_align\npython setup.py build_ext --inplace\ncd ..\n\n\n1\n2\n3\n4\n\n\n# 3. 下载训练辅助数据\n\n# download data for fine-tuning\n# 在项目根目录下\nwget https://huggingface.co/datasets/Plachta/sampled_audio4ft/resolve/main/sampled_audio4ft_v2.zip\nunzip sampled_audio4ft_v2.zip\n\n\n1\n2\n3\n4\n\n\n# 4. 创建音频文件目录\n\n# 预训练模型目录\nmkdir pretrained_models \n# 视频\nmkdir video_data\n# 长音频\nmkdir raw_audio\n# 降噪音频\nmkdir denoised_audio\n# 短音频目录\nmkdir custom_character_voice\n# 分段字符语音\nmkdir segmented_character_voice\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 5.下载预训练模型\n\n这里的预训练模型分3中，中文，中日，中日英，选择一种下载并放到指定目录并重命名。\n\nCJE: Trilingual (Chinese, Japanese, English)\nCJ: Dualigual (Chinese, Japanese)\nC: Chinese only\n\n\n1\n2\n3\n\n\nLinux\n\nTo download CJE model, run the following:\n\nwget https://huggingface.co/spaces/Plachta/VITS-Umamusume-voice-synthesizer/resolve/main/pretrained_models/D_trilingual.pth -O ./pretrained_models/D_0.pth\nwget https://huggingface.co/spaces/Plachta/VITS-Umamusume-voice-synthesizer/resolve/main/pretrained_models/G_trilingual.pth -O ./pretrained_models/G_0.pth\nwget https://huggingface.co/spaces/Plachta/VITS-Umamusume-voice-synthesizer/resolve/main/configs/uma_trilingual.json -O ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\nTo download CJ model, run the following:\n\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/D_0-p.pth -O ./pretrained_models/D_0.pth\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/G_0-p.pth -O ./pretrained_models/G_0.pth\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/config.json -O ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\nTo download C model, run the follwoing:\n\nwget https://huggingface.co/datasets/Plachta/sampled_audio4ft/resolve/main/VITS-Chinese/D_0.pth -O ./pretrained_models/D_0.pth\nwget https://huggingface.co/datasets/Plachta/sampled_audio4ft/resolve/main/VITS-Chinese/G_0.pth -O ./pretrained_models/G_0.pth\nwget https://huggingface.co/datasets/Plachta/sampled_audio4ft/resolve/main/VITS-Chinese/config.json -O ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\n# 6. 音频数据文件\n\n将需要进行模拟的音频文件放到第4步创建的目录中，当前支持4中方式，任选一种即可。\n\n * 短音频\n\n要求：wav格式，每段小于10s，最少10段，建议不少于20段\n\n同一个人的音频文件放到一个目录中，目录放到创建的custom_character_voice下\n\n例：\n\ncustom_character_voice]$ tree\n.\n\n└── zhangsan\n    ├── 01.wav\n    ├── 02.wav\n    ├── 03.wav\n    ├── 04.wav\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * 长音频\n * 视频\n * b站视频连接\n\n# 7. 处理音频文件\n\n# 将所有视频（无论是上传的还是下载的，且必须是.mp4格式）抽取音频\npython scripts/video2audio.py\n# 将所有音频（无论是上传的还是从视频抽取的，必须是.wav格式）降噪\npython scripts/denoise_audio.py\n# 分割并标注长音频\npython scripts/long_audio_transcribe.py --languages "{PRETRAINED_MODEL}" --whisper_size large\n# 标注短音频\npython scripts/short_audio_transcribe.py --languages "{PRETRAINED_MODEL}" --whisper_size large\n# 底模采样率可能与辅助数据不同，需要重采样，此时，音频目录下会多出很多新的文件\npython scripts/resample.py\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n{PRETRAINED_MODEL} 和上面下载预训练模型保持一致，C , CJ, CJE\n\n此时项目根目录下会出现我们使用端音频识别出来的文本如标注段音频产生的short_character_anno.txt ，可以检查里面的断句是否符合预期，如有问题，可调整。\n\n# 8. 预处理训练数据\n\n这里可以选不添加辅助数据，但issue中反馈不使用可能会造成无法保存模型，建议100条以下音频样本或质量不佳的样本使用辅助数据。\n\npython3 preprocess_v2.py --add_auxiliary_data True --languages "{PRETRAINED_MODEL}"\n\n\n1\n\n\n{PRETRAINED_MODEL} 和上面下载预训练模型保持一致，C , CJ, CJE\n\n# 9. 开始训练模型\n\n * 全新训练(OUTPUT_MODEL目录 为空)\n   \n   python3 finetune_speaker_v2.py -m "./OUTPUT_MODEL" --max_epochs "{Maximum_epochs}" --drop_speaker_embed True\n   \n   \n   1\n   \n\n{Maximum_epochs} 建议大于100\n\n * 继续训练\n   \n   需要保证OUTPUT_MODEL目录存在G_latest.pth 和 D_latest.pth\n   \n   python finetune_speaker_v2.py -m ./OUTPUT_MODEL --max_epochs "{Maximum_epochs}" --drop_speaker_embed False --cont True\n   \n   \n   1\n   \n\n# 10. 推理\n\ncp ./configs/modified_finetune_speaker.json ./finetune_speaker.json\npython VC_inference.py --model_dir ./OUTPUT_MODEL/G_latest.pth --share True\n\n\n1\n2\n\n\n# 11. 关于重新训练\n\n需要删除以下几个目录或文件\n\nOUTPUT_MODEL\n\ndenoised_audio\n\ncustom_character_voice下音频文件以processed开头的文件\n\nseparated\n\nsegmented_character_voice\n\n同时删除 txt 文件(第8步生成的)：\n\nfinal_annotation_train.txt\n\nfinal_annotation_val.txt\n\n如果是继续训练，除OUTPUT_MODEL不动，其他继续以上操作。\n\n\n# 参考\n\n * [1] [VITS-fast-fine-tuning](https://github.com/Plachtaa/VITS-fast-fine-tuning/tree/main)\n\n * [2] 基于VITS-fast-fine-tuning构建多speaker语音训练\n\n * [3] VITS-从零开始微调（finetune）\n\n * [4] 一键整合包',normalizedContent:'# 文生音频\n\n\n# vits模型介绍\n\nvits（variational inference with adversarial learning for end-to-end text-to-speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。论文\n\n\n\nvits 的工作流程如下：\n\n 1. 将文本输入 vits 系统，系统会将文本转化为发音规则。\n 2. 将发音规则输入预先训练好的语音编码器 (vocoder)，vocoder 会根据发音规则生成语音信号的特征表示。\n 3. 将语音信号的特征表示输入预先训练好的语音合成模型，语音合成模型会根据特征表示生成合成语音。\n\n优点：成的语音质量较高，能够生成流畅的语音。\n\n缺点：需要大量的训练语料来训练 vocoder 和语音合成模型，同时需要较复杂的训练流程。\n\n\n# vits-fast-fine-tuning介绍\n\nvits-fast-fine-tuning是在原始vits（vits源码）基础上开发出的一站式多speaker训练的傻瓜式版本，简单易用，可以基于vits-fast-fine-tuning半小时内无需标注训练任意角色的语音，并提供了基础的预训练模型，可以在预训练模型上进行二次训练，实现任意角色的语音生成。\n\n# 目前支持的任务:\n\n * 从 10条以上的短音频 克隆角色声音\n * 从 3分钟以上的长音频（单个音频只能包含单说话人） 克隆角色声音\n * 从 3分钟以上的视频（单个视频只能包含单说话人） 克隆角色声音\n * 通过输入 bilibili视频链接（单个视频只能包含单说话人） 克隆角色声音\n\n训练步骤如下：\n\n 1. 准备预训练数据，按照制定格式和路径进行存放，数据无需标注\n 2. 对数据进行预处理，采用whisper模型进行语音提取和切分，形成标注数据。\n 3. 使用提出的带标注的数据进行语音合成训练\n\n\n# 使用\n\n\n# 微调\n\n# 硬件要求\n\n内存：16gb+\n\n显存：16gb+(n卡，可多卡)\n\n# 环境配置\n\n * python版本:3.9\n\n * 系统版本：centos7\n\n * 克隆代码到本地，使用pyenv新建一个环境。\n\ngit clone https://github.com/plachtaa/vits-fast-fine-tuning.git\n\n\n1\n\n\n# 1. 安装依赖\n\n参考代码中给出的train locally 安装过程中如果需要编译则是因为相关的库没有提供当前pyhton版本的whl文件，建议安装低版本或把requirements.txt中的版本去掉。\n\npip install -r requirements.txt\n\n\n1\n\n * 安装 pytorch\n\n# cuda 11.6\npip install torch==1.13.1+cu116 torchvision==0.14.1+cu116 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu116\n# cuda 11.7\npip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu117\n\n\n1\n2\n3\n4\n\n * 安装处理视频所需要的库\n\npip install imageio==2.4.1\npip install moviepy\n\n\n1\n2\n\n * 安装ffmpeg4.1版本\n\n# 2. 构建单调对齐\n\ncd monotonic_align\nmkdir monotonic_align\npython setup.py build_ext --inplace\ncd ..\n\n\n1\n2\n3\n4\n\n\n# 3. 下载训练辅助数据\n\n# download data for fine-tuning\n# 在项目根目录下\nwget https://huggingface.co/datasets/plachta/sampled_audio4ft/resolve/main/sampled_audio4ft_v2.zip\nunzip sampled_audio4ft_v2.zip\n\n\n1\n2\n3\n4\n\n\n# 4. 创建音频文件目录\n\n# 预训练模型目录\nmkdir pretrained_models \n# 视频\nmkdir video_data\n# 长音频\nmkdir raw_audio\n# 降噪音频\nmkdir denoised_audio\n# 短音频目录\nmkdir custom_character_voice\n# 分段字符语音\nmkdir segmented_character_voice\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 5.下载预训练模型\n\n这里的预训练模型分3中，中文，中日，中日英，选择一种下载并放到指定目录并重命名。\n\ncje: trilingual (chinese, japanese, english)\ncj: dualigual (chinese, japanese)\nc: chinese only\n\n\n1\n2\n3\n\n\nlinux\n\nto download cje model, run the following:\n\nwget https://huggingface.co/spaces/plachta/vits-umamusume-voice-synthesizer/resolve/main/pretrained_models/d_trilingual.pth -o ./pretrained_models/d_0.pth\nwget https://huggingface.co/spaces/plachta/vits-umamusume-voice-synthesizer/resolve/main/pretrained_models/g_trilingual.pth -o ./pretrained_models/g_0.pth\nwget https://huggingface.co/spaces/plachta/vits-umamusume-voice-synthesizer/resolve/main/configs/uma_trilingual.json -o ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\nto download cj model, run the following:\n\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/d_0-p.pth -o ./pretrained_models/d_0.pth\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/g_0-p.pth -o ./pretrained_models/g_0.pth\nwget https://huggingface.co/spaces/sayashi/vits-uma-genshin-honkai/resolve/main/model/config.json -o ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\nto download c model, run the follwoing:\n\nwget https://huggingface.co/datasets/plachta/sampled_audio4ft/resolve/main/vits-chinese/d_0.pth -o ./pretrained_models/d_0.pth\nwget https://huggingface.co/datasets/plachta/sampled_audio4ft/resolve/main/vits-chinese/g_0.pth -o ./pretrained_models/g_0.pth\nwget https://huggingface.co/datasets/plachta/sampled_audio4ft/resolve/main/vits-chinese/config.json -o ./configs/finetune_speaker.json\n\n\n1\n2\n3\n\n\n# 6. 音频数据文件\n\n将需要进行模拟的音频文件放到第4步创建的目录中，当前支持4中方式，任选一种即可。\n\n * 短音频\n\n要求：wav格式，每段小于10s，最少10段，建议不少于20段\n\n同一个人的音频文件放到一个目录中，目录放到创建的custom_character_voice下\n\n例：\n\ncustom_character_voice]$ tree\n.\n\n└── zhangsan\n    ├── 01.wav\n    ├── 02.wav\n    ├── 03.wav\n    ├── 04.wav\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n * 长音频\n * 视频\n * b站视频连接\n\n# 7. 处理音频文件\n\n# 将所有视频（无论是上传的还是下载的，且必须是.mp4格式）抽取音频\npython scripts/video2audio.py\n# 将所有音频（无论是上传的还是从视频抽取的，必须是.wav格式）降噪\npython scripts/denoise_audio.py\n# 分割并标注长音频\npython scripts/long_audio_transcribe.py --languages "{pretrained_model}" --whisper_size large\n# 标注短音频\npython scripts/short_audio_transcribe.py --languages "{pretrained_model}" --whisper_size large\n# 底模采样率可能与辅助数据不同，需要重采样，此时，音频目录下会多出很多新的文件\npython scripts/resample.py\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n{pretrained_model} 和上面下载预训练模型保持一致，c , cj, cje\n\n此时项目根目录下会出现我们使用端音频识别出来的文本如标注段音频产生的short_character_anno.txt ，可以检查里面的断句是否符合预期，如有问题，可调整。\n\n# 8. 预处理训练数据\n\n这里可以选不添加辅助数据，但issue中反馈不使用可能会造成无法保存模型，建议100条以下音频样本或质量不佳的样本使用辅助数据。\n\npython3 preprocess_v2.py --add_auxiliary_data true --languages "{pretrained_model}"\n\n\n1\n\n\n{pretrained_model} 和上面下载预训练模型保持一致，c , cj, cje\n\n# 9. 开始训练模型\n\n * 全新训练(output_model目录 为空)\n   \n   python3 finetune_speaker_v2.py -m "./output_model" --max_epochs "{maximum_epochs}" --drop_speaker_embed true\n   \n   \n   1\n   \n\n{maximum_epochs} 建议大于100\n\n * 继续训练\n   \n   需要保证output_model目录存在g_latest.pth 和 d_latest.pth\n   \n   python finetune_speaker_v2.py -m ./output_model --max_epochs "{maximum_epochs}" --drop_speaker_embed false --cont true\n   \n   \n   1\n   \n\n# 10. 推理\n\ncp ./configs/modified_finetune_speaker.json ./finetune_speaker.json\npython vc_inference.py --model_dir ./output_model/g_latest.pth --share true\n\n\n1\n2\n\n\n# 11. 关于重新训练\n\n需要删除以下几个目录或文件\n\noutput_model\n\ndenoised_audio\n\ncustom_character_voice下音频文件以processed开头的文件\n\nseparated\n\nsegmented_character_voice\n\n同时删除 txt 文件(第8步生成的)：\n\nfinal_annotation_train.txt\n\nfinal_annotation_val.txt\n\n如果是继续训练，除output_model不动，其他继续以上操作。\n\n\n# 参考\n\n * [1] [vits-fast-fine-tuning](https://github.com/plachtaa/vits-fast-fine-tuning/tree/main)\n\n * [2] 基于vits-fast-fine-tuning构建多speaker语音训练\n\n * [3] vits-从零开始微调（finetune）\n\n * [4] 一键整合包',charsets:{cjk:!0},lastUpdated:"2023/9/10",lastUpdatedTimestamp:1694361355e3},{title:"stable-diffusion 使用",frontmatter:{title:"stable-diffusion 使用",date:"2023-08-24T00:00:00.000Z",categories:["大模型"],tags:null,meta:[{name:"description",content:"AI绘画 stable-diffusion"},{name:"keywords",content:"llm aigc stable-diffusion ai绘画"},{name:"image",content:"https://www.yangxiaokang.com/stable-diffusion.assets/image-20230926110111876.png"},{name:"twitter:title",content:"stable-diffusion 使用"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/stable-diffusion.assets/image-20230926110111876.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/stable-diffusion.html"},{property:"og:type",content:"article"},{property:"og:title",content:"stable-diffusion 使用"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/stable-diffusion.assets/image-20230926110111876.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/stable-diffusion.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-08-24T00:00:00.000Z"},{itemprop:"name",content:"stable-diffusion 使用"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/stable-diffusion.assets/image-20230926110111876.png"}],feed:{enable:!0},permalink:"/article/llm/stable-diffusion.html",description:""},regularPath:"/article/llm/stable-diffusion.html",relativePath:"article/llm/stable-diffusion.md",key:"v-6d08b87e",path:"/article/llm/stable-diffusion.html",headers:[{level:2,title:"环境配置",slug:"环境配置",normalizedTitle:"环境配置",charIndex:2},{level:2,title:"下载基础模型",slug:"下载基础模型",normalizedTitle:"下载基础模型",charIndex:2180},{level:2,title:"启动项目",slug:"启动项目",normalizedTitle:"启动项目",charIndex:2382},{level:2,title:"插件",slug:"插件",normalizedTitle:"插件",charIndex:2704},{level:2,title:"问题解决",slug:"问题解决",normalizedTitle:"问题解决",charIndex:3929},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:125}],headersStr:"环境配置 下载基础模型 启动项目 插件 问题解决 参考",content:'# 环境配置\n\n# 环境要求\n\n系统：centos7.8\n\npython：3.10.12\n\ncuda：11.7\n\n# 前提条件\n\n * gpu环境准备好\n * git 、python、aria2c、pyenv等安装好，pip改为清华源python相关参考\n * 可以科学上网\n\n# clone代码\n\n虽然可以使用webui.sh下载项目，但是国内网络问题很难下载，如果可以科学上网，自己手动下载会更方便些。可以通过git config --global http.proxy 代理地址配置代理\n\nwebui代码\n\ngit clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git\n\n\n1\n\n\nwebui 仅仅是一个外层界面包装，核心功能是通过其他仓库（或以仓库的形式、或以安装包的形式）支撑的。其他仓库需放在 ./repositories 文件夹下：\n\nmkdir repositories\n\n\n1\n\n\n然后依次下载以下仓库，并切换到合适的版本以避免可能的版本适配问题：\n\nstablediffusion\n\ngit clone https://github.com/Stability-AI/stablediffusion.git ./repositories/stable-diffusion-stability-ai\ngit -C ./repositories/stable-diffusion-stability-ai checkout cf1d67a6fd5ea1aa600c4df58e5b47da45f6bdbf\n\n\n1\n2\n\n\ntaming-transformers\n\ngit clone https://github.com/CompVis/taming-transformers.git ./repositories/taming-transformers\ngit -C ./repositories/taming-transformers checkout 24268930bf1dce879235a7fddd0b2355b84d7ea6\n\n\n1\n2\n\n\nk-diffusion\n\ngit clone https://github.com/crowsonkb/k-diffusion.git ./repositories/k-diffusion\ngit -C ./repositories/k-diffusion checkout c9fe758757e022f05ca5a53fa8fac28889e4f1cf\n\n\n1\n2\n\n\nCodeFormer\n\ngit clone https://github.com/sczhou/CodeFormer.git ./repositories/CodeFormer\ngit -C ./repositories/CodeFormer checkout c5b4593074ba6214284d6acd5f1719b6c5d739af\n\n\n1\n2\n\n\nBLIP\n\ngit clone https://github.com/salesforce/BLIP.git ./repositories/BLIP\ngit -C ./repositories/BLIP checkout 48211a1594f1321b00f14c9f7a5b4813144b2fb9\n\n\n1\n2\n\n\ngenerative-models\n\ngit clone https://github.com/Stability-AI/generative-models.git\n\n\n\n1\n2\n\n\n# 安装依赖\n\n * 安装pytorch 参考\n\n# 使用阿里云源安装tb-nightly，清华源没有这个\npython -m pip install tb-nightly sgm -i https://mirrors.aliyun.com/pypi/simple/\n\n# 使用清华源安装其他必备包,必须安装否则下面会失败。\npython -m pip install scipy opencv-python tqdm pyyaml xformers\n\n# 安装项目必备包\npython -m pip install -r requirements.txt \n\n# 其他依赖\npip install ftfy regex tqdm -i https://pypi.tuna.tsinghua.edu.cn/simple\npip install git+https://github.com/openai/CLIP.git\npip install open_clip_torch xformers -i https://pypi.tuna.tsinghua.edu.cn/simple\npip install -r repositories/CodeFormer/requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 下载基础模型\n\ncd stable-diffusion-webui/models/Stable-diffusion/\n\n使用aria2c下载v2.1下载基础模型（Stable Diffusion v2.1，safetensors 格式，5.21 GB），放在 ./models/Stable-diffusion/ 下。当然也可以下载 v1.5 或其他基础模型，其他模型请在c站或国内的L站下载。\n\n\n# 启动项目\n\npython webui.py  --disable-nan-check --precision full --no-half --listen\n\n\n1\n\n\n此时可能报错:无法加载clip-vit-large-patch14 ,这是因为国内没法从huggingface下载，和上面环境配置中一样，需要手动下载下来 clip-vit-large-patch14下载地址，在项目目录下新建openai ，将clip-vit-large-patch14 放到此目录下。如果启动还是报错，可以尝试指定代码读取的绝对路径 参考CLIPTokenizer.from_pretrained本地加载 Stablediffusion本地加载\n\n\n# 插件\n\n所有插件有两种方式安装：\n\n 1. 进入插件目录，通过git clone下载，以下插件都是这种方式\n\n 2. webui安装,如图，需要科学上网。\n    \n    \n\n# 中文插件\n\n * 下载插件\n\ncd stable-diffusion-webui/extensions\n\n# 不按照可能会有报错\ngit clone  https://github.com/DominikDoom/a1111-sd-webui-tagcomplete.git\ngit clone https://github.com/Extraltodeus/multi-subject-render.git\n\n# 中文插件\ngit clone https://github.com/hanamizuki-ai/stable-diffusion-webui-localization-zh_Hans\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n * 重启sd\n\n * 选择Settings→User interface，下拉找到Localization栏，选择zh_CN（推荐安装zh_Hans Localization）\n\n * 提示词翻译插件，可输入中文，自动翻译为英文。(提示词最好是英文)\n   \n   cd stable-diffusion-webui/extensions\n   git clone https://github.com/studyzy/sd-prompt-translator\n   # 重新启动sd后，默认需要下载2g左右的翻译模型，需要科学上网。模型存放位置是插件目录下的script，也可以自己在下载https://huggingface.co/Helsinki-NLP/opus-mt-zh-en,放到sd-prompt-translator/scripts/models/models--Helsinki-NLP--opus-mt-zh-en下\n   \n   \n   1\n   2\n   3\n   \n\n# ControlNet\n\nControlNet 允许用户对生成的图像进行精细的控制，以获得更好的视觉效果，ControlNet 让 AI 绘画的可控性有了质的突变，让 AGIC 真正的可以投入生产使用。\n\n打开 stable-diffusion-webui，点击【Extensions】- 【Install from URL】输入https://ghproxy.com/https://github.com/Mikubill/sd-webui-controlnet.git 或进入插件目录git clone\n\n下载模型实现，点击下载 放到stable-diffusion-webui/extensions/sd-webui-controlnet/models 目录\n\n重启 stable-diffusion-webui\n\n\n# 问题解决\n\n 1. basicsr安装失败，依赖tb-nightly，但清华源没有这个包，所以有了下面的报错。sgm也需要用阿里源\n\nERROR: Cannot install -r requirements.txt (line 5) because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    basicsr 1.4.2 depends on tb-nightly\n    basicsr 1.4.1 depends on tb-nightly\n    basicsr 1.4.0 depends on tb-nightly\n    basicsr 1.3.5 depends on tb-nightly\n    basicsr 1.3.4.9 depends on tb-nightly\n    basicsr 1.3.4.8 depends on tb-nightly\n    basicsr 1.3.4.7 depends on tb-nightly\n    basicsr 1.3.4.6 depends on tb-nightly\n    basicsr 1.3.4.4 depends on tb-nightly\n    basicsr 1.3.4.3 depends on tb-nightly\n    basicsr 1.3.4.2 depends on tb-nightly\n    basicsr 1.3.4.1 depends on tb-nightly\n    basicsr 1.3.4.0 depends on tb-nightly\n    basicsr 1.3.3.11 depends on tb-nightly\n    basicsr 1.3.3.10 depends on tb-nightly\n    basicsr 1.3.3.9 depends on tb-nightly\n    basicsr 1.3.3.8 depends on tb-nightly\n    basicsr 1.3.3.7 depends on tb-nightly\n    basicsr 1.3.3.6 depends on tb-nightly\n    basicsr 1.3.3.5 depends on tb-nightly\n    basicsr 1.3.3.4 depends on tb-nightly\n    basicsr 1.3.3.3 depends on tb-nightly\n    basicsr 1.3.3.1 depends on tb-nightly\n    basicsr 1.3.3 depends on tb-nightly\n    basicsr 1.3.2 depends on tb-nightly\n    basicsr 1.3.1 depends on tb-nightly\n\nTo fix this you could try to:\n1. loosen the range of package versions you\'ve specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n 2. A tensor with all NaNs was produced in Unet\n\n      File "/data/rd/aigc/stable-diffusion/stable-diffusion-webui/modules/devices.py", line 136, in test_for_nans\n        raise NansException(message)\n    modules.devices.NansException: A tensor with all NaNs was produced in Unet. This could be either because there\'s not enough precision to represent the picture, or because your video card does not support half type. Try setting the "Upcast cross attention layer to float32" option in Settings > Stable Diffusion or using the --no-half commandline argument to fix this. Use --disable-nan-check commandline argument to disable this check.\n\n\n1\n2\n3\n\n\n启动是添加参数 --disable-auto-autolaunch --listen --precision full --no-half --disable-nan-check 参考issue issue2\n\n\n# 参考\n\n * [1] Stable Diffusionwebui部署(Linux)\n * [2] Linux上如何使用Stable Diffusion WebUI\n * [3] stable diffusion使用及插件\n * [4] 中文插件配置\n * [5] 中文prompt翻译\n * [6] 图像精调-ControlNet插件使用\n * [7] stable diffusion 原理\n * [8] 如何写出好的提示词(stable diffusion)',normalizedContent:'# 环境配置\n\n# 环境要求\n\n系统：centos7.8\n\npython：3.10.12\n\ncuda：11.7\n\n# 前提条件\n\n * gpu环境准备好\n * git 、python、aria2c、pyenv等安装好，pip改为清华源python相关参考\n * 可以科学上网\n\n# clone代码\n\n虽然可以使用webui.sh下载项目，但是国内网络问题很难下载，如果可以科学上网，自己手动下载会更方便些。可以通过git config --global http.proxy 代理地址配置代理\n\nwebui代码\n\ngit clone https://github.com/automatic1111/stable-diffusion-webui.git\n\n\n1\n\n\nwebui 仅仅是一个外层界面包装，核心功能是通过其他仓库（或以仓库的形式、或以安装包的形式）支撑的。其他仓库需放在 ./repositories 文件夹下：\n\nmkdir repositories\n\n\n1\n\n\n然后依次下载以下仓库，并切换到合适的版本以避免可能的版本适配问题：\n\nstablediffusion\n\ngit clone https://github.com/stability-ai/stablediffusion.git ./repositories/stable-diffusion-stability-ai\ngit -c ./repositories/stable-diffusion-stability-ai checkout cf1d67a6fd5ea1aa600c4df58e5b47da45f6bdbf\n\n\n1\n2\n\n\ntaming-transformers\n\ngit clone https://github.com/compvis/taming-transformers.git ./repositories/taming-transformers\ngit -c ./repositories/taming-transformers checkout 24268930bf1dce879235a7fddd0b2355b84d7ea6\n\n\n1\n2\n\n\nk-diffusion\n\ngit clone https://github.com/crowsonkb/k-diffusion.git ./repositories/k-diffusion\ngit -c ./repositories/k-diffusion checkout c9fe758757e022f05ca5a53fa8fac28889e4f1cf\n\n\n1\n2\n\n\ncodeformer\n\ngit clone https://github.com/sczhou/codeformer.git ./repositories/codeformer\ngit -c ./repositories/codeformer checkout c5b4593074ba6214284d6acd5f1719b6c5d739af\n\n\n1\n2\n\n\nblip\n\ngit clone https://github.com/salesforce/blip.git ./repositories/blip\ngit -c ./repositories/blip checkout 48211a1594f1321b00f14c9f7a5b4813144b2fb9\n\n\n1\n2\n\n\ngenerative-models\n\ngit clone https://github.com/stability-ai/generative-models.git\n\n\n\n1\n2\n\n\n# 安装依赖\n\n * 安装pytorch 参考\n\n# 使用阿里云源安装tb-nightly，清华源没有这个\npython -m pip install tb-nightly sgm -i https://mirrors.aliyun.com/pypi/simple/\n\n# 使用清华源安装其他必备包,必须安装否则下面会失败。\npython -m pip install scipy opencv-python tqdm pyyaml xformers\n\n# 安装项目必备包\npython -m pip install -r requirements.txt \n\n# 其他依赖\npip install ftfy regex tqdm -i https://pypi.tuna.tsinghua.edu.cn/simple\npip install git+https://github.com/openai/clip.git\npip install open_clip_torch xformers -i https://pypi.tuna.tsinghua.edu.cn/simple\npip install -r repositories/codeformer/requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 下载基础模型\n\ncd stable-diffusion-webui/models/stable-diffusion/\n\n使用aria2c下载v2.1下载基础模型（stable diffusion v2.1，safetensors 格式，5.21 gb），放在 ./models/stable-diffusion/ 下。当然也可以下载 v1.5 或其他基础模型，其他模型请在c站或国内的l站下载。\n\n\n# 启动项目\n\npython webui.py  --disable-nan-check --precision full --no-half --listen\n\n\n1\n\n\n此时可能报错:无法加载clip-vit-large-patch14 ,这是因为国内没法从huggingface下载，和上面环境配置中一样，需要手动下载下来 clip-vit-large-patch14下载地址，在项目目录下新建openai ，将clip-vit-large-patch14 放到此目录下。如果启动还是报错，可以尝试指定代码读取的绝对路径 参考cliptokenizer.from_pretrained本地加载 stablediffusion本地加载\n\n\n# 插件\n\n所有插件有两种方式安装：\n\n 1. 进入插件目录，通过git clone下载，以下插件都是这种方式\n\n 2. webui安装,如图，需要科学上网。\n    \n    \n\n# 中文插件\n\n * 下载插件\n\ncd stable-diffusion-webui/extensions\n\n# 不按照可能会有报错\ngit clone  https://github.com/dominikdoom/a1111-sd-webui-tagcomplete.git\ngit clone https://github.com/extraltodeus/multi-subject-render.git\n\n# 中文插件\ngit clone https://github.com/hanamizuki-ai/stable-diffusion-webui-localization-zh_hans\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n * 重启sd\n\n * 选择settings→user interface，下拉找到localization栏，选择zh_cn（推荐安装zh_hans localization）\n\n * 提示词翻译插件，可输入中文，自动翻译为英文。(提示词最好是英文)\n   \n   cd stable-diffusion-webui/extensions\n   git clone https://github.com/studyzy/sd-prompt-translator\n   # 重新启动sd后，默认需要下载2g左右的翻译模型，需要科学上网。模型存放位置是插件目录下的script，也可以自己在下载https://huggingface.co/helsinki-nlp/opus-mt-zh-en,放到sd-prompt-translator/scripts/models/models--helsinki-nlp--opus-mt-zh-en下\n   \n   \n   1\n   2\n   3\n   \n\n# controlnet\n\ncontrolnet 允许用户对生成的图像进行精细的控制，以获得更好的视觉效果，controlnet 让 ai 绘画的可控性有了质的突变，让 agic 真正的可以投入生产使用。\n\n打开 stable-diffusion-webui，点击【extensions】- 【install from url】输入https://ghproxy.com/https://github.com/mikubill/sd-webui-controlnet.git 或进入插件目录git clone\n\n下载模型实现，点击下载 放到stable-diffusion-webui/extensions/sd-webui-controlnet/models 目录\n\n重启 stable-diffusion-webui\n\n\n# 问题解决\n\n 1. basicsr安装失败，依赖tb-nightly，但清华源没有这个包，所以有了下面的报错。sgm也需要用阿里源\n\nerror: cannot install -r requirements.txt (line 5) because these package versions have conflicting dependencies.\n\nthe conflict is caused by:\n    basicsr 1.4.2 depends on tb-nightly\n    basicsr 1.4.1 depends on tb-nightly\n    basicsr 1.4.0 depends on tb-nightly\n    basicsr 1.3.5 depends on tb-nightly\n    basicsr 1.3.4.9 depends on tb-nightly\n    basicsr 1.3.4.8 depends on tb-nightly\n    basicsr 1.3.4.7 depends on tb-nightly\n    basicsr 1.3.4.6 depends on tb-nightly\n    basicsr 1.3.4.4 depends on tb-nightly\n    basicsr 1.3.4.3 depends on tb-nightly\n    basicsr 1.3.4.2 depends on tb-nightly\n    basicsr 1.3.4.1 depends on tb-nightly\n    basicsr 1.3.4.0 depends on tb-nightly\n    basicsr 1.3.3.11 depends on tb-nightly\n    basicsr 1.3.3.10 depends on tb-nightly\n    basicsr 1.3.3.9 depends on tb-nightly\n    basicsr 1.3.3.8 depends on tb-nightly\n    basicsr 1.3.3.7 depends on tb-nightly\n    basicsr 1.3.3.6 depends on tb-nightly\n    basicsr 1.3.3.5 depends on tb-nightly\n    basicsr 1.3.3.4 depends on tb-nightly\n    basicsr 1.3.3.3 depends on tb-nightly\n    basicsr 1.3.3.1 depends on tb-nightly\n    basicsr 1.3.3 depends on tb-nightly\n    basicsr 1.3.2 depends on tb-nightly\n    basicsr 1.3.1 depends on tb-nightly\n\nto fix this you could try to:\n1. loosen the range of package versions you\'ve specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n 2. a tensor with all nans was produced in unet\n\n      file "/data/rd/aigc/stable-diffusion/stable-diffusion-webui/modules/devices.py", line 136, in test_for_nans\n        raise nansexception(message)\n    modules.devices.nansexception: a tensor with all nans was produced in unet. this could be either because there\'s not enough precision to represent the picture, or because your video card does not support half type. try setting the "upcast cross attention layer to float32" option in settings > stable diffusion or using the --no-half commandline argument to fix this. use --disable-nan-check commandline argument to disable this check.\n\n\n1\n2\n3\n\n\n启动是添加参数 --disable-auto-autolaunch --listen --precision full --no-half --disable-nan-check 参考issue issue2\n\n\n# 参考\n\n * [1] stable diffusionwebui部署(linux)\n * [2] linux上如何使用stable diffusion webui\n * [3] stable diffusion使用及插件\n * [4] 中文插件配置\n * [5] 中文prompt翻译\n * [6] 图像精调-controlnet插件使用\n * [7] stable diffusion 原理\n * [8] 如何写出好的提示词(stable diffusion)',charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"etcd-v3改进",frontmatter:{title:"etcd-v3改进",date:"2023-07-04T00:00:00.000Z",categories:["中间件"],tags:null,feed:{enable:!0},permalink:"/article/middleware/etcd-v3.html",description:"",meta:[{name:"twitter:title",content:"etcd-v3改进"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/middleware/etcd.html"},{property:"og:type",content:"article"},{property:"og:title",content:"etcd-v3改进"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/middleware/etcd.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-07-04T00:00:00.000Z"},{itemprop:"name",content:"etcd-v3改进"},{itemprop:"description",content:""}]},regularPath:"/article/middleware/etcd.html",relativePath:"article/middleware/etcd.md",key:"v-7f9a1228",path:"/article/middleware/etcd-v3.html",headers:[{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1206}],headersStr:"参考",content:"# v2和v3对比\n\netcdv3在v2基础上进行了改进和优化：\n\n * 使用 gRPC+protobuf 取代 HTTP+JSON 通信，提高通信效率；另外通过gRPC gateway 来继续保持对 HTTPJSON 接口的支持。\n\n * 使用更轻 级的基于租约(lease)的 key 自动过期机制，取代了基于TTL key 的自动过期机制\n\n * 观察者(watcher)机制也进行了重新设计。etcd v2 的观察者机制是基于HTTP 长连接的事件驱动机制；而 etcd v3 的观察者机制是基于HTTP/2的server push ，并且对事件进行了多路复用（ multiplexing ）优化。\n\n * etcd v3 的数据模型也发生了较大的改变， v2 是一个简单的 key\n   \n   value 的内存数据库，而 v3 则是支持事务和多版本并发控制的磁盘数据库。\n\n# 租约机制\n\netcd v2 key 的自动过期机制是基于 TTL 的：客户端可以为一个 key设置自动过期时间， 一旦 TTL 到了，服务端就会自动删除该 key。 如果客户端不想服务器端删除某个 key ，就需要定期去更新这个 key TTL 。\n\n> 也就是说，即使整个集群都处于 闲状态，也会有很多客户端需要与服务器端进行定期通信以保证某个 key 不被自动删除。而且 TTL 是设置在 key 上的，那么对于客户想保留的 key ，客户端需要对每个 key 都进行定期更新，即使这些 key过期时间是一样的。\n\netcd v3 使用租约(lease)机制，替代了 TTL 的自动过期机制 用户可以创建 个租约，然后将这个租约与 key 关联起来 一旦一个租约过期， etcd v3 服务器端就会删除与这个租约关联的所有的 key。\n\n> 如果多个 key的过期时间是一样的，那么这些 key 就可以共享一个租约。这就大大减小了客户端请求的数量， 对于过期时间相同 ，共享了一个租约的所有 key ，客户端只 需要更新这个租约的过期时间即可 而不是像 etcd v2 样更新所有 key 的过期时间\n\n# 观察者模式\n\n观察者机制使得客户端可以监控一个 key 的变化，当 key 发生变化时，服务器端将通知客户端，而不是让客户端定期向服务器端发送请求去轮询 key的变化。 etcd v2 的服务端对每个客户端的每个 watch 请求都维持着一 HTTP 长连接 如果数千个客户端 watch 了数千个 key ，那么 etcd v2 服务器端的 socket 和内存等资源很快就会被耗尽。\n\netcd v3 的改进方法是对来自于同一个客户端的 watch 请求进行了多路复用(multiplexing) 这样的话，同一个客户端只需要与服务器端维护一个 TCP 连接即可，这就大大减轻了服务器端的压力。\n\n\n# 参考\n\n * [1] etcd之v3API简单分析",normalizedContent:"# v2和v3对比\n\netcdv3在v2基础上进行了改进和优化：\n\n * 使用 grpc+protobuf 取代 http+json 通信，提高通信效率；另外通过grpc gateway 来继续保持对 httpjson 接口的支持。\n\n * 使用更轻 级的基于租约(lease)的 key 自动过期机制，取代了基于ttl key 的自动过期机制\n\n * 观察者(watcher)机制也进行了重新设计。etcd v2 的观察者机制是基于http 长连接的事件驱动机制；而 etcd v3 的观察者机制是基于http/2的server push ，并且对事件进行了多路复用（ multiplexing ）优化。\n\n * etcd v3 的数据模型也发生了较大的改变， v2 是一个简单的 key\n   \n   value 的内存数据库，而 v3 则是支持事务和多版本并发控制的磁盘数据库。\n\n# 租约机制\n\netcd v2 key 的自动过期机制是基于 ttl 的：客户端可以为一个 key设置自动过期时间， 一旦 ttl 到了，服务端就会自动删除该 key。 如果客户端不想服务器端删除某个 key ，就需要定期去更新这个 key ttl 。\n\n> 也就是说，即使整个集群都处于 闲状态，也会有很多客户端需要与服务器端进行定期通信以保证某个 key 不被自动删除。而且 ttl 是设置在 key 上的，那么对于客户想保留的 key ，客户端需要对每个 key 都进行定期更新，即使这些 key过期时间是一样的。\n\netcd v3 使用租约(lease)机制，替代了 ttl 的自动过期机制 用户可以创建 个租约，然后将这个租约与 key 关联起来 一旦一个租约过期， etcd v3 服务器端就会删除与这个租约关联的所有的 key。\n\n> 如果多个 key的过期时间是一样的，那么这些 key 就可以共享一个租约。这就大大减小了客户端请求的数量， 对于过期时间相同 ，共享了一个租约的所有 key ，客户端只 需要更新这个租约的过期时间即可 而不是像 etcd v2 样更新所有 key 的过期时间\n\n# 观察者模式\n\n观察者机制使得客户端可以监控一个 key 的变化，当 key 发生变化时，服务器端将通知客户端，而不是让客户端定期向服务器端发送请求去轮询 key的变化。 etcd v2 的服务端对每个客户端的每个 watch 请求都维持着一 http 长连接 如果数千个客户端 watch 了数千个 key ，那么 etcd v2 服务器端的 socket 和内存等资源很快就会被耗尽。\n\netcd v3 的改进方法是对来自于同一个客户端的 watch 请求进行了多路复用(multiplexing) 这样的话，同一个客户端只需要与服务器端维护一个 tcp 连接即可，这就大大减轻了服务器端的压力。\n\n\n# 参考\n\n * [1] etcd之v3api简单分析",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"玩转AIGC原理+实战🔥",frontmatter:{title:"玩转AIGC原理+实战🔥",date:"2023-08-27T00:00:00.000Z",categories:["大模型"],tags:null,sticky:2,meta:[{name:"description",content:"AIGC介绍，大模型介绍，微调，训练"},{name:"keywords",content:"llm aigc Training Fine tuning"},{name:"image",content:"https://www.yangxiaokang.com/玩转AIGC-实战.assets/image-20230907113622466.png"},{name:"twitter:title",content:"玩转AIGC原理+实战🔥"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/玩转AIGC-实战.assets/image-20230907113622466.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/llm/%E7%8E%A9%E8%BD%ACAIGC-%E5%8E%9F%E7%90%86+%E5%AE%9E%E6%88%98.html"},{property:"og:type",content:"article"},{property:"og:title",content:"玩转AIGC原理+实战🔥"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/玩转AIGC-实战.assets/image-20230907113622466.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/llm/%E7%8E%A9%E8%BD%ACAIGC-%E5%8E%9F%E7%90%86+%E5%AE%9E%E6%88%98.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-08-27T00:00:00.000Z"},{itemprop:"name",content:"玩转AIGC原理+实战🔥"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/玩转AIGC-实战.assets/image-20230907113622466.png"}],feed:{enable:!0},permalink:"/article/llm/aigc.html",description:""},regularPath:"/article/llm/%E7%8E%A9%E8%BD%ACAIGC-%E5%8E%9F%E7%90%86+%E5%AE%9E%E6%88%98.html",relativePath:"article/llm/玩转AIGC-原理+实战.md",key:"v-11f514a5",path:"/article/llm/aigc.html",headers:[{level:2,title:"大模型",slug:"大模型",normalizedTitle:"大模型",charIndex:236},{level:3,title:"大模型是什么",slug:"大模型是什么",normalizedTitle:"大模型是什么",charIndex:244},{level:3,title:"大模型的过人之处",slug:"大模型的过人之处",normalizedTitle:"大模型的过人之处",charIndex:1494},{level:3,title:"大模型的缺陷",slug:"大模型的缺陷",normalizedTitle:"大模型的缺陷",charIndex:2695},{level:3,title:"LLM",slug:"llm",normalizedTitle:"llm",charIndex:1518},{level:3,title:"预训练",slug:"预训练",normalizedTitle:"预训练",charIndex:314},{level:3,title:"微调",slug:"微调",normalizedTitle:"微调",charIndex:4272},{level:3,title:"Prompt",slug:"prompt",normalizedTitle:"prompt",charIndex:6288},{level:3,title:"应用",slug:"应用",normalizedTitle:"应用",charIndex:165},{level:2,title:"本地知识库",slug:"本地知识库",normalizedTitle:"本地知识库",charIndex:18911},{level:3,title:"原理",slug:"原理",normalizedTitle:"原理",charIndex:11290},{level:3,title:"实战",slug:"实战",normalizedTitle:"实战",charIndex:21539},{level:3,title:"应用",slug:"应用-2",normalizedTitle:"应用",charIndex:165},{level:2,title:"AI绘画",slug:"ai绘画",normalizedTitle:"ai绘画",charIndex:21662},{level:3,title:"AI绘画简介",slug:"ai绘画简介",normalizedTitle:"ai绘画简介",charIndex:21671},{level:3,title:"Stable Diffusion",slug:"stable-diffusion",normalizedTitle:"stable diffusion",charIndex:21852},{level:3,title:"实战",slug:"实战-2",normalizedTitle:"实战",charIndex:21539},{level:3,title:"AI绘画网站",slug:"ai绘画网站",normalizedTitle:"ai绘画网站",charIndex:26493},{level:3,title:"应用",slug:"应用-3",normalizedTitle:"应用",charIndex:165},{level:2,title:"AI音频生成",slug:"ai音频生成",normalizedTitle:"ai音频生成",charIndex:26627},{level:3,title:"VITS",slug:"vits",normalizedTitle:"vits",charIndex:26652},{level:3,title:"实战",slug:"实战-3",normalizedTitle:"实战",charIndex:21539},{level:3,title:"应用",slug:"应用-4",normalizedTitle:"应用",charIndex:165},{level:2,title:"专业术语解释",slug:"专业术语解释",normalizedTitle:"专业术语解释",charIndex:27270},{level:3,title:"训练微调",slug:"训练微调",normalizedTitle:"训练微调",charIndex:27281},{level:3,title:"模型相关",slug:"模型相关",normalizedTitle:"模型相关",charIndex:28588},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:9234}],headersStr:"大模型 大模型是什么 大模型的过人之处 大模型的缺陷 LLM 预训练 微调 Prompt 应用 本地知识库 原理 实战 应用 AI绘画 AI绘画简介 Stable Diffusion 实战 AI绘画网站 应用 AI音频生成 VITS 实战 应用 专业术语解释 训练微调 模型相关 参考",content:'> AIGC（Artificial Intelligence Generated Content）是人工智能生成内容的意思。它是一种利用人工智能技术创造生成内容的技术，其中包括文本、图像、音频、视频等多种形式。AIGC技术融合了深度学习、自然语言处理、计算机视觉等多个领域的发展，能够模拟人类创作过程并自动生成新的内容。AIGC的应用范围广泛，包括但不限于新闻媒体、教育、游戏、艺术、娱乐等多个领域。随着人工智能技术的不断发展，AIGC将会在更多的领域得到应用。\n\n\n# 大模型\n\n\n# 大模型是什么\n\n以众所周知的chatGPT为例，GPT的全称，是Generative Pre-Trained Transformer（生成式预训练转换器）是一种基于互联网的、可用数据来训练的、文本生成的深度学习模型。\n\nGPT是AIGC的一个种类。\n\n在ChatGPT之前，被公众关注的AI模型是用于单一任务的，比如全球所知的“阿尔法狗”（AlphaGo）可以基于全球围棋棋谱的计算，打赢所有的人类围棋大师。谷歌进一步开发的“AlphaZero”在围棋、国际象棋和日本象棋等项目上，都是所向无敌。\n\n这种专注于某个具体任务建立的AI数据模型，叫“小模型”。\n\nChatGPT与这种“小模型”不同，GPT大模型更像人类的大脑。它兼具“大规模”和“预训练”两种属性，可以在海量通用数据上进行预先训练，能大幅提升AI的泛化性、通用性、实用性。\n\n大模型是指具有大量参数和计算资源的机器学习模型。这些模型通常在训练过程中需要大量的数据和计算能力，并且具有数百万到数十亿个参数(通常在十亿个以上)。大模型的设计目的是为了提高模型的表示能力和性能，在处理复杂任务时能够更好地捕捉数据中的模式和规律。\n\n大模型的优势在于能够学习更多的特征和模式，从而提高对输入数据的理解和处理能力。它们可以更准确地进行预测和分类，产生更自然的语言生成结果，或者在复杂的决策问题上做出更明智的选择。然而，大模型也存在一些挑战，包括训练时间长、计算资源要求高以及部署和维护的复杂性等。\n\n大模型应用的领域：\n\n 1. 自然语言处理（NaturalLanguage Processing，NLP）：大模型在NLP领域中具有显著的影响力。例如，GPT-3模型能够生成自然语言文本、进行对话和回答问题，BERT模型在语义理解和文本分类任务上表现出色。\n\n 2. 计算机视觉（ComputerVision）：大模型在图像识别、目标检测、图像分割等计算机视觉任务中有重要应用。例如，深度卷积神经网络（CNN）的大型变体在图像分类竞赛中取得了卓越成绩。\n\n 3. 语音识别（SpeechRecognition）：大模型在语音识别领域有广泛应用，帮助改善语音转文字的准确性和自然度。例如，基于循环神经网络（RNN）的大模型在语音识别系统中起着重要作用。\n\n 4. 推荐系统（RecommendationSystems）：大模型在个性化推荐系统中扮演着重要角色。它们可以根据用户的历史行为和兴趣，提供个性化的推荐结果，帮助用户发现感兴趣的内容。\n\n 5. 强化学习（ReinforcementLearning）：大模型在强化学习领域也得到广泛应用。例如，AlphaGo和AlphaZero就是基于大模型和深度强化学习技术开发的，取得了在围棋和其他棋类游戏中超越人类水平的成果。\n\n除了以上领域，大模型还在金融预测、医学影像分析、自动驾驶、机器人控制等多个领域有所应用。大模型的强大表示能力使其能够处理复杂的数据和任务，并取得令人瞩目的性能。\n\n\n# 大模型的过人之处\n\n# 涌现\n\n在大型语言模型（LLM）中，涌现能力（Emergent Abilities）是指模型具有从原始训练数据中自动学习并发现新的、更高层次的特征和模式的能力。就中文释义而言，涌现能力也指大语言模型涌现出来的新能力。这有点类似于去超市遇到买二赠一，赠品的质量居然还出乎意料。\n\n在语言模型发展的早期，通过在更多数据上训练更大的模型，可获得近似连续的精确度提升。（可称为缩放定律/Scaling Laws）到了2015年左右，随着深度学习技术的发展和语料库的增大，模型达到一定的临界规模后，NLP开发者们发现，大语言模型（包括GPT-3、GLaM、LaMDA和Megatron-Turing NLG等）开始表现出一些开发者最开始未能预测的、更复杂的能力和特性，这些新能力和新特性被认为是涌现能力的体现。\n\n涌现能力的另一个重要表现是模型的泛化能力。在没有专门训练过的情况，GPT-4也可以泛化到新的、未知的多模态数据样本上。这种泛化能力取决于模型的结构和训练过程，以及数据的数量和多样性。如果模型具有足够的复杂性和泛化能力，就可以从原始数据中发现新的、未知的特征和模式。\n\n当然，G大模型涌现出的新能力可能仍有局限性，例如：模型可能产生错误的回答，对某些问题缺乏理解，容易受到输入干扰等。目前认为GPT-4的幻觉与其涌现能力具有相关性。\n\nchatgpt，1750亿参数。\n\nchatglm，1300亿参数。\n\n\n\n# Few shot\n\nFew shot的能力：提到我们可以给模型一些示例，从而让模型返回更符合我们需求的答案。\n\n 1. 少量示例：大模型能够仅通过几个示例样本来进行学习和理解。相比传统的机器学习方法，大模型不需要依赖大量的标注数据来训练，从而降低了数据收集和标注的成本和时间。\n 2. 泛化能力：大模型能够从少量示例中抽取共同的特征和模式，然后应用这些知识到新的类似任务中。它能够利用其在大规模数据集上训练的经验和语言理解能力，对新的问题进行推理和分类。\n\n\n\n# 思维链\n\n思维链（Chain of Thought）可视为大语言模型涌现出来的核心能力之一。\n\n思维链形成机制可以解释为模型通过学习大量的语言数据来构建一个关于语言结构和意义的内在表示，通过一系列中间自然语言推理步骤来完成最终输出。思维链是ChatGPT和GPT-4能让大众感觉到语言模型“像人”的关键特性。 对创企来说，完成思维链的训练，才算真正拿到了这波大模型AI竞技的入场券。\n\n一般认为模型的思维推理能力与模型参数大小有正相关趋势，一般是突破一个临界规模（大概62B，B代表10亿），模型才能通过思维链提示的训练获得相应的能力。\n\n通过向大语言模型展示一些少量的样例，并在样例中解释推理过程，大语言模型在回答提示时也会显示推理过程。这种推理的解释往往会引导出更准确的结果。\n\n\n\n\n# 大模型的缺陷\n\n致命的缺陷，那就是大模型的生成”幻觉“(Hallucination)问题，也就是经常遇到的“一本正经的胡说八道”。生成幻觉通常是指模型按照流畅正确的语法规则产生的包含虚假信息甚至毫无意义的文本。这对于大模型的实际部署是一个非常具有挑战性的问题。\n\n\n# LLM\n\nLarge Language Model（大型语言模型）：LLM可以指代大型的自然语言处理（NLP）模型，如GPT-3（Generative Pre-trained Transformer 3）等。这些模型使用深度学习技术，具有大量的参数和复杂的结构，能够生成高质量的自然语言文本。\n\n大语言模型是基于概率的生成模型的一种。它可以根据给定的输入上下文生成可能的输出文本。这种模型的训练过程是基于概率模型的最大似然估计，通过学习大量的文本数据来捕捉语言的统计规律。\n\n> "基于概率模型的最大似然估计"是一种统计学方法，用于估计概率模型中的参数。在这种方法中，我们假设观测数据是由一个特定的概率模型生成的，并且我们的目标是找到使得观测数据出现的概率最大的参数值。\n> \n> 最大似然估计的基本思想是，通过最大化观测数据的似然函数来确定参数的值。似然函数是一个关于参数的函数，表示给定参数值时观测数据出现的概率。最大似然估计的目标是找到使得似然函数取得最大值的参数值。\n> \n> 最大似然估计在统计学中被广泛应用，可以用于估计各种概率模型的参数，如高斯分布、伯努利分布、多项式分布等。它是一种常用的参数估计方法，具有良好的性质和统计学意义。\n> \n> 概率模型可以理解为，它只是读过了很多文字，然后在你问出问题后，试图根据问题来检索它所读过的那些文字，然后拼凑出句子。\n> \n> 如果你问它一些它没有读过的文字，它同样会给出它认为概率最高的答案，但那个答案可能会是错误的\n\n# 发展史\n\n大预言模型经历了5个阶段，分别是：基于n-gram的语言模型、基于神经网络的语言模型、递归神经网络语言模型、长短时记忆网络语言模型、门控循环单元语言模型、大规模预训练语言模型。\n\n1.基于n-gram的语言模型\n\n在计算机科学早期，基于n-gram的语言模型是一种常见的统计语言模型。它通过统计一个词或者一组词在语言中出现的频率，来计算一个句子的概率。这种方法虽然简单，但是在语言模型的设计中起到了重要作用。\n\n2.基于神经网络的语言模型\n\n随着深度学习技术的发展，基于神经网络的语言模型开始受到广泛关注。这种方法使用一个深度神经网络来学习语言的规律和模式。在这个神经网络中，每个词被表示为一个向量，然后将它们送入神经网络进行训练。这种方法可以避免使用n-gram方法中需要存储的大量数据，从而大大提高了语言模型的性能和效率。\n\n3.递归神经网络语言模型\n\n递归神经网络（RNN）是一种特殊的神经网络，可以处理序列数据。RNN语言模型使用RNN来对句子中的词进行建模，从而可以考虑上下文信息，进一步提高模型的性能。然而，RNN语言模型存在着梯度消失和梯度爆炸等问题，限制了其在长序列数据处理中的表现。\n\n4.长短时记忆网络语言模型\n\n为了解决RNN语言模型中的梯度消失和梯度爆炸等问题，长短时记忆网络（LSTM）被引入到语言模型中。LSTM可以更好地捕捉长序列中的依赖关系，从而提高了模型的性能和泛化能力。\n\n5.门控循环单元语言模型\n\n门控循环单元（GRU）是LSTM的一个变种，它可以在更简单的结构下实现类似的处理效果。与LSTM相比，GRU模型的参数更少，训练速度更快，因此在一些应用场景中表现更优。\n\n6.大规模预训练语言模型\n\n近年来，大规模预训练语言模型已经成为了大语言模型的主流发展方向。这种方法通过在大规模文本数据上进行自监督学习，构建一个预训练的语言模型，并在此基础上进行微调，来完成各种自然语言处理任务。例如，BERT、GPT和XLNet等模型已经在各种自然语言处理任务中取得了很好的表现。\n\n# 网络架构及技术\n\n我们可以将LLM分成2类：Encoder-Decoder（或者Encoder-Only）和Decoder-Only。它们的技术特点和模型代表如下：\n\n模型架构                                     训练方式         模型类型                  预训练任务        代表性模型\nEncoder-Decoder或者 Encoder-Only（BERT样式）   Masked语言模型   判别式（Discriminative）   预测masked单词   ELMo, BERT, RoBERTa, DistilBERT, BioBERT, XLM, Xlnet,\n                                                                                         ALBERT, ELECTRA, T5, XLM-E, ST-MoE, AlexaTM\nDecoder-Only （GPT样式）                     自回归语言模型      生成式（Generative）       预测下一个单词      GPT-3, OPT,PaLM, BLOOM, GLM, MT-NLG, GLaM,Gopher,\n                                                                                         chinchilla, LaMDA, GPT-J, LLaMA, GPT-4, BloombergGPT\n\n自回归语言模型在最近发布的模型中都是十分流行的。通过下图对这几类模型做了很好的总结：\n\n\n\n首先红色的分支是指Encoder-Only技术，最早是BERT模型，到了2020年之后，这类技术基本已经不再发展。中间绿色部分是Encoder-Decoder类型，近几年似乎也就是Google坚持这类路线的模型较多。\n\n绿色的Encoder-Decoder模型相比Encoder-Only模型，通常具有更强的序列学习和生成能力，尤其擅长实现输入序列到输出序列的结构映射，所以在机器翻译、文摘生成和聊天机器人等任务上有更好的应用前景。但Encoder-Only的模型结构简单, training 和inference 速度更快，在一些简单分类或标注任务上也具有优势。\n\n最后一类蓝色的是Decoder-Only类型，也是最繁荣发展的一类transformer模型。最早是GPT-1提出，此后包括MetaAI、百度、Google、OpenAI、EleutherAI等公司都提出了这种架构的模型。\n\nDecoder-only模型仅具有解码器部分，没有编码器部分。Decoder-only模型相比Encoder-Decoder模型有以下主要优势:\n\n 1. 结构简单，训练和推理速度快。由于没有Encoder部分,整个模型的参数和运算量都减少了一半以上，这使得Decoder-only模型训练和部署起来更加高效。\n 2. 适用于纯生成任务。Decoder-only模型专注于生成输出序列，而不需要考虑编码输入信息的问题，所以更适用于如文本生成、情节生成和对话生成等纯生成任务。\n 3. 避免了Encoder-Decoder训练中的一些难点。仅训练一个Decoder可以避免诸如不同权重初始化、信息瓶颈等 Encoder-Decoder训练过程中的一些难题。\n 4. Decoder自我监督。在Decoder-only模型的训练中，上一步生成的输出作为下一步的输入，这实现了Decoder部分的自我监督，有利于生成更为连贯和结构性的输出序列。\n\n# 基座模型\n\n基础语言模型(Basic Language Model)是指只在大规模文本语料中进行了预训练的模型，未经过指令和下游任务微调、以及人类反馈等任何对齐优化。\n\n通俗的讲，一个人掌握了知识，但并不一定会考试，比如\n\n\n\n# T5\n\nT5 是谷歌提出了一个统一预训练模型和框架，模型采用了谷歌最原始的 Encoder-Decoder Transformer结构。T5将每个文本处理问题都看成“Text-to-Text”问题，即将文本作为输入，生成新的文本作为输出。通过这种方式可以将不同的 NLP 任务统一在一个模型框架之下，充分进行迁移学习。为了告知模型需要执行的任务类型，在输入的文本前添加任务特定的文本前缀 (task-specific prefifix ) 进行提示，这也就是最早的 Prompt。也就说可以用同样的模型，同样的损失函数，同样的训练过程，同样的解码过程来完成所有 NLP 任务。\n\nT5 本身主要是针对英文训练，谷歌还发布了支持 101 种语言的 T5 的多语言版本 mT5[2]。\n\n# GTP-3\n\n大语言模型中最具代表和引领性的就是发布 ChatGPT 的 OpenAI 的 GPT 系列模型 （GPT-1、GPT-2、GPT-3、GPT-3.5、GPT-4），并且当前大部分大语言模型的结构都是 GPT-style ，文章生成式预训练模型中介绍了GPT-1/2/3， 且从 GPT-3 开始才是真正意义的大模型。\n\nGPT-3 是 OpenAI 发布的 GPT 系列模型的一个，延续了 GPT-1/2 基于Transformer Decoder 的自回归语言模型结构，但 GPT-3 将模型参数规模扩大至 175B， 是 GPT-2 的 100 倍，从大规模数据中吸纳更多的知识。GPT-3不在追求 zero-shot 的设定，而是提出 In-Context Learning ，在下游任务中模型不需要任何额外的微调，利用 Prompts 给定少量标注的样本让模型学习再进行推理生成。就能够在只有少量目标任务标注样本的情况下进行很好的泛化，再次证明大力出击奇迹，做大模型的必要性。通过大量的实验证明，在 zero-shot、one-shot 和 few-shot 设置下，GPT-3 在许多 NLP 任务和基准测试中表现出强大的性能，只有少量目标任务标注样本的情况下进行很好的泛化，再次证明大力出击奇迹，做大模型的必要性。\n\n# LLaMA\n\nLLaMA 是 Meta AI 发布的包含 7B、13B、33B 和 65B 四种参数规模的基础语言模型集合，LLaMA-13B 仅以 1/10 规模的参数在多数的 benchmarks 上性能优于 GPT-3(175B)，LLaMA-65B 与业内最好的模型 Chinchilla-70B 和 PaLM-540B 比较也具有竞争力。\n\n这项工作重点关注使用比通常更多的 tokens 训练一系列语言模型，在不同的推理预算下实现最佳的性能，也就是说在相对较小的模型上使用大规模数据集训练并达到较好性能。Chinchilla 论文中推荐在 200B 的 tokens 上训练 10B 规模的模型，而 LLaMA 使用了 1.4T tokens 训练 7B的模型，增大 tokens 规模，模型的性能仍在持续上升。\n\n# GLM-130B\n\nGLM-130B 是清华大学与智谱AI共同研制的一个开放的双语（英汉）双向密集预训练语言模型，拥有 1300亿个参数，使用通用语言模型（General Language Model， GLM）的算法进行预训练。 2022年11月，斯坦福大学大模型中心对全球30个主流大模型进行了全方位的评测，GLM-130B 是亚洲唯一入选的大模型。GLM-130B 在广泛流行的英文基准测试中性能明显优于 GPT-3 175B(davinci)，而对 OPT-175B 和 BLOOM-176B 没有观察到性能优势，它还在相关基准测试中性能始终显著优于最大的中文语言模型 ERNIE 3.0 Titan 260B。GLM-130B 无需后期训练即可达到 INT4 量化，且几乎没有性能损失；更重要的是，它能够在 4×RTX 3090 (24G) 或 8×RTX 2080 Ti (11G) GPU 上有效推理，是使用 100B 级模型最实惠的 GPU 需求。\n\n> INT4量化是指将机器学习模型中的浮点数运算替换为整数运算，以减少模型推理的能耗和延迟。这种量化方法主要应用于神经网络推理，尤其是深度学习模型的部署。INT4量化算法通过对模型参数进行缩放和偏移，将浮点数转换为等效的整数，从而在保证模型精度的前提下，降低计算复杂度和存储需求。这种量化方法已被广泛用于各种硬件平台和实际应用中，以实现更高效和节能的AI推理。\n\n# 指令模型\n\n指令模型(Instruction-Finetuned Language Model)，这里的 Instruction[19] （指令）是指通过自然语言形式对任务进行描述。如下图所示，对于翻译任务，在对需要翻译的句子 "I Love You." 前加入任务指令 "Translate the given English utterance to French script." 告诉模型要执行的任务和要求。这种方式符合模型生成的工作模型，最重要的是对于未知任务具有较好的 zero-shot 性能表现。通过将各种不同的任务转化为指令数据形式，对语言模型进行进一步微调。\n\n通俗的讲，就是刷题。\n\n\n\n# ChatGPT\n\nChatGPT 是在 GPT-3.5 基础上进行微调得到的，微调时使用了从人类反馈中进行强化学习的方法（Reinforcement Learning from Human Feedback，RLHF），这里的人类反馈其实就是人工标注数据，来不断微调 LLM，主要目的是让LLM学会理解人类的命令指令的含义（比如文生成类问题、知识回答类问题、头脑风暴类问题等不同类型的命令），以及让LLM学会判断对于给定的prompt输入指令（用户的问题），什么样的答案输出是优质的（富含信息、内容丰富、对用户有帮助、无害、不包含歧视信息等多种标准）。\n\n其实从 GPT-1到 GPT-3.5 可以发现更大的语言模型虽然有了更强的语言理解和生成的能力，但并不能从本质上使它们更好地遵循或理解用户的指令意图。例如，大型语言模型可能会生成不真实、有害或对用户没有帮助的输出，原因在于这些语言模型预测下一个单词的训练目标与用户目标意图是不一致的。为了对齐语言模型于人类意图，ChatGPT展示了一种途径，可以引入人工标注和反馈，通过强化学习算法对大规模语言模型进行微调，在各种任务上使语言模型与用户的意图保持一致，输出人类想要的内容。\n\n# Alpaca\n\nAlpaca（羊驼）模型是斯坦福大学基于 Meta 开源的 LLaMA-7B 模型微调得到的指令遵循（instruction-following）的语言模型。在有学术预算限制情况下，训练高质量的指令遵循模型主要面临强大的预训练语言模型和高质量的指令遵循数据两个挑战，作者利用 OpenAI 的 text-davinci-003 模型以 self-instruct 方式生成 52K 的指令遵循样本数据，利用这些数据训练以有监督的方式训练 LLaMA-7B 得到 Alpaca 模型。在测试中，Alpaca 的很多行为表现都与 text-davinci-003 类似，且只有 7B 参数的轻量级模型 Alpaca 性能可与 GPT-3.5 这样的超大规模语言模型性能媲美。\n\n# ChatGLM\n\nChatGLM 是清华大学知识工程（KEG）实验室与其技术成果转化的公司智谱AI基于此前开源的 GLM-130B 千亿基座模型研制，是一个初具问答和对话功能的千亿中英语言模型。ChatGLM 参考了 ChatGPT 的设计思路，在千亿基座模型 GLM-130B 中注入了代码预训练，通过有监督微调（Supervised Fine-Tuning）、反馈自助（Feedback Bootstrap）、人类反馈强化学习（Reinforcement Learning from Human Feedback） 等技术实现人类意图对齐。\n\n2023年6月14日，开源了62 亿参数的 ChatGLM-6B，结合模型量化技术，用户可以在消费级的显卡上进行本地部署（INT4 量化级别下最低只需 6GB 显存），虽然规模不及千亿模型，但大大降低了用户部署的门槛，并且已经能生成相当符合人类偏好的回答。\n\n2023年6月25日，二代模型 ChatGLM2-6B 模型开源，更强大的性能（MMLU [+23%]、C-Eval [+33%]、GSM8K [+571%] ）、更长的上下文（2K扩展到8K）、更高效的推理（推理速度提升42%）、更开放的开源协议。同时也推出了ChatGLM2-6B、ChatGLM2-12B、ChatGLM2-32B、ChatGLM2-66B、ChatGLM2-130B不同参数规模的模型。\n\n\n# 预训练\n\n# 什么是预训练？\n\n大模型的预训练是指在使用大量数据集进行训练的大型深度学习模型中，预先训练权重的过程。这个过程通常在非常大的数据集上进行，例如在包含数百万甚至数十亿样本的数据集上训练模型。预训练模型通常包含大量的参数，因此需要大量的计算资源和内存。\n\n预训练属于迁移学习的范畴。现有的神经网络在进行训练时，一般基于反向传播（Back Propagation，BP）算法，先对网络中的参数进行随机初始化，再利用随机梯度下降（Stochastic Gradient Descent，SGD）等优化算法不断优化模型参数。而预训练的思想是，模型参数不再是随机初始化的，而是通过一些任务进行预先训练，得到一套模型参数，然后用这套参数对模型进行初始化，再进行训练。\n\n预训练模型的主要优点是可以利用大规模数据集和计算资源来提高模型的泛化能力。由于预训练模型已经在大量数据上进行了训练，因此它们可以在类似的数据集上进行微调，从而在较少的训练样本上获得更好的性能。此外，预训练模型还可以作为一个强大的特征提取器，提取出文本、图像或其他数据的特征，以便于后续的分类或回归任务。\n\n通俗的讲，预训练是将大量低成本收集的训练数据放在一起，经过某种预训练的方法去学习其中的共性，然后将其中的共性 “移植” 到特定任务的模型中，再使用相关特定领域的少量标注数据进行 “微调”。因此，模型只需要从“共性” 出发，去 “学习” 该特定任务的 “特殊” 部分。\n\n举例：让一个完全不懂英文的人去做英文法律文书的关键词提取的工作会完全无法进行，或者说他需要非常多的时间去学习，因为他现在根本看不懂英文。但是，如果让一个英语为母语但没接触过此类工作的人去做这项任务，他可能只需要相对比较短的时间学习如何去提取法律文书的关键词就可以上手这项任务。在这里，英文知识就属于 “共性” 的知识，这类知识不必要只通过英文法律文书的相关语料进行学习，而是可以通过大量英文语料，不管是小说、书籍，还是自媒体，都可以是学习资料的来源。在该例中，让完全不懂英文的人去完成这样的任务，这就对应了传统的直接训练方法，而完全不懂英文的人如果在早期系统学习了英文，再让他去做同样的任务，就对应了 “预训练 + 微调” 的思路，系统的学习英文即为 “预训练” 的过程。\n\n大语言模型的预训练是指搭建一个大的神经网络模型并喂入海量的数据以某种方法去训练语言模型。大语言模型预训练的主要特点是训练语言模型所用的数据量够多、模型够大。\n\n# 模型如何够大？\n\n大模型的大小取决于其参数量，参数量是指模型中需要学习的可调整参数的数量。参数量越大，模型的容量和表达能力就越强，可以更好地拟合复杂的数据和任务。\n\n以下是影响大模型参数量的几个因素：\n\n 1. 模型架构：模型的架构决定了参数的数量。不同的架构具有不同数量的层、单元和连接，从而影响参数量。例如，Transformer模型通常具有大量的自注意力头和多层结构，因此参数量较大。\n 2. 模型层数：模型的层数指的是模型中的隐藏层数量。增加层数可以增加模型的深度，从而提高模型的表达能力。然而，层数增加也会导致参数量的增加。\n 3. 模型宽度：模型的宽度指的是每个隐藏层中的单元数量。增加宽度可以增加模型的容量，使其能够处理更多的特征和信息。但是，宽度的增加也会导致参数量的增加。\n 4. 输入维度：模型的输入维度也会影响参数量。如果输入维度较高，模型需要更多的参数来处理输入数据。\n\n需要注意的是，参数量的增加并不总是意味着模型性能的提升。过大的模型可能会导致过拟合问题，而且训练和推理的计算成本也会增加。因此，在选择模型大小时，需要综合考虑模型的性能需求、计算资源和数据规模等因素。\n\n# 基本原理\n\n大语言模型预训练采用了 Transformer 模型的解码器部分，由于没有编码器部分，大语言模型去掉了中间的与编码器交互的多头注意力层。如下图所示，左边是 Transformer 模型的解码器，右边是大语言模型的预训练架构\n\n\n\n大语言模型预训练是通过上文的词来预测下一个词，属于无监督的预训练。比如，给定一个无监督的语料U={u1,...,un}，而预训练语言模型是要使得下面式子最大化：\n\n$L1(U)=ΣiP(ui∣ui−k,...,ui−1;Θ)$\n\n# 预训练步骤\n\n 1. 数据收集：首先，需要收集大量的文本数据作为预训练的输入。这些数据可以来自互联网、书籍、新闻文章、维基百科等多个来源，以确保模型能够学习到广泛的语言知识和语义关系。\n 2. 数据预处理：在进行预训练之前，需要对收集到的文本数据进行预处理。这包括分词、标记化、去除停用词、处理特殊字符等操作，以便将文本数据转化为模型可以处理的格式。\n 3. 模型架构：选择适当的模型架构，如Transformer，作为预训练模型的基础。Transformer是一种基于自注意力机制的深度学习模型，被广泛用于自然语言处理任务。\n 4. 预训练过程：使用预处理后的文本数据，将其输入到模型中进行训练。预训练过程通常采用无监督学习的方式，即模型在没有标签或任务指导的情况下学习语言的统计规律和语义关系。这个过程可以通过最大似然估计等方法来优化模型参数。\n 5. 微调和迁移学习：在预训练完成后，可以使用微调或迁移学习的方法，将预训练模型应用于特定的任务。通过在特定任务上进行有监督的训练，模型可以进一步适应任务的要求，并提高性能。\n\n\n# 微调\n\n# 什么是微调？\n\n大模型微调是指针对特定任务对预训练的大模型进行微小调整。它是使用少量目标领域的样本数据进行训练，以优化模型在特定任务上的性能。大模型微调可以看作是在预训练模型的基础上，对模型的特定功能进行“调教”，即通过输入特定领域的数据集，让模型学习这个领域的知识，从而让大模型能够更好的完成特定领域的NLP任务，例如情感分析、命名实体识别、文本分类、对话聊天等。\n\n# 微调方式\n\n微调预训练模型的方法：(TODO模型分哪些层，作用)\n\n * 微调所有层：将预训练模型的所有层都参与微调，以适应新的任务。\n * 微调顶层：只微调预训练模型的顶层，以适应新的任务。\n * 冻结底层：将预训练模型的底层固定不变，只对顶层进行微调。\n * 逐层微调：从底层开始，逐层微调预训练模型，直到所有层都被微调。\n * 迁移学习：将预训练模型的知识迁移到新的任务中，以提高模型性能。这种方法通常使用微调顶层或冻结底层的方法。\n\n目前来说，我们常用的方法一般是前三种。简单来说模型的参数就类比于，一个在大学学习到所有专业的知识的大学生，基于过往的学习经验以及对生活中的一些事情，已经有了属于自己的一套学习方法思维逻辑。而微调则是一个大学生毕业后从事某一种行业的工作，那他就要开始学习工作上的内容，来产出工作的成果。下面我们就来介绍一些常用的微调方法。\n\n# 1.Fine tuning\n\nFine tuning是一种在自然语言处理（NLP）中使用的技术，用于将预训练的语言模型适应于特定任务或领域。Fine tuning的基本思想是采用已经在大量文本上进行训练的预训练语言模型，然后在小规模的任务特定文本上继续训练它。\n\n经典的Fine tuning方法包括将预训练模型与少量特定任务数据一起继续训练。在这个过程中，预训练模型的权重被更新，以更好地适应任务。所需的Fine-tuning量取决于预训练语料库和任务特定语料库之间的相似性。如果两者相似，可能只需要少量的Fine tuning。如果两者不相似，则可能需要更多的Fine tuning。\n\n\n\n# 2.Prompt tuning\n\n参数高效性微调方法中实现最简单的方法还是Prompt tuning(也就是我们常说的P-Tuning)，固定模型前馈层参数，仅仅更新部分embedding参数即可实现低成本微调大模型\n\n经典的Prompt tuning方式不涉及对底层模型的任何参数更新。相反，它侧重于精心制作可以指导预训练模型生成所需输出的输入提示或模板。主要结构是利用了一个prompt encoder（BiLSTM+MLP），将一些pseudo prompt先encode（离散token）再与input embedding进行拼接，同时利用LSTM进行 Reparamerization 加速训练，并引入少量自然语言提示的锚字符（Anchor，例如Britain）进一步提升效果。然后结合（capital，Britain）生成得到结果，再优化生成的encoder部分。但是P-tuning v1有两个显著缺点：任务不通用和规模不通用。在一些复杂的自然语言理解NLU任务上效果很差，同时预训练模型的参数量不能过小。\n\n# Prefix Tuning\n\n如果分析 P-tuning，那不得不提到prefix-tuning技术，相对于fine-tuning，在调节模型的过程中只优化一小段可学习的continuous task-specific vector（prefix）而不是整个模型的参数。\n\nPrefix Tuning针对不同的模型结构有设计不同的模式，以自回归的模型为例，不再使用token去作为前缀，而是直接使用参数作为前缀，比如一个$l × d$的矩阵$P$作为前缀，但直接使用这样的前缀效果不稳定，因此使用一个MLP层重参数化，并放大维度$d$，除了在embedding层加入这个前缀之外，还在其他的所有层都添加这样一个前缀。最后微调时只调整前缀的参数，大模型的参数保持不变。保存时只需要为每个任务保存重参数的结果即可。\n\n# 3.P-tuning v2\n\nV2版本主要是基于P-tuning和prefix-tuning技术，引入Deep Prompt Encoding和Multi-task Learning等策略进行优化的。\n\n实验表明，仅精调0.1%参数量，在330M到10B不同参数规模LM模型上，均取得和Fine-tuning相比肩的性能 下面是v1和v2框架对比，我们可以看到右侧的p-tuning v2中，将continuous prompt加在序列前端，并且每一层都加入可训练的prompts。在左图v1模型中，只将prompt插入input embedding中，会导致可训练的参数被句子的长度所限制。此外P-Tuning v2还包括以下改进：\n\n * 移除了Reparamerization加速训练方式；\n * 采用了多任务学习优化：基于多任务数据集的Prompt进行预训练，然后再适配的下游任务。\n * 舍弃了词汇Mapping的Verbalizer的使用，重新利用[CLS]和字符标签，跟传统finetune一样利用cls或者token的输出做NLU，以增强通用性，可以适配到序列标注任务。 总而言之，P-tuning v2就是将Prefix-tuning应用到NLU任务上的一种方法。同时由于P-tuning v2每层插入了token，增大模型训练的改变量，所以更加适用于小一点的模型。\n\n# 4. Lora\n\nLora的本质就是对所有权重矩阵套了一层“壳”，这些壳会对原来的预训练权重矩阵进行加减使其更加适合下游任务，即实现微调。他的假设前提是预训练语言模型具有低的”内在维度”，因此认为在模型适配下游任务的过程中，权重更新也应该具有低的“内在秩”。\n\n在对大语言模型进行微调的公式可以简化为下面的公式 $$ W=W 0 +ΔW.W∈R d×k ,W 0 ∈R d×k $$ 其中W是微调微调过后的矩阵权重（是大语言模型中的对应的稠密层，一般这些矩阵都是满秩的），$W_0$ 是预训练的权重，$\\Delta W$是通过微调而更新的梯度。将上面的$\\Delta W$做一些变换，将他变成两个矩阵相乘 $$ W=W 0 +ΔW=W 0 +BA.B∈R d×r ,A∈R r×k $$ 在里面引入了秩r，$r << min(d,k)$，在训练过程中lora会冻结预训练权重$W_0$，只训练$A$和$B$，减少了需要训练的参数的量，一般来讲,对于lora微调模型来讲r设置的越大其微调效果会越好。\n\nLoRA算法的核心思想是，将原始矩阵A AA分解为两个低秩矩阵X XX和Y YY的乘积形式，即$A=X\\cdot Y$。具体地，LoRA算法会首先对原始矩阵进行SVD分解，得到矩阵$A=U\\Sigma V^T$，其中$U$和$V$分别是$AA^T$和 $A^TA$的特征向量矩阵，$\\Sigma$是奇异值矩阵。然后，LoRA算法会取$U$的前$k$列和$V$的前$k$行，得到低秩矩阵$X=U(:,1:k)$和$Y=V(1:k,:)$，其中$k$是预设的参数，表示矩阵$A$的秩。最后，LoRA算法将近似矩阵$A_k=X\\cdot Y$作为原始矩阵$A$的近似，即$A_k \\approx A$。\n\n最终我们得到的一个权重文件会是各层的$BA$，在推理时是需要计算一下$W = W_0 + BA$，就可以得到最终需要的微调之后的模型权重，该方法的好处如下所示\n\n 1. 减少了需要推理的参数量\n 2. 相较于添加adapter层的方式去微调模型，因为他并没有在模型中添加额外的层，只是在原来的权重上进行权重的加减，微调前后模型的推理时间不变\n 3. 因为他最后生成的权重是各层的$BA$,并没有改变原模型的权重参数，所以其结果相当于一个插件，可以即插即用，可以为多个不同的微调任务生成各自的lora微调权重值，也方便存储。\n\n一般在使用lora去对模型卫星微调的时候需要注意的参数就两个：r和lora_target_modules 。前者决定了lora微调时构造的矩阵的秩的大小（这里也可以简单的理解为矩阵B和A的大小），以及在大语言模型中应用的不同模块。后者模块的具体名称需要依据不同的模型去决定。\n\n# 5.RLHF—人类反馈强化学习\n\nRLHF 的思想就是使用强化学习的方式直接优化带有人类反馈的语言模型。RLHF 使得在一般文本数据语料库上训练的语言模型能和复杂的人类价值观对齐。 RLHF 是一项涉及多个模型和不同训练阶段的复杂概念，一般会分为三步，这也是一个生成自己大模型所必需的。\n\nGPT-4/ChatGPT与GPT-3.5的主要区别在于，新加入了被称为RLHF（Reinforcement\n\nLearning from Human Feedback，人类反馈强化学习）的技术\n\n# 6.DeepSpeed ZeRO——零冗余优化\n\nDeepspeed是微软的大规模分布式训练工具。专门用于训练超大模型。其具有的3D 并行同时解决了训练万亿参数模型的两个基本挑战：显存效率和计算效率。因此，DeepSpeed 可以扩展至在显存中放下最巨大的模型，而不会牺牲速度。\n\n# 7.Accelerate\n\nAccelerate[7]库提供了简单的 API，使我们可以在任何类型的单节点或分布式节点(单CPU、单GPU、多GPU 和 TPU)上运行，也可以在有或没有混合精度(fp16)的情况下运行。\n\n# 8.Autocast\n\nautocast是在GPU上训练时一种用于降低显存消耗的技术。原理是用更短的总位数来保存浮点数，能够有效将显存消耗降低，从而设置更大的batch来加速训练。但会造成精度的损失，导致收敛效果也会变差。\n\n\n# Prompt\n\n# prompt是什么\n\nPrompt就是给AI的指令，引导模型生成响应的回答。\n\n“中国的首都是哪里？” \n“中国的首都是北京”\n\n\n1\n2\n\n\n# prompt工程是什么\n\n提示工程（Prompt Engineering）是指根据特定的目标和语境设计出一系列问题或任务，以便使用大模型生成有关主题或主题领域的连贯和有意义的文本。提示工程的目标是通过精心设计提示以从模型中引出所需的响应，来提高生成文本的质量和相关性。提示工程与思维链的产生密不可分，也是目前自然语言编程的理论基础。\n\n对于基于转换器的大型语言模型（如OpenAI的GPT系列），输入提示在提高模型理解、回答问题、生成有用输出等方面具有关键作用。Prompt工程包括问题构建、上下文引导、间接引导和分步引导等多个方面，以帮助AI模型更好地理解和解决各种问题。\n\n\n\n▲语言模型的4种研究范式（来源：卡内基梅隆大学）\n\n大概在2017-2019年间，语言模型的研究重心逐渐从传统特定领域的有监督学习模式（基于非神经网络或神经网络）转移到预训练模型上。在那时，基于预训练语言模型的研究范式通常是“预训练+精调”（Pre-train+Fine-tune），即在精调阶段，根据下游任务对预训练模型进行微调，以获得更好效果。\n\n\n\n这里举一个填充提示的简单例子。（上图）我们从输入x（比如电影评论）开始，然后输出期望值y。其中一个任务是使用提示函数重新模板化此输入，其输出表示为x\'。此时语言模型的任务仅仅是预测z值（句子中的一个词）来代替占位符Z。然后对于Z被答案填充的提示，我们将其称为填充提示。通过这一提示方式，在对应细分场景下，语言模型将原来的问题的期望值y（一句话）简化为答案z（一个词）的计算，明显降低了应答的复杂度。\n\n\n\n# prompt的结构\n\n 1. context（可选）\n    1. 角色\n    2. 任务\n    3. 知识\n 2. Instruction（必选）\n    1. 步骤\n    2. 思维链\n    3. 示例\n 3. input data（必选）\n    1. 句子\n    2. 文章\n    3. 问题\n 4. output indicator（可选）\n\n示例\n\n你是一名机器学习工程师，负责开发一个文本分类模型，该模型可以将电影评论分为正面评价和负面评价两类。\n\n请根据以下上下文和输入，对文本进行分类，并给出相应的输出类别。\n\n示例：\n输入文本：这部电影真是太精彩了！演员表现出色，剧情扣人心弦，强烈推荐！\n输出类别：正面评价\n\n输入文本：这部电影真是太精彩了！演员表现出色，剧情扣人心弦，强烈推荐！\n输出类别：\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 如何写出好的prompt\n\n# 清晰和明确的指令\n\n举例\n\n * "请解释什么是人工智能？"\n\n * "列出三个关于太阳系的事实。"\n\n * "回答以下数学问题：2 + 2 = ?"\n   \n   VS\n\n * "谈谈科技。"\n\n * "讲个笑话。"\n\n * "说一些关于历史的事情。"\n\n# 分隔符\n\n 1. """..."""（推荐）\n 2. <...>\n 3. ---...---\n\n# 样例数据\n\n请按照以上格式直接回答问题。只能给出答案，不要生产其他内容。\n\n问题：日本的首都是哪里？\n答案：东京\n\n问题：法国的首都是哪里？\n答案：\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 思维链\n\n你是一个智能助理，用户会称呼你小爱或小爱同学，你需要帮用户结构化记录生日信息、物品存放信息、月经信息\n用户输入是一句非常口语化的指令，你需要记录用户指令，并从用户的指令中结构化的输出提取出信息\n输出完毕后结束，不要生成新的用户输入，不要新增内容\n\n1.提取话题，话题只能是：生日、纪念日、月经、物品存放。\n2.提取目的，目的只能是：记录、预测、查询、庆祝、设置、记录物品、拿到物品、寻找、删除、修改。\n3.提取人物，人物指：过生日的人物、过纪念日的人物、来月经的人物、放物品的人物。输出只能是：我，爸爸、妈妈、孩子、爱人、恋人、朋友、哥哥、姐姐。没有写“无”\n4.提取人关系，关系指人物与用户的关系，关系只能是：本人、亲人、配偶、朋友、未知、待查询。没有写“无”\n5.提取时间，比如：今天、3月1日、上个月、农历二月初六、待查询。没有写“无”\n6.提取时间类型，时间类型只能是：过生日的时间、过纪念日的时间、月经开始时间、月经结束时间。 没有写“无”\n7.提取物品，比如：衣服、鞋子、书、电子产品、其它。\n8.提取物品对应位置，比如：衣柜、书柜、鞋柜、电子产品柜、待查询。\n9.按示例结构输出内容，结束\n\n用户：充电器放包里了\n话题：物品存放\n目的：记录\n人物：无\n关系：无\n时间：无\n时间类型：无\n物品：充钱器\n位置：包里\n\n用户：今天我过生日\n话题：生日\n目的：记录\n人物：我\n关系：本人\n时间：今天\n时间类型：生日时间\n物品：无\n位置：无\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# 计算步骤\n\n小明有5个苹果，他又买了2袋子苹果，每个袋子里有3个苹果，小明一共有几个苹果？\n\n计算过程：\n1，小明开始有5个苹果。\n2，2个袋子里，每个袋子里有3个苹果。3*2=6\n3，一共有5+6=11个苹果。\n答案：\n小明一共有11个苹果。\n\n小明有11个苹果，他又买了3袋子苹果，每个袋子里有4个苹果，小明一共有几个苹果？\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n技巧\n\n * 流程简单：过于复杂的流程会增加大模型出错概率，应该尽量减少流程\n * 理解语义：不能强制大模型输出某些内容，要根据语义输出合适的枚举\n * 多肯定：多用肯定句，告诉大模型要做什么，不是限制大模型不做什么\n * 结合功能：要结合功能流程设计prompt，不能期望一次与大模型的交互解决一切问题\n\n\n# 应用\n\n# 大模型能做什么\n\n# 文本生成\n\n * 广告文案\n * 小说\n * 分析报告\n\n# 文本提炼\n\n * 总结文章重点\n * 用户需求提取\n * 用户画像提取\n * 建立内容提取\n\n# 信息转换\n\n * 代码生成\n * 语言翻译\n * 代码解释\n\n# 大模型能不做什么\n\n * 它不是搜索引擎。\n   * 他可以是搜索引擎的辅助\n * 他不是数据库，没办办法记住读过的每一本书。\n   * 他可以和embedding技术结合\n\n# 实际案例\n\n * 代码提示、编写\n * 通过微调将行业知识融入进入大模型，比如将骨科X光，可以做到从海量病例中快速给出检查结果，甚至拍片不再需要去医院，自助照相一样简单。\n * 写小说，写小红书文案，写抖音视频录制脚本\n\n\n# 本地知识库\n\nlangchain-chatchat (原名langchain-chatglm)，一种利用 langchain 思想实现的基于本地知识库的问答应用，目标期望建立一套对中文场景与开源模型支持友好、可离线运行的知识库问答解决方案。支持多种大语言模型。\n\n\n# 原理\n\n本项目实现原理如下图所示，过程包括加载文件 -> 读取文本 -> 文本分割 -> 文本向量化 -> 问句向量化 -> 在文本向量中匹配出与问句向量最相似的 top k个 -> 匹配出的文本作为上下文和问题一起添加到 prompt中 -> 提交给 LLM生成回答。\n\n\n\n\n\n# langchain介绍\n\nLangChain是一个开源库，旨在利用大型语言模型（LLM）的能力，并将它们与其他计算或知识源结合起来创建强大的应用程序。它是一种工具箱，为LLMs提供标准接口，并促进它们与其他工具的集成。\n\n通过将LLMs与其他计算（例如执行复杂数学运算的能力）和知识库（例如提供实时库存）混合使用，LangChain可以使开发人员更容易地创建能够回答特定文档的问题、支持聊天机器人，以及创建决策制定代理等应用程序。\n\n# Embedding\n\n大模型的嵌入（Embedding）是指将高维度的数据（例如文本、图片、音频）映射到低维度空间的过程。在自然语言处理（NLP）中，大模型的嵌入通常用于将单词、短语或句子等文本单位表示为实数向量。\n\n大模型的嵌入是通过训练模型从数据中学习得到的。在NLP中，常用的嵌入方法是词嵌入（Word Embedding），它将单词映射到连续的向量空间中。词嵌入可以捕捉到单词之间的语义和语法关系，使得相似的单词在嵌入空间中距离较近。\n\n大模型的嵌入可以通过不同的方法来获取，其中最常见的方法是使用预训练的嵌入模型，如Word2Vec、GloVe和BERT等。这些预训练模型在大规模的文本数据上进行训练，学习得到了丰富的语言知识和语义关系。通过使用这些预训练模型，可以将文本单位转换为具有语义信息的向量表示。\n\n大模型的嵌入在NLP任务中具有广泛的应用，如文本分类、命名实体识别、情感分析、机器翻译等。通过将文本单位表示为嵌入向量，可以更好地捕捉到文本的语义信息，从而提高模型在这些任务上的性能。\n\n以下是几个常用的嵌入模型：\n\n 1. Word2Vec：Word2Vec是一种经典的词嵌入模型，它通过训练神经网络来学习单词的分布式表示。Word2Vec可以捕捉到单词之间的语义和语法关系，常用的训练算法有CBOW和Skip-gram。\n 2. GloVe：GloVe（Global Vectors for Word Representation）是一种基于全局词频统计的词嵌入模型。它通过在全局语料库上计算单词之间的共现概率来学习单词的向量表示。GloVe可以捕捉到单词之间的语义关系和词汇的全局结构。\n 3. FastText：FastText是一种基于子词的词嵌入模型，它将单词表示为其子词的平均向量。FastText可以处理未登录词（Out-of-Vocabulary）和词形变化等问题，并且在处理具有丰富词汇的语言时表现良好。\n 4. BERT：BERT（Bidirectional Encoder Representations from Transformers）是一种基于Transformer模型的预训练语言模型。BERT通过在大规模文本数据上进行无监督训练，学习得到了丰富的语言知识和上下文相关的词嵌入。BERT在多个NLP任务上取得了显著的性能提升。\n 5. ELMO：ELMO（Embeddings from Language Models）是一种基于双向LSTM的预训练语言模型。ELMO通过在大规模文本数据上进行训练，学习得到了上下文相关的词嵌入。ELMO的特点是可以根据上下文动态地生成词嵌入。\n\n# 向量数据库介绍\n\n向量数据库是专门用来存储和查询向量的数据库。这些向量通常来自于对文本、语音、图像、视频等的向量化处理。与传统数据库相比，向量数据库可以处理更多非结构化数据（比如图像和音频）。\n\n它通常提供以下功能和特性：\n\n 1. 高效的向量存储：向量数据库使用高效的数据结构和索引技术来存储向量数据。这些技术可以有效地压缩和组织向量，以节省存储空间并提高查询性能。\n 2. 快速的向量查询：向量数据库提供了针对向量数据的高效查询接口。它可以支持基于相似度的查询，例如根据欧氏距离或余弦相似度等度量来搜索最相似的向量。\n 3. 索引和搜索技术：向量数据库使用各种索引和搜索技术来加速向量查询。例如，它可以使用基于树结构的索引（如KD树、球树）或哈希索引来组织和搜索向量数据。\n 4. 扩展性和高可用性：向量数据库通常具有良好的扩展性和高可用性。它可以支持水平扩展，以处理大规模的向量数据集，并提供冗余和故障恢复机制，以确保数据的可靠性和可用性。\n 5. 支持多种数据类型和操作：除了向量数据，向量数据库通常还支持其他数据类型和操作，如标量数据、文本数据和复杂查询操作。这使得它可以适用于各种应用场景和数据处理需求。\n\n向量数据库在许多领域中都有广泛的应用，包括图像搜索、推荐系统、自然语言处理、生物信息学等。它们提供了一种高效和灵活的方式来存储和查询大规模的向量数据，为各种数据驱动的应用提供了强大的支持。\n\n以下是三个常用的向量数据库：\n\n 1. Milvus：Milvus是一个开源的向量数据库，专门用于存储和查询大规模向量数据。它支持高维向量的存储和快速相似度搜索，并提供了多种索引和搜索算法，如IVF、HNSW等。Milvus具有良好的扩展性和高可用性，并提供了Python、Java、Go等多种语言的客户端SDK。\n 2. Faiss：Faiss是Facebook AI Research开发的一个高性能向量索引库。它提供了多种索引结构和搜索算法，如IVF、PQ等，以支持高效的向量存储和查询。Faiss具有出色的性能和可扩展性，并提供了C++和Python等语言的接口。\n 3. Annoy：Annoy是一个快速的近似最近邻搜索库，用于高维向量的存储和查询。它使用了一种基于树的索引结构，可以在大规模向量数据集上进行高效的相似度搜索。Annoy支持多种编程语言，如Python、C++、Java等。\n\n\n# 实战\n\n项目地址：https://github.com/chatchat-space/Langchain-Chatchat.git\n\n项目搭建参考langchain-chatglm搭建\n\n\n# 应用\n\n * 打造专属私人助理、客服机器人\n\n\n# AI绘画\n\n\n# AI绘画简介\n\n以为图片生成领域来说，最近几年有四大主流生成模型：生成对抗模型（GAN）、变分自动编码器（VAE）、流模型（Flow based Model）、扩散模型（Diffusion Model）等，基本主要都是基于深度学习为训练方式的模型。从2022年开始，主要爆火的图片生成模型是Diffusion Model（扩散模型）为主\n\n目前适用人数比较多的是Stable Diffusion、MidJourney。\n\n\n# Stable Diffusion\n\nStable Diffusion 算法上来自 “潜在扩散模型”（LDM / Latent Diffusion Model），这个模型又是基于 2015 年提出的扩散模型（DM / Diffusion Model）。参考论文中介绍算法核心逻辑的插图，Stable Diffusion 的数据会在像素空间（Pixel Space）、潜在空间（Latent Space）、条件（Conditioning）三部分之间流转，其算法逻辑大概分这几步：\n\n 1. 图像编码器将图像从像素空间（Pixel Space）压缩到更小维度的潜在空间（Latent Space），捕捉图像更本质的信息；\n 2. 对潜在空间中的图片添加噪声，进行扩散过程（Diffusion Process）；\n 3. 通过 CLIP 文本编码器将输入的描述语转换为去噪过程的条件（Conditioning）；\n 4. 基于一些条件对图像进行去噪（Denoising）以获得生成图片的潜在表示，去噪步骤可以灵活地以文本、图像和其他形式为条件（以文本为条件即 text2img、以图像为条件即 img2img）；\n 5. 图像解码器通过将图像从潜在空间转换回像素空间来生成最终图像。\n\n\n# 实战\n\n项目地址：https://github.com/AUTOMATIC1111/stable-diffusion-webui.git\n\n项目搭建参考stable-diffusion 使用\n\n# 模型下载\n\n点击进入 https://civitai.com/ ，下载【majicMIX realistic】，使用默认模型也可以，不过想要生成某个特点的图片还是要找对应的模型。majicMIX realistic以写实为主。\n\n# 参数配置\n\n# demo\n\nPrompt,生成图片的条件，或者说想要生成什么样的图片\n\n1 girl a 24 y o woman, blonde, dark theme, soothing tones, muted colors, high contrast, look at at viewer, contrasty , vibrant , intense, stunning, captured in the late afternoon sunlight, using a Canon EOS R6 and a 16-35mm to capture every detail and angle, with emphasis on the lighting and shadows, late afternoon sunlight, 8K\n\n\n1\n\n\nNegative prompt ，反向提示词，不想生成什么样的图片，一般用于阻止生成畸形或血腥场面\n\n(deformed, distorted, disfigured, doll:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (mutated hands and fingers:1.4), disconnected limbs, mutation, mutated, ugly, disgusting, blurry, amputation, 3d, illustration, cartoon, flat , dull , soft, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs,\n\n\n1\n\n\n其他参数\n\n\n\n * 咒语词典，以上是普通使用，prompt还有权重，组合等特性\n   \n   * http://tag.zoos.life/\n   * https://tags.novelai.dev/\n\n * 使用chatgpt写提示词\n\n# Stable Diffusion prompt 助理\n\n你来充当一位有艺术气息的Stable Diffusion prompt 助理。\n\n## 任务\n\n我用自然语言告诉你要生成的prompt的主题，你的任务是根据这个主题想象一幅完整的画面，然后转化成一份详细的、高质量的prompt，让Stable Diffusion可以生成高质量的图像。\n\n## 背景介绍\n\nStable Diffusion是一款利用深度学习的文生图模型，支持通过使用 prompt 来产生新的图像，描述要包含或省略的元素。\n\n## prompt 概念\n\n- 完整的prompt包含“**Prompt:**”和"**Negative Prompt:**"两部分。\n- prompt 用来描述图像，由普通常见的单词构成，使用英文半角","做为分隔符。\n- negative prompt用来描述你不想在生成的图像中出现的内容。\n- 以","分隔的每个单词或词组称为 tag。所以prompt和negative prompt是由系列由","分隔的tag组成的。\n\n## () 和 [] 语法\n\n调整关键字强度的等效方法是使用 () 和 []。 (keyword) 将tag的强度增加 1.1 倍，与 (keyword:1.1) 相同，最多可加三层。 [keyword] 将强度降低 0.9 倍，与 (keyword:0.9) 相同。\n\n## Prompt 格式要求\n\n下面我将说明 prompt 的生成步骤，这里的 prompt 可用于描述人物、风景、物体或抽象数字艺术图画。你可以根据需要添加合理的、但不少于5处的画面细节。\n\n### 1. prompt 要求\n\n- 你输出的 Stable Diffusion prompt 以“**Prompt:**”开头。\n- prompt 内容包含画面主体、材质、附加细节、图像质量、艺术风格、色彩色调、灯光等部分，但你输出的 prompt 不能分段，例如类似"medium:"这样的分段描述是不需要的，也不能包含":"和"."。\n- 画面主体：不简短的英文描述画面主体, 如 A girl in a garden，主体细节概括（主体可以是人、事、物、景）画面核心内容。这部分根据我每次给你的主题来生成。你可以添加更多主题相关的合理的细节。\n- 对于人物主题，你必须描述人物的眼睛、鼻子、嘴唇，例如\'beautiful detailed eyes,beautiful detailed lips,extremely detailed eyes and face,longeyelashes\'，以免Stable Diffusion随机生成变形的面部五官，这点非常重要。你还可以描述人物的外表、情绪、衣服、姿势、视角、动作、背景等。人物属性中，1girl表示一个女孩，2girls表示两个女孩。\n- 材质：用来制作艺术品的材料。 例如：插图、油画、3D 渲染和摄影。 Medium 有很强的效果，因为一个关键字就可以极大地改变风格。\n- 附加细节：画面场景细节，或人物细节，描述画面细节内容，让图像看起来更充实和合理。这部分是可选的，要注意画面的整体和谐，不能与主题冲突。\n- 图像质量：这部分内容开头永远要加上“(best quality,4k,8k,highres,masterpiece:1.2),ultra-detailed,(realistic,photorealistic,photo-realistic:1.37)”， 这是高质量的标志。其它常用的提高质量的tag还有，你可以根据主题的需求添加：HDR,UHD,studio lighting,ultra-fine painting,sharp focus,physically-based rendering,extreme detail description,professional,vivid colors,bokeh。\n- 艺术风格：这部分描述图像的风格。加入恰当的艺术风格，能提升生成的图像效果。常用的艺术风格例如：portraits,landscape,horror,anime,sci-fi,photography,concept artists等。\n- 色彩色调：颜色，通过添加颜色来控制画面的整体颜色。\n- 灯光：整体画面的光线效果。\n\n### 2. negative prompt 要求\n- negative prompt部分以"**Negative Prompt:**"开头，你想要避免出现在图像中的内容都可以添加到"**Negative Prompt:**"后面。\n- 任何情况下，negative prompt都要包含这段内容："nsfw,(low quality,normal quality,worst quality,jpeg artifacts),cropped,monochrome,lowres,low saturation,((watermark)),(white letters)"\n- 如果是人物相关的主题，你的输出需要另加一段人物相关的 negative prompt，内容为：“skin spots,acnes,skin blemishes,age spot,mutated hands,mutated fingers,deformed,bad anatomy,disfigured,poorly drawn face,extra limb,ugly,poorly drawn hands,missing limb,floating limbs,disconnected limbs,out of focus,long neck,long body,extra fingers,fewer fingers,,(multi nipples),bad hands,signature,username,bad feet,blurry,bad body”。\n\n### 3. 限制：\n- tag 内容用英语单词或短语来描述，并不局限于我给你的单词。注意只能包含关键词或词组。\n- 注意不要输出句子，不要有任何解释。\n- tag数量限制40个以内，单词数量限制在60个以内。\n- tag不要带引号("")。\n- 使用英文半角","做分隔符。\n- tag 按重要性从高到低的顺序排列。\n- 我给你的主题可能是用中文描述，你给出的prompt和negative prompt只用英文。\n\n我的第一个主题是： 一个美丽的中国女孩\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# AI绘画网站\n\n * [1] https://creator.nolibox.com/\n\n * [2] https://openai.com/research/clip\n\n\n# 应用\n\n * 结合chatgpt，stablediffusion完成小说及配图。\n\n\n# AI音频生成\n\n本次是对声音克隆的学习。\n\n\n# VITS\n\n声学模型是声音合成系统的重要组成部分\n\n\n\nVITS（Variational Inference with adversarial learning for end-to-end Text-to-Speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。\n\nVITS 的工作流程如下：\n\n 1. 将文本输入 VITS 系统，系统会将文本转化为发音规则。\n 2. 将发音规则输入预先训练好的语音编码器 (vocoder)，vocoder 会根据发音规则生成语音信号的特征表示。\n 3. 将语音信号的特征表示输入预先训练好的语音合成模型，语音合成模型会根据特征表示生成合成语音。\n\n\n# 实战\n\n项目地址: https://github.com/Plachtaa/VITS-fast-fine-tuning.git\n\n用于声音克隆的项目与很多，大多需要准备高质量的人身数据，不能有伴奏或噪音，并且训练步骤复杂要求的算力也高，本次选择的VITS-fast-fine-tuning是一种低成本快速微调方式。\n\n使用20段10秒内的音频即可训练出自己的声音模型,当前训练最快，数据要求最低的项目。\n\n项目搭建参考模拟人声-文字生成语音\n\n\n# 应用\n\n * 有声小说配音\n * 将一个人的行为习惯，思维逻辑数据化，结合大模型进行微调，再模拟其的声线和音色，即可定制出数字人。\n\n\n# 专业术语解释\n\n\n# 训练微调\n\n# 参数解释\n\nepoch：表示将训练数据集中的所有样本都过一遍（且仅过一遍）的训练过程。在一个epoch中，训练算法会按照设定的顺序将所有样本输入模型进行前向传播、计算损失、反向传播和参数更新。一个epoch通常包含多个step。\n\nbatch：一般翻译为“批次”，表示一次性输入模型的一组样本。在神经网络的训练过程中，训练数据往往是很多的，比如几万条甚至几十万条——如果我们一次性将这上万条的数据全部放入模型，对计算机性能、神经网络模型学习能力等的要求太高了；那么就可以将训练数据划分为多个batch，并随后分批将每个batch的样本一起输入到模型中进行前向传播、损失计算、反向传播和参数更新。但要注意，一般batch这个词用的不多，多数情况大家都是只关注batch size的。\n\nbatch size：一般翻译为“批次大小”，表示训练过程中一次输入模型的一组样本的具体样本数量。前面提到了，我们在神经网络训练过程中，往往需要将训练数据划分为多个batch；而具体每一个batch有多少个样本，那么就是batch size指定的了。\n\nstep：一般翻译为“步骤”，表示在一个epoch中模型进行一次参数更新的操作。通俗地说，在神经网络训练过程中，每次完成对一个batch数据的训练，就是完成了一个step。很多情况下，step和iteration表示的是同样的含义。\n\niteration：一般翻译为“迭代”，多数情况下就表示在训练过程中经过一个step的操作。一个iteration包括了一个step中前向传播、损失计算、反向传播和参数更新的流程。当然，在某些情况下，step和iteration可能会有细微的区别——有时候iteration是指完成一次前向传播和反向传播的过程，而step是指通过优化算法对模型参数进行一次更新的操作。但是绝大多数情况下，我们就认为二者是一样的即可。\n\n假设我们现在有一个训练数据集（这个数据集不包括测试集），其中数据的样本数量为1500。那么，我们将这1500条数据全部训练1次，就是一个epoch。其中，由于数据量较大（其实1500个样本在神经网络研究中肯定不算大，但是我们这里只是一个例子，大家理解即可），因此我们希望将其分为多个batch，分批加以训练；我们决定每1批训练100条数据，那么为了将这些数据全部训练完，就需要训练15批——在这里，batch size就是100，而batch就是15。而前面我们提到，每次完成对一个batch数据的训练，就是完成了一个step，那么step和iteration就也都是15。\n\n# 举例\n\n以上是我们对这一数据集加以1次训练（1个epoch）的情况，而一般情况下我们肯定是需要训练多次的，也就是多个epoch。我们假设我们需要训练3个epoch，相当于需要将这1500个样本训练3次。那么，step和iteration都会随着epoch的改变而发生改变——二者都变为45，因为15 * 3。但是，batch依然是15，因为其是在每一个epoch的视角内来看待的，和epoch的具体大小没有关系。\n\n\n# 模型相关\n\n# 模型参数具体是什么数据？\n\n在机器学习中，**模型参数是模型内部用于描述数据的变量。**这些变量通常是在训练期间学习到的，以最小化模型预测与真实数据之间的误差。\n\n具体来说，模型参数可以是权重、偏差或者其他可调整的变量。这些参数通过在训练数据上进行迭代来不断调整，以使模型更准确地预测新的数据。\n\n例如，在神经网络中，模型参数是每个神经元的权重和偏差。在线性回归中，模型参数是回归系数和截距。在支持向量机中，模型参数是决策边界和支持向量。\n\n这些模型参数可以用数值来表示，并且在训练过程中会不断调整以使模型更准确地预测新数据。在训练结束后，这些参数将用于进行预测，以便根据新数据的输入来生成相应的输出。\n\n# 其中模型参数是变量数据还是常量数据？\n\n在深度学习中，模型参数是变量数据，而不是常量数据。在模型训练过程中，模型参数的值是随着训练迭代而不断更新的，这些更新是通过计算损失函数梯度来实现的。因此，模型参数是在训练过程中不断变化的。在训练完成后，这些变量数据会被保存为模型的参数，供后续的推理或使用。但是，在推理或使用过程中，这些参数仍然可以被修改或更新，以适应不同的应用场景或任务。因此，模型参数是变量数据，而不是常量数据。\n\n# 模型参数具体含有哪些数据？\n\n在深度学习中，模型参数指的是神经网络中的权重和偏置，这些参数是用来定义模型的基本结构和特征表示能力的。\n\n具体来说，模型参数包括两部分数据：权重和偏置。\n\n 1. 权重（Weights）：指的是神经网络中连接不同层之间的权重值，也称为连接权重（connection weights）。权重值是神经网络中非常重要的参数，决定了输入和输出之间的映射关系。在前向传播过程中，权重值被用来计算每个神经元的输出。在训练过程中，权重值是模型需要优化的参数之一。\n 2. 偏置（Biases）：指的是神经网络中每个神经元的偏置值，也称为偏移量（offset）。偏置值通常被添加到权重值乘以输入值的结果中，用来引入非线性变换。偏置值在训练过程中也是需要被优化的参数之一。\n\n在深度学习中，模型参数的数量通常非常庞大，可能有数百万甚至数亿个参数，这也是深度学习需要大量数据和计算资源的原因之一。这些模型参数在训练过程中通过反向传播算法不断更新和优化，最终得到的模型参数可以用来进行预测、分类、生成等任务。\n\n\n# 参考\n\n * [1] 什么是AIGC、GPT、大模型\n * [2] 大模型应用领域\n * [3] 发展阶段及技术应用\n * [4] 基础模型与指令模型\n * [5] 大型语言模型实用指南\n * [6] 预训练\n * [7] 多机多卡训练\n * [8] 微调方式\n * [9] GPT-4大模型硬核解读，看完成半个专家\n * [10] stable diffusion 原理\n * [11] 如何写出好的提示词(stable diffusion)\n * [12] 模型数据与参数解释',normalizedContent:'> aigc（artificial intelligence generated content）是人工智能生成内容的意思。它是一种利用人工智能技术创造生成内容的技术，其中包括文本、图像、音频、视频等多种形式。aigc技术融合了深度学习、自然语言处理、计算机视觉等多个领域的发展，能够模拟人类创作过程并自动生成新的内容。aigc的应用范围广泛，包括但不限于新闻媒体、教育、游戏、艺术、娱乐等多个领域。随着人工智能技术的不断发展，aigc将会在更多的领域得到应用。\n\n\n# 大模型\n\n\n# 大模型是什么\n\n以众所周知的chatgpt为例，gpt的全称，是generative pre-trained transformer（生成式预训练转换器）是一种基于互联网的、可用数据来训练的、文本生成的深度学习模型。\n\ngpt是aigc的一个种类。\n\n在chatgpt之前，被公众关注的ai模型是用于单一任务的，比如全球所知的“阿尔法狗”（alphago）可以基于全球围棋棋谱的计算，打赢所有的人类围棋大师。谷歌进一步开发的“alphazero”在围棋、国际象棋和日本象棋等项目上，都是所向无敌。\n\n这种专注于某个具体任务建立的ai数据模型，叫“小模型”。\n\nchatgpt与这种“小模型”不同，gpt大模型更像人类的大脑。它兼具“大规模”和“预训练”两种属性，可以在海量通用数据上进行预先训练，能大幅提升ai的泛化性、通用性、实用性。\n\n大模型是指具有大量参数和计算资源的机器学习模型。这些模型通常在训练过程中需要大量的数据和计算能力，并且具有数百万到数十亿个参数(通常在十亿个以上)。大模型的设计目的是为了提高模型的表示能力和性能，在处理复杂任务时能够更好地捕捉数据中的模式和规律。\n\n大模型的优势在于能够学习更多的特征和模式，从而提高对输入数据的理解和处理能力。它们可以更准确地进行预测和分类，产生更自然的语言生成结果，或者在复杂的决策问题上做出更明智的选择。然而，大模型也存在一些挑战，包括训练时间长、计算资源要求高以及部署和维护的复杂性等。\n\n大模型应用的领域：\n\n 1. 自然语言处理（naturallanguage processing，nlp）：大模型在nlp领域中具有显著的影响力。例如，gpt-3模型能够生成自然语言文本、进行对话和回答问题，bert模型在语义理解和文本分类任务上表现出色。\n\n 2. 计算机视觉（computervision）：大模型在图像识别、目标检测、图像分割等计算机视觉任务中有重要应用。例如，深度卷积神经网络（cnn）的大型变体在图像分类竞赛中取得了卓越成绩。\n\n 3. 语音识别（speechrecognition）：大模型在语音识别领域有广泛应用，帮助改善语音转文字的准确性和自然度。例如，基于循环神经网络（rnn）的大模型在语音识别系统中起着重要作用。\n\n 4. 推荐系统（recommendationsystems）：大模型在个性化推荐系统中扮演着重要角色。它们可以根据用户的历史行为和兴趣，提供个性化的推荐结果，帮助用户发现感兴趣的内容。\n\n 5. 强化学习（reinforcementlearning）：大模型在强化学习领域也得到广泛应用。例如，alphago和alphazero就是基于大模型和深度强化学习技术开发的，取得了在围棋和其他棋类游戏中超越人类水平的成果。\n\n除了以上领域，大模型还在金融预测、医学影像分析、自动驾驶、机器人控制等多个领域有所应用。大模型的强大表示能力使其能够处理复杂的数据和任务，并取得令人瞩目的性能。\n\n\n# 大模型的过人之处\n\n# 涌现\n\n在大型语言模型（llm）中，涌现能力（emergent abilities）是指模型具有从原始训练数据中自动学习并发现新的、更高层次的特征和模式的能力。就中文释义而言，涌现能力也指大语言模型涌现出来的新能力。这有点类似于去超市遇到买二赠一，赠品的质量居然还出乎意料。\n\n在语言模型发展的早期，通过在更多数据上训练更大的模型，可获得近似连续的精确度提升。（可称为缩放定律/scaling laws）到了2015年左右，随着深度学习技术的发展和语料库的增大，模型达到一定的临界规模后，nlp开发者们发现，大语言模型（包括gpt-3、glam、lamda和megatron-turing nlg等）开始表现出一些开发者最开始未能预测的、更复杂的能力和特性，这些新能力和新特性被认为是涌现能力的体现。\n\n涌现能力的另一个重要表现是模型的泛化能力。在没有专门训练过的情况，gpt-4也可以泛化到新的、未知的多模态数据样本上。这种泛化能力取决于模型的结构和训练过程，以及数据的数量和多样性。如果模型具有足够的复杂性和泛化能力，就可以从原始数据中发现新的、未知的特征和模式。\n\n当然，g大模型涌现出的新能力可能仍有局限性，例如：模型可能产生错误的回答，对某些问题缺乏理解，容易受到输入干扰等。目前认为gpt-4的幻觉与其涌现能力具有相关性。\n\nchatgpt，1750亿参数。\n\nchatglm，1300亿参数。\n\n\n\n# few shot\n\nfew shot的能力：提到我们可以给模型一些示例，从而让模型返回更符合我们需求的答案。\n\n 1. 少量示例：大模型能够仅通过几个示例样本来进行学习和理解。相比传统的机器学习方法，大模型不需要依赖大量的标注数据来训练，从而降低了数据收集和标注的成本和时间。\n 2. 泛化能力：大模型能够从少量示例中抽取共同的特征和模式，然后应用这些知识到新的类似任务中。它能够利用其在大规模数据集上训练的经验和语言理解能力，对新的问题进行推理和分类。\n\n\n\n# 思维链\n\n思维链（chain of thought）可视为大语言模型涌现出来的核心能力之一。\n\n思维链形成机制可以解释为模型通过学习大量的语言数据来构建一个关于语言结构和意义的内在表示，通过一系列中间自然语言推理步骤来完成最终输出。思维链是chatgpt和gpt-4能让大众感觉到语言模型“像人”的关键特性。 对创企来说，完成思维链的训练，才算真正拿到了这波大模型ai竞技的入场券。\n\n一般认为模型的思维推理能力与模型参数大小有正相关趋势，一般是突破一个临界规模（大概62b，b代表10亿），模型才能通过思维链提示的训练获得相应的能力。\n\n通过向大语言模型展示一些少量的样例，并在样例中解释推理过程，大语言模型在回答提示时也会显示推理过程。这种推理的解释往往会引导出更准确的结果。\n\n\n\n\n# 大模型的缺陷\n\n致命的缺陷，那就是大模型的生成”幻觉“(hallucination)问题，也就是经常遇到的“一本正经的胡说八道”。生成幻觉通常是指模型按照流畅正确的语法规则产生的包含虚假信息甚至毫无意义的文本。这对于大模型的实际部署是一个非常具有挑战性的问题。\n\n\n# llm\n\nlarge language model（大型语言模型）：llm可以指代大型的自然语言处理（nlp）模型，如gpt-3（generative pre-trained transformer 3）等。这些模型使用深度学习技术，具有大量的参数和复杂的结构，能够生成高质量的自然语言文本。\n\n大语言模型是基于概率的生成模型的一种。它可以根据给定的输入上下文生成可能的输出文本。这种模型的训练过程是基于概率模型的最大似然估计，通过学习大量的文本数据来捕捉语言的统计规律。\n\n> "基于概率模型的最大似然估计"是一种统计学方法，用于估计概率模型中的参数。在这种方法中，我们假设观测数据是由一个特定的概率模型生成的，并且我们的目标是找到使得观测数据出现的概率最大的参数值。\n> \n> 最大似然估计的基本思想是，通过最大化观测数据的似然函数来确定参数的值。似然函数是一个关于参数的函数，表示给定参数值时观测数据出现的概率。最大似然估计的目标是找到使得似然函数取得最大值的参数值。\n> \n> 最大似然估计在统计学中被广泛应用，可以用于估计各种概率模型的参数，如高斯分布、伯努利分布、多项式分布等。它是一种常用的参数估计方法，具有良好的性质和统计学意义。\n> \n> 概率模型可以理解为，它只是读过了很多文字，然后在你问出问题后，试图根据问题来检索它所读过的那些文字，然后拼凑出句子。\n> \n> 如果你问它一些它没有读过的文字，它同样会给出它认为概率最高的答案，但那个答案可能会是错误的\n\n# 发展史\n\n大预言模型经历了5个阶段，分别是：基于n-gram的语言模型、基于神经网络的语言模型、递归神经网络语言模型、长短时记忆网络语言模型、门控循环单元语言模型、大规模预训练语言模型。\n\n1.基于n-gram的语言模型\n\n在计算机科学早期，基于n-gram的语言模型是一种常见的统计语言模型。它通过统计一个词或者一组词在语言中出现的频率，来计算一个句子的概率。这种方法虽然简单，但是在语言模型的设计中起到了重要作用。\n\n2.基于神经网络的语言模型\n\n随着深度学习技术的发展，基于神经网络的语言模型开始受到广泛关注。这种方法使用一个深度神经网络来学习语言的规律和模式。在这个神经网络中，每个词被表示为一个向量，然后将它们送入神经网络进行训练。这种方法可以避免使用n-gram方法中需要存储的大量数据，从而大大提高了语言模型的性能和效率。\n\n3.递归神经网络语言模型\n\n递归神经网络（rnn）是一种特殊的神经网络，可以处理序列数据。rnn语言模型使用rnn来对句子中的词进行建模，从而可以考虑上下文信息，进一步提高模型的性能。然而，rnn语言模型存在着梯度消失和梯度爆炸等问题，限制了其在长序列数据处理中的表现。\n\n4.长短时记忆网络语言模型\n\n为了解决rnn语言模型中的梯度消失和梯度爆炸等问题，长短时记忆网络（lstm）被引入到语言模型中。lstm可以更好地捕捉长序列中的依赖关系，从而提高了模型的性能和泛化能力。\n\n5.门控循环单元语言模型\n\n门控循环单元（gru）是lstm的一个变种，它可以在更简单的结构下实现类似的处理效果。与lstm相比，gru模型的参数更少，训练速度更快，因此在一些应用场景中表现更优。\n\n6.大规模预训练语言模型\n\n近年来，大规模预训练语言模型已经成为了大语言模型的主流发展方向。这种方法通过在大规模文本数据上进行自监督学习，构建一个预训练的语言模型，并在此基础上进行微调，来完成各种自然语言处理任务。例如，bert、gpt和xlnet等模型已经在各种自然语言处理任务中取得了很好的表现。\n\n# 网络架构及技术\n\n我们可以将llm分成2类：encoder-decoder（或者encoder-only）和decoder-only。它们的技术特点和模型代表如下：\n\n模型架构                                     训练方式         模型类型                  预训练任务        代表性模型\nencoder-decoder或者 encoder-only（bert样式）   masked语言模型   判别式（discriminative）   预测masked单词   elmo, bert, roberta, distilbert, biobert, xlm, xlnet,\n                                                                                         albert, electra, t5, xlm-e, st-moe, alexatm\ndecoder-only （gpt样式）                     自回归语言模型      生成式（generative）       预测下一个单词      gpt-3, opt,palm, bloom, glm, mt-nlg, glam,gopher,\n                                                                                         chinchilla, lamda, gpt-j, llama, gpt-4, bloomberggpt\n\n自回归语言模型在最近发布的模型中都是十分流行的。通过下图对这几类模型做了很好的总结：\n\n\n\n首先红色的分支是指encoder-only技术，最早是bert模型，到了2020年之后，这类技术基本已经不再发展。中间绿色部分是encoder-decoder类型，近几年似乎也就是google坚持这类路线的模型较多。\n\n绿色的encoder-decoder模型相比encoder-only模型，通常具有更强的序列学习和生成能力，尤其擅长实现输入序列到输出序列的结构映射，所以在机器翻译、文摘生成和聊天机器人等任务上有更好的应用前景。但encoder-only的模型结构简单, training 和inference 速度更快，在一些简单分类或标注任务上也具有优势。\n\n最后一类蓝色的是decoder-only类型，也是最繁荣发展的一类transformer模型。最早是gpt-1提出，此后包括metaai、百度、google、openai、eleutherai等公司都提出了这种架构的模型。\n\ndecoder-only模型仅具有解码器部分，没有编码器部分。decoder-only模型相比encoder-decoder模型有以下主要优势:\n\n 1. 结构简单，训练和推理速度快。由于没有encoder部分,整个模型的参数和运算量都减少了一半以上，这使得decoder-only模型训练和部署起来更加高效。\n 2. 适用于纯生成任务。decoder-only模型专注于生成输出序列，而不需要考虑编码输入信息的问题，所以更适用于如文本生成、情节生成和对话生成等纯生成任务。\n 3. 避免了encoder-decoder训练中的一些难点。仅训练一个decoder可以避免诸如不同权重初始化、信息瓶颈等 encoder-decoder训练过程中的一些难题。\n 4. decoder自我监督。在decoder-only模型的训练中，上一步生成的输出作为下一步的输入，这实现了decoder部分的自我监督，有利于生成更为连贯和结构性的输出序列。\n\n# 基座模型\n\n基础语言模型(basic language model)是指只在大规模文本语料中进行了预训练的模型，未经过指令和下游任务微调、以及人类反馈等任何对齐优化。\n\n通俗的讲，一个人掌握了知识，但并不一定会考试，比如\n\n\n\n# t5\n\nt5 是谷歌提出了一个统一预训练模型和框架，模型采用了谷歌最原始的 encoder-decoder transformer结构。t5将每个文本处理问题都看成“text-to-text”问题，即将文本作为输入，生成新的文本作为输出。通过这种方式可以将不同的 nlp 任务统一在一个模型框架之下，充分进行迁移学习。为了告知模型需要执行的任务类型，在输入的文本前添加任务特定的文本前缀 (task-specific prefifix ) 进行提示，这也就是最早的 prompt。也就说可以用同样的模型，同样的损失函数，同样的训练过程，同样的解码过程来完成所有 nlp 任务。\n\nt5 本身主要是针对英文训练，谷歌还发布了支持 101 种语言的 t5 的多语言版本 mt5[2]。\n\n# gtp-3\n\n大语言模型中最具代表和引领性的就是发布 chatgpt 的 openai 的 gpt 系列模型 （gpt-1、gpt-2、gpt-3、gpt-3.5、gpt-4），并且当前大部分大语言模型的结构都是 gpt-style ，文章生成式预训练模型中介绍了gpt-1/2/3， 且从 gpt-3 开始才是真正意义的大模型。\n\ngpt-3 是 openai 发布的 gpt 系列模型的一个，延续了 gpt-1/2 基于transformer decoder 的自回归语言模型结构，但 gpt-3 将模型参数规模扩大至 175b， 是 gpt-2 的 100 倍，从大规模数据中吸纳更多的知识。gpt-3不在追求 zero-shot 的设定，而是提出 in-context learning ，在下游任务中模型不需要任何额外的微调，利用 prompts 给定少量标注的样本让模型学习再进行推理生成。就能够在只有少量目标任务标注样本的情况下进行很好的泛化，再次证明大力出击奇迹，做大模型的必要性。通过大量的实验证明，在 zero-shot、one-shot 和 few-shot 设置下，gpt-3 在许多 nlp 任务和基准测试中表现出强大的性能，只有少量目标任务标注样本的情况下进行很好的泛化，再次证明大力出击奇迹，做大模型的必要性。\n\n# llama\n\nllama 是 meta ai 发布的包含 7b、13b、33b 和 65b 四种参数规模的基础语言模型集合，llama-13b 仅以 1/10 规模的参数在多数的 benchmarks 上性能优于 gpt-3(175b)，llama-65b 与业内最好的模型 chinchilla-70b 和 palm-540b 比较也具有竞争力。\n\n这项工作重点关注使用比通常更多的 tokens 训练一系列语言模型，在不同的推理预算下实现最佳的性能，也就是说在相对较小的模型上使用大规模数据集训练并达到较好性能。chinchilla 论文中推荐在 200b 的 tokens 上训练 10b 规模的模型，而 llama 使用了 1.4t tokens 训练 7b的模型，增大 tokens 规模，模型的性能仍在持续上升。\n\n# glm-130b\n\nglm-130b 是清华大学与智谱ai共同研制的一个开放的双语（英汉）双向密集预训练语言模型，拥有 1300亿个参数，使用通用语言模型（general language model， glm）的算法进行预训练。 2022年11月，斯坦福大学大模型中心对全球30个主流大模型进行了全方位的评测，glm-130b 是亚洲唯一入选的大模型。glm-130b 在广泛流行的英文基准测试中性能明显优于 gpt-3 175b(davinci)，而对 opt-175b 和 bloom-176b 没有观察到性能优势，它还在相关基准测试中性能始终显著优于最大的中文语言模型 ernie 3.0 titan 260b。glm-130b 无需后期训练即可达到 int4 量化，且几乎没有性能损失；更重要的是，它能够在 4×rtx 3090 (24g) 或 8×rtx 2080 ti (11g) gpu 上有效推理，是使用 100b 级模型最实惠的 gpu 需求。\n\n> int4量化是指将机器学习模型中的浮点数运算替换为整数运算，以减少模型推理的能耗和延迟。这种量化方法主要应用于神经网络推理，尤其是深度学习模型的部署。int4量化算法通过对模型参数进行缩放和偏移，将浮点数转换为等效的整数，从而在保证模型精度的前提下，降低计算复杂度和存储需求。这种量化方法已被广泛用于各种硬件平台和实际应用中，以实现更高效和节能的ai推理。\n\n# 指令模型\n\n指令模型(instruction-finetuned language model)，这里的 instruction[19] （指令）是指通过自然语言形式对任务进行描述。如下图所示，对于翻译任务，在对需要翻译的句子 "i love you." 前加入任务指令 "translate the given english utterance to french script." 告诉模型要执行的任务和要求。这种方式符合模型生成的工作模型，最重要的是对于未知任务具有较好的 zero-shot 性能表现。通过将各种不同的任务转化为指令数据形式，对语言模型进行进一步微调。\n\n通俗的讲，就是刷题。\n\n\n\n# chatgpt\n\nchatgpt 是在 gpt-3.5 基础上进行微调得到的，微调时使用了从人类反馈中进行强化学习的方法（reinforcement learning from human feedback，rlhf），这里的人类反馈其实就是人工标注数据，来不断微调 llm，主要目的是让llm学会理解人类的命令指令的含义（比如文生成类问题、知识回答类问题、头脑风暴类问题等不同类型的命令），以及让llm学会判断对于给定的prompt输入指令（用户的问题），什么样的答案输出是优质的（富含信息、内容丰富、对用户有帮助、无害、不包含歧视信息等多种标准）。\n\n其实从 gpt-1到 gpt-3.5 可以发现更大的语言模型虽然有了更强的语言理解和生成的能力，但并不能从本质上使它们更好地遵循或理解用户的指令意图。例如，大型语言模型可能会生成不真实、有害或对用户没有帮助的输出，原因在于这些语言模型预测下一个单词的训练目标与用户目标意图是不一致的。为了对齐语言模型于人类意图，chatgpt展示了一种途径，可以引入人工标注和反馈，通过强化学习算法对大规模语言模型进行微调，在各种任务上使语言模型与用户的意图保持一致，输出人类想要的内容。\n\n# alpaca\n\nalpaca（羊驼）模型是斯坦福大学基于 meta 开源的 llama-7b 模型微调得到的指令遵循（instruction-following）的语言模型。在有学术预算限制情况下，训练高质量的指令遵循模型主要面临强大的预训练语言模型和高质量的指令遵循数据两个挑战，作者利用 openai 的 text-davinci-003 模型以 self-instruct 方式生成 52k 的指令遵循样本数据，利用这些数据训练以有监督的方式训练 llama-7b 得到 alpaca 模型。在测试中，alpaca 的很多行为表现都与 text-davinci-003 类似，且只有 7b 参数的轻量级模型 alpaca 性能可与 gpt-3.5 这样的超大规模语言模型性能媲美。\n\n# chatglm\n\nchatglm 是清华大学知识工程（keg）实验室与其技术成果转化的公司智谱ai基于此前开源的 glm-130b 千亿基座模型研制，是一个初具问答和对话功能的千亿中英语言模型。chatglm 参考了 chatgpt 的设计思路，在千亿基座模型 glm-130b 中注入了代码预训练，通过有监督微调（supervised fine-tuning）、反馈自助（feedback bootstrap）、人类反馈强化学习（reinforcement learning from human feedback） 等技术实现人类意图对齐。\n\n2023年6月14日，开源了62 亿参数的 chatglm-6b，结合模型量化技术，用户可以在消费级的显卡上进行本地部署（int4 量化级别下最低只需 6gb 显存），虽然规模不及千亿模型，但大大降低了用户部署的门槛，并且已经能生成相当符合人类偏好的回答。\n\n2023年6月25日，二代模型 chatglm2-6b 模型开源，更强大的性能（mmlu [+23%]、c-eval [+33%]、gsm8k [+571%] ）、更长的上下文（2k扩展到8k）、更高效的推理（推理速度提升42%）、更开放的开源协议。同时也推出了chatglm2-6b、chatglm2-12b、chatglm2-32b、chatglm2-66b、chatglm2-130b不同参数规模的模型。\n\n\n# 预训练\n\n# 什么是预训练？\n\n大模型的预训练是指在使用大量数据集进行训练的大型深度学习模型中，预先训练权重的过程。这个过程通常在非常大的数据集上进行，例如在包含数百万甚至数十亿样本的数据集上训练模型。预训练模型通常包含大量的参数，因此需要大量的计算资源和内存。\n\n预训练属于迁移学习的范畴。现有的神经网络在进行训练时，一般基于反向传播（back propagation，bp）算法，先对网络中的参数进行随机初始化，再利用随机梯度下降（stochastic gradient descent，sgd）等优化算法不断优化模型参数。而预训练的思想是，模型参数不再是随机初始化的，而是通过一些任务进行预先训练，得到一套模型参数，然后用这套参数对模型进行初始化，再进行训练。\n\n预训练模型的主要优点是可以利用大规模数据集和计算资源来提高模型的泛化能力。由于预训练模型已经在大量数据上进行了训练，因此它们可以在类似的数据集上进行微调，从而在较少的训练样本上获得更好的性能。此外，预训练模型还可以作为一个强大的特征提取器，提取出文本、图像或其他数据的特征，以便于后续的分类或回归任务。\n\n通俗的讲，预训练是将大量低成本收集的训练数据放在一起，经过某种预训练的方法去学习其中的共性，然后将其中的共性 “移植” 到特定任务的模型中，再使用相关特定领域的少量标注数据进行 “微调”。因此，模型只需要从“共性” 出发，去 “学习” 该特定任务的 “特殊” 部分。\n\n举例：让一个完全不懂英文的人去做英文法律文书的关键词提取的工作会完全无法进行，或者说他需要非常多的时间去学习，因为他现在根本看不懂英文。但是，如果让一个英语为母语但没接触过此类工作的人去做这项任务，他可能只需要相对比较短的时间学习如何去提取法律文书的关键词就可以上手这项任务。在这里，英文知识就属于 “共性” 的知识，这类知识不必要只通过英文法律文书的相关语料进行学习，而是可以通过大量英文语料，不管是小说、书籍，还是自媒体，都可以是学习资料的来源。在该例中，让完全不懂英文的人去完成这样的任务，这就对应了传统的直接训练方法，而完全不懂英文的人如果在早期系统学习了英文，再让他去做同样的任务，就对应了 “预训练 + 微调” 的思路，系统的学习英文即为 “预训练” 的过程。\n\n大语言模型的预训练是指搭建一个大的神经网络模型并喂入海量的数据以某种方法去训练语言模型。大语言模型预训练的主要特点是训练语言模型所用的数据量够多、模型够大。\n\n# 模型如何够大？\n\n大模型的大小取决于其参数量，参数量是指模型中需要学习的可调整参数的数量。参数量越大，模型的容量和表达能力就越强，可以更好地拟合复杂的数据和任务。\n\n以下是影响大模型参数量的几个因素：\n\n 1. 模型架构：模型的架构决定了参数的数量。不同的架构具有不同数量的层、单元和连接，从而影响参数量。例如，transformer模型通常具有大量的自注意力头和多层结构，因此参数量较大。\n 2. 模型层数：模型的层数指的是模型中的隐藏层数量。增加层数可以增加模型的深度，从而提高模型的表达能力。然而，层数增加也会导致参数量的增加。\n 3. 模型宽度：模型的宽度指的是每个隐藏层中的单元数量。增加宽度可以增加模型的容量，使其能够处理更多的特征和信息。但是，宽度的增加也会导致参数量的增加。\n 4. 输入维度：模型的输入维度也会影响参数量。如果输入维度较高，模型需要更多的参数来处理输入数据。\n\n需要注意的是，参数量的增加并不总是意味着模型性能的提升。过大的模型可能会导致过拟合问题，而且训练和推理的计算成本也会增加。因此，在选择模型大小时，需要综合考虑模型的性能需求、计算资源和数据规模等因素。\n\n# 基本原理\n\n大语言模型预训练采用了 transformer 模型的解码器部分，由于没有编码器部分，大语言模型去掉了中间的与编码器交互的多头注意力层。如下图所示，左边是 transformer 模型的解码器，右边是大语言模型的预训练架构\n\n\n\n大语言模型预训练是通过上文的词来预测下一个词，属于无监督的预训练。比如，给定一个无监督的语料u={u1,...,un}，而预训练语言模型是要使得下面式子最大化：\n\n$l1(u)=σip(ui∣ui−k,...,ui−1;θ)$\n\n# 预训练步骤\n\n 1. 数据收集：首先，需要收集大量的文本数据作为预训练的输入。这些数据可以来自互联网、书籍、新闻文章、维基百科等多个来源，以确保模型能够学习到广泛的语言知识和语义关系。\n 2. 数据预处理：在进行预训练之前，需要对收集到的文本数据进行预处理。这包括分词、标记化、去除停用词、处理特殊字符等操作，以便将文本数据转化为模型可以处理的格式。\n 3. 模型架构：选择适当的模型架构，如transformer，作为预训练模型的基础。transformer是一种基于自注意力机制的深度学习模型，被广泛用于自然语言处理任务。\n 4. 预训练过程：使用预处理后的文本数据，将其输入到模型中进行训练。预训练过程通常采用无监督学习的方式，即模型在没有标签或任务指导的情况下学习语言的统计规律和语义关系。这个过程可以通过最大似然估计等方法来优化模型参数。\n 5. 微调和迁移学习：在预训练完成后，可以使用微调或迁移学习的方法，将预训练模型应用于特定的任务。通过在特定任务上进行有监督的训练，模型可以进一步适应任务的要求，并提高性能。\n\n\n# 微调\n\n# 什么是微调？\n\n大模型微调是指针对特定任务对预训练的大模型进行微小调整。它是使用少量目标领域的样本数据进行训练，以优化模型在特定任务上的性能。大模型微调可以看作是在预训练模型的基础上，对模型的特定功能进行“调教”，即通过输入特定领域的数据集，让模型学习这个领域的知识，从而让大模型能够更好的完成特定领域的nlp任务，例如情感分析、命名实体识别、文本分类、对话聊天等。\n\n# 微调方式\n\n微调预训练模型的方法：(todo模型分哪些层，作用)\n\n * 微调所有层：将预训练模型的所有层都参与微调，以适应新的任务。\n * 微调顶层：只微调预训练模型的顶层，以适应新的任务。\n * 冻结底层：将预训练模型的底层固定不变，只对顶层进行微调。\n * 逐层微调：从底层开始，逐层微调预训练模型，直到所有层都被微调。\n * 迁移学习：将预训练模型的知识迁移到新的任务中，以提高模型性能。这种方法通常使用微调顶层或冻结底层的方法。\n\n目前来说，我们常用的方法一般是前三种。简单来说模型的参数就类比于，一个在大学学习到所有专业的知识的大学生，基于过往的学习经验以及对生活中的一些事情，已经有了属于自己的一套学习方法思维逻辑。而微调则是一个大学生毕业后从事某一种行业的工作，那他就要开始学习工作上的内容，来产出工作的成果。下面我们就来介绍一些常用的微调方法。\n\n# 1.fine tuning\n\nfine tuning是一种在自然语言处理（nlp）中使用的技术，用于将预训练的语言模型适应于特定任务或领域。fine tuning的基本思想是采用已经在大量文本上进行训练的预训练语言模型，然后在小规模的任务特定文本上继续训练它。\n\n经典的fine tuning方法包括将预训练模型与少量特定任务数据一起继续训练。在这个过程中，预训练模型的权重被更新，以更好地适应任务。所需的fine-tuning量取决于预训练语料库和任务特定语料库之间的相似性。如果两者相似，可能只需要少量的fine tuning。如果两者不相似，则可能需要更多的fine tuning。\n\n\n\n# 2.prompt tuning\n\n参数高效性微调方法中实现最简单的方法还是prompt tuning(也就是我们常说的p-tuning)，固定模型前馈层参数，仅仅更新部分embedding参数即可实现低成本微调大模型\n\n经典的prompt tuning方式不涉及对底层模型的任何参数更新。相反，它侧重于精心制作可以指导预训练模型生成所需输出的输入提示或模板。主要结构是利用了一个prompt encoder（bilstm+mlp），将一些pseudo prompt先encode（离散token）再与input embedding进行拼接，同时利用lstm进行 reparamerization 加速训练，并引入少量自然语言提示的锚字符（anchor，例如britain）进一步提升效果。然后结合（capital，britain）生成得到结果，再优化生成的encoder部分。但是p-tuning v1有两个显著缺点：任务不通用和规模不通用。在一些复杂的自然语言理解nlu任务上效果很差，同时预训练模型的参数量不能过小。\n\n# prefix tuning\n\n如果分析 p-tuning，那不得不提到prefix-tuning技术，相对于fine-tuning，在调节模型的过程中只优化一小段可学习的continuous task-specific vector（prefix）而不是整个模型的参数。\n\nprefix tuning针对不同的模型结构有设计不同的模式，以自回归的模型为例，不再使用token去作为前缀，而是直接使用参数作为前缀，比如一个$l × d$的矩阵$p$作为前缀，但直接使用这样的前缀效果不稳定，因此使用一个mlp层重参数化，并放大维度$d$，除了在embedding层加入这个前缀之外，还在其他的所有层都添加这样一个前缀。最后微调时只调整前缀的参数，大模型的参数保持不变。保存时只需要为每个任务保存重参数的结果即可。\n\n# 3.p-tuning v2\n\nv2版本主要是基于p-tuning和prefix-tuning技术，引入deep prompt encoding和multi-task learning等策略进行优化的。\n\n实验表明，仅精调0.1%参数量，在330m到10b不同参数规模lm模型上，均取得和fine-tuning相比肩的性能 下面是v1和v2框架对比，我们可以看到右侧的p-tuning v2中，将continuous prompt加在序列前端，并且每一层都加入可训练的prompts。在左图v1模型中，只将prompt插入input embedding中，会导致可训练的参数被句子的长度所限制。此外p-tuning v2还包括以下改进：\n\n * 移除了reparamerization加速训练方式；\n * 采用了多任务学习优化：基于多任务数据集的prompt进行预训练，然后再适配的下游任务。\n * 舍弃了词汇mapping的verbalizer的使用，重新利用[cls]和字符标签，跟传统finetune一样利用cls或者token的输出做nlu，以增强通用性，可以适配到序列标注任务。 总而言之，p-tuning v2就是将prefix-tuning应用到nlu任务上的一种方法。同时由于p-tuning v2每层插入了token，增大模型训练的改变量，所以更加适用于小一点的模型。\n\n# 4. lora\n\nlora的本质就是对所有权重矩阵套了一层“壳”，这些壳会对原来的预训练权重矩阵进行加减使其更加适合下游任务，即实现微调。他的假设前提是预训练语言模型具有低的”内在维度”，因此认为在模型适配下游任务的过程中，权重更新也应该具有低的“内在秩”。\n\n在对大语言模型进行微调的公式可以简化为下面的公式 $$ w=w 0 +δw.w∈r d×k ,w 0 ∈r d×k $$ 其中w是微调微调过后的矩阵权重（是大语言模型中的对应的稠密层，一般这些矩阵都是满秩的），$w_0$ 是预训练的权重，$\\delta w$是通过微调而更新的梯度。将上面的$\\delta w$做一些变换，将他变成两个矩阵相乘 $$ w=w 0 +δw=w 0 +ba.b∈r d×r ,a∈r r×k $$ 在里面引入了秩r，$r << min(d,k)$，在训练过程中lora会冻结预训练权重$w_0$，只训练$a$和$b$，减少了需要训练的参数的量，一般来讲,对于lora微调模型来讲r设置的越大其微调效果会越好。\n\nlora算法的核心思想是，将原始矩阵a aa分解为两个低秩矩阵x xx和y yy的乘积形式，即$a=x\\cdot y$。具体地，lora算法会首先对原始矩阵进行svd分解，得到矩阵$a=u\\sigma v^t$，其中$u$和$v$分别是$aa^t$和 $a^ta$的特征向量矩阵，$\\sigma$是奇异值矩阵。然后，lora算法会取$u$的前$k$列和$v$的前$k$行，得到低秩矩阵$x=u(:,1:k)$和$y=v(1:k,:)$，其中$k$是预设的参数，表示矩阵$a$的秩。最后，lora算法将近似矩阵$a_k=x\\cdot y$作为原始矩阵$a$的近似，即$a_k \\approx a$。\n\n最终我们得到的一个权重文件会是各层的$ba$，在推理时是需要计算一下$w = w_0 + ba$，就可以得到最终需要的微调之后的模型权重，该方法的好处如下所示\n\n 1. 减少了需要推理的参数量\n 2. 相较于添加adapter层的方式去微调模型，因为他并没有在模型中添加额外的层，只是在原来的权重上进行权重的加减，微调前后模型的推理时间不变\n 3. 因为他最后生成的权重是各层的$ba$,并没有改变原模型的权重参数，所以其结果相当于一个插件，可以即插即用，可以为多个不同的微调任务生成各自的lora微调权重值，也方便存储。\n\n一般在使用lora去对模型卫星微调的时候需要注意的参数就两个：r和lora_target_modules 。前者决定了lora微调时构造的矩阵的秩的大小（这里也可以简单的理解为矩阵b和a的大小），以及在大语言模型中应用的不同模块。后者模块的具体名称需要依据不同的模型去决定。\n\n# 5.rlhf—人类反馈强化学习\n\nrlhf 的思想就是使用强化学习的方式直接优化带有人类反馈的语言模型。rlhf 使得在一般文本数据语料库上训练的语言模型能和复杂的人类价值观对齐。 rlhf 是一项涉及多个模型和不同训练阶段的复杂概念，一般会分为三步，这也是一个生成自己大模型所必需的。\n\ngpt-4/chatgpt与gpt-3.5的主要区别在于，新加入了被称为rlhf（reinforcement\n\nlearning from human feedback，人类反馈强化学习）的技术\n\n# 6.deepspeed zero——零冗余优化\n\ndeepspeed是微软的大规模分布式训练工具。专门用于训练超大模型。其具有的3d 并行同时解决了训练万亿参数模型的两个基本挑战：显存效率和计算效率。因此，deepspeed 可以扩展至在显存中放下最巨大的模型，而不会牺牲速度。\n\n# 7.accelerate\n\naccelerate[7]库提供了简单的 api，使我们可以在任何类型的单节点或分布式节点(单cpu、单gpu、多gpu 和 tpu)上运行，也可以在有或没有混合精度(fp16)的情况下运行。\n\n# 8.autocast\n\nautocast是在gpu上训练时一种用于降低显存消耗的技术。原理是用更短的总位数来保存浮点数，能够有效将显存消耗降低，从而设置更大的batch来加速训练。但会造成精度的损失，导致收敛效果也会变差。\n\n\n# prompt\n\n# prompt是什么\n\nprompt就是给ai的指令，引导模型生成响应的回答。\n\n“中国的首都是哪里？” \n“中国的首都是北京”\n\n\n1\n2\n\n\n# prompt工程是什么\n\n提示工程（prompt engineering）是指根据特定的目标和语境设计出一系列问题或任务，以便使用大模型生成有关主题或主题领域的连贯和有意义的文本。提示工程的目标是通过精心设计提示以从模型中引出所需的响应，来提高生成文本的质量和相关性。提示工程与思维链的产生密不可分，也是目前自然语言编程的理论基础。\n\n对于基于转换器的大型语言模型（如openai的gpt系列），输入提示在提高模型理解、回答问题、生成有用输出等方面具有关键作用。prompt工程包括问题构建、上下文引导、间接引导和分步引导等多个方面，以帮助ai模型更好地理解和解决各种问题。\n\n\n\n▲语言模型的4种研究范式（来源：卡内基梅隆大学）\n\n大概在2017-2019年间，语言模型的研究重心逐渐从传统特定领域的有监督学习模式（基于非神经网络或神经网络）转移到预训练模型上。在那时，基于预训练语言模型的研究范式通常是“预训练+精调”（pre-train+fine-tune），即在精调阶段，根据下游任务对预训练模型进行微调，以获得更好效果。\n\n\n\n这里举一个填充提示的简单例子。（上图）我们从输入x（比如电影评论）开始，然后输出期望值y。其中一个任务是使用提示函数重新模板化此输入，其输出表示为x\'。此时语言模型的任务仅仅是预测z值（句子中的一个词）来代替占位符z。然后对于z被答案填充的提示，我们将其称为填充提示。通过这一提示方式，在对应细分场景下，语言模型将原来的问题的期望值y（一句话）简化为答案z（一个词）的计算，明显降低了应答的复杂度。\n\n\n\n# prompt的结构\n\n 1. context（可选）\n    1. 角色\n    2. 任务\n    3. 知识\n 2. instruction（必选）\n    1. 步骤\n    2. 思维链\n    3. 示例\n 3. input data（必选）\n    1. 句子\n    2. 文章\n    3. 问题\n 4. output indicator（可选）\n\n示例\n\n你是一名机器学习工程师，负责开发一个文本分类模型，该模型可以将电影评论分为正面评价和负面评价两类。\n\n请根据以下上下文和输入，对文本进行分类，并给出相应的输出类别。\n\n示例：\n输入文本：这部电影真是太精彩了！演员表现出色，剧情扣人心弦，强烈推荐！\n输出类别：正面评价\n\n输入文本：这部电影真是太精彩了！演员表现出色，剧情扣人心弦，强烈推荐！\n输出类别：\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 如何写出好的prompt\n\n# 清晰和明确的指令\n\n举例\n\n * "请解释什么是人工智能？"\n\n * "列出三个关于太阳系的事实。"\n\n * "回答以下数学问题：2 + 2 = ?"\n   \n   vs\n\n * "谈谈科技。"\n\n * "讲个笑话。"\n\n * "说一些关于历史的事情。"\n\n# 分隔符\n\n 1. """..."""（推荐）\n 2. <...>\n 3. ---...---\n\n# 样例数据\n\n请按照以上格式直接回答问题。只能给出答案，不要生产其他内容。\n\n问题：日本的首都是哪里？\n答案：东京\n\n问题：法国的首都是哪里？\n答案：\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 思维链\n\n你是一个智能助理，用户会称呼你小爱或小爱同学，你需要帮用户结构化记录生日信息、物品存放信息、月经信息\n用户输入是一句非常口语化的指令，你需要记录用户指令，并从用户的指令中结构化的输出提取出信息\n输出完毕后结束，不要生成新的用户输入，不要新增内容\n\n1.提取话题，话题只能是：生日、纪念日、月经、物品存放。\n2.提取目的，目的只能是：记录、预测、查询、庆祝、设置、记录物品、拿到物品、寻找、删除、修改。\n3.提取人物，人物指：过生日的人物、过纪念日的人物、来月经的人物、放物品的人物。输出只能是：我，爸爸、妈妈、孩子、爱人、恋人、朋友、哥哥、姐姐。没有写“无”\n4.提取人关系，关系指人物与用户的关系，关系只能是：本人、亲人、配偶、朋友、未知、待查询。没有写“无”\n5.提取时间，比如：今天、3月1日、上个月、农历二月初六、待查询。没有写“无”\n6.提取时间类型，时间类型只能是：过生日的时间、过纪念日的时间、月经开始时间、月经结束时间。 没有写“无”\n7.提取物品，比如：衣服、鞋子、书、电子产品、其它。\n8.提取物品对应位置，比如：衣柜、书柜、鞋柜、电子产品柜、待查询。\n9.按示例结构输出内容，结束\n\n用户：充电器放包里了\n话题：物品存放\n目的：记录\n人物：无\n关系：无\n时间：无\n时间类型：无\n物品：充钱器\n位置：包里\n\n用户：今天我过生日\n话题：生日\n目的：记录\n人物：我\n关系：本人\n时间：今天\n时间类型：生日时间\n物品：无\n位置：无\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n# 计算步骤\n\n小明有5个苹果，他又买了2袋子苹果，每个袋子里有3个苹果，小明一共有几个苹果？\n\n计算过程：\n1，小明开始有5个苹果。\n2，2个袋子里，每个袋子里有3个苹果。3*2=6\n3，一共有5+6=11个苹果。\n答案：\n小明一共有11个苹果。\n\n小明有11个苹果，他又买了3袋子苹果，每个袋子里有4个苹果，小明一共有几个苹果？\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n技巧\n\n * 流程简单：过于复杂的流程会增加大模型出错概率，应该尽量减少流程\n * 理解语义：不能强制大模型输出某些内容，要根据语义输出合适的枚举\n * 多肯定：多用肯定句，告诉大模型要做什么，不是限制大模型不做什么\n * 结合功能：要结合功能流程设计prompt，不能期望一次与大模型的交互解决一切问题\n\n\n# 应用\n\n# 大模型能做什么\n\n# 文本生成\n\n * 广告文案\n * 小说\n * 分析报告\n\n# 文本提炼\n\n * 总结文章重点\n * 用户需求提取\n * 用户画像提取\n * 建立内容提取\n\n# 信息转换\n\n * 代码生成\n * 语言翻译\n * 代码解释\n\n# 大模型能不做什么\n\n * 它不是搜索引擎。\n   * 他可以是搜索引擎的辅助\n * 他不是数据库，没办办法记住读过的每一本书。\n   * 他可以和embedding技术结合\n\n# 实际案例\n\n * 代码提示、编写\n * 通过微调将行业知识融入进入大模型，比如将骨科x光，可以做到从海量病例中快速给出检查结果，甚至拍片不再需要去医院，自助照相一样简单。\n * 写小说，写小红书文案，写抖音视频录制脚本\n\n\n# 本地知识库\n\nlangchain-chatchat (原名langchain-chatglm)，一种利用 langchain 思想实现的基于本地知识库的问答应用，目标期望建立一套对中文场景与开源模型支持友好、可离线运行的知识库问答解决方案。支持多种大语言模型。\n\n\n# 原理\n\n本项目实现原理如下图所示，过程包括加载文件 -> 读取文本 -> 文本分割 -> 文本向量化 -> 问句向量化 -> 在文本向量中匹配出与问句向量最相似的 top k个 -> 匹配出的文本作为上下文和问题一起添加到 prompt中 -> 提交给 llm生成回答。\n\n\n\n\n\n# langchain介绍\n\nlangchain是一个开源库，旨在利用大型语言模型（llm）的能力，并将它们与其他计算或知识源结合起来创建强大的应用程序。它是一种工具箱，为llms提供标准接口，并促进它们与其他工具的集成。\n\n通过将llms与其他计算（例如执行复杂数学运算的能力）和知识库（例如提供实时库存）混合使用，langchain可以使开发人员更容易地创建能够回答特定文档的问题、支持聊天机器人，以及创建决策制定代理等应用程序。\n\n# embedding\n\n大模型的嵌入（embedding）是指将高维度的数据（例如文本、图片、音频）映射到低维度空间的过程。在自然语言处理（nlp）中，大模型的嵌入通常用于将单词、短语或句子等文本单位表示为实数向量。\n\n大模型的嵌入是通过训练模型从数据中学习得到的。在nlp中，常用的嵌入方法是词嵌入（word embedding），它将单词映射到连续的向量空间中。词嵌入可以捕捉到单词之间的语义和语法关系，使得相似的单词在嵌入空间中距离较近。\n\n大模型的嵌入可以通过不同的方法来获取，其中最常见的方法是使用预训练的嵌入模型，如word2vec、glove和bert等。这些预训练模型在大规模的文本数据上进行训练，学习得到了丰富的语言知识和语义关系。通过使用这些预训练模型，可以将文本单位转换为具有语义信息的向量表示。\n\n大模型的嵌入在nlp任务中具有广泛的应用，如文本分类、命名实体识别、情感分析、机器翻译等。通过将文本单位表示为嵌入向量，可以更好地捕捉到文本的语义信息，从而提高模型在这些任务上的性能。\n\n以下是几个常用的嵌入模型：\n\n 1. word2vec：word2vec是一种经典的词嵌入模型，它通过训练神经网络来学习单词的分布式表示。word2vec可以捕捉到单词之间的语义和语法关系，常用的训练算法有cbow和skip-gram。\n 2. glove：glove（global vectors for word representation）是一种基于全局词频统计的词嵌入模型。它通过在全局语料库上计算单词之间的共现概率来学习单词的向量表示。glove可以捕捉到单词之间的语义关系和词汇的全局结构。\n 3. fasttext：fasttext是一种基于子词的词嵌入模型，它将单词表示为其子词的平均向量。fasttext可以处理未登录词（out-of-vocabulary）和词形变化等问题，并且在处理具有丰富词汇的语言时表现良好。\n 4. bert：bert（bidirectional encoder representations from transformers）是一种基于transformer模型的预训练语言模型。bert通过在大规模文本数据上进行无监督训练，学习得到了丰富的语言知识和上下文相关的词嵌入。bert在多个nlp任务上取得了显著的性能提升。\n 5. elmo：elmo（embeddings from language models）是一种基于双向lstm的预训练语言模型。elmo通过在大规模文本数据上进行训练，学习得到了上下文相关的词嵌入。elmo的特点是可以根据上下文动态地生成词嵌入。\n\n# 向量数据库介绍\n\n向量数据库是专门用来存储和查询向量的数据库。这些向量通常来自于对文本、语音、图像、视频等的向量化处理。与传统数据库相比，向量数据库可以处理更多非结构化数据（比如图像和音频）。\n\n它通常提供以下功能和特性：\n\n 1. 高效的向量存储：向量数据库使用高效的数据结构和索引技术来存储向量数据。这些技术可以有效地压缩和组织向量，以节省存储空间并提高查询性能。\n 2. 快速的向量查询：向量数据库提供了针对向量数据的高效查询接口。它可以支持基于相似度的查询，例如根据欧氏距离或余弦相似度等度量来搜索最相似的向量。\n 3. 索引和搜索技术：向量数据库使用各种索引和搜索技术来加速向量查询。例如，它可以使用基于树结构的索引（如kd树、球树）或哈希索引来组织和搜索向量数据。\n 4. 扩展性和高可用性：向量数据库通常具有良好的扩展性和高可用性。它可以支持水平扩展，以处理大规模的向量数据集，并提供冗余和故障恢复机制，以确保数据的可靠性和可用性。\n 5. 支持多种数据类型和操作：除了向量数据，向量数据库通常还支持其他数据类型和操作，如标量数据、文本数据和复杂查询操作。这使得它可以适用于各种应用场景和数据处理需求。\n\n向量数据库在许多领域中都有广泛的应用，包括图像搜索、推荐系统、自然语言处理、生物信息学等。它们提供了一种高效和灵活的方式来存储和查询大规模的向量数据，为各种数据驱动的应用提供了强大的支持。\n\n以下是三个常用的向量数据库：\n\n 1. milvus：milvus是一个开源的向量数据库，专门用于存储和查询大规模向量数据。它支持高维向量的存储和快速相似度搜索，并提供了多种索引和搜索算法，如ivf、hnsw等。milvus具有良好的扩展性和高可用性，并提供了python、java、go等多种语言的客户端sdk。\n 2. faiss：faiss是facebook ai research开发的一个高性能向量索引库。它提供了多种索引结构和搜索算法，如ivf、pq等，以支持高效的向量存储和查询。faiss具有出色的性能和可扩展性，并提供了c++和python等语言的接口。\n 3. annoy：annoy是一个快速的近似最近邻搜索库，用于高维向量的存储和查询。它使用了一种基于树的索引结构，可以在大规模向量数据集上进行高效的相似度搜索。annoy支持多种编程语言，如python、c++、java等。\n\n\n# 实战\n\n项目地址：https://github.com/chatchat-space/langchain-chatchat.git\n\n项目搭建参考langchain-chatglm搭建\n\n\n# 应用\n\n * 打造专属私人助理、客服机器人\n\n\n# ai绘画\n\n\n# ai绘画简介\n\n以为图片生成领域来说，最近几年有四大主流生成模型：生成对抗模型（gan）、变分自动编码器（vae）、流模型（flow based model）、扩散模型（diffusion model）等，基本主要都是基于深度学习为训练方式的模型。从2022年开始，主要爆火的图片生成模型是diffusion model（扩散模型）为主\n\n目前适用人数比较多的是stable diffusion、midjourney。\n\n\n# stable diffusion\n\nstable diffusion 算法上来自 “潜在扩散模型”（ldm / latent diffusion model），这个模型又是基于 2015 年提出的扩散模型（dm / diffusion model）。参考论文中介绍算法核心逻辑的插图，stable diffusion 的数据会在像素空间（pixel space）、潜在空间（latent space）、条件（conditioning）三部分之间流转，其算法逻辑大概分这几步：\n\n 1. 图像编码器将图像从像素空间（pixel space）压缩到更小维度的潜在空间（latent space），捕捉图像更本质的信息；\n 2. 对潜在空间中的图片添加噪声，进行扩散过程（diffusion process）；\n 3. 通过 clip 文本编码器将输入的描述语转换为去噪过程的条件（conditioning）；\n 4. 基于一些条件对图像进行去噪（denoising）以获得生成图片的潜在表示，去噪步骤可以灵活地以文本、图像和其他形式为条件（以文本为条件即 text2img、以图像为条件即 img2img）；\n 5. 图像解码器通过将图像从潜在空间转换回像素空间来生成最终图像。\n\n\n# 实战\n\n项目地址：https://github.com/automatic1111/stable-diffusion-webui.git\n\n项目搭建参考stable-diffusion 使用\n\n# 模型下载\n\n点击进入 https://civitai.com/ ，下载【majicmix realistic】，使用默认模型也可以，不过想要生成某个特点的图片还是要找对应的模型。majicmix realistic以写实为主。\n\n# 参数配置\n\n# demo\n\nprompt,生成图片的条件，或者说想要生成什么样的图片\n\n1 girl a 24 y o woman, blonde, dark theme, soothing tones, muted colors, high contrast, look at at viewer, contrasty , vibrant , intense, stunning, captured in the late afternoon sunlight, using a canon eos r6 and a 16-35mm to capture every detail and angle, with emphasis on the lighting and shadows, late afternoon sunlight, 8k\n\n\n1\n\n\nnegative prompt ，反向提示词，不想生成什么样的图片，一般用于阻止生成畸形或血腥场面\n\n(deformed, distorted, disfigured, doll:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (mutated hands and fingers:1.4), disconnected limbs, mutation, mutated, ugly, disgusting, blurry, amputation, 3d, illustration, cartoon, flat , dull , soft, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs,\n\n\n1\n\n\n其他参数\n\n\n\n * 咒语词典，以上是普通使用，prompt还有权重，组合等特性\n   \n   * http://tag.zoos.life/\n   * https://tags.novelai.dev/\n\n * 使用chatgpt写提示词\n\n# stable diffusion prompt 助理\n\n你来充当一位有艺术气息的stable diffusion prompt 助理。\n\n## 任务\n\n我用自然语言告诉你要生成的prompt的主题，你的任务是根据这个主题想象一幅完整的画面，然后转化成一份详细的、高质量的prompt，让stable diffusion可以生成高质量的图像。\n\n## 背景介绍\n\nstable diffusion是一款利用深度学习的文生图模型，支持通过使用 prompt 来产生新的图像，描述要包含或省略的元素。\n\n## prompt 概念\n\n- 完整的prompt包含“**prompt:**”和"**negative prompt:**"两部分。\n- prompt 用来描述图像，由普通常见的单词构成，使用英文半角","做为分隔符。\n- negative prompt用来描述你不想在生成的图像中出现的内容。\n- 以","分隔的每个单词或词组称为 tag。所以prompt和negative prompt是由系列由","分隔的tag组成的。\n\n## () 和 [] 语法\n\n调整关键字强度的等效方法是使用 () 和 []。 (keyword) 将tag的强度增加 1.1 倍，与 (keyword:1.1) 相同，最多可加三层。 [keyword] 将强度降低 0.9 倍，与 (keyword:0.9) 相同。\n\n## prompt 格式要求\n\n下面我将说明 prompt 的生成步骤，这里的 prompt 可用于描述人物、风景、物体或抽象数字艺术图画。你可以根据需要添加合理的、但不少于5处的画面细节。\n\n### 1. prompt 要求\n\n- 你输出的 stable diffusion prompt 以“**prompt:**”开头。\n- prompt 内容包含画面主体、材质、附加细节、图像质量、艺术风格、色彩色调、灯光等部分，但你输出的 prompt 不能分段，例如类似"medium:"这样的分段描述是不需要的，也不能包含":"和"."。\n- 画面主体：不简短的英文描述画面主体, 如 a girl in a garden，主体细节概括（主体可以是人、事、物、景）画面核心内容。这部分根据我每次给你的主题来生成。你可以添加更多主题相关的合理的细节。\n- 对于人物主题，你必须描述人物的眼睛、鼻子、嘴唇，例如\'beautiful detailed eyes,beautiful detailed lips,extremely detailed eyes and face,longeyelashes\'，以免stable diffusion随机生成变形的面部五官，这点非常重要。你还可以描述人物的外表、情绪、衣服、姿势、视角、动作、背景等。人物属性中，1girl表示一个女孩，2girls表示两个女孩。\n- 材质：用来制作艺术品的材料。 例如：插图、油画、3d 渲染和摄影。 medium 有很强的效果，因为一个关键字就可以极大地改变风格。\n- 附加细节：画面场景细节，或人物细节，描述画面细节内容，让图像看起来更充实和合理。这部分是可选的，要注意画面的整体和谐，不能与主题冲突。\n- 图像质量：这部分内容开头永远要加上“(best quality,4k,8k,highres,masterpiece:1.2),ultra-detailed,(realistic,photorealistic,photo-realistic:1.37)”， 这是高质量的标志。其它常用的提高质量的tag还有，你可以根据主题的需求添加：hdr,uhd,studio lighting,ultra-fine painting,sharp focus,physically-based rendering,extreme detail description,professional,vivid colors,bokeh。\n- 艺术风格：这部分描述图像的风格。加入恰当的艺术风格，能提升生成的图像效果。常用的艺术风格例如：portraits,landscape,horror,anime,sci-fi,photography,concept artists等。\n- 色彩色调：颜色，通过添加颜色来控制画面的整体颜色。\n- 灯光：整体画面的光线效果。\n\n### 2. negative prompt 要求\n- negative prompt部分以"**negative prompt:**"开头，你想要避免出现在图像中的内容都可以添加到"**negative prompt:**"后面。\n- 任何情况下，negative prompt都要包含这段内容："nsfw,(low quality,normal quality,worst quality,jpeg artifacts),cropped,monochrome,lowres,low saturation,((watermark)),(white letters)"\n- 如果是人物相关的主题，你的输出需要另加一段人物相关的 negative prompt，内容为：“skin spots,acnes,skin blemishes,age spot,mutated hands,mutated fingers,deformed,bad anatomy,disfigured,poorly drawn face,extra limb,ugly,poorly drawn hands,missing limb,floating limbs,disconnected limbs,out of focus,long neck,long body,extra fingers,fewer fingers,,(multi nipples),bad hands,signature,username,bad feet,blurry,bad body”。\n\n### 3. 限制：\n- tag 内容用英语单词或短语来描述，并不局限于我给你的单词。注意只能包含关键词或词组。\n- 注意不要输出句子，不要有任何解释。\n- tag数量限制40个以内，单词数量限制在60个以内。\n- tag不要带引号("")。\n- 使用英文半角","做分隔符。\n- tag 按重要性从高到低的顺序排列。\n- 我给你的主题可能是用中文描述，你给出的prompt和negative prompt只用英文。\n\n我的第一个主题是： 一个美丽的中国女孩\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# ai绘画网站\n\n * [1] https://creator.nolibox.com/\n\n * [2] https://openai.com/research/clip\n\n\n# 应用\n\n * 结合chatgpt，stablediffusion完成小说及配图。\n\n\n# ai音频生成\n\n本次是对声音克隆的学习。\n\n\n# vits\n\n声学模型是声音合成系统的重要组成部分\n\n\n\nvits（variational inference with adversarial learning for end-to-end text-to-speech）是一种语音合成方法，它使用预先训练好的语音编码器 (vocoder声码器) 将文本转化为语音。\n\nvits 的工作流程如下：\n\n 1. 将文本输入 vits 系统，系统会将文本转化为发音规则。\n 2. 将发音规则输入预先训练好的语音编码器 (vocoder)，vocoder 会根据发音规则生成语音信号的特征表示。\n 3. 将语音信号的特征表示输入预先训练好的语音合成模型，语音合成模型会根据特征表示生成合成语音。\n\n\n# 实战\n\n项目地址: https://github.com/plachtaa/vits-fast-fine-tuning.git\n\n用于声音克隆的项目与很多，大多需要准备高质量的人身数据，不能有伴奏或噪音，并且训练步骤复杂要求的算力也高，本次选择的vits-fast-fine-tuning是一种低成本快速微调方式。\n\n使用20段10秒内的音频即可训练出自己的声音模型,当前训练最快，数据要求最低的项目。\n\n项目搭建参考模拟人声-文字生成语音\n\n\n# 应用\n\n * 有声小说配音\n * 将一个人的行为习惯，思维逻辑数据化，结合大模型进行微调，再模拟其的声线和音色，即可定制出数字人。\n\n\n# 专业术语解释\n\n\n# 训练微调\n\n# 参数解释\n\nepoch：表示将训练数据集中的所有样本都过一遍（且仅过一遍）的训练过程。在一个epoch中，训练算法会按照设定的顺序将所有样本输入模型进行前向传播、计算损失、反向传播和参数更新。一个epoch通常包含多个step。\n\nbatch：一般翻译为“批次”，表示一次性输入模型的一组样本。在神经网络的训练过程中，训练数据往往是很多的，比如几万条甚至几十万条——如果我们一次性将这上万条的数据全部放入模型，对计算机性能、神经网络模型学习能力等的要求太高了；那么就可以将训练数据划分为多个batch，并随后分批将每个batch的样本一起输入到模型中进行前向传播、损失计算、反向传播和参数更新。但要注意，一般batch这个词用的不多，多数情况大家都是只关注batch size的。\n\nbatch size：一般翻译为“批次大小”，表示训练过程中一次输入模型的一组样本的具体样本数量。前面提到了，我们在神经网络训练过程中，往往需要将训练数据划分为多个batch；而具体每一个batch有多少个样本，那么就是batch size指定的了。\n\nstep：一般翻译为“步骤”，表示在一个epoch中模型进行一次参数更新的操作。通俗地说，在神经网络训练过程中，每次完成对一个batch数据的训练，就是完成了一个step。很多情况下，step和iteration表示的是同样的含义。\n\niteration：一般翻译为“迭代”，多数情况下就表示在训练过程中经过一个step的操作。一个iteration包括了一个step中前向传播、损失计算、反向传播和参数更新的流程。当然，在某些情况下，step和iteration可能会有细微的区别——有时候iteration是指完成一次前向传播和反向传播的过程，而step是指通过优化算法对模型参数进行一次更新的操作。但是绝大多数情况下，我们就认为二者是一样的即可。\n\n假设我们现在有一个训练数据集（这个数据集不包括测试集），其中数据的样本数量为1500。那么，我们将这1500条数据全部训练1次，就是一个epoch。其中，由于数据量较大（其实1500个样本在神经网络研究中肯定不算大，但是我们这里只是一个例子，大家理解即可），因此我们希望将其分为多个batch，分批加以训练；我们决定每1批训练100条数据，那么为了将这些数据全部训练完，就需要训练15批——在这里，batch size就是100，而batch就是15。而前面我们提到，每次完成对一个batch数据的训练，就是完成了一个step，那么step和iteration就也都是15。\n\n# 举例\n\n以上是我们对这一数据集加以1次训练（1个epoch）的情况，而一般情况下我们肯定是需要训练多次的，也就是多个epoch。我们假设我们需要训练3个epoch，相当于需要将这1500个样本训练3次。那么，step和iteration都会随着epoch的改变而发生改变——二者都变为45，因为15 * 3。但是，batch依然是15，因为其是在每一个epoch的视角内来看待的，和epoch的具体大小没有关系。\n\n\n# 模型相关\n\n# 模型参数具体是什么数据？\n\n在机器学习中，**模型参数是模型内部用于描述数据的变量。**这些变量通常是在训练期间学习到的，以最小化模型预测与真实数据之间的误差。\n\n具体来说，模型参数可以是权重、偏差或者其他可调整的变量。这些参数通过在训练数据上进行迭代来不断调整，以使模型更准确地预测新的数据。\n\n例如，在神经网络中，模型参数是每个神经元的权重和偏差。在线性回归中，模型参数是回归系数和截距。在支持向量机中，模型参数是决策边界和支持向量。\n\n这些模型参数可以用数值来表示，并且在训练过程中会不断调整以使模型更准确地预测新数据。在训练结束后，这些参数将用于进行预测，以便根据新数据的输入来生成相应的输出。\n\n# 其中模型参数是变量数据还是常量数据？\n\n在深度学习中，模型参数是变量数据，而不是常量数据。在模型训练过程中，模型参数的值是随着训练迭代而不断更新的，这些更新是通过计算损失函数梯度来实现的。因此，模型参数是在训练过程中不断变化的。在训练完成后，这些变量数据会被保存为模型的参数，供后续的推理或使用。但是，在推理或使用过程中，这些参数仍然可以被修改或更新，以适应不同的应用场景或任务。因此，模型参数是变量数据，而不是常量数据。\n\n# 模型参数具体含有哪些数据？\n\n在深度学习中，模型参数指的是神经网络中的权重和偏置，这些参数是用来定义模型的基本结构和特征表示能力的。\n\n具体来说，模型参数包括两部分数据：权重和偏置。\n\n 1. 权重（weights）：指的是神经网络中连接不同层之间的权重值，也称为连接权重（connection weights）。权重值是神经网络中非常重要的参数，决定了输入和输出之间的映射关系。在前向传播过程中，权重值被用来计算每个神经元的输出。在训练过程中，权重值是模型需要优化的参数之一。\n 2. 偏置（biases）：指的是神经网络中每个神经元的偏置值，也称为偏移量（offset）。偏置值通常被添加到权重值乘以输入值的结果中，用来引入非线性变换。偏置值在训练过程中也是需要被优化的参数之一。\n\n在深度学习中，模型参数的数量通常非常庞大，可能有数百万甚至数亿个参数，这也是深度学习需要大量数据和计算资源的原因之一。这些模型参数在训练过程中通过反向传播算法不断更新和优化，最终得到的模型参数可以用来进行预测、分类、生成等任务。\n\n\n# 参考\n\n * [1] 什么是aigc、gpt、大模型\n * [2] 大模型应用领域\n * [3] 发展阶段及技术应用\n * [4] 基础模型与指令模型\n * [5] 大型语言模型实用指南\n * [6] 预训练\n * [7] 多机多卡训练\n * [8] 微调方式\n * [9] gpt-4大模型硬核解读，看完成半个专家\n * [10] stable diffusion 原理\n * [11] 如何写出好的提示词(stable diffusion)\n * [12] 模型数据与参数解释',charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"etcd-操作命令",frontmatter:{title:"etcd-操作命令",date:"2023-07-04T00:00:00.000Z",categories:["中间件"],tags:null,feed:{enable:!0},permalink:"/article/middleware/etcd-command.html",description:"",meta:[{name:"twitter:title",content:"etcd-操作命令"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/middleware/%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.html"},{property:"og:type",content:"article"},{property:"og:title",content:"etcd-操作命令"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/middleware/%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-07-04T00:00:00.000Z"},{itemprop:"name",content:"etcd-操作命令"},{itemprop:"description",content:""}]},regularPath:"/article/middleware/%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4.html",relativePath:"article/middleware/操作命令.md",key:"v-fe03593c",path:"/article/middleware/etcd-command.html",headersStr:null,content:"# 连接etcd\n\netcdctl默认链接127.0.0.1:2379,如需指定其他集群可通过以下命令\n\n./etcdctl --endpoints=10.116.32.91:2379\n\n\n1\n\n\n# 查\n\n./etcdctl get name\n./etcdctl get name --print-value-only  # 只打印值，不打印键\n./etcdctl get name1 name3      # 左开右闭，打印name1 name2的值\n./etcdctl get --prefix name     # 打印name开头的键\n./etcdctl get --prefix name --limit 3     # 只打印前三个\n /etcdctl --form-key name1 # 读取字典序大于或等于 name3 的key\n ./etcdctl get --rev=2 name    # 读取历史版本的key\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 增\n\n./etcdctl put name test\n\n\n1\n\n\n# 删\n\n./etcdctl del name\n./etcdctl del name --prev-kv   # 删除时，执行一次get，显示键值对\n# 也可以和查一样删除一个区间、前缀匹配的key\n\n\n1\n2\n3\n\n\n# 租约\n\n租约是etcd v3 API的新特性，租约是有过期时间的，一个租约可绑定多个key，所以当多个key需要相同的过期时间时，将一个租约绑定多个key，即可通过控制一个租约的过期时间来控制多个key的过期时间。\n\n反过来，当修改一个key的过期时间也会修改它绑定的租约。\n\n./etcdctl lease grant 60  # 创建一个60秒的租约，会生成一个租约id\n$ etcdctl put /foo bar --lease=1234567890abcdef --if-version=1 # 给key绑定租约，需要给key重新赋值，并且3.5版本需要检查版本，如果版本不对也不能绑定\n./etcdctl lease revoke  租约id  # 删除租约id\n./etcdctl lease timetolive 租约id # 根据租约id查看租约过期时间\n./etcdctl lease timetolive --keys 租约id # 查看租约绑定的key\n\n\n1\n2\n3\n4\n5\n\n\n# watch\n\n./etcdctl watch 键    # watch 键，键的生命周期都可以观察的到\n\n\n1\n",normalizedContent:"# 连接etcd\n\netcdctl默认链接127.0.0.1:2379,如需指定其他集群可通过以下命令\n\n./etcdctl --endpoints=10.116.32.91:2379\n\n\n1\n\n\n# 查\n\n./etcdctl get name\n./etcdctl get name --print-value-only  # 只打印值，不打印键\n./etcdctl get name1 name3      # 左开右闭，打印name1 name2的值\n./etcdctl get --prefix name     # 打印name开头的键\n./etcdctl get --prefix name --limit 3     # 只打印前三个\n /etcdctl --form-key name1 # 读取字典序大于或等于 name3 的key\n ./etcdctl get --rev=2 name    # 读取历史版本的key\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# 增\n\n./etcdctl put name test\n\n\n1\n\n\n# 删\n\n./etcdctl del name\n./etcdctl del name --prev-kv   # 删除时，执行一次get，显示键值对\n# 也可以和查一样删除一个区间、前缀匹配的key\n\n\n1\n2\n3\n\n\n# 租约\n\n租约是etcd v3 api的新特性，租约是有过期时间的，一个租约可绑定多个key，所以当多个key需要相同的过期时间时，将一个租约绑定多个key，即可通过控制一个租约的过期时间来控制多个key的过期时间。\n\n反过来，当修改一个key的过期时间也会修改它绑定的租约。\n\n./etcdctl lease grant 60  # 创建一个60秒的租约，会生成一个租约id\n$ etcdctl put /foo bar --lease=1234567890abcdef --if-version=1 # 给key绑定租约，需要给key重新赋值，并且3.5版本需要检查版本，如果版本不对也不能绑定\n./etcdctl lease revoke  租约id  # 删除租约id\n./etcdctl lease timetolive 租约id # 根据租约id查看租约过期时间\n./etcdctl lease timetolive --keys 租约id # 查看租约绑定的key\n\n\n1\n2\n3\n4\n5\n\n\n# watch\n\n./etcdctl watch 键    # watch 键，键的生命周期都可以观察的到\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2023/9/27",lastUpdatedTimestamp:169580706e4},{title:"ffmpeg安装",frontmatter:{title:"ffmpeg安装",date:"2023-08-18T00:00:00.000Z",categories:["运维"],tags:null,meta:[{name:"description",content:"ffmpeg安装"},{name:"keywords",content:"ffmpeg安装"},{name:"twitter:title",content:"ffmpeg安装"},{name:"twitter:description",content:"安装路径为：/usr/local/ffmpeg"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/op/command/ffmpeg%E5%AE%89%E8%A3%85.html"},{property:"og:type",content:"article"},{property:"og:title",content:"ffmpeg安装"},{property:"og:description",content:"安装路径为：/usr/local/ffmpeg"},{property:"og:url",content:"https://www.yangxiaokang.com/article/op/command/ffmpeg%E5%AE%89%E8%A3%85.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-08-18T00:00:00.000Z"},{itemprop:"name",content:"ffmpeg安装"},{itemprop:"description",content:"安装路径为：/usr/local/ffmpeg"}],feed:{enable:!0},permalink:"/article/op/command/ffmpeg-install.html",summary:"不断学习，不断提升。",description:"安装路径为：/usr/local/ffmpeg"},regularPath:"/article/op/command/ffmpeg%E5%AE%89%E8%A3%85.html",relativePath:"article/op/command/ffmpeg安装.md",key:"v-cf177a80",path:"/article/op/command/ffmpeg-install.html",headers:[{level:2,title:"6.0版本",slug:"_6-0版本",normalizedTitle:"6.0版本",charIndex:2},{level:2,title:"4.1版本",slug:"_4-1版本",normalizedTitle:"4.1版本",charIndex:1858}],headersStr:"6.0版本 4.1版本",content:'# 6.0版本\n\n安装路径为：/usr/local/ffmpeg\n\n安装包路径为：mkdir ~/ffmpeg_sources\n\n以下为centos安装方式\n\n# 安装依赖\n\nyum install autoconf automake bzip2 bzip2-devel cmake freetype-devel gcc gcc-c++ git libtool make pkgconfig zlib-devel -y\n\n\n1\n\n\n# 升级yasm\n\n1.3.0为当前最新版\n\nwget http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz\ntar -zxvf yasm-1.3.0.tar.gz\ncd yasm-1.3.0\n./configure\nmake && make install\n\n\n1\n2\n3\n4\n5\n\n\n# libx264\n\nH.264 video encoder. See the H.264 Encoding Guide for more information and usage examples. H.264 视频编码器。有关详细信息和使用示例，请参阅 H.264 编码指南。\n\nRequires ffmpeg to be configured with --enable-gpl --enable-libx264. 需要使用 ffmpeg 进行 --enable-gpl --enable-libx264 配置 。\n\ncd ~/ffmpeg_sources\ngit clone --branch stable --depth 1 https://code.videolan.org/videolan/x264.git\ncd x264\nPKG_CONFIG_PATH="/usr/local/ffmpeg/lib/pkgconfig"\n./configure --prefix="/usr/local/ffmpeg" --bindir="/usr/local/ffmpeg/bin" --enable-static --disable-asm\nmake -j\nmake install\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ffmpeg\n\ncd ~/ffmpeg_sources\ncurl -O -L https://ffmpeg.org/releases/ffmpeg-snapshot.tar.bz2\ntar xjvf ffmpeg-snapshot.tar.bz2\ncd ffmpeg\nexport PATH=$PATH:/usr/local/ffmpeg/bin PKG_CONFIG_PATH="/usr/local/ffmpeg/lib/pkgconfig" \n./configure \\\n  --enable-shared \\\n  --prefix="/usr/local/ffmpeg" \\\n  --pkg-config-flags="--static" \\\n  --extra-cflags="-I/usr/local/ffmpeg/include" \\\n  --extra-ldflags="-L/usr/local/ffmpeg/lib" \\\n  --extra-libs=-lpthread \\\n  --extra-libs=-lm \\\n  --bindir="/usr/local/ffmpeg/bin" \\\n  --enable-libx264 \\\n  --enable-gpl \\\n  --enable-nonfree \n\nmake -j\nmake install\nhash -d ffmpeg\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n也可以以http方式下载 ffmpeg下载源\n\n如果需要ffmpeg支持更多编码器可参考centos编译安装ffmpeg ，以下报错表示不支持此编码器需要重新编译编码器和ffmpeg:\n\nUnknown encoder ‘h264‘ 表示不支持libx264\n\n\n1\n\n\n# 修改环境变量\n\nvim /etc/profile\nexport PATH=$PATH:/usr/local/ffmpeg/bin\nsource /etc/profile\n\n\n1\n2\n3\n\n\n\n# 4.1版本\n\n升级yasm\n\n参考6.0版本安装，依赖配置也相同。\n\n# 下载源码\n\n老版本下载地址\n\n# 编译安装\n\n./configure --prefix=/usr/local/ffmpeg --enable-shared --disable-static --disable-doc \nmake -j\nmake install\n\n\n1\n2\n3\n\n\n# 修改环境变量\n\nvim /etc/ld.so.conf\n#新增\n/usr/local/ffmpeg/lib/\n#保存\nldconfig\n\n\n1\n2\n3\n4\n5\n',normalizedContent:'# 6.0版本\n\n安装路径为：/usr/local/ffmpeg\n\n安装包路径为：mkdir ~/ffmpeg_sources\n\n以下为centos安装方式\n\n# 安装依赖\n\nyum install autoconf automake bzip2 bzip2-devel cmake freetype-devel gcc gcc-c++ git libtool make pkgconfig zlib-devel -y\n\n\n1\n\n\n# 升级yasm\n\n1.3.0为当前最新版\n\nwget http://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz\ntar -zxvf yasm-1.3.0.tar.gz\ncd yasm-1.3.0\n./configure\nmake && make install\n\n\n1\n2\n3\n4\n5\n\n\n# libx264\n\nh.264 video encoder. see the h.264 encoding guide for more information and usage examples. h.264 视频编码器。有关详细信息和使用示例，请参阅 h.264 编码指南。\n\nrequires ffmpeg to be configured with --enable-gpl --enable-libx264. 需要使用 ffmpeg 进行 --enable-gpl --enable-libx264 配置 。\n\ncd ~/ffmpeg_sources\ngit clone --branch stable --depth 1 https://code.videolan.org/videolan/x264.git\ncd x264\npkg_config_path="/usr/local/ffmpeg/lib/pkgconfig"\n./configure --prefix="/usr/local/ffmpeg" --bindir="/usr/local/ffmpeg/bin" --enable-static --disable-asm\nmake -j\nmake install\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n# ffmpeg\n\ncd ~/ffmpeg_sources\ncurl -o -l https://ffmpeg.org/releases/ffmpeg-snapshot.tar.bz2\ntar xjvf ffmpeg-snapshot.tar.bz2\ncd ffmpeg\nexport path=$path:/usr/local/ffmpeg/bin pkg_config_path="/usr/local/ffmpeg/lib/pkgconfig" \n./configure \\\n  --enable-shared \\\n  --prefix="/usr/local/ffmpeg" \\\n  --pkg-config-flags="--static" \\\n  --extra-cflags="-i/usr/local/ffmpeg/include" \\\n  --extra-ldflags="-l/usr/local/ffmpeg/lib" \\\n  --extra-libs=-lpthread \\\n  --extra-libs=-lm \\\n  --bindir="/usr/local/ffmpeg/bin" \\\n  --enable-libx264 \\\n  --enable-gpl \\\n  --enable-nonfree \n\nmake -j\nmake install\nhash -d ffmpeg\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n也可以以http方式下载 ffmpeg下载源\n\n如果需要ffmpeg支持更多编码器可参考centos编译安装ffmpeg ，以下报错表示不支持此编码器需要重新编译编码器和ffmpeg:\n\nunknown encoder ‘h264‘ 表示不支持libx264\n\n\n1\n\n\n# 修改环境变量\n\nvim /etc/profile\nexport path=$path:/usr/local/ffmpeg/bin\nsource /etc/profile\n\n\n1\n2\n3\n\n\n\n# 4.1版本\n\n升级yasm\n\n参考6.0版本安装，依赖配置也相同。\n\n# 下载源码\n\n老版本下载地址\n\n# 编译安装\n\n./configure --prefix=/usr/local/ffmpeg --enable-shared --disable-static --disable-doc \nmake -j\nmake install\n\n\n1\n2\n3\n\n\n# 修改环境变量\n\nvim /etc/ld.so.conf\n#新增\n/usr/local/ffmpeg/lib/\n#保存\nldconfig\n\n\n1\n2\n3\n4\n5\n',charsets:{cjk:!0},lastUpdated:"2023/9/10",lastUpdatedTimestamp:1694361355e3},{title:"调用超时问题排查思路",frontmatter:{title:"调用超时问题排查思路",date:"2022-11-18T00:00:00.000Z",categories:["运维"],tags:["SRE","问题排查"],feed:{enable:!0},permalink:"/article/sre/troubleshooting.html",meta:[{name:"description",content:"自身运维参与故障排查"},{name:"keywords",content:"SRE 运维 问题排查 超时处理"},{name:"image",content:"https://www.yangxiaokang.com/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.assets/image-20230306150720070.png"},{name:"twitter:title",content:"调用超时问题排查思路"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.assets/image-20230306150720070.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/sre/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.html"},{property:"og:type",content:"article"},{property:"og:title",content:"调用超时问题排查思路"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.assets/image-20230306150720070.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/sre/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2022-11-18T00:00:00.000Z"},{property:"article:tag",content:"SRE"},{property:"article:tag",content:"问题排查"},{itemprop:"name",content:"调用超时问题排查思路"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.assets/image-20230306150720070.png"}],summary:"调用超时总是被某些人甩锅，跟老司机一起学习如何排查链路超时问题，不属于我们的锅，我们不背！",description:""},regularPath:"/article/sre/%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5.html",relativePath:"article/sre/故障排查.md",key:"v-d202a9e6",path:"/article/sre/troubleshooting.html",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:2},{level:2,title:"服务内部调用",slug:"服务内部调用",normalizedTitle:"服务内部调用",charIndex:47},{level:3,title:"引发耗时的场景",slug:"引发耗时的场景",normalizedTitle:"引发耗时的场景",charIndex:88},{level:2,title:"客户端调用",slug:"客户端调用",normalizedTitle:"客户端调用",charIndex:58},{level:3,title:"核心链路和设备",slug:"核心链路和设备",normalizedTitle:"核心链路和设备",charIndex:2230},{level:2,title:"总结/思考",slug:"总结-思考",normalizedTitle:"总结/思考",charIndex:3158},{level:2,title:"附",slug:"附",normalizedTitle:"附",charIndex:3505}],headersStr:"前言 服务内部调用 引发耗时的场景 客户端调用 核心链路和设备 总结/思考 附",content:'# 前言\n\n回顾这几年处理过一些接口超时问题，总结下超时问题发生的阶段和排查思路。主要分为后端服务内部调用和用户通过客户端调用两方面导致的超时。\n\n\n# 服务内部调用\n\n\n# 引发耗时的场景\n\n 1. 程序发起请求，等待cpu调度\n 2. 解析域名\n 3. 建立链接(三次握手，ssl)\n 4. 网关转发耗时\n 5. mesh耗时\n 6. 后端应用链接队列\n 7. 后端处理请求耗时\n    1. 分为调用其他服务接口\n    2. 后端自身的计算或IO耗时\n 8. 网络问题\n\n# 1. 程序发起请求，等待cpu调度\n\n> 线上案例：单台node节点调度过多的容器，产生几万个进程，cpu调度能力明显变慢，node cpu使用率飙升，可以从链路追踪定位原因，先看一张耗时变大的链路追踪和一张正常状态的链路追踪图\n\n两次相邻请求间隔耗时增大至90ms：\n\n\n\nnode负载正常时的请求耗时间隔3ms\n\n\n\n通过这两张图可以得出猜想：两个请求间隔的耗时增大，是等待cpu调度的时间，\n\n验证猜想：查看pod负载并不高，怀疑是node负载高，联系相关负责人查看，确定是机器负载太高。\n\n# 2. 解析域名\n\n> 线上案例：线上服务器访问某个域名5s超时，从报错来看不像是服务端超时，在nslookup域名时时耗时大，问题简单明了，链接某个dns服务器耗时增大\n\n查询耗时：\n\ntime nslookup baidu.com\n\n看下real time即可。\n\n# 3. 建立链接(三次握手，ssl)\n\n> 线上案例：20220831某工区报障，客户端到服务端部分请求超时，一时间没有找到异同点，但可以确定建连超时，此时需要确定是在哪一阶段出现了超时。\n\ncurl -X GET -w ``"\\ntime_namelookup:%{time_namelookup}\\ntime_connect: %{time_connect}\\ntime_appconnect: %{time_appconnect}\\ntime_redirect: %{time_redirect}\\ntime_pretransfer: %{time_pretransfer}\\ntime_starttransfer: %{time_starttransfer}\\ntime_total: %{time_total}\\n"` `http:``//url\n\n\n1\n\n\n以上代码可以打印发起请求的各阶段耗时，本次是ssl阶段超时，抓包看是没有收到回包。\n\n# 4. 7层nginx转发\n\n根据历史日志看正常情况下网关纯转发耗时都是小于1ms，在排查问题时有时需要自证清白，可通过nginx request_time-upstream_response_time 得到转发耗时。\n\n# 5. mesh耗时\n\n同上，不过service mesh不止转发，还有限流等其他功能，接入的功能越多引发变更的点就越多，也容易出问题。\n\n# 6. 后端应用链接队列\n\n当应用程序tcp链接队列打满时，表示后端服务过载，比较常见的是 Connection reset” 错误，导致这种错误的原因就是服务端因为某种原因关闭了 Connection，而客户端仍然在读写数据，此时服务器会返回复位标志 “RST”，如果任何一方发出RST，这意味着整个连接被中止，TCP栈可以丢弃任何没有被任何应用程序发送或接收的队列数据。现象是服务端没收到这个请求，上游服务说调用超时了。\n\n常用的几个排查命令：\n\n#查看TCP半连接队列溢出：\nnetstat -s | grep LISTEN\n# 查看TCPaccept队列溢出：\nnetstat -s | grep overflow\n\n\n1\n2\n3\n4\n\n\n\n\n参数说明：\n\n * Recv-Q：全连接当前长度\n * Send-Q：如果连接不是在建立状态，则是当前全连接最大队列长度\n\n如9523端口，队列长度为50，已使用0个。\n\n全连接队列的大小为 backlog 和 somaxconn 的最小值，那么来看下 somaxconn 的取值\n\nsysctl -a |grep net.core.somaxconn\nnet.core.somaxconn = 65535 #65535\n\n\n1\n2\n\n\n此时可以告知研发调大backlog的值，之前维护的java服务有这个问题。而php服务则是cgi队列溢出。\n\n# 7. 后端处理请求耗时\n\n后端处理的逻辑可能有调用其他接口、本身做一些计算类操作、IO类操作，而链路追踪可以追到的是发起请求的调用，对于程序本身计算或IO的操作却没法展示的那么详细，所以需要结合代码以及链路追踪看具体耗时在哪。必要时可要求研发对于某些疑似耗时逻辑增加日志记录。\n\n# 8. 网络问题\n\n内网网络问题，很少出现高耗时，但也是最被容易甩锅的一个(实在不得不吐槽一句线上无法做到每台机器和其他所有机器做一个网络监控，非常容易被一些”年轻人“甩锅)，既然线上无法针对所有机器进行双向监控，查询问题一般依赖服务日志，比如odp(内部php框架)日志有发起请求时间，也有收到请求时间，甚至建联耗时 读、写耗时，对于排查问题很方便，反观go服务框架层面并没有这么详细的耗时日志打印。所以mesh层一定程度上能够帮助排查两台机器间是否有网络问题。\n\n\n# 客户端调用\n\n\n# 核心链路和设备\n\n 1. 用户设备\n 2. 用户局域网\n 3. local dns\n 4. 运营商/骨干网\n 5. 云厂商/云产品\n\n# 1. 用户设备\n\n在线直播场景的付费课程和用户联系紧密，一有问题就会很快反馈到辅导老师进而转发至SRE侧。\n\n常见的问题比如设备卡顿，设备装了一些vpn或杀毒软件倒是网络不通。用户设备问题千奇百怪，有很多工单报上来，再回访用户就已经好了，大多是用户自身问题，对我们来说无法登录测试也很难排查。(这点得吐槽客户端，端的切换能力略差，一键诊断工具得向大厂对齐)\n\n# 2. 用户局域网\n\n * 小运营商网速慢、网络质量差，比如光电、长城、宽带通等不知名三四级承包商\n\n * 用户开vpn代理没有绕过大陆ip\n\n * 路由器质量差、信号强度、信道拥堵等等\n\n对于直播场景来说，现在都是RTC低延迟直播，对时延要求很高，并且UDP协议弱网本身就会影响质量，不是头条，抖音能用就说明网络没问题，抖音可以提前缓冲视频，断网了也能看几个，而上课场景都是实时的，网络需要保持稳定，别的设备下载视频占用带宽比较大可能都会影响直播效果。而且带货直播或游戏直播通常是RTMP直播，有一定差距。\n\n# 3. local dns\n\n * 劫持\n\n * 响应慢\n\n * 返回的ip不是就近或者不是同一个运营商\n\n如果设备可以远程，nslookup下基本就能看出来，用上面的curl打印各阶段耗时也可以，httpdns可以缓解这个问题（不能保证端都能走httpdns）\n\n# 4. 运营商/骨干网\n\n这一个阶段是最难排查，运营商有很多自己的缓存服务，即使解析ip对，也不一定就能到达服务，也可能命中他们缓存，并且时延也是不能保证的。计算耗时可以用LB收到请求的时间-客户端发请求的时间来计算，但有一个坑，客户端时间不一定准，我们多次见过发请求的时间在收到请求时间之后，当然请求是有唯一id的，不会出错。\n\n# 5. 云厂商/云产品\n\n云厂商的故障通过目前添加的监控也基本能发现，并且公网访问的监控腾讯云已经做的比较好，可以报出来。至于云产品的问题大多需要抓包来找证据，通常也是网络传输问题。(腾讯云推送的地域故障通常比我们发现的慢几分钟)\n\n\n# 总结/思考\n\n不管对于什么样的网络问题，只要能复现都能解决，不能复现则会麻烦一些。\n\n解决问题最重要的是信息的收集，服务端因为能登录还能收集到信息，客户端大部分黑盒(还是看端的能力，能否上报信息，但网络有问题时大概率当时上传失败)，排查问题几乎靠经验分析，并且端上对于排查问题有用的日志极少，最终还是需要远程登录一个客户端进行网络测试、信息收集、数据分析、客户端多域名测试的方案。\n\n服务端思路较为清晰，但容器化后带给我们更大的排查难度，很多链路是黑盒，并且没有日志，只能靠抓包，链路追踪并不能覆盖所有环节，有待产出更好的排查方案。\n\n所有问题都需要业务部门的反馈，这个时候需要辨别信息真伪，从经验看，能够给出正确信息的不足三成，一定需要专业知识来看出背后真实的问题，否则会被绕远路。\n\n\n# 附\n\n分享一个比较常用的问题排查方法， 常见linux问题排查方法',normalizedContent:'# 前言\n\n回顾这几年处理过一些接口超时问题，总结下超时问题发生的阶段和排查思路。主要分为后端服务内部调用和用户通过客户端调用两方面导致的超时。\n\n\n# 服务内部调用\n\n\n# 引发耗时的场景\n\n 1. 程序发起请求，等待cpu调度\n 2. 解析域名\n 3. 建立链接(三次握手，ssl)\n 4. 网关转发耗时\n 5. mesh耗时\n 6. 后端应用链接队列\n 7. 后端处理请求耗时\n    1. 分为调用其他服务接口\n    2. 后端自身的计算或io耗时\n 8. 网络问题\n\n# 1. 程序发起请求，等待cpu调度\n\n> 线上案例：单台node节点调度过多的容器，产生几万个进程，cpu调度能力明显变慢，node cpu使用率飙升，可以从链路追踪定位原因，先看一张耗时变大的链路追踪和一张正常状态的链路追踪图\n\n两次相邻请求间隔耗时增大至90ms：\n\n\n\nnode负载正常时的请求耗时间隔3ms\n\n\n\n通过这两张图可以得出猜想：两个请求间隔的耗时增大，是等待cpu调度的时间，\n\n验证猜想：查看pod负载并不高，怀疑是node负载高，联系相关负责人查看，确定是机器负载太高。\n\n# 2. 解析域名\n\n> 线上案例：线上服务器访问某个域名5s超时，从报错来看不像是服务端超时，在nslookup域名时时耗时大，问题简单明了，链接某个dns服务器耗时增大\n\n查询耗时：\n\ntime nslookup baidu.com\n\n看下real time即可。\n\n# 3. 建立链接(三次握手，ssl)\n\n> 线上案例：20220831某工区报障，客户端到服务端部分请求超时，一时间没有找到异同点，但可以确定建连超时，此时需要确定是在哪一阶段出现了超时。\n\ncurl -x get -w ``"\\ntime_namelookup:%{time_namelookup}\\ntime_connect: %{time_connect}\\ntime_appconnect: %{time_appconnect}\\ntime_redirect: %{time_redirect}\\ntime_pretransfer: %{time_pretransfer}\\ntime_starttransfer: %{time_starttransfer}\\ntime_total: %{time_total}\\n"` `http:``//url\n\n\n1\n\n\n以上代码可以打印发起请求的各阶段耗时，本次是ssl阶段超时，抓包看是没有收到回包。\n\n# 4. 7层nginx转发\n\n根据历史日志看正常情况下网关纯转发耗时都是小于1ms，在排查问题时有时需要自证清白，可通过nginx request_time-upstream_response_time 得到转发耗时。\n\n# 5. mesh耗时\n\n同上，不过service mesh不止转发，还有限流等其他功能，接入的功能越多引发变更的点就越多，也容易出问题。\n\n# 6. 后端应用链接队列\n\n当应用程序tcp链接队列打满时，表示后端服务过载，比较常见的是 connection reset” 错误，导致这种错误的原因就是服务端因为某种原因关闭了 connection，而客户端仍然在读写数据，此时服务器会返回复位标志 “rst”，如果任何一方发出rst，这意味着整个连接被中止，tcp栈可以丢弃任何没有被任何应用程序发送或接收的队列数据。现象是服务端没收到这个请求，上游服务说调用超时了。\n\n常用的几个排查命令：\n\n#查看tcp半连接队列溢出：\nnetstat -s | grep listen\n# 查看tcpaccept队列溢出：\nnetstat -s | grep overflow\n\n\n1\n2\n3\n4\n\n\n\n\n参数说明：\n\n * recv-q：全连接当前长度\n * send-q：如果连接不是在建立状态，则是当前全连接最大队列长度\n\n如9523端口，队列长度为50，已使用0个。\n\n全连接队列的大小为 backlog 和 somaxconn 的最小值，那么来看下 somaxconn 的取值\n\nsysctl -a |grep net.core.somaxconn\nnet.core.somaxconn = 65535 #65535\n\n\n1\n2\n\n\n此时可以告知研发调大backlog的值，之前维护的java服务有这个问题。而php服务则是cgi队列溢出。\n\n# 7. 后端处理请求耗时\n\n后端处理的逻辑可能有调用其他接口、本身做一些计算类操作、io类操作，而链路追踪可以追到的是发起请求的调用，对于程序本身计算或io的操作却没法展示的那么详细，所以需要结合代码以及链路追踪看具体耗时在哪。必要时可要求研发对于某些疑似耗时逻辑增加日志记录。\n\n# 8. 网络问题\n\n内网网络问题，很少出现高耗时，但也是最被容易甩锅的一个(实在不得不吐槽一句线上无法做到每台机器和其他所有机器做一个网络监控，非常容易被一些”年轻人“甩锅)，既然线上无法针对所有机器进行双向监控，查询问题一般依赖服务日志，比如odp(内部php框架)日志有发起请求时间，也有收到请求时间，甚至建联耗时 读、写耗时，对于排查问题很方便，反观go服务框架层面并没有这么详细的耗时日志打印。所以mesh层一定程度上能够帮助排查两台机器间是否有网络问题。\n\n\n# 客户端调用\n\n\n# 核心链路和设备\n\n 1. 用户设备\n 2. 用户局域网\n 3. local dns\n 4. 运营商/骨干网\n 5. 云厂商/云产品\n\n# 1. 用户设备\n\n在线直播场景的付费课程和用户联系紧密，一有问题就会很快反馈到辅导老师进而转发至sre侧。\n\n常见的问题比如设备卡顿，设备装了一些vpn或杀毒软件倒是网络不通。用户设备问题千奇百怪，有很多工单报上来，再回访用户就已经好了，大多是用户自身问题，对我们来说无法登录测试也很难排查。(这点得吐槽客户端，端的切换能力略差，一键诊断工具得向大厂对齐)\n\n# 2. 用户局域网\n\n * 小运营商网速慢、网络质量差，比如光电、长城、宽带通等不知名三四级承包商\n\n * 用户开vpn代理没有绕过大陆ip\n\n * 路由器质量差、信号强度、信道拥堵等等\n\n对于直播场景来说，现在都是rtc低延迟直播，对时延要求很高，并且udp协议弱网本身就会影响质量，不是头条，抖音能用就说明网络没问题，抖音可以提前缓冲视频，断网了也能看几个，而上课场景都是实时的，网络需要保持稳定，别的设备下载视频占用带宽比较大可能都会影响直播效果。而且带货直播或游戏直播通常是rtmp直播，有一定差距。\n\n# 3. local dns\n\n * 劫持\n\n * 响应慢\n\n * 返回的ip不是就近或者不是同一个运营商\n\n如果设备可以远程，nslookup下基本就能看出来，用上面的curl打印各阶段耗时也可以，httpdns可以缓解这个问题（不能保证端都能走httpdns）\n\n# 4. 运营商/骨干网\n\n这一个阶段是最难排查，运营商有很多自己的缓存服务，即使解析ip对，也不一定就能到达服务，也可能命中他们缓存，并且时延也是不能保证的。计算耗时可以用lb收到请求的时间-客户端发请求的时间来计算，但有一个坑，客户端时间不一定准，我们多次见过发请求的时间在收到请求时间之后，当然请求是有唯一id的，不会出错。\n\n# 5. 云厂商/云产品\n\n云厂商的故障通过目前添加的监控也基本能发现，并且公网访问的监控腾讯云已经做的比较好，可以报出来。至于云产品的问题大多需要抓包来找证据，通常也是网络传输问题。(腾讯云推送的地域故障通常比我们发现的慢几分钟)\n\n\n# 总结/思考\n\n不管对于什么样的网络问题，只要能复现都能解决，不能复现则会麻烦一些。\n\n解决问题最重要的是信息的收集，服务端因为能登录还能收集到信息，客户端大部分黑盒(还是看端的能力，能否上报信息，但网络有问题时大概率当时上传失败)，排查问题几乎靠经验分析，并且端上对于排查问题有用的日志极少，最终还是需要远程登录一个客户端进行网络测试、信息收集、数据分析、客户端多域名测试的方案。\n\n服务端思路较为清晰，但容器化后带给我们更大的排查难度，很多链路是黑盒，并且没有日志，只能靠抓包，链路追踪并不能覆盖所有环节，有待产出更好的排查方案。\n\n所有问题都需要业务部门的反馈，这个时候需要辨别信息真伪，从经验看，能够给出正确信息的不足三成，一定需要专业知识来看出背后真实的问题，否则会被绕远路。\n\n\n# 附\n\n分享一个比较常用的问题排查方法， 常见linux问题排查方法',charsets:{cjk:!0},lastUpdated:"2023/4/14",lastUpdatedTimestamp:1681431511e3},{title:"linux命令-git",frontmatter:{title:"linux命令-git",date:"2023-3-18",categories:["运维"],tags:null,meta:[{name:"description",content:"git install update"},{name:"keywords",content:"git install update"},{name:"twitter:title",content:"linux命令-git"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/op/command/git-install.html"},{property:"og:type",content:"article"},{property:"og:title",content:"linux命令-git"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/op/command/git-install.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-3-18"},{itemprop:"name",content:"linux命令-git"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/op/command/gitinstall.html",summary:"不断学习，不断提升。",description:""},regularPath:"/article/op/command/git-install.html",relativePath:"article/op/command/git-install.md",key:"v-02097f33",path:"/article/op/command/gitinstall.html",headers:[{level:2,title:"git安装",slug:"git安装",normalizedTitle:"git安装",charIndex:2},{level:3,title:"centos",slug:"centos",normalizedTitle:"centos",charIndex:12}],headersStr:"git安装 centos",content:"# git安装\n\n\n# centos\n\n# yum\n\n * 移除旧版本\n   \n   yum remove git-* -y\n   \n   \n   1\n   \n\n * 添加 End Point Package Repository\n   \n   yum install -y https://packages.endpointdev.com/rhel/7/os/x86_64/endpoint-repo.x86_64.rpm\n   \n   \n   1\n   \n\n * install\n   \n   yum install git -y\n   \n   \n   1\n   \n\n * 查看版本\n   \n   git --version\n   \n   \n   1\n   ",normalizedContent:"# git安装\n\n\n# centos\n\n# yum\n\n * 移除旧版本\n   \n   yum remove git-* -y\n   \n   \n   1\n   \n\n * 添加 end point package repository\n   \n   yum install -y https://packages.endpointdev.com/rhel/7/os/x86_64/endpoint-repo.x86_64.rpm\n   \n   \n   1\n   \n\n * install\n   \n   yum install git -y\n   \n   \n   1\n   \n\n * 查看版本\n   \n   git --version\n   \n   \n   1\n   ",charsets:{cjk:!0},lastUpdated:"2023/4/19",lastUpdatedTimestamp:1681877889e3},{title:"go 开发环境配置",frontmatter:{title:"go 开发环境配置",date:"2019-6-29",categories:["工具/平台"],tags:["vscode","go","IDE"],meta:[{name:"description",content:"在windows or linux上配置golang开发环境"},{name:"keywords",content:"IDE go vscode linux windows 开发环境"},{name:"image",content:"https://www.yangxiaokang.com/安装go环境.assets/1561777435197.png"},{name:"twitter:title",content:"go 开发环境配置"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/安装go环境.assets/1561777435197.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/toolplatform/%E5%AE%89%E8%A3%85go%E7%8E%AF%E5%A2%83.html"},{property:"og:type",content:"article"},{property:"og:title",content:"go 开发环境配置"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/安装go环境.assets/1561777435197.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/toolplatform/%E5%AE%89%E8%A3%85go%E7%8E%AF%E5%A2%83.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2019-6-29"},{property:"article:tag",content:"vscode"},{property:"article:tag",content:"go"},{property:"article:tag",content:"IDE"},{itemprop:"name",content:"go 开发环境配置"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/安装go环境.assets/1561777435197.png"}],feed:{enable:!0},permalink:"/article/toolplatform/go-dev-ide.html",summary:"在linux和windows上搭建基本的开发环境和vscode配置。",description:""},regularPath:"/article/toolplatform/%E5%AE%89%E8%A3%85go%E7%8E%AF%E5%A2%83.html",relativePath:"article/toolplatform/安装go环境.md",key:"v-8016f312",path:"/article/toolplatform/go-dev-ide.html",headers:[{level:2,title:"windows安装步骤",slug:"windows安装步骤",normalizedTitle:"windows安装步骤",charIndex:2},{level:2,title:"linux安装步骤",slug:"linux安装步骤",normalizedTitle:"linux安装步骤",charIndex:400},{level:2,title:"配置VSCode",slug:"配置vscode",normalizedTitle:"配置vscode",charIndex:754}],headersStr:"windows安装步骤 linux安装步骤 配置VSCode",content:"# windows安装步骤\n\n# 安装Go开发包\n\n 1. 下载 https://golang.google.cn/dl/\n\n\n\n安装目录一定选一个好记的。\n\n\n\n安装完成后，输入go version查看go版本号。\n\n\n\n# 配置GOPATH\n\n\n\n\n\n# 详细步骤\n\n 1. 在自己的电脑上新建一个目录D:\\go（存放我编写的Go语言代码）\n 2. 在环境变量里，新建一项：GOPATH:D:\\go\n 3. 在D:\\go下新建三个文件夹，分别是：bin、src、pkg\n 4. 把D:\\go\\bin这个目录添加到PATH这个环境变量的后面\n    1. Win7是英文的;分隔\n    2. Win10是单独一行\n 5. 你电脑上GOPATH应该是有默认值的，通常是%USERPROFILE%/go， 你把这一项删掉，自己按照上面的步骤新建一个就可以了。\n\n\n\n# GO语言项目结构\n\n\n\n\n# linux安装步骤\n\n 1. Golang官网下载地址：https://golang.org/dl/\n\n 2. 解压\n\ntar -C /home/${user}/soft/ -zxvf  go1.10.3.linux-amd64.tar.gz\n\n\n1\n\n 3. 创建项目目录\n\nmkdir ～/Go\n\n4、修改环境变量（个人用户）\n\nvim ~/.bashrc\nexport GOPATH=$HOME/Go   #GOPATH为个人项目目录\nexport PATH=$PATH:/home/${user}/soft/go/bin:$GOPATH/bin  #go环境目录及项目bin目录\n\n\n1\n2\n3\n\n\n> 如果你喜欢通过vim进行开发，可以参考打造自己的vim golang IDE进行配置。\n\n\n# 配置VSCode\n\n# 安装\n\n“下一步安装法”，官方下载连接\n\n# 安装中文插件包\n\n\n\n# 安装Go扩展\n\n\n\n设置自动保存\n\n文件-》首选项-》设置-》搜索保存 -》下滑\n\n\n\nwindows需注意，运行时要选择cmd，win10 win8默认是powershell",normalizedContent:"# windows安装步骤\n\n# 安装go开发包\n\n 1. 下载 https://golang.google.cn/dl/\n\n\n\n安装目录一定选一个好记的。\n\n\n\n安装完成后，输入go version查看go版本号。\n\n\n\n# 配置gopath\n\n\n\n\n\n# 详细步骤\n\n 1. 在自己的电脑上新建一个目录d:\\go（存放我编写的go语言代码）\n 2. 在环境变量里，新建一项：gopath:d:\\go\n 3. 在d:\\go下新建三个文件夹，分别是：bin、src、pkg\n 4. 把d:\\go\\bin这个目录添加到path这个环境变量的后面\n    1. win7是英文的;分隔\n    2. win10是单独一行\n 5. 你电脑上gopath应该是有默认值的，通常是%userprofile%/go， 你把这一项删掉，自己按照上面的步骤新建一个就可以了。\n\n\n\n# go语言项目结构\n\n\n\n\n# linux安装步骤\n\n 1. golang官网下载地址：https://golang.org/dl/\n\n 2. 解压\n\ntar -c /home/${user}/soft/ -zxvf  go1.10.3.linux-amd64.tar.gz\n\n\n1\n\n 3. 创建项目目录\n\nmkdir ～/go\n\n4、修改环境变量（个人用户）\n\nvim ~/.bashrc\nexport gopath=$home/go   #gopath为个人项目目录\nexport path=$path:/home/${user}/soft/go/bin:$gopath/bin  #go环境目录及项目bin目录\n\n\n1\n2\n3\n\n\n> 如果你喜欢通过vim进行开发，可以参考打造自己的vim golang ide进行配置。\n\n\n# 配置vscode\n\n# 安装\n\n“下一步安装法”，官方下载连接\n\n# 安装中文插件包\n\n\n\n# 安装go扩展\n\n\n\n设置自动保存\n\n文件-》首选项-》设置-》搜索保存 -》下滑\n\n\n\nwindows需注意，运行时要选择cmd，win10 win8默认是powershell",charsets:{cjk:!0},lastUpdated:"2023/3/14",lastUpdatedTimestamp:1678796669e3},{title:"免费看视频",frontmatter:{title:"免费看视频",date:"2023-12-09T00:00:00.000Z",categories:["工具/平台"],meta:[{name:"description",content:"iptv 爱奇艺 腾讯视频"},{name:"keywords",content:"iptv"},{name:"twitter:title",content:"免费看视频"},{name:"twitter:description",content:"梅林tv-3级"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/toolplatform/%E7%94%B5%E8%A7%86%E7%9B%B4%E6%92%AD.html"},{property:"og:type",content:"article"},{property:"og:title",content:"免费看视频"},{property:"og:description",content:"梅林tv-3级"},{property:"og:url",content:"https://www.yangxiaokang.com/article/toolplatform/%E7%94%B5%E8%A7%86%E7%9B%B4%E6%92%AD.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-12-09T00:00:00.000Z"},{itemprop:"name",content:"免费看视频"},{itemprop:"description",content:"梅林tv-3级"}],feed:{enable:!0},permalink:"/article/toolplatform/movie.html",summary:"免费看视频",description:"梅林tv-3级"},regularPath:"/article/toolplatform/%E7%94%B5%E8%A7%86%E7%9B%B4%E6%92%AD.html",relativePath:"article/toolplatform/电视直播.md",key:"v-39f88ac1",path:"/article/toolplatform/movie.html",headers:[{level:2,title:"软件",slug:"软件",normalizedTitle:"软件",charIndex:2},{level:3,title:"内置源",slug:"内置源",normalizedTitle:"内置源",charIndex:9},{level:3,title:"空壳",slug:"空壳",normalizedTitle:"空壳",charIndex:35},{level:2,title:"直播源",slug:"直播源",normalizedTitle:"直播源",charIndex:62},{level:3,title:"接口",slug:"接口",normalizedTitle:"接口",charIndex:70},{level:3,title:"公众号",slug:"公众号",normalizedTitle:"公众号",charIndex:1907}],headersStr:"软件 内置源 空壳 直播源 接口 公众号",content:"# 软件\n\n\n# 内置源\n\n梅林tv-3级\n\n秒看影视-1级\n\n\n# 空壳\n\ntvbox-2级\n\n521影视-1级\n\n\n# 直播源\n\n\n# 接口\n\n# IPTV\n\nhttps://dxawi.github.io/0/0.json 直播可用-饭太硬流畅高清 1级\n\nhttp://饭太硬.top/tv 1级，实际和上面是一个\n\nhttps://pastebin.com/raw/AYuBfP0w 直播可用-饭太硬流畅高清 https://raw.liucn.cc/box/m.json 直播可用-饭太硬流畅高清\n\n太阳：https://agit.ai/Yoursmile7/TVBox/raw/branch/master/live.txt 直播可用-饭太硬流畅高清\n\n运输车：https://weixine.net/tv/ysclive.txt 直播可用流畅高清\n\n野火：https://pastebin.com/raw/tuXBQs7U 直播可用-流畅高清\n\nhttps://agit.ai/Yoursmile7/TVBox/raw/branch/master/XC.json 直播可用\n\nhttps://freed.yuanhsing.cf/TVBox/meowcf.json 直播可用-略卡 https://raw.githubusercontent.com/YuanHsing/freed/master/TVBox/meow.json 直播可用-略卡，同上 https://freed.yuanhsing.cf/TVBox/meowcf.json 直播可用-略卡，同上\n\n小胡： https://agit.ai/xiaohu/tvbox/raw/branch/main/live.txt 直播可用-资源多，有的卡有的不卡\n\n汤氏：https://agit.ai/alanchaotang/if/raw/branch/main/LIVE/l.txt 直播可用-资源多，有的卡有的不卡\n\n分享者：https://agit.ai/66666/mao/raw/branch/master/live20220813.txt 直播可用-资源多，一般\n\n人人：https://cn.kstore.space/download/2998/1/tv.txt 直播可用，卫视基本不能看\n\n荷城茶锈：http://rihou.cc:88//hccx/baishi.txt 直播可用—卡\n\n小米直播源 http://home.jundie.top:81/Cat/tv/live.txt 直播可用-卡，不推荐\n\n# 影视\n\nhttp://home.jundie.top:81/top98.json https://ghproxy.com/raw.githubusercontent.com/lm317379829/PyramidStore/pyramid/py.json http://pandown.pro/tvbox/tvbox.json https://notabug.org/imbig66/tv-spider-man/raw/master/%E9%85%8D%E7%BD%AE/0801.json\n\nhttps://raw.githubusercontent.com/UndCover/PyramidStore/main/py.json https://pastebin.com/raw/gtbKvnE1 https://pastebin.com/raw/sbPpDm9G https://agit.ai/hu/hcr/raw/branch/master/MMM.txt\n\n饭太硬： https://gh-proxy.com/raw.githubusercontent.com/dxawi/0/main/tvlive.txt 打不开\n\n时光：https://ghproxy.com/https://raw.githubusercontent.com/xmbjm/xmbjm/main/lib/zhibo.txt 打不开\n\n多多：https://agit.ai/leevi/duo/raw/branch/master/v.txt 无直播\n\n业余打发：https://ghproxy.com/https://raw.githubusercontent.com/yydfys/yydf/main/yydf/live.txt 打不开\n\n雷蒙：https://lem.clem7.repl.co/N3RD/JN/tv.txt\n\n\n# 公众号\n\n源享家-无直播，可看视频\n\n天微科技\n\n千软汇",normalizedContent:"# 软件\n\n\n# 内置源\n\n梅林tv-3级\n\n秒看影视-1级\n\n\n# 空壳\n\ntvbox-2级\n\n521影视-1级\n\n\n# 直播源\n\n\n# 接口\n\n# iptv\n\nhttps://dxawi.github.io/0/0.json 直播可用-饭太硬流畅高清 1级\n\nhttp://饭太硬.top/tv 1级，实际和上面是一个\n\nhttps://pastebin.com/raw/ayubfp0w 直播可用-饭太硬流畅高清 https://raw.liucn.cc/box/m.json 直播可用-饭太硬流畅高清\n\n太阳：https://agit.ai/yoursmile7/tvbox/raw/branch/master/live.txt 直播可用-饭太硬流畅高清\n\n运输车：https://weixine.net/tv/ysclive.txt 直播可用流畅高清\n\n野火：https://pastebin.com/raw/tuxbqs7u 直播可用-流畅高清\n\nhttps://agit.ai/yoursmile7/tvbox/raw/branch/master/xc.json 直播可用\n\nhttps://freed.yuanhsing.cf/tvbox/meowcf.json 直播可用-略卡 https://raw.githubusercontent.com/yuanhsing/freed/master/tvbox/meow.json 直播可用-略卡，同上 https://freed.yuanhsing.cf/tvbox/meowcf.json 直播可用-略卡，同上\n\n小胡： https://agit.ai/xiaohu/tvbox/raw/branch/main/live.txt 直播可用-资源多，有的卡有的不卡\n\n汤氏：https://agit.ai/alanchaotang/if/raw/branch/main/live/l.txt 直播可用-资源多，有的卡有的不卡\n\n分享者：https://agit.ai/66666/mao/raw/branch/master/live20220813.txt 直播可用-资源多，一般\n\n人人：https://cn.kstore.space/download/2998/1/tv.txt 直播可用，卫视基本不能看\n\n荷城茶锈：http://rihou.cc:88//hccx/baishi.txt 直播可用—卡\n\n小米直播源 http://home.jundie.top:81/cat/tv/live.txt 直播可用-卡，不推荐\n\n# 影视\n\nhttp://home.jundie.top:81/top98.json https://ghproxy.com/raw.githubusercontent.com/lm317379829/pyramidstore/pyramid/py.json http://pandown.pro/tvbox/tvbox.json https://notabug.org/imbig66/tv-spider-man/raw/master/%e9%85%8d%e7%bd%ae/0801.json\n\nhttps://raw.githubusercontent.com/undcover/pyramidstore/main/py.json https://pastebin.com/raw/gtbkvne1 https://pastebin.com/raw/sbppdm9g https://agit.ai/hu/hcr/raw/branch/master/mmm.txt\n\n饭太硬： https://gh-proxy.com/raw.githubusercontent.com/dxawi/0/main/tvlive.txt 打不开\n\n时光：https://ghproxy.com/https://raw.githubusercontent.com/xmbjm/xmbjm/main/lib/zhibo.txt 打不开\n\n多多：https://agit.ai/leevi/duo/raw/branch/master/v.txt 无直播\n\n业余打发：https://ghproxy.com/https://raw.githubusercontent.com/yydfys/yydf/main/yydf/live.txt 打不开\n\n雷蒙：https://lem.clem7.repl.co/n3rd/jn/tv.txt\n\n\n# 公众号\n\n源享家-无直播，可看视频\n\n天微科技\n\n千软汇",charsets:{cjk:!0},lastUpdated:"2023/12/9",lastUpdatedTimestamp:170211155e4},{title:"网络 - 查看出口ip",frontmatter:{title:"网络 - 查看出口ip",date:"2023-06-18T00:00:00.000Z",categories:["运维"],tags:null,meta:[{name:"description",content:"查看当前服务器使用哪个ip出网访问"},{name:"keywords",content:"nat 出口ip"},{name:"twitter:title",content:"网络 - 查看出口ip"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/op/net/%E6%9F%A5%E7%9C%8B%E5%87%BA%E5%8F%A3ip.html"},{property:"og:type",content:"article"},{property:"og:title",content:"网络 - 查看出口ip"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/op/net/%E6%9F%A5%E7%9C%8B%E5%87%BA%E5%8F%A3ip.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-06-18T00:00:00.000Z"},{itemprop:"name",content:"网络 - 查看出口ip"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/op/net/outflow-ip.html",summary:"不断学习，不断提升。",description:""},regularPath:"/article/op/net/%E6%9F%A5%E7%9C%8B%E5%87%BA%E5%8F%A3ip.html",relativePath:"article/op/net/查看出口ip.md",key:"v-084ca106",path:"/article/op/net/outflow-ip.html",headers:[{level:2,title:"国内出口查询",slug:"国内出口查询",normalizedTitle:"国内出口查询",charIndex:2},{level:2,title:"国外出口IP查询",slug:"国外出口ip查询",normalizedTitle:"国外出口ip查询",charIndex:320},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:958}],headersStr:"国内出口查询 国外出口IP查询 参考",content:'# 国内出口查询\n\n * 网站：ipw.cn/、ip138.com/ 、 cip.cc/、IPIP\n\nlms@LMS:~$ curl cip.cc\n\nIP      : 14.xx.xx.xx4\n地址    : 中国  广东  广州\n运营商  : 电信\n\n数据二  : 广东省广州市 | 电信\n\n数据三  : 中国广东广州 | 电信\n\nURL     : http://www.cip.cc/14.xx.xx.xx4\nlms@LMS:~$ curl -s myip.ipip.net\n\n当前 IP：14.xx.xx.xx4  来自于：中国 广东 广州  电信\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 国外出口IP查询\n\n * 国外 https://ipinfo.io\n\nlms@LMS:~$ curl ipinfo.io\n{\n  "ip": "103.xxxx.xxxx.97",\n  "city": "Guangzhou",\n  "region": "Guangdong",\n  "country": "CN",\n  "loc": "2x.xxx7,1xx.xxx0",\n  "org": "AS137995 Shuangyu Communications Technology Co., Limited",\n  "timezone": "Asia/Shanghai",\n  "readme": "https://ipinfo.io/missingauth"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * 国外 https://ifconfig.me/\n\nlms@LMS:~$ curl ifconfig.me\n\n103.xxxx.xxxx.97\n\n\n1\n2\n3\n\n * 国外：http://ifconfig.io/\n\nlms@LMS:~$ curl ifconfig.io\n\n103.xxxx.xxxx.97\n\n\n1\n2\n3\n\n * 国外：http://httpbin.org/ip\n\nlms@LMS:~$ curl httpbin.org/ip\n\n{\n  "origin": "103.xxxx.xxxx.97"\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 参考\n\n * [1] [MinsonLee\'s Blog](https://minsonlee.github.io/2021/12/how-to-get-the-trusted-source-for-ip)',normalizedContent:'# 国内出口查询\n\n * 网站：ipw.cn/、ip138.com/ 、 cip.cc/、ipip\n\nlms@lms:~$ curl cip.cc\n\nip      : 14.xx.xx.xx4\n地址    : 中国  广东  广州\n运营商  : 电信\n\n数据二  : 广东省广州市 | 电信\n\n数据三  : 中国广东广州 | 电信\n\nurl     : http://www.cip.cc/14.xx.xx.xx4\nlms@lms:~$ curl -s myip.ipip.net\n\n当前 ip：14.xx.xx.xx4  来自于：中国 广东 广州  电信\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 国外出口ip查询\n\n * 国外 https://ipinfo.io\n\nlms@lms:~$ curl ipinfo.io\n{\n  "ip": "103.xxxx.xxxx.97",\n  "city": "guangzhou",\n  "region": "guangdong",\n  "country": "cn",\n  "loc": "2x.xxx7,1xx.xxx0",\n  "org": "as137995 shuangyu communications technology co., limited",\n  "timezone": "asia/shanghai",\n  "readme": "https://ipinfo.io/missingauth"\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * 国外 https://ifconfig.me/\n\nlms@lms:~$ curl ifconfig.me\n\n103.xxxx.xxxx.97\n\n\n1\n2\n3\n\n * 国外：http://ifconfig.io/\n\nlms@lms:~$ curl ifconfig.io\n\n103.xxxx.xxxx.97\n\n\n1\n2\n3\n\n * 国外：http://httpbin.org/ip\n\nlms@lms:~$ curl httpbin.org/ip\n\n{\n  "origin": "103.xxxx.xxxx.97"\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 参考\n\n * [1] [minsonlee\'s blog](https://minsonlee.github.io/2021/12/how-to-get-the-trusted-source-for-ip)',charsets:{cjk:!0},lastUpdated:"2023/8/7",lastUpdatedTimestamp:1691379491e3},{title:"ssh反向代理实现科学上网",frontmatter:{title:"ssh反向代理实现科学上网",date:"2023-7-18",categories:["运维"],tags:null,meta:[{name:"description",content:"通过ssh 反向代理 来实现科学上网"},{name:"keywords",content:"ssh 反向代理 科学上网"},{name:"twitter:title",content:"ssh反向代理实现科学上网"},{name:"twitter:description",content:"适用场景"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/op/command/ssh.html"},{property:"og:type",content:"article"},{property:"og:title",content:"ssh反向代理实现科学上网"},{property:"og:description",content:"适用场景"},{property:"og:url",content:"https://www.yangxiaokang.com/article/op/command/ssh.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2023-7-18"},{itemprop:"name",content:"ssh反向代理实现科学上网"},{itemprop:"description",content:"适用场景"}],feed:{enable:!0},permalink:"/article/op/command/sshproxy.html",summary:"不断学习，不断提升。",description:"适用场景"},regularPath:"/article/op/command/ssh.html",relativePath:"article/op/command/ssh.md",key:"v-07e0d963",path:"/article/op/command/sshproxy.html",headers:[{level:2,title:"ssh反向代理",slug:"ssh反向代理",normalizedTitle:"ssh反向代理",charIndex:2},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:823}],headersStr:"ssh反向代理 参考",content:"# ssh反向代理\n\n适用场景\n\n * 内网服务器无法访问github，而本地电脑可以科学上网，故内网服务器发起的请求通过本地电脑代理访问。\n * 跳板机，如只能访问内网某台机器，可以设置转发到其他内网机器的22端口进行登录。\n\n原理\n\n * 在内网服务器上起一个端口，设置内网服务器访问外网的请求走这个端口进行代理\n\n * 内网服务器代理端口的请求，全部转发到本地电脑的科学上网工具上。\n\n实现\n\n通过ssh反向代理来完成上述需求，无需使用root权限。\n\n如：\n\nssh -p 8222 -qngfNTR 8888:localhost:8765 rd@10.33.5.83\n# 命令在client上执行，会在server上起一个8888端口，server上的服务代理到8888端口进行科学上网\n# 使用rd用户连接server(10.33.5.83)的8222(因服务器22端口无法直接访问，iptables将8222转发至22)端口，将server(10.33.5.83)的8888端口转发到client的8765端口，这样10.33.5.83通过设置代理到127.0.0.1的8888即可通过client的8765端口进行代理。\n-q: 静默模式，不显示任何警告或错误信息。\n-n: 不执行远程命令。\n-g: 允许远程主机连接到本地转发的端口。\n-f: 在后台运行SSH会话。\n-N: 不执行远程命令。\n-T: 不分配伪终端。\n-p: 指定ssh端口，不指定默认22\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n在设置git代理即可\n\n#git操作\n# 使用socks5代理git请求\ngit config --global https.proxy socks5://127.0.0.1:8888\n# 取消全局代理\ngit config --global --unset https.proxy \n\n\n1\n2\n3\n4\n5\n\n\n\n# 参考\n\n * [1] ssh反向代理\n * [2] ssh使用正向代理-反向代理",normalizedContent:"# ssh反向代理\n\n适用场景\n\n * 内网服务器无法访问github，而本地电脑可以科学上网，故内网服务器发起的请求通过本地电脑代理访问。\n * 跳板机，如只能访问内网某台机器，可以设置转发到其他内网机器的22端口进行登录。\n\n原理\n\n * 在内网服务器上起一个端口，设置内网服务器访问外网的请求走这个端口进行代理\n\n * 内网服务器代理端口的请求，全部转发到本地电脑的科学上网工具上。\n\n实现\n\n通过ssh反向代理来完成上述需求，无需使用root权限。\n\n如：\n\nssh -p 8222 -qngfntr 8888:localhost:8765 rd@10.33.5.83\n# 命令在client上执行，会在server上起一个8888端口，server上的服务代理到8888端口进行科学上网\n# 使用rd用户连接server(10.33.5.83)的8222(因服务器22端口无法直接访问，iptables将8222转发至22)端口，将server(10.33.5.83)的8888端口转发到client的8765端口，这样10.33.5.83通过设置代理到127.0.0.1的8888即可通过client的8765端口进行代理。\n-q: 静默模式，不显示任何警告或错误信息。\n-n: 不执行远程命令。\n-g: 允许远程主机连接到本地转发的端口。\n-f: 在后台运行ssh会话。\n-n: 不执行远程命令。\n-t: 不分配伪终端。\n-p: 指定ssh端口，不指定默认22\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n在设置git代理即可\n\n#git操作\n# 使用socks5代理git请求\ngit config --global https.proxy socks5://127.0.0.1:8888\n# 取消全局代理\ngit config --global --unset https.proxy \n\n\n1\n2\n3\n4\n5\n\n\n\n# 参考\n\n * [1] ssh反向代理\n * [2] ssh使用正向代理-反向代理",charsets:{cjk:!0},lastUpdated:"2023/9/10",lastUpdatedTimestamp:1694361355e3},{title:"python版本控制-pyenv",frontmatter:{title:"python版本控制-pyenv",date:"2018-7-06",categories:["python"],tags:["学习提升"],meta:[{name:"description",content:"pyenv 切换python版本"},{name:"keywords",content:"python pyenv"},{name:"twitter:title",content:"python版本控制-pyenv"},{name:"twitter:description",content:"pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/python/pyenv.html"},{property:"og:type",content:"article"},{property:"og:title",content:"python版本控制-pyenv"},{property:"og:description",content:"pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。"},{property:"og:url",content:"https://www.yangxiaokang.com/article/python/pyenv.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2018-7-06"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"python版本控制-pyenv"},{itemprop:"description",content:"pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。"}],feed:{enable:!0},permalink:"/article/python/pyenv.html",summary:"不断学习，不断提升，日拱一卒，python使用",description:"pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。"},regularPath:"/article/python/pyenv.html",relativePath:"article/python/pyenv.md",key:"v-7967ef00",path:"/article/python/pyenv.html",headers:[{level:2,title:"windows",slug:"windows",normalizedTitle:"windows",charIndex:51},{level:3,title:"安装pyenv",slug:"安装pyenv",normalizedTitle:"安装pyenv",charIndex:63},{level:3,title:"使用",slug:"使用",normalizedTitle:"使用",charIndex:307},{level:2,title:"Linux",slug:"linux",normalizedTitle:"linux",charIndex:1023},{level:3,title:"安装pyenv",slug:"安装pyenv-2",normalizedTitle:"安装pyenv",charIndex:63},{level:3,title:"配置环境变量",slug:"配置环境变量",normalizedTitle:"配置环境变量",charIndex:1193},{level:3,title:"配置环境依赖",slug:"配置环境依赖",normalizedTitle:"配置环境依赖",charIndex:1491},{level:3,title:"安装python",slug:"安装python",normalizedTitle:"安装python",charIndex:466},{level:3,title:"使用pyenv",slug:"使用pyenv",normalizedTitle:"使用pyenv",charIndex:307},{level:2,title:"更换 pip 源",slug:"更换-pip-源",normalizedTitle:"更换 pip 源",charIndex:3848},{level:3,title:"临时换源",slug:"临时换源",normalizedTitle:"临时换源",charIndex:4050},{level:3,title:"永久换源",slug:"永久换源",normalizedTitle:"永久换源",charIndex:4406},{level:3,title:"常见问题",slug:"常见问题",normalizedTitle:"常见问题",charIndex:5113},{level:2,title:"参考",slug:"参考-2",normalizedTitle:"参考",charIndex:998}],headersStr:"windows 安装pyenv 使用 Linux 安装pyenv 配置环境变量 配置环境依赖 安装python 使用pyenv 更换 pip 源 临时换源 永久换源 常见问题 参考",content:'pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。\n\n\n# windows\n\n\n# 安装pyenv\n\n以管理员身份运行powershell，执行以下命令即可安装\n\nInvoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"\n\n\n1\n\n\n使用pyenv切换环境，无论windows还是linux都可以使用pyenv，linux比较容易安装。\n\n需要注意的是，如果原本电脑安装了python，需要保证在系统环境变量中，pyenv的环境变量要在python的上面，否则会造成pyenv切换了也没有效果还是使用原本电脑安装的python环境。\n\nvscode可以安装pythonEnvironmentManage插件，vscode下面就可以看到当前使用的版本.\n\nvscode settings.json里加入以下两行(也许不需要)\n\n  "python.terminal.activateEnvInCurrentTerminal": true,\n  "python.envFile": "${workspaceFolder}/.python-version"\n\n\n1\n2\n\n\n\n# 使用\n\n# 下载python包\n\n使用pyenv默认源下载会超时，可以先从官网将包下载下来放到默认目录，在执行安装命令\n\n * 下载python\n\n打开 Python 官网 然后进入 Python Dowloads 的 Source code 页面，也就是源码页面，下 .tar.xz 的压缩包或者exe文件到pyenv的缓存目录C:\\Users\\${user}\\.pyenv\\pyenv-win\\install_cache 如果没有这个目录可以手动创建,将${user}替换成自己本地实际用户名\n\n * 安装指定版本python如3.10.11\n   \n   pyenv install 3.10.11 此时会自动取缓存目录寻找包。\n\n# 参考\n\n * [0] pyenv-win\n\n\n# Linux\n\n\n# 安装pyenv\n\npyenv-github\n\ncurl https://pyenv.run | bash\n\n\n1\n\n\nlinux上如果没有代理git clone会超时，可以把这个脚本提前下载到本地，把变量里的github.com改为kgithub.com，提高下载速度。\n\n默认安装在$HOME/.pyenv下\n\n\n# 配置环境变量\n\necho \'export PYENV_ROOT="$HOME/.pyenv"\' >> ~/.bashrc\necho \'command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"\' >> ~/.bashrc\necho \'eval "$(pyenv init -)"\' >> ~/.bashrc\n\n\n1\n2\n3\n\n\n然后，如果您有 ~/.profile 、 ~/.bash_profile 或 ~/.bash_login ，则也在此处添加命令。如果您没有这些，请将它们添加到 ~/.profile 。\n\n\n# 配置环境依赖\n\n# 安装基础包\n\n否则pyenv install 时编译会失败\n\n# ubuntu 22.02\n\nsudo apt install libssl-dev libffi-dev libncurses5-dev zlib1g zlib1g-dev libreadline-dev libbz2-dev libsqlite3-dev make gcc lzma lzma-dev liblzma-dev -y\n\n\n1\n\n\n# centos7.8\n\nyum install libssl-dev libffi-dev libncurses5-dev zlib1g zlib1g-dev libreadline-dev libbz2-dev libsqlite3-dev make gcc xz-devel ncurses-devel readline-devel -y\n\n\n1\n\n\n# openssl1.1\n\nubuntu高版本和centos8默认安装oepnssl1.1无需处理。\n\n建议编译安装，yum安装或删除如果误操作可能会导致ssh wget yum都无法使用\n\n# centos7.8\n\n * 查看当前版本:\n\nopenssl version 默认时1.0.2\n\n * 编译安装openssl\n   \n   wget https://www.openssl.org/source/openssl-1.1.1n.tar.gz --no-check-certificate\n   tar -zxvf openssl-1.1.1n.tar.gz\n   cd openssl-1.1.1n\n   ./config --prefix=/usr/local/openssl  #路径需要选这个\n   make -j && make install\n   openssl version #此时版本已是1.1\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * 替换lib库\n   \n   一定注意不要随意删除lib文件，操作前ls -l看下哪些是软链，哪些是文件，误删除了会导致ssh yum wget curl等使用libssl库的命令都无法使用\n   \n   mv /usr/bin/openssl /usr/bin/openssl.bak\n   ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl\n   openssl version # 验证是否正常\n   # 软链到lib64下\n   ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/libssl.so.1.1\n   ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/libcrypto.so.1.1\n   openssl version # 验证是否正常\n   不断开当前连接，新建一个连接测试ssh是否正常\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# 安装python\n\npyenv install python时特别慢，可以手动下载需要安装的python版本，放到指定目录下，再次运行pyenv install就可以使用本地包安装.\n\npyenv install -l #可以看到当前的版本,可以过滤指定版本比如3.10，下面需要填更具体的版本如3.10.12\n# 直接运行以下命令即可将指定版本放到指定目录下进行安装\nexport v=3.10.11; wget https://npm.taobao.org/mirrors/python/$v/Python-$v.tar.xz -P ~/.pyenv/cache/; pyenv install $v \n\n\n1\n2\n3\n\n\n此时centos7.8可能还会报找不到ssl module，这是因为pyenv install命令编译python时没有指定openssl库，可以自己解压python自己编译好之后放到~/.pyenv/versions下。\n\n### 解压python，进入目录，如果编译过就make clean清除下\ncd /usr/local/Python-3.10.12/\n./configure --prefix=/usr/local/python3 --with-openssl=/usr/local/openssl --with-openssl-rpath=auto  # 就是这行，指定openssl，并且是auto。\nmake -j \nmake install \n### make时如果缺少什么包再yum安装即可。\n cp -r python3 .pyenv/versions/3.10.12\n pyenv versions #此时可看到3.10.12\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 使用pyenv\n\n一般来说要使用install的python版本创建一个虚拟环境，此后的操作在虚拟环境中使用\n\n# \n pyenv virtualenv 3.10.12  langchainglm  # 第三个是使用的python版本，第四个是起的名字\n pyenv activate langchainglm # 激活环境\n python -m pip --version # 只运行pip则使用的3.10.12的pip并非自定义环境的pip\n\n\n1\n2\n3\n4\n\n\n\n# 更换 pip 源\n\n> 在使用Python安装包工具pip时经常会出现下载很慢的情况，这其中有很大一部分原因和pip的源有关，在我们安装python后，通常python解释器自带pip这个工具，但是这里pip是设置的默认源，也就是官方源：https://pypi.org/simple，这个源在国内的下载速度是很慢的，所以我们为了提高包的下载速度我们可以通过换源来实现\n\n清华源要比阿里云的快。\n\n\n# 临时换源\n\n临时换源只需要在pip安装包时，加上一个-i参数后接源的url即可：\n\n#清华源\npip install markdown -i https://pypi.tuna.tsinghua.edu.cn/simple\n\n# 阿里源\npip install markdown -i https://mirrors.aliyun.com/pypi/simple/\n\n# 腾讯源\npip install markdown -i http://mirrors.cloud.tencent.com/pypi/simple\n\n# 豆瓣源\npip install markdown -i http://pypi.douban.com/simple/\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 永久换源\n\n# 命令行\n\n# 清华源\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n\n# 阿里源\npip config set global.index-url https://mirrors.aliyun.com/pypi/simple/\n\n# 腾讯源\npip config set global.index-url http://mirrors.cloud.tencent.com/pypi/simple\n\n# 豆瓣源\npip config set global.index-url http://pypi.douban.com/simple/# 换回默认源pip config unset global.index-url\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 配置文件\n\n# Linux\n\n 1. 在根目录下创建/修改～/.pip/pip.confpip配置文件；\n\n 2. 进入文件新增/修改内容；\n\n[global]\nindex-url = http://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host=mirrors.aliyun.com\n\n\n1\n2\n3\n4\n5\n\n\n# Windows\n\n 1. windows在%HOMEPATH%\\pip\\pip.ini中修改上面第二步的内容；(例如：C:\\Users\\hp\\AppData\\Roaming\\pip\\pip.ini)\n\n 2. 保存文件退出；\n\n\n# 常见问题\n\n * 安装包的时候出现\n\ncsharp复制代码Collecting beautifulsoup4\nThe repository located at mirrors.aliyun.com is not a trusted or secure host and is being ignored. If this repository is available via HTTPS it is recommended to use HTTPS instead, otherwise you may silence this warning and allow it anyways with ‘–trusted-host mirrors.aliyun.com’.\nCould not find a version that satisfies the requirement beautifulsoup4 (from versions: )\nNo matching distribution found for beautifulsoup4\n\n\n1\n2\n3\n4\n\n\n * 这是一个问题是在pip镜像升级报警，只需要添加信任源即可：\n   \n   * 临时换源处理\n   \n   * css\n     复制代码pip install beautifulsoup4 --trusted-host mirrors.aliyun.com\n     \n     \n     1\n     2\n     \n   \n   * 更换默认源配置（一劳永逸）\n   \n   * ini复制代码[install]\n     trusted-host=pypi.douban.com\n     \n     \n     1\n     2\n     \n\n\n# 参考\n\n * [1] linux上使用pyenv切换python版本\n * [2] windows上使用pyenv\n * [3] 解决linux上pyenv install 失败问题-参考\n * [4] pyenv-win github\n * [5] pip换源',normalizedContent:'pyenv是一个python版本管理工具，用来配置特定的python环境，并且可以随意切换。\n\n\n# windows\n\n\n# 安装pyenv\n\n以管理员身份运行powershell，执行以下命令即可安装\n\ninvoke-webrequest -usebasicparsing -uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -outfile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"\n\n\n1\n\n\n使用pyenv切换环境，无论windows还是linux都可以使用pyenv，linux比较容易安装。\n\n需要注意的是，如果原本电脑安装了python，需要保证在系统环境变量中，pyenv的环境变量要在python的上面，否则会造成pyenv切换了也没有效果还是使用原本电脑安装的python环境。\n\nvscode可以安装pythonenvironmentmanage插件，vscode下面就可以看到当前使用的版本.\n\nvscode settings.json里加入以下两行(也许不需要)\n\n  "python.terminal.activateenvincurrentterminal": true,\n  "python.envfile": "${workspacefolder}/.python-version"\n\n\n1\n2\n\n\n\n# 使用\n\n# 下载python包\n\n使用pyenv默认源下载会超时，可以先从官网将包下载下来放到默认目录，在执行安装命令\n\n * 下载python\n\n打开 python 官网 然后进入 python dowloads 的 source code 页面，也就是源码页面，下 .tar.xz 的压缩包或者exe文件到pyenv的缓存目录c:\\users\\${user}\\.pyenv\\pyenv-win\\install_cache 如果没有这个目录可以手动创建,将${user}替换成自己本地实际用户名\n\n * 安装指定版本python如3.10.11\n   \n   pyenv install 3.10.11 此时会自动取缓存目录寻找包。\n\n# 参考\n\n * [0] pyenv-win\n\n\n# linux\n\n\n# 安装pyenv\n\npyenv-github\n\ncurl https://pyenv.run | bash\n\n\n1\n\n\nlinux上如果没有代理git clone会超时，可以把这个脚本提前下载到本地，把变量里的github.com改为kgithub.com，提高下载速度。\n\n默认安装在$home/.pyenv下\n\n\n# 配置环境变量\n\necho \'export pyenv_root="$home/.pyenv"\' >> ~/.bashrc\necho \'command -v pyenv >/dev/null || export path="$pyenv_root/bin:$path"\' >> ~/.bashrc\necho \'eval "$(pyenv init -)"\' >> ~/.bashrc\n\n\n1\n2\n3\n\n\n然后，如果您有 ~/.profile 、 ~/.bash_profile 或 ~/.bash_login ，则也在此处添加命令。如果您没有这些，请将它们添加到 ~/.profile 。\n\n\n# 配置环境依赖\n\n# 安装基础包\n\n否则pyenv install 时编译会失败\n\n# ubuntu 22.02\n\nsudo apt install libssl-dev libffi-dev libncurses5-dev zlib1g zlib1g-dev libreadline-dev libbz2-dev libsqlite3-dev make gcc lzma lzma-dev liblzma-dev -y\n\n\n1\n\n\n# centos7.8\n\nyum install libssl-dev libffi-dev libncurses5-dev zlib1g zlib1g-dev libreadline-dev libbz2-dev libsqlite3-dev make gcc xz-devel ncurses-devel readline-devel -y\n\n\n1\n\n\n# openssl1.1\n\nubuntu高版本和centos8默认安装oepnssl1.1无需处理。\n\n建议编译安装，yum安装或删除如果误操作可能会导致ssh wget yum都无法使用\n\n# centos7.8\n\n * 查看当前版本:\n\nopenssl version 默认时1.0.2\n\n * 编译安装openssl\n   \n   wget https://www.openssl.org/source/openssl-1.1.1n.tar.gz --no-check-certificate\n   tar -zxvf openssl-1.1.1n.tar.gz\n   cd openssl-1.1.1n\n   ./config --prefix=/usr/local/openssl  #路径需要选这个\n   make -j && make install\n   openssl version #此时版本已是1.1\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   \n\n * 替换lib库\n   \n   一定注意不要随意删除lib文件，操作前ls -l看下哪些是软链，哪些是文件，误删除了会导致ssh yum wget curl等使用libssl库的命令都无法使用\n   \n   mv /usr/bin/openssl /usr/bin/openssl.bak\n   ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl\n   openssl version # 验证是否正常\n   # 软链到lib64下\n   ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/libssl.so.1.1\n   ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/libcrypto.so.1.1\n   openssl version # 验证是否正常\n   不断开当前连接，新建一个连接测试ssh是否正常\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# 安装python\n\npyenv install python时特别慢，可以手动下载需要安装的python版本，放到指定目录下，再次运行pyenv install就可以使用本地包安装.\n\npyenv install -l #可以看到当前的版本,可以过滤指定版本比如3.10，下面需要填更具体的版本如3.10.12\n# 直接运行以下命令即可将指定版本放到指定目录下进行安装\nexport v=3.10.11; wget https://npm.taobao.org/mirrors/python/$v/python-$v.tar.xz -p ~/.pyenv/cache/; pyenv install $v \n\n\n1\n2\n3\n\n\n此时centos7.8可能还会报找不到ssl module，这是因为pyenv install命令编译python时没有指定openssl库，可以自己解压python自己编译好之后放到~/.pyenv/versions下。\n\n### 解压python，进入目录，如果编译过就make clean清除下\ncd /usr/local/python-3.10.12/\n./configure --prefix=/usr/local/python3 --with-openssl=/usr/local/openssl --with-openssl-rpath=auto  # 就是这行，指定openssl，并且是auto。\nmake -j \nmake install \n### make时如果缺少什么包再yum安装即可。\n cp -r python3 .pyenv/versions/3.10.12\n pyenv versions #此时可看到3.10.12\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 使用pyenv\n\n一般来说要使用install的python版本创建一个虚拟环境，此后的操作在虚拟环境中使用\n\n# \n pyenv virtualenv 3.10.12  langchainglm  # 第三个是使用的python版本，第四个是起的名字\n pyenv activate langchainglm # 激活环境\n python -m pip --version # 只运行pip则使用的3.10.12的pip并非自定义环境的pip\n\n\n1\n2\n3\n4\n\n\n\n# 更换 pip 源\n\n> 在使用python安装包工具pip时经常会出现下载很慢的情况，这其中有很大一部分原因和pip的源有关，在我们安装python后，通常python解释器自带pip这个工具，但是这里pip是设置的默认源，也就是官方源：https://pypi.org/simple，这个源在国内的下载速度是很慢的，所以我们为了提高包的下载速度我们可以通过换源来实现\n\n清华源要比阿里云的快。\n\n\n# 临时换源\n\n临时换源只需要在pip安装包时，加上一个-i参数后接源的url即可：\n\n#清华源\npip install markdown -i https://pypi.tuna.tsinghua.edu.cn/simple\n\n# 阿里源\npip install markdown -i https://mirrors.aliyun.com/pypi/simple/\n\n# 腾讯源\npip install markdown -i http://mirrors.cloud.tencent.com/pypi/simple\n\n# 豆瓣源\npip install markdown -i http://pypi.douban.com/simple/\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 永久换源\n\n# 命令行\n\n# 清华源\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n\n# 阿里源\npip config set global.index-url https://mirrors.aliyun.com/pypi/simple/\n\n# 腾讯源\npip config set global.index-url http://mirrors.cloud.tencent.com/pypi/simple\n\n# 豆瓣源\npip config set global.index-url http://pypi.douban.com/simple/# 换回默认源pip config unset global.index-url\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 配置文件\n\n# linux\n\n 1. 在根目录下创建/修改～/.pip/pip.confpip配置文件；\n\n 2. 进入文件新增/修改内容；\n\n[global]\nindex-url = http://mirrors.aliyun.com/pypi/simple/\n\n[install]\ntrusted-host=mirrors.aliyun.com\n\n\n1\n2\n3\n4\n5\n\n\n# windows\n\n 1. windows在%homepath%\\pip\\pip.ini中修改上面第二步的内容；(例如：c:\\users\\hp\\appdata\\roaming\\pip\\pip.ini)\n\n 2. 保存文件退出；\n\n\n# 常见问题\n\n * 安装包的时候出现\n\ncsharp复制代码collecting beautifulsoup4\nthe repository located at mirrors.aliyun.com is not a trusted or secure host and is being ignored. if this repository is available via https it is recommended to use https instead, otherwise you may silence this warning and allow it anyways with ‘–trusted-host mirrors.aliyun.com’.\ncould not find a version that satisfies the requirement beautifulsoup4 (from versions: )\nno matching distribution found for beautifulsoup4\n\n\n1\n2\n3\n4\n\n\n * 这是一个问题是在pip镜像升级报警，只需要添加信任源即可：\n   \n   * 临时换源处理\n   \n   * css\n     复制代码pip install beautifulsoup4 --trusted-host mirrors.aliyun.com\n     \n     \n     1\n     2\n     \n   \n   * 更换默认源配置（一劳永逸）\n   \n   * ini复制代码[install]\n     trusted-host=pypi.douban.com\n     \n     \n     1\n     2\n     \n\n\n# 参考\n\n * [1] linux上使用pyenv切换python版本\n * [2] windows上使用pyenv\n * [3] 解决linux上pyenv install 失败问题-参考\n * [4] pyenv-win github\n * [5] pip换源',charsets:{cjk:!0},lastUpdated:"2023/9/10",lastUpdatedTimestamp:1694361355e3},{title:"VUE补充",frontmatter:{title:"VUE补充",date:"2021-3-01",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第16天 补充"},{name:"keywords",content:"自学 vue api"},{name:"twitter:title",content:"VUE补充"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/VUE%E8%A1%A5%E5%85%85.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE补充"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/VUE%E8%A1%A5%E5%85%85.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-3-01"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE补充"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/supplement.html",description:""},regularPath:"/article/vue/VUE%E8%A1%A5%E5%85%85.html",relativePath:"article/vue/VUE补充.md",key:"v-1e2c93b5",path:"/article/vue/supplement.html",headersStr:null,content:"# Watch deep\n\n普通watch 无法精确监控某个对象属性变化，可以通过deep参数\n\n   updateForm: {\n        service: [],\n        id: 0,\n        desc: '',\n        owner: '',\n        cpu: 0,\n        mem: 0,\n      },\n  // 监控service变化\n  watch: {\n    'updateForm.service': {\n      handler (newVal，oldVal) {\n\t\t\t// 业务逻辑\n      },\n      deep: true,\n    },\n\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:"# watch deep\n\n普通watch 无法精确监控某个对象属性变化，可以通过deep参数\n\n   updateform: {\n        service: [],\n        id: 0,\n        desc: '',\n        owner: '',\n        cpu: 0,\n        mem: 0,\n      },\n  // 监控service变化\n  watch: {\n    'updateform.service': {\n      handler (newval，oldval) {\n\t\t\t// 业务逻辑\n      },\n      deep: true,\n    },\n\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678624462e3},{title:"VUE Study Day01 - 初识vue指令",frontmatter:{title:"VUE Study Day01 - 初识vue指令",date:"2021-2-1",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第1天 vue是什么？"},{name:"keywords",content:"自学 vue v-model 指令"},{name:"image",content:"https://www.yangxiaokang.com/imageSrc"},{name:"twitter:title",content:"VUE Study Day01 - 初识vue指令"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/imageSrc"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day01-%E6%8C%87%E4%BB%A4.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day01 - 初识vue指令"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/imageSrc"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day01-%E6%8C%87%E4%BB%A4.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-1"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day01 - 初识vue指令"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/imageSrc"}],feed:{enable:!0},permalink:"/article/vue/studyvueday1.html",summary:"不断学习，不断提升，日拱一卒，学习vue第1天",description:""},regularPath:"/article/vue/day01-%E6%8C%87%E4%BB%A4.html",relativePath:"article/vue/day01-指令.md",key:"v-0eaa4d08",path:"/article/vue/studyvueday1.html",headers:[{level:2,title:"Vue 是什么？",slug:"vue-是什么",normalizedTitle:"vue 是什么？",charIndex:2},{level:2,title:"mvvm",slug:"mvvm",normalizedTitle:"mvvm",charIndex:103},{level:2,title:"指令",slug:"指令",normalizedTitle:"指令",charIndex:352},{level:3,title:"v-on",slug:"v-on",normalizedTitle:"v-on",charIndex:3025},{level:3,title:"v-bind",slug:"v-bind",normalizedTitle:"v-bind",charIndex:6532},{level:2,title:"分支结构",slug:"分支结构",normalizedTitle:"分支结构",charIndex:9309},{level:2,title:"循环结构",slug:"循环结构",normalizedTitle:"循环结构",charIndex:10403},{level:2,title:"每日一练-选项卡 💯",slug:"每日一练-选项卡-💯",normalizedTitle:"每日一练-选项卡 💯",charIndex:11462}],headersStr:"Vue 是什么？ mvvm 指令 v-on v-bind 分支结构 循环结构 每日一练-选项卡 💯",content:"# Vue 是什么？\n\n * Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架\n * vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合\n\n\n# mvvm\n\n * MVC 是后端的分层开发概念； MVVM是前端视图层的概念，主要关注于 视图层分离，也就是说：MVVM把前端的视图层，分为了 三部分 Model, View , VM ViewModel\n * m👉 model\n   * 数据层Vue中数据层 都放在 data 里面\n * v 👉view 视图\n   * Vue中 view即我们的HTML页面\n * vm 👉（view-model） 控制器 将数据和视图层建立联系\n   * vm 即 Vue 的实例 就是 vm\n\n\n# 指令\n\n * 本质就是自定义属性\n * Vue中指定都是以 v- 开头\n\n# v-cloak\n\n * 防止页面加载时出现闪烁问题\n   \n    <style type=\"text/css\">\n     /* \n       1、通过属性选择器 选择到 带有属性 v-cloak的标签  让他隐藏\n    */\n     [v-cloak]{\n       /* 元素隐藏    */\n       display: none;\n     }\n     </style>\n   <body>\n     <div id=\"app\">\n       \x3c!-- 2、 让带有插值 语法的   添加 v-cloak 属性 \n            在 数据渲染完场之后，v-cloak 属性会被自动去除，\n            v-cloak一旦移除也就是没有这个属性了  属性选择器就选择不到该标签\n   \t\t 也就是对应的标签会变为可见\n       --\x3e\n       <div  v-cloak  >{{msg}}</div>\n     </div>\n     <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n     <script type=\"text/javascript\">\n       var vm = new Vue({\n         //  el   指定元素 id 是 app 的元素  \n         el: '#app',\n         //  data  里面存储的是数据\n         data: {\n           msg: 'Hello Vue'\n         }\n       });\n   <\/script>\n   </body>\n   </html>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   \n\n# v-text\n\n * v-text指令用于将数据填充到标签中，作用于插值表达式类似，但是没有闪动问题\n * 如果数据中有HTML标签会将html标签一并输出\n * 注意：此处为单向绑定，数据对象上的值改变，插值会发生变化；但是当插值发生变化并不会影响数据对象的值\n\n<div id=\"app\">\n    \x3c!--  \n\t\t注意:在指令中不要写插值语法  直接写对应的变量名称 \n        在 v-text 中 赋值的时候不要在写 插值语法\n\t\t一般属性中不加 {{}}  直接写 对应 的数据名 \n\t--\x3e\n    <p v-text=\"msg\"></p>\n    <p>\n        \x3c!-- Vue  中只有在标签的 内容中 才用插值语法 --\x3e\n        {{msg}}\n    </p>\n</div>\n\n<script>\n    new Vue({\n        el: '#app',\n        data: {\n            msg: 'Hello Vue.js'\n        }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# v-html\n\n * 用法和v-text 相似 但是他可以将HTML片段填充到标签中\n\n * 可能有安全问题, 一般只在可信任内容上使用 v-html，永远不要用在用户提交的内容上\n\n * 它与v-text区别在于v-text输出的是纯文本，浏览器不会对其再进行html解析，但v-html会将其当html标签解析后输出。\n   \n   <div id=\"app\">\n   　　<p v-html=\"html\"></p> \x3c!-- 输出：html标签在渲染的时候被解析 --\x3e\n       \n       <p>{{message}}</p> \x3c!-- 输出：<span>通过双括号绑定</span> --\x3e\n       \n   　　<p v-text=\"text\"></p> \x3c!-- 输出：<span>html标签在渲染的时候被源码输出</span> --\x3e\n   </div>\n   <script>\n   　　let app = new Vue({\n   　　el: \"#app\",\n   　　data: {\n   　　　　message: \"<span>通过双括号绑定</span>\",\n   　　　　html: \"<span>html标签在渲染的时候被解析</span>\",\n   　　　　text: \"<span>html标签在渲染的时候被源码输出</span>\",\n   　　}\n    });\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   \n\n# v-pre\n\n * 显示原始信息跳过编译过程\n * 跳过这个元素和它的子元素的编译过程。\n * 一些静态的内容不需要编译加这个指令可以加快渲染\n\n    <span v-pre>{{ this will not be compiled }}</span>    \n\t\x3c!--  显示的是{{ this will not be compiled }}  --\x3e\n\t<span v-pre>{{msg}}</span>  \n     \x3c!--   即使data里面定义了msg这里仍然是显示的{{msg}}  --\x3e\n<script>\n    new Vue({\n        el: '#app',\n        data: {\n            msg: 'Hello Vue.js'\n        }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# v-once\n\n * 执行一次性的插值【当数据改变时，插值处的内容不会继续更新】\n\n  \x3c!-- 即使data里面定义了msg 后期我们修改了 仍然显示的是第一次data里面存储的数据即 Hello Vue.js  --\x3e\n     <span v-once>{{ msg}}</span>    \n<script>\n    new Vue({\n        el: '#app',\n        data: {\n            msg: 'Hello Vue.js'\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# v-model\n\n双向数据绑定\n\n * 当数据发生变化的时候，视图也就发生变化\n\n * 当视图发生变化的时候，数据也会跟着同步变化\n\n * v-model是一个指令，限制在 <input>、<select>、<textarea>、components中使用\n\n <div id=\"app\">\n      <div>{{msg}}</div>\n      <div>\n          当输入框中内容改变的时候，  页面上的msg  会自动更新\n        <input type=\"text\" v-model='msg'>\n      </div>\n  </div>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# v-on\n\n * 用来绑定事件的\n * 形式如：v-on:click 缩写为 @click;\n\n# v-on事件函数中传入参数\n\n\n<body>\n    <div id=\"app\">\n        <div>{{num}}</div>\n        <div>\n            \x3c!-- 如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数 --\x3e\n            <button v-on:click='handle1'>点击1</button>\n            \x3c!-- 2、如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，\n                 并且事件对象的名称必须是$event \n            --\x3e\n            <button v-on:click='handle2(123, 456, $event)'>点击2</button>\n        </div>\n    </div>\n    <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n    <script type=\"text/javascript\">\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                num: 0\n            },\n            methods: {\n                handle1: function(event) {\n                    console.log(event.target.innerHTML)\n                },\n                handle2: function(p, p1, event) {\n                    console.log(p, p1)\n                    console.log(event.target.innerHTML)\n                    this.num++;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# 事件修饰符\n\n * 在事件处理程序中调用 event.preventDefault() 或 event.stopPropagation() 是非常常见的需求。\n * Vue 不推荐我们操作DOM 为了解决这个问题，Vue.js 为 v-on 提供了事件修饰符\n * 修饰符是由点开头的指令后缀来表示的\n\n\x3c!-- 阻止单击事件继续传播 --\x3e\n<a v-on:click.stop=\"doThis\"></a>\n\n\x3c!-- 提交事件不再重载页面 --\x3e\n<form v-on:submit.prevent=\"onSubmit\"></form>\n\n\x3c!-- 修饰符可以串联   即阻止冒泡也阻止默认事件 --\x3e\n<a v-on:click.stop.prevent=\"doThat\"></a>\n\n\x3c!-- 只当在 event.target 是当前元素自身时触发处理函数 --\x3e\n\x3c!-- 即事件不是从内部元素触发的 --\x3e\n<div v-on:click.self=\"doThat\">...</div>\n\n使用修饰符时，顺序很重要；相应的代码会以同样的顺序产生。因此，用 v-on:click.prevent.self 会阻止所有的点击，而 v-on:click.self.prevent 只会阻止对元素自身的点击。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 按键修饰符\n\n * 在做项目中有时会用到键盘事件，在监听键盘事件时，我们经常需要检查详细的按键。Vue 允许为 v-on 在监听键盘事件时添加按键修饰符\n\n\x3c!-- 只有在 `keyCode` 是 13 时调用 `vm.submit()` --\x3e\n<input v-on:keyup.13=\"submit\">\n\n\x3c!-- -当点击enter 时调用 `vm.submit()` --\x3e\n<input v-on:keyup.enter=\"submit\">\n\n\x3c!--当点击enter或者space时  时调用 `vm.alertMe()`   --\x3e\n<input type=\"text\" v-on:keyup.enter.space=\"alertMe\" >\n\n常用的按键修饰符\n.enter =>    enter键\n.tab => tab键\n.delete (捕获“删除”和“退格”按键) =>  删除键\n.esc => 取消键\n.space =>  空格键\n.up =>  上\n.down =>  下\n.left =>  左\n.right =>  右\n\n<script>\n\tvar vm = new Vue({\n        el:\"#app\",\n        methods: {\n              submit:function(){},\n              alertMe:function(){},\n        }\n    })\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# 自定义按键修饰符别名\n\n * 在Vue中可以通过config.keyCodes自定义按键修饰符别名\n\n<div id=\"app\">\n    预先定义了keycode 116（即F5）的别名为f5，因此在文字输入框中按下F5，会触发prompt方法\n    <input type=\"text\" v-on:keydown.f5=\"prompt()\">\n</div>\n\n<script>\n\t\n    Vue.config.keyCodes.f5 = 116;\n\n    let app = new Vue({\n        el: '#app',\n        methods: {\n            prompt: function() {\n                alert('我是 F5！');\n            }\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# v-bind\n\n * v-bind 指令被用来响应地更新 HTML 属性\n * v-bind:href 可以缩写为 :href;\n\n\x3c!-- 绑定一个属性 --\x3e\n<img v-bind:src=\"imageSrc\">\n\n\x3c!-- 缩写 --\x3e\n<img :src=\"imageSrc\">\n\n\n1\n2\n3\n4\n5\n\n\n# 绑定对象\n\n * 我们可以给v-bind:class 一个对象，以动态地切换class。\n * 注意：v-bind:class指令可以与普通的class特性共存\n\n1、 v-bind 中支持绑定一个对象 \n\t如果绑定的是一个对象 则 键为 对应的类名  值 为对应data中的数据 \n\x3c!-- \n\tHTML最终渲染为 <ul class=\"box textColor textSize\"></ul>\n\t注意：\n\t\ttextColor，textSize  对应的渲染到页面上的CSS类名\t\n\t\tisColor，isSize  对应vue data中的数据  如果为true 则对应的类名 渲染到页面上 \n\n\n\t\t当 isColor 和 isSize 变化时，class列表将相应的更新，\n\t\t例如，将isSize改成false，\n\t\tclass列表将变为 <ul class=\"box textColor\"></ul>\n--\x3e\n\n<ul class=\"box\" v-bind:class=\"{textColor:isColor, textSize:isSize}\">\n    <li>学习Vue</li>\n    <li>学习Node</li>\n    <li>学习React</li>\n</ul>\n  <div v-bind:style=\"{color:activeColor,fontSize:activeSize}\">对象语法</div>\n\n<sript>\nvar vm= new Vue({\n    el:'.box',\n    data:{\n        isColor:true,\n        isSize:true，\n    \tactiveColor:\"red\",\n        activeSize:\"25px\",\n    }\n})\n</sript>\n<style>\n\n    .box{\n        border:1px dashed #f0f;\n    }\n    .textColor{\n        color:#f00;\n        background-color:#eef;\n    }\n    .textSize{\n        font-size:30px;\n        font-weight:bold;\n    }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 绑定class\n\n2、  v-bind 中支持绑定一个数组    数组中classA和 classB 对应为data中的数据\n\n这里的classA  对用data 中的  classA\n这里的classB  对用data 中的  classB\n<ul class=\"box\" :class=\"[classA, classB]\">\n    <li>学习Vue</li>\n    <li>学习Node</li>\n    <li>学习React</li>\n</ul>\n<script>\nvar vm= new Vue({\n    el:'.box',\n    data:{\n        classA:‘textColor‘,\n        classB:‘textSize‘\n    }\n})\n<\/script>\n<style>\n    .box{\n        border:1px dashed #f0f;\n    }\n    .textColor{\n        color:#f00;\n        background-color:#eef;\n    }\n    .textSize{\n        font-size:30px;\n        font-weight:bold;\n    }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 绑定对象和绑定数组 的区别\n\n * 绑定对象的时候 对象的属性 即要渲染的类名 对象的属性值对应的是 data 中的数据\n * 绑定数组的时候数组里面存的是data 中的数据\n\n# 绑定style\n\n <div v-bind:style=\"styleObject\">绑定样式对象</div>'\n \n\x3c!-- CSS 属性名可以用驼峰式 (camelCase) 或短横线分隔 (kebab-case，记得用单引号括起来)    --\x3e\n <div v-bind:style=\"{ color: activeColor, fontSize: fontSize,background:'red' }\">内联样式</div>\n\n\x3c!--组语法可以将多个样式对象应用到同一个元素 --\x3e\n<div v-bind:style=\"[styleObj1, styleObj2]\"></div>\n\n\n<script>\n\tnew Vue({\n      el: '#app',\n      data: {\n        styleObject: {\n          color: 'green',\n          fontSize: '30px',\n          background:'red'\n        }，\n        activeColor: 'green',\n   \t\tfontSize: \"30px\"\n      },\n      styleObj1: {\n             color: 'red'\n       },\n       styleObj2: {\n            fontSize: '30px'\n       }\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 分支结构\n\n# v-if 使用场景\n\n * 多个元素 通过条件判断展示或者隐藏某个元素。或者多个元素\n * 进行两个视图之间的切换\n\n<div id=\"app\">\n        \x3c!--  判断是否加载，如果为真，就加载，否则不加载--\x3e\n        <span v-if=\"flag\">\n           如果flag为true则显示,false不显示!\n        </span>\n</div>\n\n<script>\n    var vm = new Vue({\n        el:\"#app\",\n        data:{\n            flag:true\n        }\n    })\n<\/script>\n\n----------------------------------------------------------\n\n    <div v-if=\"type === 'A'\">\n       A\n    </div>\n  \x3c!-- v-else-if紧跟在v-if或v-else-if之后   表示v-if条件不成立时执行--\x3e\n    <div v-else-if=\"type === 'B'\">\n       B\n    </div>\n    <div v-else-if=\"type === 'C'\">\n       C\n    </div>\n  \x3c!-- v-else紧跟在v-if或v-else-if之后--\x3e\n    <div v-else>\n       Not A/B/C\n    </div>\n\n<script>\n    new Vue({\n      el: '#app',\n      data: {\n        type: 'C'\n      }\n    })\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# v-show 和 v-if的区别\n\n * v-show本质就是标签display设置为none，控制隐藏\n   * v-show只编译一次，后面其实就是控制css，而v-if不停的销毁和创建，故v-show性能更好一点。\n * v-if是动态的向DOM树内添加或者删除DOM元素\n   * v-if切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件\n\n\n# 循环结构\n\n# v-for\n\n * 用于循环的数组里面的值可以是对象，也可以是普通元素\n\n<ul id=\"example-1\">\n   \x3c!-- 循环结构-遍历数组  \n\titem 是我们自己定义的一个名字  代表数组里面的每一项  \n\titems对应的是 data中的数组--\x3e\n  <li v-for=\"item in items\">\n    {{ item.message }}\n  </li> \n\n</ul>\n<script>\n new Vue({\n  el: '#example-1',\n  data: {\n    items: [\n      { message: 'Foo' },\n      { message: 'Bar' }\n    ]，\n   \n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n * 不推荐同时使用 v-if 和 v-for\n * 当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级。\n\n   \x3c!--  循环结构-遍历对象\n\t\tv 代表   对象的value\n\t\tk  代表对象的 键 \n\t\ti  代表索引\t\n\t---\x3e \n     <div v-if='v==13' v-for='(v,k,i) in obj'>{{v + '---' + k + '---' + i}}</div>\n\n<script>\n new Vue({\n  el: '#example-1',\n  data: {\n    items: [\n      { message: 'Foo' },\n      { message: 'Bar' }\n    ]，\n    obj: {\n        uname: 'zhangsan',\n        age: 13,\n        gender: 'female'\n    }\n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n * key 的作用\n   * key来给每个节点做一个唯一标识\n   * key的作用主要是为了高效的更新虚拟DOM\n\n<ul>\n  <li v-for=\"item in items\" :key=\"item.id\">...</li>\n</ul>\n\n\n\n1\n2\n3\n4\n\n\n\n# 每日一练-选项卡 💯\n\n# 1. HTML 结构\n\n`\n    <div id=\"app\">\n        <div class=\"tab\">\n            \x3c!--  tab栏  --\x3e\n            <ul>\n                <li class=\"active\">apple</li>\n                <li class=\"\">orange</li>\n                <li class=\"\">lemon</li>\n            </ul>\n              \x3c!--  对应显示的图片 --\x3e\n            <div class=\"current\"><img src=\"img/apple.png\"></div>\n            <div class=\"\"><img src=\"img/orange.png\"></div>\n            <div class=\"\"><img src=\"img/lemon.png\"></div>\n        </div>\n    </div>\n\n\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 2. 提供的数据\n\n         list: [{\n                    id: 1,\n                    title: 'apple',\n                    path: 'img/apple.png'\n                }, {\n                    id: 2,\n                    title: 'orange',\n                    path: 'img/orange.png'\n                }, {\n                    id: 3,\n                    title: 'lemon',\n                    path: 'img/lemon.png'\n                }]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 3. 把数据渲染到页面\n\n * 把tab栏 中的数替换到页面上\n   \n   * 把 data 中 title 利用 v-for 循环渲染到页面上\n   * 把 data 中 path利用 v-for 循环渲染到页面上\n   \n       <div id=\"app\">\n           <div class=\"tab\">  \n               <ul>\n                     \x3c!--  \n                       1、绑定key的作用 提高Vue的性能 \n                       2、 key 需要是唯一的标识 所以需要使用id， 也可以使用index ，\n   \t\t\t\t\t\tindex 也是唯一的 \n                       3、 item 是 数组中对应的每一项  \n                       4、 index 是 每一项的 索引\n                   --\x3e\n                      <li :key='item.id' v-for='(item,index) in list'>{{item.title}}</li>\n                 </ul>\n                 <div  :key='item.id' v-for='(item, index) in list'>\n                       \x3c!-- :  是 v-bind 的简写   绑定属性使用 v-bind --\x3e\n                       <img :src=\"item.path\">\n                 </div>\n           </div>\n       </div>\n   <script>\n       new  Vue({\n           //  指定 操作元素 是 id 为app 的 \n           el: '#app',\n               data: {\n                   list: [{\n                       id: 1,\n                       title: 'apple',\n                       path: 'img/apple.png'\n                   }, {\n                       id: 2,\n                       title: 'orange',\n                       path: 'img/orange.png'\n                   }, {\n                       id: 3,\n                       title: 'lemon',\n                       path: 'img/lemon.png'\n                   }]\n               }\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   \n\n# 4. 给每一个tab栏添加事件,并让选中的高亮\n\n * 4.1 让默认的第一项tab栏高亮\n   \n   * tab栏高亮 通过添加类名active 来实现 （CSS active 的样式已经提前写好）\n     * 在data 中定义一个 默认的 索引 currentIndex 为 0\n     * 给第一个li 添加 active 的类名\n       * 通过动态绑定class 来实现 第一个li 的索引为 0 和 currentIndex 的值刚好相等\n       * currentIndex === index 如果相等 则添加类名 active 否则 添加 空类名\n\n * 4.2 让默认的第一项tab栏对应的div 显示\n   \n   * 实现思路 和 第一个 tab 实现思路一样 只不过 这里控制第一个div 显示的类名是 current\n   \n     <ul>\n   \t   \x3c!-- 动态绑定class   有 active   类名高亮  无 active   不高亮--\x3e\n          <li  :class='currentIndex==index?\"active\":\"\"'\n              :key='item.id' v-for='(item,index) in list'\n              >{{item.title}}</li>\n     </ul>\n   \t\x3c!-- 动态绑定class   有 current  类名显示  无 current  隐藏--\x3e\n     <div :class='currentIndex==index?\"current\":\"\"' \n          \n          :key='item.id' v-for='(item, index) in list'>\n           \x3c!-- :  是 v-bind 的简写   绑定属性使用 v-bind --\x3e\n           <img :src=\"item.path\">\n     </div>\n   \n   <script>\n       new  Vue({\n           el: '#app',\n               data: {\n                   currentIndex: 0, // 选项卡当前的索引  默认为 0  \n                   list: [{\n                       id: 1,\n                       title: 'apple',\n                       path: 'img/apple.png'\n                   }, {\n                       id: 2,\n                       title: 'orange',\n                       path: 'img/orange.png'\n                   }, {\n                       id: 3,\n                       title: 'lemon',\n                       path: 'img/lemon.png'\n                   }]\n               }\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   \n\n * 4.3 点击每一个tab栏 当前的高亮 其他的取消高亮\n   \n   * 给每一个li添加点击事件\n   \n   * 让当前的索引 index 和 当前 currentIndex 的 值 进项比较\n   \n   * 如果相等 则当前li 添加active 类名 当前的 li 高亮 当前对应索引的 div 添加 current 当前div 显示 其他隐藏\n     \n         <div id=\"app\">\n             <div class=\"tab\">\n                 <ul>\n                     \x3c!--  通过v-on 添加点击事件   需要把当前li 的索引传过去 \n     \t\t\t\t--\x3e\n                     <li v-on:click='change(index)'\t\t           \t\t\t\n                         :class='currentIndex==index?\"active\":\"\"'                   \n                         :key='item.id' \n                         v-for='(item,index) in list'>{{item.title}}</li>\n                 </ul>\n                 <div :class='currentIndex==index?\"current\":\"\"' \n                      :key='item.id' v-for='(item, index) in list'>\n                     <img :src=\"item.path\">\n                 </div>\n             </div>\n         </div>\n     \n     <script>\n         new  Vue({\n             el: '#app',\n                 data: {\n                     currentIndex: 0, // 选项卡当前的索引  默认为 0  \n                     list: [{\n                         id: 1,\n                         title: 'apple',\n                         path: 'img/apple.png'\n                     }, {\n                         id: 2,\n                         title: 'orange',\n                         path: 'img/orange.png'\n                     }, {\n                         id: 3,\n                         title: 'lemon',\n                         path: 'img/lemon.png'\n                     }]\n                 },\n                 methods: {\n                     change: function(index) {\n                         // 通过传入过来的索引来让当前的  currentIndex  和点击的index 值 相等 \n                         //  从而实现 控制类名    \n                         this.currentIndex = index;\n                     }\n                 }\n         \n         })\n     \n     <\/script>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     37\n     38\n     39\n     40\n     41\n     42\n     43\n     44\n     45\n     46\n     47\n     ",normalizedContent:"# vue 是什么？\n\n * vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架\n * vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合\n\n\n# mvvm\n\n * mvc 是后端的分层开发概念； mvvm是前端视图层的概念，主要关注于 视图层分离，也就是说：mvvm把前端的视图层，分为了 三部分 model, view , vm viewmodel\n * m👉 model\n   * 数据层vue中数据层 都放在 data 里面\n * v 👉view 视图\n   * vue中 view即我们的html页面\n * vm 👉（view-model） 控制器 将数据和视图层建立联系\n   * vm 即 vue 的实例 就是 vm\n\n\n# 指令\n\n * 本质就是自定义属性\n * vue中指定都是以 v- 开头\n\n# v-cloak\n\n * 防止页面加载时出现闪烁问题\n   \n    <style type=\"text/css\">\n     /* \n       1、通过属性选择器 选择到 带有属性 v-cloak的标签  让他隐藏\n    */\n     [v-cloak]{\n       /* 元素隐藏    */\n       display: none;\n     }\n     </style>\n   <body>\n     <div id=\"app\">\n       \x3c!-- 2、 让带有插值 语法的   添加 v-cloak 属性 \n            在 数据渲染完场之后，v-cloak 属性会被自动去除，\n            v-cloak一旦移除也就是没有这个属性了  属性选择器就选择不到该标签\n   \t\t 也就是对应的标签会变为可见\n       --\x3e\n       <div  v-cloak  >{{msg}}</div>\n     </div>\n     <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n     <script type=\"text/javascript\">\n       var vm = new vue({\n         //  el   指定元素 id 是 app 的元素  \n         el: '#app',\n         //  data  里面存储的是数据\n         data: {\n           msg: 'hello vue'\n         }\n       });\n   <\/script>\n   </body>\n   </html>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   \n\n# v-text\n\n * v-text指令用于将数据填充到标签中，作用于插值表达式类似，但是没有闪动问题\n * 如果数据中有html标签会将html标签一并输出\n * 注意：此处为单向绑定，数据对象上的值改变，插值会发生变化；但是当插值发生变化并不会影响数据对象的值\n\n<div id=\"app\">\n    \x3c!--  \n\t\t注意:在指令中不要写插值语法  直接写对应的变量名称 \n        在 v-text 中 赋值的时候不要在写 插值语法\n\t\t一般属性中不加 {{}}  直接写 对应 的数据名 \n\t--\x3e\n    <p v-text=\"msg\"></p>\n    <p>\n        \x3c!-- vue  中只有在标签的 内容中 才用插值语法 --\x3e\n        {{msg}}\n    </p>\n</div>\n\n<script>\n    new vue({\n        el: '#app',\n        data: {\n            msg: 'hello vue.js'\n        }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n# v-html\n\n * 用法和v-text 相似 但是他可以将html片段填充到标签中\n\n * 可能有安全问题, 一般只在可信任内容上使用 v-html，永远不要用在用户提交的内容上\n\n * 它与v-text区别在于v-text输出的是纯文本，浏览器不会对其再进行html解析，但v-html会将其当html标签解析后输出。\n   \n   <div id=\"app\">\n   　　<p v-html=\"html\"></p> \x3c!-- 输出：html标签在渲染的时候被解析 --\x3e\n       \n       <p>{{message}}</p> \x3c!-- 输出：<span>通过双括号绑定</span> --\x3e\n       \n   　　<p v-text=\"text\"></p> \x3c!-- 输出：<span>html标签在渲染的时候被源码输出</span> --\x3e\n   </div>\n   <script>\n   　　let app = new vue({\n   　　el: \"#app\",\n   　　data: {\n   　　　　message: \"<span>通过双括号绑定</span>\",\n   　　　　html: \"<span>html标签在渲染的时候被解析</span>\",\n   　　　　text: \"<span>html标签在渲染的时候被源码输出</span>\",\n   　　}\n    });\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   \n\n# v-pre\n\n * 显示原始信息跳过编译过程\n * 跳过这个元素和它的子元素的编译过程。\n * 一些静态的内容不需要编译加这个指令可以加快渲染\n\n    <span v-pre>{{ this will not be compiled }}</span>    \n\t\x3c!--  显示的是{{ this will not be compiled }}  --\x3e\n\t<span v-pre>{{msg}}</span>  \n     \x3c!--   即使data里面定义了msg这里仍然是显示的{{msg}}  --\x3e\n<script>\n    new vue({\n        el: '#app',\n        data: {\n            msg: 'hello vue.js'\n        }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# v-once\n\n * 执行一次性的插值【当数据改变时，插值处的内容不会继续更新】\n\n  \x3c!-- 即使data里面定义了msg 后期我们修改了 仍然显示的是第一次data里面存储的数据即 hello vue.js  --\x3e\n     <span v-once>{{ msg}}</span>    \n<script>\n    new vue({\n        el: '#app',\n        data: {\n            msg: 'hello vue.js'\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# v-model\n\n双向数据绑定\n\n * 当数据发生变化的时候，视图也就发生变化\n\n * 当视图发生变化的时候，数据也会跟着同步变化\n\n * v-model是一个指令，限制在 <input>、<select>、<textarea>、components中使用\n\n <div id=\"app\">\n      <div>{{msg}}</div>\n      <div>\n          当输入框中内容改变的时候，  页面上的msg  会自动更新\n        <input type=\"text\" v-model='msg'>\n      </div>\n  </div>\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# v-on\n\n * 用来绑定事件的\n * 形式如：v-on:click 缩写为 @click;\n\n# v-on事件函数中传入参数\n\n\n<body>\n    <div id=\"app\">\n        <div>{{num}}</div>\n        <div>\n            \x3c!-- 如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数 --\x3e\n            <button v-on:click='handle1'>点击1</button>\n            \x3c!-- 2、如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，\n                 并且事件对象的名称必须是$event \n            --\x3e\n            <button v-on:click='handle2(123, 456, $event)'>点击2</button>\n        </div>\n    </div>\n    <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n    <script type=\"text/javascript\">\n        var vm = new vue({\n            el: '#app',\n            data: {\n                num: 0\n            },\n            methods: {\n                handle1: function(event) {\n                    console.log(event.target.innerhtml)\n                },\n                handle2: function(p, p1, event) {\n                    console.log(p, p1)\n                    console.log(event.target.innerhtml)\n                    this.num++;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n# 事件修饰符\n\n * 在事件处理程序中调用 event.preventdefault() 或 event.stoppropagation() 是非常常见的需求。\n * vue 不推荐我们操作dom 为了解决这个问题，vue.js 为 v-on 提供了事件修饰符\n * 修饰符是由点开头的指令后缀来表示的\n\n\x3c!-- 阻止单击事件继续传播 --\x3e\n<a v-on:click.stop=\"dothis\"></a>\n\n\x3c!-- 提交事件不再重载页面 --\x3e\n<form v-on:submit.prevent=\"onsubmit\"></form>\n\n\x3c!-- 修饰符可以串联   即阻止冒泡也阻止默认事件 --\x3e\n<a v-on:click.stop.prevent=\"dothat\"></a>\n\n\x3c!-- 只当在 event.target 是当前元素自身时触发处理函数 --\x3e\n\x3c!-- 即事件不是从内部元素触发的 --\x3e\n<div v-on:click.self=\"dothat\">...</div>\n\n使用修饰符时，顺序很重要；相应的代码会以同样的顺序产生。因此，用 v-on:click.prevent.self 会阻止所有的点击，而 v-on:click.self.prevent 只会阻止对元素自身的点击。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# 按键修饰符\n\n * 在做项目中有时会用到键盘事件，在监听键盘事件时，我们经常需要检查详细的按键。vue 允许为 v-on 在监听键盘事件时添加按键修饰符\n\n\x3c!-- 只有在 `keycode` 是 13 时调用 `vm.submit()` --\x3e\n<input v-on:keyup.13=\"submit\">\n\n\x3c!-- -当点击enter 时调用 `vm.submit()` --\x3e\n<input v-on:keyup.enter=\"submit\">\n\n\x3c!--当点击enter或者space时  时调用 `vm.alertme()`   --\x3e\n<input type=\"text\" v-on:keyup.enter.space=\"alertme\" >\n\n常用的按键修饰符\n.enter =>    enter键\n.tab => tab键\n.delete (捕获“删除”和“退格”按键) =>  删除键\n.esc => 取消键\n.space =>  空格键\n.up =>  上\n.down =>  下\n.left =>  左\n.right =>  右\n\n<script>\n\tvar vm = new vue({\n        el:\"#app\",\n        methods: {\n              submit:function(){},\n              alertme:function(){},\n        }\n    })\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# 自定义按键修饰符别名\n\n * 在vue中可以通过config.keycodes自定义按键修饰符别名\n\n<div id=\"app\">\n    预先定义了keycode 116（即f5）的别名为f5，因此在文字输入框中按下f5，会触发prompt方法\n    <input type=\"text\" v-on:keydown.f5=\"prompt()\">\n</div>\n\n<script>\n\t\n    vue.config.keycodes.f5 = 116;\n\n    let app = new vue({\n        el: '#app',\n        methods: {\n            prompt: function() {\n                alert('我是 f5！');\n            }\n        }\n    });\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# v-bind\n\n * v-bind 指令被用来响应地更新 html 属性\n * v-bind:href 可以缩写为 :href;\n\n\x3c!-- 绑定一个属性 --\x3e\n<img v-bind:src=\"imagesrc\">\n\n\x3c!-- 缩写 --\x3e\n<img :src=\"imagesrc\">\n\n\n1\n2\n3\n4\n5\n\n\n# 绑定对象\n\n * 我们可以给v-bind:class 一个对象，以动态地切换class。\n * 注意：v-bind:class指令可以与普通的class特性共存\n\n1、 v-bind 中支持绑定一个对象 \n\t如果绑定的是一个对象 则 键为 对应的类名  值 为对应data中的数据 \n\x3c!-- \n\thtml最终渲染为 <ul class=\"box textcolor textsize\"></ul>\n\t注意：\n\t\ttextcolor，textsize  对应的渲染到页面上的css类名\t\n\t\tiscolor，issize  对应vue data中的数据  如果为true 则对应的类名 渲染到页面上 \n\n\n\t\t当 iscolor 和 issize 变化时，class列表将相应的更新，\n\t\t例如，将issize改成false，\n\t\tclass列表将变为 <ul class=\"box textcolor\"></ul>\n--\x3e\n\n<ul class=\"box\" v-bind:class=\"{textcolor:iscolor, textsize:issize}\">\n    <li>学习vue</li>\n    <li>学习node</li>\n    <li>学习react</li>\n</ul>\n  <div v-bind:style=\"{color:activecolor,fontsize:activesize}\">对象语法</div>\n\n<sript>\nvar vm= new vue({\n    el:'.box',\n    data:{\n        iscolor:true,\n        issize:true，\n    \tactivecolor:\"red\",\n        activesize:\"25px\",\n    }\n})\n</sript>\n<style>\n\n    .box{\n        border:1px dashed #f0f;\n    }\n    .textcolor{\n        color:#f00;\n        background-color:#eef;\n    }\n    .textsize{\n        font-size:30px;\n        font-weight:bold;\n    }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 绑定class\n\n2、  v-bind 中支持绑定一个数组    数组中classa和 classb 对应为data中的数据\n\n这里的classa  对用data 中的  classa\n这里的classb  对用data 中的  classb\n<ul class=\"box\" :class=\"[classa, classb]\">\n    <li>学习vue</li>\n    <li>学习node</li>\n    <li>学习react</li>\n</ul>\n<script>\nvar vm= new vue({\n    el:'.box',\n    data:{\n        classa:‘textcolor‘,\n        classb:‘textsize‘\n    }\n})\n<\/script>\n<style>\n    .box{\n        border:1px dashed #f0f;\n    }\n    .textcolor{\n        color:#f00;\n        background-color:#eef;\n    }\n    .textsize{\n        font-size:30px;\n        font-weight:bold;\n    }\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n# 绑定对象和绑定数组 的区别\n\n * 绑定对象的时候 对象的属性 即要渲染的类名 对象的属性值对应的是 data 中的数据\n * 绑定数组的时候数组里面存的是data 中的数据\n\n# 绑定style\n\n <div v-bind:style=\"styleobject\">绑定样式对象</div>'\n \n\x3c!-- css 属性名可以用驼峰式 (camelcase) 或短横线分隔 (kebab-case，记得用单引号括起来)    --\x3e\n <div v-bind:style=\"{ color: activecolor, fontsize: fontsize,background:'red' }\">内联样式</div>\n\n\x3c!--组语法可以将多个样式对象应用到同一个元素 --\x3e\n<div v-bind:style=\"[styleobj1, styleobj2]\"></div>\n\n\n<script>\n\tnew vue({\n      el: '#app',\n      data: {\n        styleobject: {\n          color: 'green',\n          fontsize: '30px',\n          background:'red'\n        }，\n        activecolor: 'green',\n   \t\tfontsize: \"30px\"\n      },\n      styleobj1: {\n             color: 'red'\n       },\n       styleobj2: {\n            fontsize: '30px'\n       }\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 分支结构\n\n# v-if 使用场景\n\n * 多个元素 通过条件判断展示或者隐藏某个元素。或者多个元素\n * 进行两个视图之间的切换\n\n<div id=\"app\">\n        \x3c!--  判断是否加载，如果为真，就加载，否则不加载--\x3e\n        <span v-if=\"flag\">\n           如果flag为true则显示,false不显示!\n        </span>\n</div>\n\n<script>\n    var vm = new vue({\n        el:\"#app\",\n        data:{\n            flag:true\n        }\n    })\n<\/script>\n\n----------------------------------------------------------\n\n    <div v-if=\"type === 'a'\">\n       a\n    </div>\n  \x3c!-- v-else-if紧跟在v-if或v-else-if之后   表示v-if条件不成立时执行--\x3e\n    <div v-else-if=\"type === 'b'\">\n       b\n    </div>\n    <div v-else-if=\"type === 'c'\">\n       c\n    </div>\n  \x3c!-- v-else紧跟在v-if或v-else-if之后--\x3e\n    <div v-else>\n       not a/b/c\n    </div>\n\n<script>\n    new vue({\n      el: '#app',\n      data: {\n        type: 'c'\n      }\n    })\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n# v-show 和 v-if的区别\n\n * v-show本质就是标签display设置为none，控制隐藏\n   * v-show只编译一次，后面其实就是控制css，而v-if不停的销毁和创建，故v-show性能更好一点。\n * v-if是动态的向dom树内添加或者删除dom元素\n   * v-if切换有一个局部编译/卸载的过程，切换过程中合适地销毁和重建内部的事件监听和子组件\n\n\n# 循环结构\n\n# v-for\n\n * 用于循环的数组里面的值可以是对象，也可以是普通元素\n\n<ul id=\"example-1\">\n   \x3c!-- 循环结构-遍历数组  \n\titem 是我们自己定义的一个名字  代表数组里面的每一项  \n\titems对应的是 data中的数组--\x3e\n  <li v-for=\"item in items\">\n    {{ item.message }}\n  </li> \n\n</ul>\n<script>\n new vue({\n  el: '#example-1',\n  data: {\n    items: [\n      { message: 'foo' },\n      { message: 'bar' }\n    ]，\n   \n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n * 不推荐同时使用 v-if 和 v-for\n * 当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级。\n\n   \x3c!--  循环结构-遍历对象\n\t\tv 代表   对象的value\n\t\tk  代表对象的 键 \n\t\ti  代表索引\t\n\t---\x3e \n     <div v-if='v==13' v-for='(v,k,i) in obj'>{{v + '---' + k + '---' + i}}</div>\n\n<script>\n new vue({\n  el: '#example-1',\n  data: {\n    items: [\n      { message: 'foo' },\n      { message: 'bar' }\n    ]，\n    obj: {\n        uname: 'zhangsan',\n        age: 13,\n        gender: 'female'\n    }\n  }\n})\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n * key 的作用\n   * key来给每个节点做一个唯一标识\n   * key的作用主要是为了高效的更新虚拟dom\n\n<ul>\n  <li v-for=\"item in items\" :key=\"item.id\">...</li>\n</ul>\n\n\n\n1\n2\n3\n4\n\n\n\n# 每日一练-选项卡 💯\n\n# 1. html 结构\n\n`\n    <div id=\"app\">\n        <div class=\"tab\">\n            \x3c!--  tab栏  --\x3e\n            <ul>\n                <li class=\"active\">apple</li>\n                <li class=\"\">orange</li>\n                <li class=\"\">lemon</li>\n            </ul>\n              \x3c!--  对应显示的图片 --\x3e\n            <div class=\"current\"><img src=\"img/apple.png\"></div>\n            <div class=\"\"><img src=\"img/orange.png\"></div>\n            <div class=\"\"><img src=\"img/lemon.png\"></div>\n        </div>\n    </div>\n\n\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 2. 提供的数据\n\n         list: [{\n                    id: 1,\n                    title: 'apple',\n                    path: 'img/apple.png'\n                }, {\n                    id: 2,\n                    title: 'orange',\n                    path: 'img/orange.png'\n                }, {\n                    id: 3,\n                    title: 'lemon',\n                    path: 'img/lemon.png'\n                }]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 3. 把数据渲染到页面\n\n * 把tab栏 中的数替换到页面上\n   \n   * 把 data 中 title 利用 v-for 循环渲染到页面上\n   * 把 data 中 path利用 v-for 循环渲染到页面上\n   \n       <div id=\"app\">\n           <div class=\"tab\">  \n               <ul>\n                     \x3c!--  \n                       1、绑定key的作用 提高vue的性能 \n                       2、 key 需要是唯一的标识 所以需要使用id， 也可以使用index ，\n   \t\t\t\t\t\tindex 也是唯一的 \n                       3、 item 是 数组中对应的每一项  \n                       4、 index 是 每一项的 索引\n                   --\x3e\n                      <li :key='item.id' v-for='(item,index) in list'>{{item.title}}</li>\n                 </ul>\n                 <div  :key='item.id' v-for='(item, index) in list'>\n                       \x3c!-- :  是 v-bind 的简写   绑定属性使用 v-bind --\x3e\n                       <img :src=\"item.path\">\n                 </div>\n           </div>\n       </div>\n   <script>\n       new  vue({\n           //  指定 操作元素 是 id 为app 的 \n           el: '#app',\n               data: {\n                   list: [{\n                       id: 1,\n                       title: 'apple',\n                       path: 'img/apple.png'\n                   }, {\n                       id: 2,\n                       title: 'orange',\n                       path: 'img/orange.png'\n                   }, {\n                       id: 3,\n                       title: 'lemon',\n                       path: 'img/lemon.png'\n                   }]\n               }\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   37\n   38\n   39\n   40\n   \n\n# 4. 给每一个tab栏添加事件,并让选中的高亮\n\n * 4.1 让默认的第一项tab栏高亮\n   \n   * tab栏高亮 通过添加类名active 来实现 （css active 的样式已经提前写好）\n     * 在data 中定义一个 默认的 索引 currentindex 为 0\n     * 给第一个li 添加 active 的类名\n       * 通过动态绑定class 来实现 第一个li 的索引为 0 和 currentindex 的值刚好相等\n       * currentindex === index 如果相等 则添加类名 active 否则 添加 空类名\n\n * 4.2 让默认的第一项tab栏对应的div 显示\n   \n   * 实现思路 和 第一个 tab 实现思路一样 只不过 这里控制第一个div 显示的类名是 current\n   \n     <ul>\n   \t   \x3c!-- 动态绑定class   有 active   类名高亮  无 active   不高亮--\x3e\n          <li  :class='currentindex==index?\"active\":\"\"'\n              :key='item.id' v-for='(item,index) in list'\n              >{{item.title}}</li>\n     </ul>\n   \t\x3c!-- 动态绑定class   有 current  类名显示  无 current  隐藏--\x3e\n     <div :class='currentindex==index?\"current\":\"\"' \n          \n          :key='item.id' v-for='(item, index) in list'>\n           \x3c!-- :  是 v-bind 的简写   绑定属性使用 v-bind --\x3e\n           <img :src=\"item.path\">\n     </div>\n   \n   <script>\n       new  vue({\n           el: '#app',\n               data: {\n                   currentindex: 0, // 选项卡当前的索引  默认为 0  \n                   list: [{\n                       id: 1,\n                       title: 'apple',\n                       path: 'img/apple.png'\n                   }, {\n                       id: 2,\n                       title: 'orange',\n                       path: 'img/orange.png'\n                   }, {\n                       id: 3,\n                       title: 'lemon',\n                       path: 'img/lemon.png'\n                   }]\n               }\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   31\n   32\n   33\n   34\n   35\n   36\n   \n\n * 4.3 点击每一个tab栏 当前的高亮 其他的取消高亮\n   \n   * 给每一个li添加点击事件\n   \n   * 让当前的索引 index 和 当前 currentindex 的 值 进项比较\n   \n   * 如果相等 则当前li 添加active 类名 当前的 li 高亮 当前对应索引的 div 添加 current 当前div 显示 其他隐藏\n     \n         <div id=\"app\">\n             <div class=\"tab\">\n                 <ul>\n                     \x3c!--  通过v-on 添加点击事件   需要把当前li 的索引传过去 \n     \t\t\t\t--\x3e\n                     <li v-on:click='change(index)'\t\t           \t\t\t\n                         :class='currentindex==index?\"active\":\"\"'                   \n                         :key='item.id' \n                         v-for='(item,index) in list'>{{item.title}}</li>\n                 </ul>\n                 <div :class='currentindex==index?\"current\":\"\"' \n                      :key='item.id' v-for='(item, index) in list'>\n                     <img :src=\"item.path\">\n                 </div>\n             </div>\n         </div>\n     \n     <script>\n         new  vue({\n             el: '#app',\n                 data: {\n                     currentindex: 0, // 选项卡当前的索引  默认为 0  \n                     list: [{\n                         id: 1,\n                         title: 'apple',\n                         path: 'img/apple.png'\n                     }, {\n                         id: 2,\n                         title: 'orange',\n                         path: 'img/orange.png'\n                     }, {\n                         id: 3,\n                         title: 'lemon',\n                         path: 'img/lemon.png'\n                     }]\n                 },\n                 methods: {\n                     change: function(index) {\n                         // 通过传入过来的索引来让当前的  currentindex  和点击的index 值 相等 \n                         //  从而实现 控制类名    \n                         this.currentindex = index;\n                     }\n                 }\n         \n         })\n     \n     <\/script>\n     \n     \n     1\n     2\n     3\n     4\n     5\n     6\n     7\n     8\n     9\n     10\n     11\n     12\n     13\n     14\n     15\n     16\n     17\n     18\n     19\n     20\n     21\n     22\n     23\n     24\n     25\n     26\n     27\n     28\n     29\n     30\n     31\n     32\n     33\n     34\n     35\n     36\n     37\n     38\n     39\n     40\n     41\n     42\n     43\n     44\n     45\n     46\n     47\n     ",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"低成本搭建个人博客",frontmatter:{title:"低成本搭建个人博客",date:"2020-1-1",categories:["工具/平台"],tags:["vuepress","github","博客"],feed:{enable:!0},permalink:"/article/toolplatform/blog.html",description:"",meta:[{name:"image",content:"https://www.yangxiaokang.com/blog.assets/1676806065958.png"},{name:"twitter:title",content:"低成本搭建个人博客"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/blog.assets/1676806065958.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/toolplatform/blog.html"},{property:"og:type",content:"article"},{property:"og:title",content:"低成本搭建个人博客"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/blog.assets/1676806065958.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/toolplatform/blog.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2020-1-1"},{property:"article:tag",content:"vuepress"},{property:"article:tag",content:"github"},{property:"article:tag",content:"博客"},{itemprop:"name",content:"低成本搭建个人博客"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/blog.assets/1676806065958.png"}]},regularPath:"/article/toolplatform/blog.html",relativePath:"article/toolplatform/blog.md",key:"v-22170670",path:"/article/toolplatform/blog.html",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:2},{level:2,title:"技术栈",slug:"技术栈",normalizedTitle:"技术栈",charIndex:194},{level:2,title:"整体思路",slug:"整体思路",normalizedTitle:"整体思路",charIndex:264},{level:2,title:"博客搭建",slug:"博客搭建",normalizedTitle:"博客搭建",charIndex:454},{level:2,title:"文章配置",slug:"文章配置",normalizedTitle:"文章配置",charIndex:9838},{level:2,title:"github配置",slug:"github配置",normalizedTitle:"github配置",charIndex:3954},{level:2,title:"CI/CD",slug:"ci-cd",normalizedTitle:"ci/cd",charIndex:316},{level:2,title:"可选配置",slug:"可选配置",normalizedTitle:"可选配置",charIndex:13497},{level:2,title:"其他",slug:"其他",normalizedTitle:"其他",charIndex:2526},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:57}],headersStr:"前言 技术栈 整体思路 博客搭建 文章配置 github配置 CI/CD 可选配置 其他 参考",content:'# 前言\n\n搭建个人博客的方式有很多种，网上也有很多不同框架的教程，教程也都比较详细，但在搭建过程中，发现还是需要参考很多文章以满足不同的功能需求，并且在评论区看到大家都在问，能否贴源码，可能各位博主也都是想分步骤教学，但在读者看来每个都是片段，有种身在此山中，云深不知处的感觉，所以的教程从【配置对象】的角度去把每个对象的配置都贴出来。\n\n本教程搭建的博客所用的资源完全免费。\n\n\n# 技术栈\n\n * vue/vuepress\n * node/npm\n * shell\n * github\n * aliyun dns\n\n\n# 整体思路\n\n一般来说，服务都需要部署在服务器上，如果是云上则需要购买LB、云主机、云数据库等，又会涉及到CI/CD等，这样更像是一个完整的服务，可以更多的定制一些想要的功能，不过本次我们的教程是一个轻量级的方案，前端使用vuepress框架，编译成静态文件后通过github pages发布，完全不需要后端，博客的样式、一些功能也通过前端的插件完成，也不需要自己写代码。\n\n\n# 博客搭建\n\n先看前端代码核心功能最终的目录结构\n\n\n\n重要的几个目录/文件\n\n * docs是主目录，存放文章，配置，图片，首页\n   * README.md 博客首页配置,会编译为index.html\n   * article是博客文章存放目录(article非固定名称可自定义)\n   * .vuepress是博客全部配置项\n     * config.js 博客基本设置\n     * public 资源目录(图片、音视频、文件等),为/目录\n     * style css配置(可选)\n   * CNAME是域名301的配置文件\n * deploy.sh 是编译、部署脚本，完成CI/CD的工作\n * package.json node项目配置文件，配置编译命令\n\n也就是说，有了上面几个目录就能够启动博客了，接下来会着重讲这几个目录/文件的作用及配置。\n\n# 👉1. 基本环境😊\n\n在个人代码目录下执行以下命令，windows用户下载git后，右键可使用git bash 执行命令\n\n# 创建代码目录\nmkdir blogscode\ncd blogscode\n# 配置node环境及框架\nnpm init -y\nnpm install -D vuepress\n\n\n1\n2\n3\n4\n5\n6\n\n\n编辑package.json中的scripts\n\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs",\n  },\n\n\n1\n2\n3\n4\n5\n\n\n至此，我们完成了第一个重要的配置文件package.json的配置。\n\n# 👉2. 配置博客布局\n\n目录文件介绍\n\n * doc/.vuepress/config.js 博客配置文件，布局、插件\n * doc/.vuepress/public 博客图片根目录\n * doc/.vuepress/dist 编译成功后的静态文件目录\n\nmkdir -p docs/.vuepress\n#当前目录：blogscode\n# 建议使用cnpm\n\n\n1\n2\n3\n\n\n2.1 安装主题及插件\n\n * 本次安装的主题是：vuepress-theme-reco\n   \n   npm install vuepress-theme-reco --save-dev\n\n * 樱花效果插件\n   \n   npm install vuepress-plugin-sakura -D\n\n * 鼠标点击效果\n   \n   npm install vuepress-plugin-cursor-effects -D\n\n * 回到顶部插件(按需)\n   \n   npm i vuepress-plugin-go-top -D\n\n * 为博客文章自动随机添加名人名言(按需)\n   \n   npm i vuepress-plugin-boxx -D\n   \n   找一个想添加的问题空白处添加<Boxx/> ,使用参考\n\n * 看板娘(按需)\n   \n   npm i @vuepress-reco/vuepress-plugin-kan-ban-niang -D\n\n * 添加copy著作权\n   \n   npm i copyright -D\n\n * 图片放大\n   \n   npm install vuepress-plugin-dynamic-title --save\n\n * 复制代码块\n   \n   npm i @xiaopanda/vuepress-plugin-code-copy -D\n\n * 音乐播放器\n   \n   npm install @vuepress-reco/vuepress-plugin-bgm-player -D\n\n * 全文搜索，默认只能搜索h2 h3及title\n   \n   npm install vuepress-plugin-fulltext-search --save\n\n * Last-update-time 主题默认集成\n\n2.2 布局配置\n\n创建vuepress配置文件,对主题、插件以及博客布局进行配置\n\n# 进入配置文件目录\ncd docs/.vuepress\n# 编辑配置文件\nvim config.js\n#直接看一个完整的配置文件更不容易遗漏\n\nmodule.exports = {\n  base: "/blogs/", //用于存放编译后静态文件的仓库，配置pages使用\n  title: "子车轻罗的博客", // 标题随便定义\n  description: "龙蛇之变 木雁之间", // 描述随便定义\n  theme: "vuepress-theme-reco", // 按照自己安装的主题写，也可以安装其他主题\n  locales: {\n    "/": {\n      lang: "zh-CN",\n    }, // 日期格式：2023/1/1\n  },\n  themeConfig: {\n    author: "子车轻罗", // 全局\n    logo: "/dog.jpg", // 图片根路径在docs/.vuepress/public下\n    authorAvatar: "/dog.jpg", // 头像\n    type: "blog", \n    // nav 导航栏设置\n    nav: [\n      { text: "首页", link: "/" },\n      {\n        text: "子车轻罗 的博客", // 跳转的友情链接\n        items: [\n          { text: "掘金", link: "https://juejin.cn/" },\n          { text: "Github", link: "https://github.com/" },\n        ],\n      },\n      // { text: "TimeLine", link: "/timeline/", icon: "reco-date" }, // 导航栏右侧显示文章发布时间，按需\n    ],\n    subSidebar: "auto", //在所有页面中启用自动生成子侧边栏，原 sidebar 仍然兼容，主要作用是右侧文章标题展示\n   // sidebar 左侧文章目录，\n    sidebar: {\n      "/article/other/": ["vpn", "blog",],\n      // {\n      //   title: \'Group 1\',   // 必要的\n      //   path: \'/foo/\',      // 可选的, 标题的跳转链接，应为绝对路径且必须存在\n      //   collapsable: false, // 可选的, 默认值是 true,\n      //   sidebarDepth: 1,    // 可选的, 默认值是 1\n      //   children: [\n      //     \'/\'\n      //   ]\n      // },\n      // {\n      //   title: \'Group 2\',\n      //   children: [ /* ... */ ],\n      //   initialOpenGroupIndex: -1 // 可选的, 默认值是 0\n      // }\n    },\n    // 博客设置,默认即可\n    blogConfig: {\n      category: {\n        location: 2, // 在导航栏菜单中所占的位置，默认2\n        text: "分类", // 默认文案 “分类”\n      },\n      tag: {\n        location: 4, // 在导航栏菜单中所占的位置，默认4\n        text: "Tag", // 默认文案 “标签”\n      },\n    },\n    // 博客评论区,这个插件主题默认存在,需要配置github，下面github配置具体讲怎么配置。\n    vssueConfig: {\n      platform: "github",\n      owner: "zicheqingluo",\n      repo: "blogs",\n      clientId: "",\n      clientSecret: "",\n      autoCreateIssu: true,\n    },\n  },\n  // 插件配置\n  plugins: [\n    [\n      "sakura", // 樱花特效插件，配置默认即可\n      {\n        num: 20, // 默认数量\n        show: true, //  是否显示\n        zIndex: -1, // 层级\n        img: {\n          replace: false, // false 默认图 true 换图 需要填写httpUrl地址\n        },\n      },\n    ],\n    [\n      "cursor-effects", // 鼠标点击效果，默认即可\n      {\n        size: 3, // size of the particle, default: 2\n        shape: "star", // [\'star\' | \'circle\'], // shape of the particle, default: \'star\'\n        zIndex: 999999999, // z-index property of the canvas, default: 999999999\n      },\n    ],\n        // 看板娘\n    [\n      "@vuepress-reco/vuepress-plugin-kan-ban-niang",\n      {\n        theme: ["z16", "miku", "koharu"],\n        clean: false,\n        info: "https://github.com/mengqiuleo",\n        messages: {\n          welcome: "",\n          home: "心里的花，我想要带你回家",\n          theme: "好吧，希望你能喜欢我的其他小伙伴。",\n          close: "再见哦",\n        },\n        height: 300,\n        // 看板娘人物图片默认右侧展示，调整到左侧避免与top按钮冲突\n        modelStyle: {\n          left: "70px",\n          bottom: "-20px",\n          opacity: "0.9",\n        },\n        // 看板娘按钮图标默认右侧展示，调整到左侧\n        btnStyle: {\n          right: "20px",\n          bottom: "65px",\n        },\n      },\n    ],\n        [\n      "copyright",\n      {\n        authorName: "子车轻罗", // 选中的文字将无法被复制\n        minLength: 10, // 如果长度超过  10 个字符\n      },\n    ],\n        [\n      //图片放大插件 先安装在配置， npm install vuepress-plugin-dynamic-title --save\n      "@vuepress/plugin-medium-zoom",\n      {\n        selector: ".page img png",\n        delay: 1000,\n        options: {\n          margin: 24,\n          background: "rgba(25,18,25,0.9)",\n          scrollOffset: 40,\n        },\n      },\n    ],\n        // 自动添加名人名言、诗句\n    ["vuepress-plugin-boxx"],\n        // 关闭默认的返回顶部插件\n    ["@vuepress-reco/vuepress-plugin-back-to-top", false],\n    // 添加顶部插件\n    ["go-top"],\n        // 代码复制\n    ["@xiaopanda/vuepress-plugin-code-copy"],\n        // 文章阅读，顶部进度条,没啥用\n    ["reading-progress"],\n        // 音乐播放器\n    [\n      "@vuepress-reco/vuepress-plugin-bgm-player",\n      {\n        audios: [\n          {\n            name: "只爱西经-林一.mp3",\n            artist: "只爱西经-林一.mp3",\n            url: "/bgm/只爱西经-林一.mp3",\n            cover: "/bgm/林一.jpg",\n          },\n          {\n            name: "菊次郎的夏天-久石让",\n            artist: "轻缓音乐",\n            url: "http://m10.music.126.net/20230227144026/836e89213726ec864ac8573466df2bf2/ymusic/72ea/60fa/9205/27a8007269af1c0377a333766a14e503.mp3",\n            cover:\n              "https://p1.itc.cn/q_70/images03/20200810/197b7d24b5354097a1b9159a9a229ab6.jpeg",\n          },\n          {\n            name: "星河不可及",\n            artist: "星河不可及",\n            url: "/bgm/星河不可及.mp3",\n            cover:\n              "https://y.qq.com/music/photo_new/T002R300x300M000002q0h264MfJOY_2.jpg?max_age=2592000",\n          },\n        ],\n        // 是否默认缩小\n        autoShrink: true,\n        // 缩小时缩为哪种模式\n        shrinkMode: "float",\n        // 悬浮窗样式\n        floatStyle: { bottom: "20px", "z-index": "999999" },\n      },\n    ],\n       [\n            \'@vuepress/last-updated\',\n            {\n                transformer: (timestamp, lang) => {\n                    // 不要忘了安装 moment\n                    // moment 时间格式化文档戳这里 http://momentjs.cn/\n                    // const moment = require(\'moment\')\n                    // moment.locale(lang)\n                    // return moment(timestamp).fromNow() //和vuepress-plugin-sitemap一起用时间报错\n                    return new Date(timestamp).toLocaleDateString();\n                }\n            }\n        ],\n  ],\n  ],\n  // 移动端优化,默认即可\n  head: [\n    [\n      "meta",\n      {\n        name: "viewport",\n        content: "width=device-width,initial-scale=1,user-scalable=no",\n      },\n    ],\n          [\n      "meta",\n      {\n        name: "X-UA-Compatible",\n        content: "IE=edge",\n      },\n    ],\n  ],\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n\n\n至此，docs目录已配置完毕，博客布局已完成，插件已配置完成。\n\n2.3 样式配置\n\n# 当前目录：.vuepress\nmkdir styles\nvim palette.styl\n// 使用主题提供的变量进行覆盖\n$accentColor = #3178c6  // 蓝色主题色\n// 修改自己安装的插件的样式，可在F12里复制出具体的样式名称进行覆盖，如go top插件：\n\n   .show-cat[data-v-6429a6c5] {\n       right: 5px;\n   }\n#小技巧：当你发现自己写的css样式优先级没有原来的样式高时，可以在样式后面添加!improtant后缀，使你的样式优先级是最高的  \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n----------------------------------------\n\n至此，我们完成了第二个重要的目录.vuepress的配置。\n\n# 👉3. 配置首页\n\n在blogscode/docs目录下创建README.MD文件，我使用的软件是typora，填写以下内容，"---" 是markdown格式不可省略。\n\n---\nhome: true \n\nheroImage: "/home.png" \n\nheroText: 子车轻罗 \n\nheroImageStyle:   {     \n\nmaxHeight: "288px",    \n\n display: block,     \n\nborderRadius: "19% 81% 23% 77% / 44% 57% 43% 56%",     boxShadow: "0 15px 18px rgba(0,0,0,0.2)",  \n\n}  \n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n/home.png 则放到docs/.vuepress/public下，具体背景样式可根据上面自行调整。\n\n至此，我们完成了博客首页配置\n\n# 👉4. 侧边栏说明\n\n左侧文章目录侧边栏，有两种配置方式，一种是object格式，指定文章path与markdown文件的名字，可以分组显示；另一种是全局显示，array格式。\n\n我采用的是第一种，在article下建目录分组即可，解读下我上面的配置：\n\n "/article/other/": ["vpn", "blog"],\n \n "/article/other/":表示分组目录，直接mkdir即可\n ["vpn", "blog"]：标识md文件名称，vpn.md  blog.md\n\n\n1\n2\n3\n4\n\n\n\n# 文章配置\n\n# 创建文章目录，命名随意\nmkdir docs/article\n\n\n1\n2\n\n 1. 配置typora\n\n我通过typora编辑markdown文档，需要注意的typora配置如下：\n\n\n\n\n\n 2. 文章标题、标签、分类等配置\n    \n    每篇md文档都需要配置frontmatter：\n\n---\ntitle: 低成本搭建博客🔥\ndate: 2023-1-1\ncategories:\n\n  - 前端\ntags:\n  - vuepress\n  - blog\nsticky: 1\n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n---是必不可少的不可忽略，title 是标题，date 是日期，categories 是分类，tags 是标签，可以有多个分类和标签，sticky 可以让文章置顶，数字表示顺序，1 表示在最上面，2 其次。这里的代码格式一定是按照如上写法：变量后面要加冒号，冒号后面要有空格，不要加逗号。\n\n 3. 文章路径\n    \n    文章统一放到docs/article下，至于要不要再建目录分类，可以随意，第一步的配置可以让你的md文件里的图片都和md文件在同一个目录下\n\n至此，我们完成了将要发布的博客md文件的配置。\n\n\n# github配置\n\n# 👉1. 创建仓库\n\n我这里github上创建了两个仓库，blogscode用于存放源代码包括文章，blogs用于存放编译好的静态文件.\n\n为什么要分两个仓库，其实不一定非得要分，因为在前端配置-配置博客布局中我使用了一个评论功能，需要填写clientId clientSecret,类似的参数涉及安全问题，而blogs要配置为公开的才能用于网站访问，故我创建代码仓库用于单独存放敏感信息，如果大家没有敏感信息可以都放到blogs仓库用不同分支管理即可，其中用于防止静态文件的分支固定为gh-pages，推送静态文件时要指定分支。\n\n1.1 新建静态文件仓库\n\n\n\n\n\n仓库名可自己指定，静态文件仓库要公开才可以配置pages\n\n1.2 pages\n\n点击settings-Pages\n\n\n\n\n\n分支按图上配置，当然需要创建这个分支，可在CI/CD中看deploy脚本，保持推送的分支与其保持一致，自定义域名可选，如果不配置的话默认是用户名.github.io/仓库名,如zicheqingluo.github.io/blogs\n\n1.3 代码仓库的创建同上，不过需要选择private，是否需要创建按需\n\n1.4 ssh免密配置\n\nmac和linux 直接在命令行执行ssh-keygen 命令，windows可通过git bash来执行，后续的git操作也会用git bash来运行deploy脚本\n\nssh-keygen  -t rsa \n#之后一路回车即可\n cat ~/.ssh/id_rsa.pub\n\n\n\n1\n2\n3\n4\n\n\n将内容复制到deploy keys即可，如图\n\n如果想全局配置可在右上角seeting-SSH and GPG keys中添加SSH keys\n\n\n\n\n\n# 👉2. GitHub OAuth\n\n评论功能需要创建github oauth app，会把评论创建在仓库的issue中，搭建好后，通过github登录，第一个发表评论的人需要在博客评论区点击创建issue，才可以发表评论，也可以找第三方免费的评论产品。\n\n2.1 点击github-settings-Developer settings\n\n2.2 点击 New OAuth App\n\n\n\n2.3 复制Client ID ,Client secrets 去博客搭建-配置博客布局里的vssueConfig配置即可。\n\n\n# CI/CD\n\n# 👉1. 脚本方式\n\n在blogscode目录下，创建deploy.sh(windows下建议通过vscode编辑)\n\n# 确保脚本抛出遇到的错误\nset -e\n\ndistPath="./docs/.vuepress/dist"\n\n#删除上上次编译\nrm -rf ${distPath}_bak\n#备份上一次编译\ntest -d  ${distPath} &&  mv ${distPath} ${distPath}_bak\n# 生成静态文件\nnpm run docs:build\n\n# 复制markdown 图片到文章目录,因为用的是相对路径，编译后生产的图片链接是和文章一个路径，放到public下会因为url与实际路径不匹配404，这里手动给复制到编译好的目录下。\ncd ./docs/article\nassetsList=`find . -type d -name "*assets"`\nfor a in `echo $assetsList`\ndo\n    cp  -r ${a} ../.vuepress/dist/article/${a}\ndone\n\n# 进入生成的文件夹\ncd ../.vuepress/dist\n\n\ngit init\ngit add -A\ngit commit -m \'deploy\'\n\n# 如果发布到 https://<USERNAME>.github.io/<REPO>\n\ngit push -f git@github.com:你的用户名/blogs.git master:gh-pages\n\ncd -\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n本次操作是将编译好的静态文件，推送到了刚创建的blogs仓库。\n\n代码文件可以推送到blogscode仓库\n\ncd blogscode\ngit init \ngit add -A\ngit commit -m "update"\ngit push git@github.com:你的用户名/blogscode.git master\n\n\n1\n2\n3\n4\n5\n\n\n执行deploy.sh脚本时，windows用户建议使用git bash操作。\n\n# 👉2. github actions\n\nactions就是定义一组动作，推送到指定分支时触发，github会提供一个默认的编译机执行我们定义好的编译命令，编译完成后推送到我们指定的分支，比如我们把源代码推送到了master分支，则可设置只要master分支更新则触发CI的指令，成功后通过定义CD的指令部署到gh-pages分支，但这样会导致我们的代码直接暴露出去，一些appk appid等敏感信息就暴露出去了(因为用于站点访问的仓库必须要公开)，因为我没有深入研究能否从一个仓库拉代码编译好推送到另一个仓库，所以我没有采用。\n\n以下是操作步骤：\n\n2.1 选择actiojns\n\n\n\n2.2 新建workflow\n\n\n\n2.3 自定义\n\n\n\n2.4 配置，\n\nname: Github Pages\non:\n  #监听push操作\n  push:\n    branches:\n      - master # 这里只配置了master分支，所以只有推送master分支才会触发以下任务\njobs:\n  # 任务ID\n  build-and-deploy:\n    # 运行环境\n    runs-on: ubuntu-latest\n    # 步骤\n    steps:\n      # 官方action，将代码拉取到虚拟机\n      - name: Checkout  ️\n        uses: actions/checkout@v3\n\n      - name: Install and Build # 安装依赖、打包，如果提前已打包好无需这一步\n        run: \n          npm install --no-fund\n          npm run docs:build\n      - name: Deploy # 部署\n        uses: JamesIves/github-pages-deploy-action@v4.3.3\n        with:\n          branch: gh-pages # 部署后提交到那个分支\n          folder: dist # 这里填打包好的目录名称\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n2.5 后续的修改，就可以在项目仓库的.github里进行修改\n\n总结\n\n这样配置没有用上deploy脚本中的一些配置，因为我在编译的时候就遇到了报错，没有再继续下去。\n\n\n# 可选配置\n\n# 👉自定义域名\n\n 1. 修改github-pages\n\n\n\n 2. 修改dns解析\n\n如果使用一级域名访问如zicheqingluo.com ，需要将这个域名的@记录cname到用户名.github.io（如zicheqingluo.github.io），如果是www.zicheqingluo.com ，需要将www记录cname到zicheqingluo.github.io。\n\n 3. 修改博客配置\n\n因为上面生成的url是域名没有带任何path，所以base地址同样改为/，否则其他资源会404\n\nvim docs/.vuepress/config.js\n#修改base为：\nbase: "/",\n\n\n1\n2\n3\n\n\n此时，直接访问域名即可，https也可直接访问。\n\n 4. CNAME\n\n独立域名，如果不想每次更新代码后重新配置github-pages 的域名，可如下操作：\n\n4.1 创建CNAME文件\n\n进入docs目录，创建CNAME文件,填写你的一级域名，如:abc.com,当你访问www.abc.com时，会自动301到abc.com。同时，也省去了每次发布万就要在github pages填自定义域名的问题。\n\n4.2 修改deploy.sh\n\n#复制CNAME文件到目录\ncp ../CNAME ../.vuepress/dist/\n\n# 进入生成的文件夹 // 在脚本这个位置上面增加上面内容\n\n\n1\n2\n3\n4\n\n\n# 👉PWA\n\npwa没有放到上面来说，主要是不一定所有的人有需求，在一个篇幅略微多一些。不了解PWA可以看下渐进式 Web 应用（PWA）,简单来说就类似一个电脑的快捷方式，免去浏览器输入url的过程，对于手机就是一个app图标。PWA在不同平台的区别\n\n 1. 生成icon和manifest.json\n    \n    可通过Favicon Generator或者imageGenerator 上传自己的图片生成各个设备不同大小的icon，并且还有配置文件，当然配置文件得改下。\n    \n    # cd docs/.vuepress/public\n    mkdir assets\n    cd assets \n    mkdir config icon\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    将生成的压缩吧解压，把icon放到icon目录下，将manifest.webmanifest放到config目录下，我是把manifest.webmanifest重命名为manifest.json，不改也可以。\n    \n    {\n      "name": "子车轻罗的个人博客",\n      "short_name": "app 图标上显示的名字，比如微信",\n      "description": "描述",\n      "icons": [\n        {\n          "src": "/assets/icon/favicon-16x16.png",\n          "sizes": "16x16",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/favicon-32x32.png",\n          "sizes": "32x32",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/mstile-150x150.png",\n          "sizes": "150x150",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/mstile-225x225.png",\n          "sizes": "225x225",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/android-chrome-192x192.png",\n          "sizes": "192x192",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/android-chrome-384x384.png",\n          "sizes": "384x384",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/android-chrome-512x512.png",\n          "sizes": "512x512",\n          "type": "image/png",\n          "purpose": "maskable"\n        }\n      ],\n      "start_url": "/index.html",\n      "scope": "/",\n      "theme_color": "#ffffff",\n      "background_color": "#ffffff",\n      "display": "standalone"\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n    \n    上面的内容都是按需调整，唯独"start_url" "scope"需要注意，如果是自定义域名写/index.html。\n    \n    2. 安装plugin\n       \n       npm install @vuepress/pwa -D\n    \n    3. 配置config.js\n\nvim docs/.vuepress/config.js\n\n  module.exports = {\n  themConfig:{},\n  plugins:[\n      [\n      "@vuepress/pwa",\n      {\n        // skipWaiting: true,\n        serviceWorker: true,\n        updatePopup: true,\n      },\n    ],\n  ],\n  head: [\n    // PWA\n    ["link", { rel: "icon", href: "/assets/icon/favicon.ico" }],\n    ["link", { rel: "manifest", href: "/assets/config/manifest.json" }],\n    ["meta", { name: "theme-color", content: "#ffffff" }],\n    ["meta", { name: "apple-mobile-web-app-capable", content: "yes" }],\n    [\n      "meta",\n      { name: "apple-mobile-web-app-status-bar-style", content: "black" },\n    ],\n    [\n      "link",\n      { rel: "apple-touch-icon", href: "/assets/icon/apple-touch-icon.png" },\n    ],\n    [\n      "link",\n      {\n        rel: "mask-icon",\n        href: "/assets/icon/icons/safari-pinned-tab.svg",\n        color: "#3eaf7c",\n      },\n    ],\n    [\n      "meta",\n      {\n        name: "msapplication-TileImage",\n        content: "/assets/icon/mstile-150x150.png",\n      },\n    ],\n    ["meta", { name: "msapplication-TileColor", content: "#ffffff" }],\n  ],\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n 4. 验证\n    \n    chrome在应用商店中安装lighthouse插件，选择analyze page load即可检查pwa是否成功\n    \n    \n\n 5. 体验pwa\n    \n    * windows chrome会在地址栏有一个安装按钮\n    \n    \n    \n    * 安卓浏览器打开博客时会提示是否安装到桌面\n    \n    * ios safari浏览器打开点击分享按钮，选择添加到主屏幕\n\n# 👉SEO\n\n 1. 站长管理后台\n    \n    注册并按照要求配置\n    \n    百度站长\n    \n    Bing站长\n    \n    Google\n    \n    360\n    \n    头条\n\n 2. 优化URL\n    \n    frontmatter 配置permanentlink\n    \n    比如:\n    \n    我有个文件名是 00.CSS教程和技巧收藏.md的markdown 文件，\n    \n    当设置 permalink: /css-tips.html 时，发表后对应的url就会是 https://dbdgs.cn/css-tips.html 。\n    \n    另外, url中尽量不要出现#、?等特殊字符，尽量不要出现大写字母。\n\n 3. 安装插件\n    \n    * meta优化\n      \n      npm install -D vuepress-plugin-autometa\n    \n    * 添加sitemap\n      \n      npm install vuepress-plugin-sitemap\n    \n    * 增加feed\n      \n      npm install -D vuepress-plugin-feed\n      \n      markdown文件的frontmatter加上以下内容：\n      \n      feed:\n        enable: true\n      \n      \n      1\n      2\n      \n    \n    * 自动推送到百度(看起来过期了)\n      \n      npm install -D vuepress-plugin-baidu-autopush\n    \n    vim docs/.vuepress/config.js\n    \n    const domain = "https://改为你的域名";\n    module.exports = {\n      themConfig:{},\n      plugins:[\n          [\n          "autometa",\n          {\n            site: {\n              name: "zicheqingluo",\n              twitter: "yanglr",\n            },\n            canonical_base: domain,\n          },\n        ],\n        [\'sitemap\', {\n          hostname: domain,\n          // 排除无实际内容的页面\n          exclude: ["/404.html"]\n        }\n    ],\n     [\n        \'vuepress-plugin-baidu-autopush\'\n      ],\n      ],\n      head: [],\n        markdown: {\n        lineNumbers: true,\n        externalLinks: { target: "_blank", rel: "nofollow noopener noreferrer" },\n      },\n      }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    \n\n 4. 增加robots.txt\n    \n    vim docs/.vuepress/public/robots.txt\n    Sitemap: https://你的域名/sitemap.xml\n    \n    User-agent: *\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 5. SEO评分\n    \n    同PWA第四步\n\n 6. 登录百度站点平台 配置收录(其他平台操作步骤相同)，直接填写sitemap地址即可，如图：\n    \n    sitemap地址为：域名/sitemap.xml\n    \n    \n\n 7. 登录百度统计 开启单页面应用数据统计\n\n\n# 其他\n\n# 👉排障技巧\n\n * 尽量操作一步运行一次，这样方便回溯是哪些变更导致的，虽然我配置是完整的，但可以一点点复制进去。\n * 报插件错误的，无脑先rm -rf node_modules rm,再npm i装一遍\n * 插件没更新，就不要用热编译，重新在npm run docs:dev\n\n# 👉说明\n\nmarkdown一级标签不会生成侧边栏，右侧边栏是从二级标签开始展示的，到三级标签就结束了，4、5、6级的标题渲染出来很小，看起来没有正文大所以不建议使用，即使使用加粗都比4级标题明显。\n\n# 文章中引入样式和脚本\n\n有时，你可以只想在当前页面应用一些 JavaScript 或者 CSS，在这种情况下，你可以直接在 Markdown 文件中使用原生的 或者 标签，它们将会从编译后的 HTML 文件中提取出来，并作为生成的 Vue 单文件组件的和标签。\n\n# 免费的服务托管\n\n除了github pages，https://vercel.com/也是一个免费的托管平台，有兴趣的可以试试。\n\n\n# 参考\n\n * [1] vuepress\n\n * [2] vuepress-theme-reco主题)\n\n * [3] vssue-评论\n\n * [4] vuepress主题与插件\n\n * [5] VuePress 社区\n\n * [6] 侧边栏\n\n * [7] 苍何-hexo在GitHub上搭建个人博客\n\n * [8] 一条会coding的Shark-手把手教你用Vuepress搭建个人博客\n\n * [9] 冴羽-VuePress 博客优化之增加 Vssue 评论功能\n\n * [10] 特别详细的网站SEO优化\n\n * [11] PWA教程\n\n * [12] PWA脚本\n\n * [13] lastupdate和sitemap冲突解决方法',normalizedContent:'# 前言\n\n搭建个人博客的方式有很多种，网上也有很多不同框架的教程，教程也都比较详细，但在搭建过程中，发现还是需要参考很多文章以满足不同的功能需求，并且在评论区看到大家都在问，能否贴源码，可能各位博主也都是想分步骤教学，但在读者看来每个都是片段，有种身在此山中，云深不知处的感觉，所以的教程从【配置对象】的角度去把每个对象的配置都贴出来。\n\n本教程搭建的博客所用的资源完全免费。\n\n\n# 技术栈\n\n * vue/vuepress\n * node/npm\n * shell\n * github\n * aliyun dns\n\n\n# 整体思路\n\n一般来说，服务都需要部署在服务器上，如果是云上则需要购买lb、云主机、云数据库等，又会涉及到ci/cd等，这样更像是一个完整的服务，可以更多的定制一些想要的功能，不过本次我们的教程是一个轻量级的方案，前端使用vuepress框架，编译成静态文件后通过github pages发布，完全不需要后端，博客的样式、一些功能也通过前端的插件完成，也不需要自己写代码。\n\n\n# 博客搭建\n\n先看前端代码核心功能最终的目录结构\n\n\n\n重要的几个目录/文件\n\n * docs是主目录，存放文章，配置，图片，首页\n   * readme.md 博客首页配置,会编译为index.html\n   * article是博客文章存放目录(article非固定名称可自定义)\n   * .vuepress是博客全部配置项\n     * config.js 博客基本设置\n     * public 资源目录(图片、音视频、文件等),为/目录\n     * style css配置(可选)\n   * cname是域名301的配置文件\n * deploy.sh 是编译、部署脚本，完成ci/cd的工作\n * package.json node项目配置文件，配置编译命令\n\n也就是说，有了上面几个目录就能够启动博客了，接下来会着重讲这几个目录/文件的作用及配置。\n\n# 👉1. 基本环境😊\n\n在个人代码目录下执行以下命令，windows用户下载git后，右键可使用git bash 执行命令\n\n# 创建代码目录\nmkdir blogscode\ncd blogscode\n# 配置node环境及框架\nnpm init -y\nnpm install -d vuepress\n\n\n1\n2\n3\n4\n5\n6\n\n\n编辑package.json中的scripts\n\n  "scripts": {\n    "test": "echo \\"error: no test specified\\" && exit 1",\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs",\n  },\n\n\n1\n2\n3\n4\n5\n\n\n至此，我们完成了第一个重要的配置文件package.json的配置。\n\n# 👉2. 配置博客布局\n\n目录文件介绍\n\n * doc/.vuepress/config.js 博客配置文件，布局、插件\n * doc/.vuepress/public 博客图片根目录\n * doc/.vuepress/dist 编译成功后的静态文件目录\n\nmkdir -p docs/.vuepress\n#当前目录：blogscode\n# 建议使用cnpm\n\n\n1\n2\n3\n\n\n2.1 安装主题及插件\n\n * 本次安装的主题是：vuepress-theme-reco\n   \n   npm install vuepress-theme-reco --save-dev\n\n * 樱花效果插件\n   \n   npm install vuepress-plugin-sakura -d\n\n * 鼠标点击效果\n   \n   npm install vuepress-plugin-cursor-effects -d\n\n * 回到顶部插件(按需)\n   \n   npm i vuepress-plugin-go-top -d\n\n * 为博客文章自动随机添加名人名言(按需)\n   \n   npm i vuepress-plugin-boxx -d\n   \n   找一个想添加的问题空白处添加<boxx/> ,使用参考\n\n * 看板娘(按需)\n   \n   npm i @vuepress-reco/vuepress-plugin-kan-ban-niang -d\n\n * 添加copy著作权\n   \n   npm i copyright -d\n\n * 图片放大\n   \n   npm install vuepress-plugin-dynamic-title --save\n\n * 复制代码块\n   \n   npm i @xiaopanda/vuepress-plugin-code-copy -d\n\n * 音乐播放器\n   \n   npm install @vuepress-reco/vuepress-plugin-bgm-player -d\n\n * 全文搜索，默认只能搜索h2 h3及title\n   \n   npm install vuepress-plugin-fulltext-search --save\n\n * last-update-time 主题默认集成\n\n2.2 布局配置\n\n创建vuepress配置文件,对主题、插件以及博客布局进行配置\n\n# 进入配置文件目录\ncd docs/.vuepress\n# 编辑配置文件\nvim config.js\n#直接看一个完整的配置文件更不容易遗漏\n\nmodule.exports = {\n  base: "/blogs/", //用于存放编译后静态文件的仓库，配置pages使用\n  title: "子车轻罗的博客", // 标题随便定义\n  description: "龙蛇之变 木雁之间", // 描述随便定义\n  theme: "vuepress-theme-reco", // 按照自己安装的主题写，也可以安装其他主题\n  locales: {\n    "/": {\n      lang: "zh-cn",\n    }, // 日期格式：2023/1/1\n  },\n  themeconfig: {\n    author: "子车轻罗", // 全局\n    logo: "/dog.jpg", // 图片根路径在docs/.vuepress/public下\n    authoravatar: "/dog.jpg", // 头像\n    type: "blog", \n    // nav 导航栏设置\n    nav: [\n      { text: "首页", link: "/" },\n      {\n        text: "子车轻罗 的博客", // 跳转的友情链接\n        items: [\n          { text: "掘金", link: "https://juejin.cn/" },\n          { text: "github", link: "https://github.com/" },\n        ],\n      },\n      // { text: "timeline", link: "/timeline/", icon: "reco-date" }, // 导航栏右侧显示文章发布时间，按需\n    ],\n    subsidebar: "auto", //在所有页面中启用自动生成子侧边栏，原 sidebar 仍然兼容，主要作用是右侧文章标题展示\n   // sidebar 左侧文章目录，\n    sidebar: {\n      "/article/other/": ["vpn", "blog",],\n      // {\n      //   title: \'group 1\',   // 必要的\n      //   path: \'/foo/\',      // 可选的, 标题的跳转链接，应为绝对路径且必须存在\n      //   collapsable: false, // 可选的, 默认值是 true,\n      //   sidebardepth: 1,    // 可选的, 默认值是 1\n      //   children: [\n      //     \'/\'\n      //   ]\n      // },\n      // {\n      //   title: \'group 2\',\n      //   children: [ /* ... */ ],\n      //   initialopengroupindex: -1 // 可选的, 默认值是 0\n      // }\n    },\n    // 博客设置,默认即可\n    blogconfig: {\n      category: {\n        location: 2, // 在导航栏菜单中所占的位置，默认2\n        text: "分类", // 默认文案 “分类”\n      },\n      tag: {\n        location: 4, // 在导航栏菜单中所占的位置，默认4\n        text: "tag", // 默认文案 “标签”\n      },\n    },\n    // 博客评论区,这个插件主题默认存在,需要配置github，下面github配置具体讲怎么配置。\n    vssueconfig: {\n      platform: "github",\n      owner: "zicheqingluo",\n      repo: "blogs",\n      clientid: "",\n      clientsecret: "",\n      autocreateissu: true,\n    },\n  },\n  // 插件配置\n  plugins: [\n    [\n      "sakura", // 樱花特效插件，配置默认即可\n      {\n        num: 20, // 默认数量\n        show: true, //  是否显示\n        zindex: -1, // 层级\n        img: {\n          replace: false, // false 默认图 true 换图 需要填写httpurl地址\n        },\n      },\n    ],\n    [\n      "cursor-effects", // 鼠标点击效果，默认即可\n      {\n        size: 3, // size of the particle, default: 2\n        shape: "star", // [\'star\' | \'circle\'], // shape of the particle, default: \'star\'\n        zindex: 999999999, // z-index property of the canvas, default: 999999999\n      },\n    ],\n        // 看板娘\n    [\n      "@vuepress-reco/vuepress-plugin-kan-ban-niang",\n      {\n        theme: ["z16", "miku", "koharu"],\n        clean: false,\n        info: "https://github.com/mengqiuleo",\n        messages: {\n          welcome: "",\n          home: "心里的花，我想要带你回家",\n          theme: "好吧，希望你能喜欢我的其他小伙伴。",\n          close: "再见哦",\n        },\n        height: 300,\n        // 看板娘人物图片默认右侧展示，调整到左侧避免与top按钮冲突\n        modelstyle: {\n          left: "70px",\n          bottom: "-20px",\n          opacity: "0.9",\n        },\n        // 看板娘按钮图标默认右侧展示，调整到左侧\n        btnstyle: {\n          right: "20px",\n          bottom: "65px",\n        },\n      },\n    ],\n        [\n      "copyright",\n      {\n        authorname: "子车轻罗", // 选中的文字将无法被复制\n        minlength: 10, // 如果长度超过  10 个字符\n      },\n    ],\n        [\n      //图片放大插件 先安装在配置， npm install vuepress-plugin-dynamic-title --save\n      "@vuepress/plugin-medium-zoom",\n      {\n        selector: ".page img png",\n        delay: 1000,\n        options: {\n          margin: 24,\n          background: "rgba(25,18,25,0.9)",\n          scrolloffset: 40,\n        },\n      },\n    ],\n        // 自动添加名人名言、诗句\n    ["vuepress-plugin-boxx"],\n        // 关闭默认的返回顶部插件\n    ["@vuepress-reco/vuepress-plugin-back-to-top", false],\n    // 添加顶部插件\n    ["go-top"],\n        // 代码复制\n    ["@xiaopanda/vuepress-plugin-code-copy"],\n        // 文章阅读，顶部进度条,没啥用\n    ["reading-progress"],\n        // 音乐播放器\n    [\n      "@vuepress-reco/vuepress-plugin-bgm-player",\n      {\n        audios: [\n          {\n            name: "只爱西经-林一.mp3",\n            artist: "只爱西经-林一.mp3",\n            url: "/bgm/只爱西经-林一.mp3",\n            cover: "/bgm/林一.jpg",\n          },\n          {\n            name: "菊次郎的夏天-久石让",\n            artist: "轻缓音乐",\n            url: "http://m10.music.126.net/20230227144026/836e89213726ec864ac8573466df2bf2/ymusic/72ea/60fa/9205/27a8007269af1c0377a333766a14e503.mp3",\n            cover:\n              "https://p1.itc.cn/q_70/images03/20200810/197b7d24b5354097a1b9159a9a229ab6.jpeg",\n          },\n          {\n            name: "星河不可及",\n            artist: "星河不可及",\n            url: "/bgm/星河不可及.mp3",\n            cover:\n              "https://y.qq.com/music/photo_new/t002r300x300m000002q0h264mfjoy_2.jpg?max_age=2592000",\n          },\n        ],\n        // 是否默认缩小\n        autoshrink: true,\n        // 缩小时缩为哪种模式\n        shrinkmode: "float",\n        // 悬浮窗样式\n        floatstyle: { bottom: "20px", "z-index": "999999" },\n      },\n    ],\n       [\n            \'@vuepress/last-updated\',\n            {\n                transformer: (timestamp, lang) => {\n                    // 不要忘了安装 moment\n                    // moment 时间格式化文档戳这里 http://momentjs.cn/\n                    // const moment = require(\'moment\')\n                    // moment.locale(lang)\n                    // return moment(timestamp).fromnow() //和vuepress-plugin-sitemap一起用时间报错\n                    return new date(timestamp).tolocaledatestring();\n                }\n            }\n        ],\n  ],\n  ],\n  // 移动端优化,默认即可\n  head: [\n    [\n      "meta",\n      {\n        name: "viewport",\n        content: "width=device-width,initial-scale=1,user-scalable=no",\n      },\n    ],\n          [\n      "meta",\n      {\n        name: "x-ua-compatible",\n        content: "ie=edge",\n      },\n    ],\n  ],\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n\n\n至此，docs目录已配置完毕，博客布局已完成，插件已配置完成。\n\n2.3 样式配置\n\n# 当前目录：.vuepress\nmkdir styles\nvim palette.styl\n// 使用主题提供的变量进行覆盖\n$accentcolor = #3178c6  // 蓝色主题色\n// 修改自己安装的插件的样式，可在f12里复制出具体的样式名称进行覆盖，如go top插件：\n\n   .show-cat[data-v-6429a6c5] {\n       right: 5px;\n   }\n#小技巧：当你发现自己写的css样式优先级没有原来的样式高时，可以在样式后面添加!improtant后缀，使你的样式优先级是最高的  \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n----------------------------------------\n\n至此，我们完成了第二个重要的目录.vuepress的配置。\n\n# 👉3. 配置首页\n\n在blogscode/docs目录下创建readme.md文件，我使用的软件是typora，填写以下内容，"---" 是markdown格式不可省略。\n\n---\nhome: true \n\nheroimage: "/home.png" \n\nherotext: 子车轻罗 \n\nheroimagestyle:   {     \n\nmaxheight: "288px",    \n\n display: block,     \n\nborderradius: "19% 81% 23% 77% / 44% 57% 43% 56%",     boxshadow: "0 15px 18px rgba(0,0,0,0.2)",  \n\n}  \n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n/home.png 则放到docs/.vuepress/public下，具体背景样式可根据上面自行调整。\n\n至此，我们完成了博客首页配置\n\n# 👉4. 侧边栏说明\n\n左侧文章目录侧边栏，有两种配置方式，一种是object格式，指定文章path与markdown文件的名字，可以分组显示；另一种是全局显示，array格式。\n\n我采用的是第一种，在article下建目录分组即可，解读下我上面的配置：\n\n "/article/other/": ["vpn", "blog"],\n \n "/article/other/":表示分组目录，直接mkdir即可\n ["vpn", "blog"]：标识md文件名称，vpn.md  blog.md\n\n\n1\n2\n3\n4\n\n\n\n# 文章配置\n\n# 创建文章目录，命名随意\nmkdir docs/article\n\n\n1\n2\n\n 1. 配置typora\n\n我通过typora编辑markdown文档，需要注意的typora配置如下：\n\n\n\n\n\n 2. 文章标题、标签、分类等配置\n    \n    每篇md文档都需要配置frontmatter：\n\n---\ntitle: 低成本搭建博客🔥\ndate: 2023-1-1\ncategories:\n\n  - 前端\ntags:\n  - vuepress\n  - blog\nsticky: 1\n---\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n---是必不可少的不可忽略，title 是标题，date 是日期，categories 是分类，tags 是标签，可以有多个分类和标签，sticky 可以让文章置顶，数字表示顺序，1 表示在最上面，2 其次。这里的代码格式一定是按照如上写法：变量后面要加冒号，冒号后面要有空格，不要加逗号。\n\n 3. 文章路径\n    \n    文章统一放到docs/article下，至于要不要再建目录分类，可以随意，第一步的配置可以让你的md文件里的图片都和md文件在同一个目录下\n\n至此，我们完成了将要发布的博客md文件的配置。\n\n\n# github配置\n\n# 👉1. 创建仓库\n\n我这里github上创建了两个仓库，blogscode用于存放源代码包括文章，blogs用于存放编译好的静态文件.\n\n为什么要分两个仓库，其实不一定非得要分，因为在前端配置-配置博客布局中我使用了一个评论功能，需要填写clientid clientsecret,类似的参数涉及安全问题，而blogs要配置为公开的才能用于网站访问，故我创建代码仓库用于单独存放敏感信息，如果大家没有敏感信息可以都放到blogs仓库用不同分支管理即可，其中用于防止静态文件的分支固定为gh-pages，推送静态文件时要指定分支。\n\n1.1 新建静态文件仓库\n\n\n\n\n\n仓库名可自己指定，静态文件仓库要公开才可以配置pages\n\n1.2 pages\n\n点击settings-pages\n\n\n\n\n\n分支按图上配置，当然需要创建这个分支，可在ci/cd中看deploy脚本，保持推送的分支与其保持一致，自定义域名可选，如果不配置的话默认是用户名.github.io/仓库名,如zicheqingluo.github.io/blogs\n\n1.3 代码仓库的创建同上，不过需要选择private，是否需要创建按需\n\n1.4 ssh免密配置\n\nmac和linux 直接在命令行执行ssh-keygen 命令，windows可通过git bash来执行，后续的git操作也会用git bash来运行deploy脚本\n\nssh-keygen  -t rsa \n#之后一路回车即可\n cat ~/.ssh/id_rsa.pub\n\n\n\n1\n2\n3\n4\n\n\n将内容复制到deploy keys即可，如图\n\n如果想全局配置可在右上角seeting-ssh and gpg keys中添加ssh keys\n\n\n\n\n\n# 👉2. github oauth\n\n评论功能需要创建github oauth app，会把评论创建在仓库的issue中，搭建好后，通过github登录，第一个发表评论的人需要在博客评论区点击创建issue，才可以发表评论，也可以找第三方免费的评论产品。\n\n2.1 点击github-settings-developer settings\n\n2.2 点击 new oauth app\n\n\n\n2.3 复制client id ,client secrets 去博客搭建-配置博客布局里的vssueconfig配置即可。\n\n\n# ci/cd\n\n# 👉1. 脚本方式\n\n在blogscode目录下，创建deploy.sh(windows下建议通过vscode编辑)\n\n# 确保脚本抛出遇到的错误\nset -e\n\ndistpath="./docs/.vuepress/dist"\n\n#删除上上次编译\nrm -rf ${distpath}_bak\n#备份上一次编译\ntest -d  ${distpath} &&  mv ${distpath} ${distpath}_bak\n# 生成静态文件\nnpm run docs:build\n\n# 复制markdown 图片到文章目录,因为用的是相对路径，编译后生产的图片链接是和文章一个路径，放到public下会因为url与实际路径不匹配404，这里手动给复制到编译好的目录下。\ncd ./docs/article\nassetslist=`find . -type d -name "*assets"`\nfor a in `echo $assetslist`\ndo\n    cp  -r ${a} ../.vuepress/dist/article/${a}\ndone\n\n# 进入生成的文件夹\ncd ../.vuepress/dist\n\n\ngit init\ngit add -a\ngit commit -m \'deploy\'\n\n# 如果发布到 https://<username>.github.io/<repo>\n\ngit push -f git@github.com:你的用户名/blogs.git master:gh-pages\n\ncd -\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n本次操作是将编译好的静态文件，推送到了刚创建的blogs仓库。\n\n代码文件可以推送到blogscode仓库\n\ncd blogscode\ngit init \ngit add -a\ngit commit -m "update"\ngit push git@github.com:你的用户名/blogscode.git master\n\n\n1\n2\n3\n4\n5\n\n\n执行deploy.sh脚本时，windows用户建议使用git bash操作。\n\n# 👉2. github actions\n\nactions就是定义一组动作，推送到指定分支时触发，github会提供一个默认的编译机执行我们定义好的编译命令，编译完成后推送到我们指定的分支，比如我们把源代码推送到了master分支，则可设置只要master分支更新则触发ci的指令，成功后通过定义cd的指令部署到gh-pages分支，但这样会导致我们的代码直接暴露出去，一些appk appid等敏感信息就暴露出去了(因为用于站点访问的仓库必须要公开)，因为我没有深入研究能否从一个仓库拉代码编译好推送到另一个仓库，所以我没有采用。\n\n以下是操作步骤：\n\n2.1 选择actiojns\n\n\n\n2.2 新建workflow\n\n\n\n2.3 自定义\n\n\n\n2.4 配置，\n\nname: github pages\non:\n  #监听push操作\n  push:\n    branches:\n      - master # 这里只配置了master分支，所以只有推送master分支才会触发以下任务\njobs:\n  # 任务id\n  build-and-deploy:\n    # 运行环境\n    runs-on: ubuntu-latest\n    # 步骤\n    steps:\n      # 官方action，将代码拉取到虚拟机\n      - name: checkout  ️\n        uses: actions/checkout@v3\n\n      - name: install and build # 安装依赖、打包，如果提前已打包好无需这一步\n        run: \n          npm install --no-fund\n          npm run docs:build\n      - name: deploy # 部署\n        uses: jamesives/github-pages-deploy-action@v4.3.3\n        with:\n          branch: gh-pages # 部署后提交到那个分支\n          folder: dist # 这里填打包好的目录名称\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n2.5 后续的修改，就可以在项目仓库的.github里进行修改\n\n总结\n\n这样配置没有用上deploy脚本中的一些配置，因为我在编译的时候就遇到了报错，没有再继续下去。\n\n\n# 可选配置\n\n# 👉自定义域名\n\n 1. 修改github-pages\n\n\n\n 2. 修改dns解析\n\n如果使用一级域名访问如zicheqingluo.com ，需要将这个域名的@记录cname到用户名.github.io（如zicheqingluo.github.io），如果是www.zicheqingluo.com ，需要将www记录cname到zicheqingluo.github.io。\n\n 3. 修改博客配置\n\n因为上面生成的url是域名没有带任何path，所以base地址同样改为/，否则其他资源会404\n\nvim docs/.vuepress/config.js\n#修改base为：\nbase: "/",\n\n\n1\n2\n3\n\n\n此时，直接访问域名即可，https也可直接访问。\n\n 4. cname\n\n独立域名，如果不想每次更新代码后重新配置github-pages 的域名，可如下操作：\n\n4.1 创建cname文件\n\n进入docs目录，创建cname文件,填写你的一级域名，如:abc.com,当你访问www.abc.com时，会自动301到abc.com。同时，也省去了每次发布万就要在github pages填自定义域名的问题。\n\n4.2 修改deploy.sh\n\n#复制cname文件到目录\ncp ../cname ../.vuepress/dist/\n\n# 进入生成的文件夹 // 在脚本这个位置上面增加上面内容\n\n\n1\n2\n3\n4\n\n\n# 👉pwa\n\npwa没有放到上面来说，主要是不一定所有的人有需求，在一个篇幅略微多一些。不了解pwa可以看下渐进式 web 应用（pwa）,简单来说就类似一个电脑的快捷方式，免去浏览器输入url的过程，对于手机就是一个app图标。pwa在不同平台的区别\n\n 1. 生成icon和manifest.json\n    \n    可通过favicon generator或者imagegenerator 上传自己的图片生成各个设备不同大小的icon，并且还有配置文件，当然配置文件得改下。\n    \n    # cd docs/.vuepress/public\n    mkdir assets\n    cd assets \n    mkdir config icon\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    将生成的压缩吧解压，把icon放到icon目录下，将manifest.webmanifest放到config目录下，我是把manifest.webmanifest重命名为manifest.json，不改也可以。\n    \n    {\n      "name": "子车轻罗的个人博客",\n      "short_name": "app 图标上显示的名字，比如微信",\n      "description": "描述",\n      "icons": [\n        {\n          "src": "/assets/icon/favicon-16x16.png",\n          "sizes": "16x16",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/favicon-32x32.png",\n          "sizes": "32x32",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/mstile-150x150.png",\n          "sizes": "150x150",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/mstile-225x225.png",\n          "sizes": "225x225",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/android-chrome-192x192.png",\n          "sizes": "192x192",\n          "type": "image/png"\n        },\n        {\n          "src": "/assets/icon/android-chrome-384x384.png",\n          "sizes": "384x384",\n          "type": "image/png",\n          "purpose": "maskable"\n        },\n        {\n          "src": "/assets/icon/android-chrome-512x512.png",\n          "sizes": "512x512",\n          "type": "image/png",\n          "purpose": "maskable"\n        }\n      ],\n      "start_url": "/index.html",\n      "scope": "/",\n      "theme_color": "#ffffff",\n      "background_color": "#ffffff",\n      "display": "standalone"\n    }\n    \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    33\n    34\n    35\n    36\n    37\n    38\n    39\n    40\n    41\n    42\n    43\n    44\n    45\n    46\n    47\n    48\n    49\n    50\n    51\n    52\n    \n    \n    上面的内容都是按需调整，唯独"start_url" "scope"需要注意，如果是自定义域名写/index.html。\n    \n    2. 安装plugin\n       \n       npm install @vuepress/pwa -d\n    \n    3. 配置config.js\n\nvim docs/.vuepress/config.js\n\n  module.exports = {\n  themconfig:{},\n  plugins:[\n      [\n      "@vuepress/pwa",\n      {\n        // skipwaiting: true,\n        serviceworker: true,\n        updatepopup: true,\n      },\n    ],\n  ],\n  head: [\n    // pwa\n    ["link", { rel: "icon", href: "/assets/icon/favicon.ico" }],\n    ["link", { rel: "manifest", href: "/assets/config/manifest.json" }],\n    ["meta", { name: "theme-color", content: "#ffffff" }],\n    ["meta", { name: "apple-mobile-web-app-capable", content: "yes" }],\n    [\n      "meta",\n      { name: "apple-mobile-web-app-status-bar-style", content: "black" },\n    ],\n    [\n      "link",\n      { rel: "apple-touch-icon", href: "/assets/icon/apple-touch-icon.png" },\n    ],\n    [\n      "link",\n      {\n        rel: "mask-icon",\n        href: "/assets/icon/icons/safari-pinned-tab.svg",\n        color: "#3eaf7c",\n      },\n    ],\n    [\n      "meta",\n      {\n        name: "msapplication-tileimage",\n        content: "/assets/icon/mstile-150x150.png",\n      },\n    ],\n    ["meta", { name: "msapplication-tilecolor", content: "#ffffff" }],\n  ],\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n 4. 验证\n    \n    chrome在应用商店中安装lighthouse插件，选择analyze page load即可检查pwa是否成功\n    \n    \n\n 5. 体验pwa\n    \n    * windows chrome会在地址栏有一个安装按钮\n    \n    \n    \n    * 安卓浏览器打开博客时会提示是否安装到桌面\n    \n    * ios safari浏览器打开点击分享按钮，选择添加到主屏幕\n\n# 👉seo\n\n 1. 站长管理后台\n    \n    注册并按照要求配置\n    \n    百度站长\n    \n    bing站长\n    \n    google\n    \n    360\n    \n    头条\n\n 2. 优化url\n    \n    frontmatter 配置permanentlink\n    \n    比如:\n    \n    我有个文件名是 00.css教程和技巧收藏.md的markdown 文件，\n    \n    当设置 permalink: /css-tips.html 时，发表后对应的url就会是 https://dbdgs.cn/css-tips.html 。\n    \n    另外, url中尽量不要出现#、?等特殊字符，尽量不要出现大写字母。\n\n 3. 安装插件\n    \n    * meta优化\n      \n      npm install -d vuepress-plugin-autometa\n    \n    * 添加sitemap\n      \n      npm install vuepress-plugin-sitemap\n    \n    * 增加feed\n      \n      npm install -d vuepress-plugin-feed\n      \n      markdown文件的frontmatter加上以下内容：\n      \n      feed:\n        enable: true\n      \n      \n      1\n      2\n      \n    \n    * 自动推送到百度(看起来过期了)\n      \n      npm install -d vuepress-plugin-baidu-autopush\n    \n    vim docs/.vuepress/config.js\n    \n    const domain = "https://改为你的域名";\n    module.exports = {\n      themconfig:{},\n      plugins:[\n          [\n          "autometa",\n          {\n            site: {\n              name: "zicheqingluo",\n              twitter: "yanglr",\n            },\n            canonical_base: domain,\n          },\n        ],\n        [\'sitemap\', {\n          hostname: domain,\n          // 排除无实际内容的页面\n          exclude: ["/404.html"]\n        }\n    ],\n     [\n        \'vuepress-plugin-baidu-autopush\'\n      ],\n      ],\n      head: [],\n        markdown: {\n        linenumbers: true,\n        externallinks: { target: "_blank", rel: "nofollow noopener noreferrer" },\n      },\n      }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    \n\n 4. 增加robots.txt\n    \n    vim docs/.vuepress/public/robots.txt\n    sitemap: https://你的域名/sitemap.xml\n    \n    user-agent: *\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 5. seo评分\n    \n    同pwa第四步\n\n 6. 登录百度站点平台 配置收录(其他平台操作步骤相同)，直接填写sitemap地址即可，如图：\n    \n    sitemap地址为：域名/sitemap.xml\n    \n    \n\n 7. 登录百度统计 开启单页面应用数据统计\n\n\n# 其他\n\n# 👉排障技巧\n\n * 尽量操作一步运行一次，这样方便回溯是哪些变更导致的，虽然我配置是完整的，但可以一点点复制进去。\n * 报插件错误的，无脑先rm -rf node_modules rm,再npm i装一遍\n * 插件没更新，就不要用热编译，重新在npm run docs:dev\n\n# 👉说明\n\nmarkdown一级标签不会生成侧边栏，右侧边栏是从二级标签开始展示的，到三级标签就结束了，4、5、6级的标题渲染出来很小，看起来没有正文大所以不建议使用，即使使用加粗都比4级标题明显。\n\n# 文章中引入样式和脚本\n\n有时，你可以只想在当前页面应用一些 javascript 或者 css，在这种情况下，你可以直接在 markdown 文件中使用原生的 或者 标签，它们将会从编译后的 html 文件中提取出来，并作为生成的 vue 单文件组件的和标签。\n\n# 免费的服务托管\n\n除了github pages，https://vercel.com/也是一个免费的托管平台，有兴趣的可以试试。\n\n\n# 参考\n\n * [1] vuepress\n\n * [2] vuepress-theme-reco主题)\n\n * [3] vssue-评论\n\n * [4] vuepress主题与插件\n\n * [5] vuepress 社区\n\n * [6] 侧边栏\n\n * [7] 苍何-hexo在github上搭建个人博客\n\n * [8] 一条会coding的shark-手把手教你用vuepress搭建个人博客\n\n * [9] 冴羽-vuepress 博客优化之增加 vssue 评论功能\n\n * [10] 特别详细的网站seo优化\n\n * [11] pwa教程\n\n * [12] pwa脚本\n\n * [13] lastupdate和sitemap冲突解决方法',charsets:{cjk:!0},lastUpdated:"2023/4/14",lastUpdatedTimestamp:1681431511e3},{title:"vscode 插件",frontmatter:{title:"vscode 插件",date:"2020-3-8",categories:["工具/平台"],tags:["vscode"],meta:[{name:"description",content:"vscode 前端vue插件 go插件 生产力插件"},{name:"keywords",content:"vscode vue插件 前端插件 后端插件 开发插件"},{name:"image",content:"https://exafunction.github.io/public/demos/g_python_random_gen_with_logo.gif"},{name:"twitter:title",content:"vscode 插件"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://exafunction.github.io/public/demos/g_python_random_gen_with_logo.gif"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/toolplatform/vscode%E6%8F%92%E4%BB%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"vscode 插件"},{property:"og:description",content:""},{property:"og:image",content:"https://exafunction.github.io/public/demos/g_python_random_gen_with_logo.gif"},{property:"og:url",content:"https://www.yangxiaokang.com/article/toolplatform/vscode%E6%8F%92%E4%BB%B6.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2020-3-8"},{property:"article:tag",content:"vscode"},{itemprop:"name",content:"vscode 插件"},{itemprop:"description",content:""},{itemprop:"image",content:"https://exafunction.github.io/public/demos/g_python_random_gen_with_logo.gif"}],feed:{enable:!0},permalink:"/article/toolplatform/vscode-plug-in.html",summary:"一站式配置vscode开发插件",description:""},regularPath:"/article/toolplatform/vscode%E6%8F%92%E4%BB%B6.html",relativePath:"article/toolplatform/vscode插件.md",key:"v-87f23a76",path:"/article/toolplatform/vscode-plug-in.html",headers:[{level:2,title:"AI工具",slug:"ai工具",normalizedTitle:"ai工具",charIndex:2},{level:2,title:"前端",slug:"前端",normalizedTitle:"前端",charIndex:203},{level:2,title:"后端",slug:"后端",normalizedTitle:"后端",charIndex:1109},{level:2,title:"基本插件",slug:"基本插件",normalizedTitle:"基本插件",charIndex:1130},{level:2,title:"常用配置",slug:"常用配置",normalizedTitle:"常用配置",charIndex:4346},{level:2,title:"快捷键",slug:"快捷键",normalizedTitle:"快捷键",charIndex:1370}],headersStr:"AI工具 前端 后端 基本插件 常用配置 快捷键",content:'# AI工具\n\n# Codeium\n\n代码补全工具，免费，注册即可用。默认都是英文回复。\n\n支持70多种语言如 Javascript, Python, Typescript, PHP, Go, Java, C, C++, Rust, Ruby, and more.\n\n\n\n\n\n# ChatGPT GPT-4\n\n代码补全工具，免费，注册可用，相比codeium可以选中一部分代码到对话框，进行提问。\n\n\n# 前端\n\n# Auto Rename Tag\n\n插件：Auto Rename Tag\n\n作用：成对符号如""，删除一个时，自动删除另一个。\n\n# Blockman\n\n插件：Blockman - Highlight Nested Code Blocks\n\n作用：高亮当前光标所在的代码段，框出代码段。\n\n\n\n# ESLint\n\n插件：ESLint\n\n作用：使用eslint规范检查代码\n\n# Highlight Matching Tag\n\n插件：Highlight Matching Tag\n\n作用：高亮当前选中的标签\n\n\n\n# HTML CSS Support\n\n插件：HTML CSS Support\n\n作用：css属性补全\n\n# Image preview\n\n插件：Image preview\n\n作用：引用图片是，代码行号左边展示图片的缩略图\n\n# indent-rainbow\n\n插件：indent-rainbow\n\n作用：使缩进更容易看，展示所有缩进以不同颜色展示\n\n\n\n# Indenticator\n\n插件：Indenticator\n\n作用：使缩进更容易看，展示光标所在位置缩进，个人感觉比上面的更容易看。\n\n# Prettier - Code formatter\n\n插件：Prettier - Code formatter\n\n作用：格式化代码\n\n# stylus\n\n插件：stylus\n\n作用：为Stylus文件添加语法高亮显示和代码完成。\n\n# TabOut\n\n插件：TabOut\n\n作用：当输入"，补全另一个"，使用tab即可向右移动一个位置，跳出包裹\n\n# vetur\n\n插件：TabOut\n\n作用：vue代码提示不全\n\n# vue-helper\n\n插件：vue-helper\n\n作用：该插件主要增强了编写vue的能力，并扩展了Element-UI, VUX, IVIEW\n\n# Code Spell Checker\n\n插件：Code Spell Checker\n\n作用：检查单词拼写\n\n# CSS Peek\n\n插件：CSS Peek\n\n作用：鼠标指向class即可展示关联的css\n\n\n\n\n# 后端\n\n# Go\n\ngo语言插件\n\n\n# 基本插件\n\n# Chinese\n\n中文插件，vscode转中文。\n\n# Draw.io Integration\n\n画图插件，流程图、泳道图\n\n# GitLens — Git supercharged\n\ngit管理，更加方便的管理git，鼠标点击提示修改人及修改时间\n\n# koroFileHeader\n\n生成文件头部注释插件，4.93版本有bug，保存文件会很卡顿。\n\n# Local History\n\n自动把代码历史版本备份到本地\n\n# Vim\n\nvim插件，不过有些ctrl的快捷键会和vscode冲突\n\n// vim 配置\n  "vim.useCtrlKeys": false,\n  "vim.handleKeys": {\n    "<C-a>": false,\n    "<C-b>": false,\n    "<C-c>": false,\n    "<C-d>": false,\n    "<C-e>": false,\n    "<C-f>": false,\n    "<C-g>": false,\n    "<C-h>": false,\n    "<C-i>": false,\n    "<C-j>": false,\n    "<C-k>": false,\n    "<C-l>": false,\n    "<C-m>": false,\n    "<C-n>": false,\n    "<C-o>": false,\n    "<C-p>": false,\n    "<C-q>": false,\n    "<C-r>": false,\n    "<C-s>": false,\n    "<C-t>": false,\n    "<C-u>": false,\n    "<C-v>": false,\n    "<C-w>": false,\n    "<C-x>": false,\n    "<C-y>": false,\n    "<C-z>": false\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# Remote系列\n\nRemote-SSH\n\nRemote-SSH:Editing Configuration Files\n\nRemote-Tunnels\n\nRemote Development\n\nRemote Explorer\n\n以上不需要自己安装，使用远程链接服务器进行开发时会自动安装。\n\n如果需要跳板机才能链接，可以参考以下配置，会在ssh下建立一个文件，定义好要链接的机器ip、端口，如需跳板机还可以设置proxy\n\n默认配置\n\n 配置在 ~/.ssh/config，可以通过git bash看，对应windows路径为C:\\Users\\${user}\\.ssh\ncat config\nHost LLM  #名字，可以通过ssh LLM连接命名为LLM的ssh配置\n  HostName 10.33.5.83  # 连接地址\n  User rd  #用户\n  Port 8222  #默认22，如果不是22需要指定\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n通过跳板机中转连接\n\nssh：版本在7.4p1及以上；vim /etc/ssh/sshd_config将AllowTcpForwarding yes #注释去掉，改成 yes\n\nvscode：remote-ssh配置里，把remote.SSH.remoteServerListenOnSocket的勾去掉\n\n防火墙：要放开\n\nHost TargetSever\n    HostName 2.2.2.2\n    User student2\n    ProxyCommand C:\\Windows\\System32\\OpenSSH\\ssh.exe -W %h:%p LLM #如通过上面的LLM进行中转\n\n\n1\n2\n3\n4\n\n\n如果报错open failed：administratively prohibited：open failed ,或通道关闭就是以上问题。\n\n还有另外一种方式，不过堡垒机这种不能装其他命令的是没法用的。\n\n确定连接方式\n利用nc 首先登录跳板机，输入"nc"\n如果跳板机有nc就可以用这种方式登录\n利用ssh -W 这种方式我没有配置成功，有兴趣请参考别的文章（文末）\n配置ssh config（Windows）\n打开C:/Users/[你的用户名]/.ssh/config（如果没有就新建一个）\n输入：Host [远程服务器别名，随便起] HostName [远程服务器地址] User [远程服务器账户名] Port [远程服务器端口] ProxyCommand ssh.exe -p [跳板机端口] [跳板机地址] nc %h %p\n上一步中的ssh.exe是在windows环境才这样写的，如果要在mac环境配置，只需要去掉.exe换成ssh\nMAC\nssh config的位置在：~/.ssh/config\n\n其他同上\n\n我的配置文件为例\nHost google_gpu_03  # 随便起\n  HostName 123.123.123.123 # 训练服务器IP\n  User user2  # 训练服务器用户名\n  Port 22\n  ProxyCommand ssh.exe -p 32200 user1@122.122.122.122 nc %h %p  # 跳板机用户名和IP\nvscode 登录\n打开vscode，点击View - Command palette\n点击Remote SSH: Connect to Host\n选择上一步配置的远程服务器别名\n按照提示分别输入跳板机，远程服务器的密码\n第一次连接的时候会花几分钟时间安装vscode server，即使远程服务器没有网络也可以安装成功\n（可选）配置公钥免密登录\n虽然可选，但是大多数人都会这么做，因为不这样做的话每次登录要输入服务器和跳板机的密码，不方便的话就没有远程调试的意义了\n\n配置从windows到跳板机的公钥\n打开powershell，输入ssh-keygen -t rsa\n把id_rsa.pub文件传到跳板机，并在跳板机上运行cat id_rsa.pub >> ~/.ssh/authorized_keys\n至此，就不用输入跳板机密码了\n\n\n配置从跳板机到远程服务器的公钥\n跳板机输入ssh-keygen -t rsa\n把跳板机的id_rsa.pub文件传到远程服务器，并在远程服务器上运行cat id_rsa.pub >> ~/.ssh/authorized_keys\n【重要】把你windows的id_rsa.pub，并在远程服务器上运行上述命令\n（也就是说，所有前序机器的id_rsa.pub都要添加到最终机器上。比如说有3台机ABC，其中B是跳板机。那么A的.pub要在B跟C上分别导入一次，B的.pub要在C上导入一次，共3次）\n至此，就不用输入远程服务器密码了\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n参考\n\n# WSL\n\n使用windows WSL子系统时，链接子系统使用。\n\n# local History\n\n在本地存储一份文件变更历史，避免还没有提交git时发生意外，注意需要在**.gitignore** 添加.history, 否则会造成提交时文件泛滥，它应该只存在于本地。\n\n\n# 常用配置\n\n  "terminal.integrated.profiles.windows": {\n    //新的配置\n    "MINGW32": {\n      "path": "C:\\\\Windows\\\\System32\\\\cmd.exe", //shell路径\n      "icon": "terminal-cmd",\n      "args": ["-defterm", "-mingw32", "-no-start", "-here"],\n      "env": {\n        "CHERE_INVOKING": "1",\n        "MSYSTEM": "MINGW32"\n      },\n      "python.pythonPath": "python"\n    }\n  },\n    "editor.formatOnPaste": true,\n  "editor.formatOnType": true,\n  "editor.linkedEditing": true,\n  "editor.formatOnSave": true,\n  "editor.codeActionsOnSave": {\n  \n    "source.fixAll.eslint": true,\n    "source.organizeImports": true\n  },\n  "editor.wordWrap": "off",\n  "editor.fontLigatures": null,\n  "editor.tokenColorCustomizations": null,\n  "editor.gotoLocation.multipleDefinitions": "goto",\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n前端配置\n\n// 前端配置\n  "emmet.includeLanguages": {\n    "wxml": "html",\n    "vue": "html",\n    "vue-html": "html"\n  },\n  "json.schemas": [],\n  "beautify.language": {\n    "js": {\n      "type": ["javascript", "json", "jsonc"],\n      "filename": [".jshintrc", ".jsbeautifyrc"]\n    },\n    "css": ["css", "less", "scss"],\n    "html": ["htm", "html", "vue"]\n  },\n\n  "[vue]": {\n    "editor.defaultFormatter": "octref.vetur",\n    "editor.formatOnSave": true\n  },\n  "[html]": {\n    "editor.defaultFormatter": "vscode.html-language-features"\n  },\n  "vetur.grammar.customBlocks": {\n    "docs": "md",\n    "i18n": "json"\n  },\n  "eslint.run": "onSave",\n  "eslint.options": {\n    "extensions": [".js", ".vue"]\n  },\n  // 不显示eslint校验的警告信息\n  "eslint.quiet": true,\n  "eslint.validate": [\n    {\n      "language": "typescript",\n      "autoFix": true\n    },\n    "javascript",\n    "javascriptreact",\n    {\n      "language": "vue",\n      "autoFix": true\n    },\n    {\n      "language": "html",\n      "autoFix": true\n    },\n    "vue"\n  ],\n\n  "vetur.format.defaultFormatterOptions": {\n    "prettier": {\n      // 使用单引号\n      "semi": false\n    },\n    "js-beautify-html": {\n      "wrap_attributes": "force-expand-multiline",\n      "wrap_line_length": 250,\n      "wrap_attributes": "auto",\n      "end_with_newline": false\n    },\n    "prettyhtml": {\n      "printWidth": 100,\n      "singleQuote": false,\n      "wrapAttributes": false,\n      "sortAttributes": false\n    }\n  },\n  // "files.insertFinalNewline": true,\n  "vetur.format.defaultFormatter.html": "js-beautify-html",\n  "[javascript]": {\n    // "editor.defaultFormatter": "dbaeumer.vscode-eslint"\n    "editor.defaultFormatter": "dbaeumer.vscode-eslint"\n  },\n  "[json]": {\n    "editor.quickSuggestions": {\n      "strings": true\n    },\n    "editor.suggest.insertMode": "replace",\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n\n  "eslint.trace.server": "off",\n  "javascript.format.insertSpaceBeforeFunctionParenthesis": true,\n  "vetur.format.defaultFormatter.ts": "vscode-typescript",\n  "vetur.format.defaultFormatter.js": "vscode-typescript",\n  "eslint.format.enable": true,\n  "eslint.lintTask.enable": true,\n  "eslint.alwaysShowStatus": true,\n  "workbench.editorAssociations": {\n    "*.ipynb": "jupyter.notebook.ipynb"\n  },\n\n  "security.workspace.trust.untrustedFiles": "open",\n  "[javascript]": {\n    "editor.defaultFormatter": "dbaeumer.vscode-eslint"\n  },\n  "[javascript]": {\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n\n\npython配置\n\n  // python 配置\n  "python.linting.flake8Enabled": true,\n  // "python.linting.blackEnabled": true,\n  "python.linting.flake8Args": ["--max--line-length=248"],\n  "python.linting.pylintEnabled": false,\n  "workbench.startupEditor": "newUntitledFile",\n  "python.linting.enabled": true,\n  "python.formatting.provider": "yapf",\n  "python.formatting.blackArgs": ["--skip-string-normalization"],\n  "[python]": {\n    "editor.formatOnType": true\n  },\n  "python.condaPath": "/Users/yangxiaokang/micromamba/condabin/conda",\n  "cSpell.languageSettings": [{}],\n  "python.pythonPath": "/usr/bin/python3",\n  "python.defaultInterpreterPath": "/usr/local/bin/python3",\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ngo配置\n\n// golang 配置\n  "go.formatTool": "goimports",\n  "go.useLanguageServer": false,\n  "go.docsTool": "guru",\n  "go.toolsEnvVars": {\n    //"GOFLAGS": "-mod=vendor"\n    "GOFLAGS": "-mod=mod"\n  },\n  "go.inferGopath": true,\n  "go.formatTool": "goreturns",\n  //自动完成未导入的包\n  "go.autocompleteUnimportedPackages": true,\n  "go.gocodePackageLookupMode": "go",\n  "go.gotoSymbol.includeImports": true,\n  "go.docsTool": "gogetdoc",\n  "go.useCodeSnippetsOnFunctionSuggest": true,\n  "go.useCodeSnippetsOnFunctionSuggestWithoutType": true,\n  "go.useLanguageServer": true,\n  "[go]": {\n    "editor.insertSpaces": false,\n    "editor.formatOnSave": true,\n    "editor.codeActionsOnSave": {\n      "source.organizeImports": true\n    } // Optional: Disable snippets, as they conflict with completion ranking.    "editor.snippetSuggestions": "none",\n  },\n  "[go.mod]": {\n    "editor.formatOnSave": true,\n    "editor.codeActionsOnSave": {\n      "source.organizeImports": true\n    }\n  },\n  "go.trace.server": "verbose",\n  "gopls": {\n    // Add parameter placeholders when completing a function.\n    "usePlaceholders": false\n    // If true, enable additional analyses with staticcheck.\n    // Warning: This will significantly increase memory usage.   "staticcheck": false,\n  },\n  "go.languageServerFlags": [\n    "-remote=auto",\n    "-logfile=auto",\n    "-debug=:0",\n    "-rpc.trace"\n  ],\n  "go.toolsManagement.autoUpdate": true,\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n其他配置\n\n  // 插件配置\n  "git.confirmSync": false,\n  "workbench.editor.untitled.hint": "hidden",\n  "hediet.vscode-drawio.resizeImages": null,\n  "files.autoSave": "afterDelay",\n  "gitlens.currentLine.dateFormat": "",\n  // indent-rainbow 使缩进更明显\n  // Using the light mode\n  "indentRainbow.indicatorStyle": "light",\n  // we use a simple 1 pixel wide line\n  "indentRainbow.lightIndicatorStyleLineWidth": 1,\n  "indentRainbow.colors": [\n    "rgba(255,255,64,0.3)",\n    "rgba(127,255,127,0.3)",\n    "rgba(255,127,255,0.3)",\n    "rgba(79,236,236,0.3)"\n  ],\n  "update.mode": "none",\n  "extensions.autoUpdate": false\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 快捷键\n\n * 跳转函数定义后如何回到之前位置\n   \n   Windows: Alt + \'-\' （有的是 Alt + ‘←’）\n   \n   Ubuntu: Ctrl + Alt + \'-\'\n   \n   Mac: control + \'-\'',normalizedContent:'# ai工具\n\n# codeium\n\n代码补全工具，免费，注册即可用。默认都是英文回复。\n\n支持70多种语言如 javascript, python, typescript, php, go, java, c, c++, rust, ruby, and more.\n\n\n\n\n\n# chatgpt gpt-4\n\n代码补全工具，免费，注册可用，相比codeium可以选中一部分代码到对话框，进行提问。\n\n\n# 前端\n\n# auto rename tag\n\n插件：auto rename tag\n\n作用：成对符号如""，删除一个时，自动删除另一个。\n\n# blockman\n\n插件：blockman - highlight nested code blocks\n\n作用：高亮当前光标所在的代码段，框出代码段。\n\n\n\n# eslint\n\n插件：eslint\n\n作用：使用eslint规范检查代码\n\n# highlight matching tag\n\n插件：highlight matching tag\n\n作用：高亮当前选中的标签\n\n\n\n# html css support\n\n插件：html css support\n\n作用：css属性补全\n\n# image preview\n\n插件：image preview\n\n作用：引用图片是，代码行号左边展示图片的缩略图\n\n# indent-rainbow\n\n插件：indent-rainbow\n\n作用：使缩进更容易看，展示所有缩进以不同颜色展示\n\n\n\n# indenticator\n\n插件：indenticator\n\n作用：使缩进更容易看，展示光标所在位置缩进，个人感觉比上面的更容易看。\n\n# prettier - code formatter\n\n插件：prettier - code formatter\n\n作用：格式化代码\n\n# stylus\n\n插件：stylus\n\n作用：为stylus文件添加语法高亮显示和代码完成。\n\n# tabout\n\n插件：tabout\n\n作用：当输入"，补全另一个"，使用tab即可向右移动一个位置，跳出包裹\n\n# vetur\n\n插件：tabout\n\n作用：vue代码提示不全\n\n# vue-helper\n\n插件：vue-helper\n\n作用：该插件主要增强了编写vue的能力，并扩展了element-ui, vux, iview\n\n# code spell checker\n\n插件：code spell checker\n\n作用：检查单词拼写\n\n# css peek\n\n插件：css peek\n\n作用：鼠标指向class即可展示关联的css\n\n\n\n\n# 后端\n\n# go\n\ngo语言插件\n\n\n# 基本插件\n\n# chinese\n\n中文插件，vscode转中文。\n\n# draw.io integration\n\n画图插件，流程图、泳道图\n\n# gitlens — git supercharged\n\ngit管理，更加方便的管理git，鼠标点击提示修改人及修改时间\n\n# korofileheader\n\n生成文件头部注释插件，4.93版本有bug，保存文件会很卡顿。\n\n# local history\n\n自动把代码历史版本备份到本地\n\n# vim\n\nvim插件，不过有些ctrl的快捷键会和vscode冲突\n\n// vim 配置\n  "vim.usectrlkeys": false,\n  "vim.handlekeys": {\n    "<c-a>": false,\n    "<c-b>": false,\n    "<c-c>": false,\n    "<c-d>": false,\n    "<c-e>": false,\n    "<c-f>": false,\n    "<c-g>": false,\n    "<c-h>": false,\n    "<c-i>": false,\n    "<c-j>": false,\n    "<c-k>": false,\n    "<c-l>": false,\n    "<c-m>": false,\n    "<c-n>": false,\n    "<c-o>": false,\n    "<c-p>": false,\n    "<c-q>": false,\n    "<c-r>": false,\n    "<c-s>": false,\n    "<c-t>": false,\n    "<c-u>": false,\n    "<c-v>": false,\n    "<c-w>": false,\n    "<c-x>": false,\n    "<c-y>": false,\n    "<c-z>": false\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# remote系列\n\nremote-ssh\n\nremote-ssh:editing configuration files\n\nremote-tunnels\n\nremote development\n\nremote explorer\n\n以上不需要自己安装，使用远程链接服务器进行开发时会自动安装。\n\n如果需要跳板机才能链接，可以参考以下配置，会在ssh下建立一个文件，定义好要链接的机器ip、端口，如需跳板机还可以设置proxy\n\n默认配置\n\n 配置在 ~/.ssh/config，可以通过git bash看，对应windows路径为c:\\users\\${user}\\.ssh\ncat config\nhost llm  #名字，可以通过ssh llm连接命名为llm的ssh配置\n  hostname 10.33.5.83  # 连接地址\n  user rd  #用户\n  port 8222  #默认22，如果不是22需要指定\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n通过跳板机中转连接\n\nssh：版本在7.4p1及以上；vim /etc/ssh/sshd_config将allowtcpforwarding yes #注释去掉，改成 yes\n\nvscode：remote-ssh配置里，把remote.ssh.remoteserverlistenonsocket的勾去掉\n\n防火墙：要放开\n\nhost targetsever\n    hostname 2.2.2.2\n    user student2\n    proxycommand c:\\windows\\system32\\openssh\\ssh.exe -w %h:%p llm #如通过上面的llm进行中转\n\n\n1\n2\n3\n4\n\n\n如果报错open failed：administratively prohibited：open failed ,或通道关闭就是以上问题。\n\n还有另外一种方式，不过堡垒机这种不能装其他命令的是没法用的。\n\n确定连接方式\n利用nc 首先登录跳板机，输入"nc"\n如果跳板机有nc就可以用这种方式登录\n利用ssh -w 这种方式我没有配置成功，有兴趣请参考别的文章（文末）\n配置ssh config（windows）\n打开c:/users/[你的用户名]/.ssh/config（如果没有就新建一个）\n输入：host [远程服务器别名，随便起] hostname [远程服务器地址] user [远程服务器账户名] port [远程服务器端口] proxycommand ssh.exe -p [跳板机端口] [跳板机地址] nc %h %p\n上一步中的ssh.exe是在windows环境才这样写的，如果要在mac环境配置，只需要去掉.exe换成ssh\nmac\nssh config的位置在：~/.ssh/config\n\n其他同上\n\n我的配置文件为例\nhost google_gpu_03  # 随便起\n  hostname 123.123.123.123 # 训练服务器ip\n  user user2  # 训练服务器用户名\n  port 22\n  proxycommand ssh.exe -p 32200 user1@122.122.122.122 nc %h %p  # 跳板机用户名和ip\nvscode 登录\n打开vscode，点击view - command palette\n点击remote ssh: connect to host\n选择上一步配置的远程服务器别名\n按照提示分别输入跳板机，远程服务器的密码\n第一次连接的时候会花几分钟时间安装vscode server，即使远程服务器没有网络也可以安装成功\n（可选）配置公钥免密登录\n虽然可选，但是大多数人都会这么做，因为不这样做的话每次登录要输入服务器和跳板机的密码，不方便的话就没有远程调试的意义了\n\n配置从windows到跳板机的公钥\n打开powershell，输入ssh-keygen -t rsa\n把id_rsa.pub文件传到跳板机，并在跳板机上运行cat id_rsa.pub >> ~/.ssh/authorized_keys\n至此，就不用输入跳板机密码了\n\n\n配置从跳板机到远程服务器的公钥\n跳板机输入ssh-keygen -t rsa\n把跳板机的id_rsa.pub文件传到远程服务器，并在远程服务器上运行cat id_rsa.pub >> ~/.ssh/authorized_keys\n【重要】把你windows的id_rsa.pub，并在远程服务器上运行上述命令\n（也就是说，所有前序机器的id_rsa.pub都要添加到最终机器上。比如说有3台机abc，其中b是跳板机。那么a的.pub要在b跟c上分别导入一次，b的.pub要在c上导入一次，共3次）\n至此，就不用输入远程服务器密码了\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n参考\n\n# wsl\n\n使用windows wsl子系统时，链接子系统使用。\n\n# local history\n\n在本地存储一份文件变更历史，避免还没有提交git时发生意外，注意需要在**.gitignore** 添加.history, 否则会造成提交时文件泛滥，它应该只存在于本地。\n\n\n# 常用配置\n\n  "terminal.integrated.profiles.windows": {\n    //新的配置\n    "mingw32": {\n      "path": "c:\\\\windows\\\\system32\\\\cmd.exe", //shell路径\n      "icon": "terminal-cmd",\n      "args": ["-defterm", "-mingw32", "-no-start", "-here"],\n      "env": {\n        "chere_invoking": "1",\n        "msystem": "mingw32"\n      },\n      "python.pythonpath": "python"\n    }\n  },\n    "editor.formatonpaste": true,\n  "editor.formatontype": true,\n  "editor.linkedediting": true,\n  "editor.formatonsave": true,\n  "editor.codeactionsonsave": {\n  \n    "source.fixall.eslint": true,\n    "source.organizeimports": true\n  },\n  "editor.wordwrap": "off",\n  "editor.fontligatures": null,\n  "editor.tokencolorcustomizations": null,\n  "editor.gotolocation.multipledefinitions": "goto",\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n前端配置\n\n// 前端配置\n  "emmet.includelanguages": {\n    "wxml": "html",\n    "vue": "html",\n    "vue-html": "html"\n  },\n  "json.schemas": [],\n  "beautify.language": {\n    "js": {\n      "type": ["javascript", "json", "jsonc"],\n      "filename": [".jshintrc", ".jsbeautifyrc"]\n    },\n    "css": ["css", "less", "scss"],\n    "html": ["htm", "html", "vue"]\n  },\n\n  "[vue]": {\n    "editor.defaultformatter": "octref.vetur",\n    "editor.formatonsave": true\n  },\n  "[html]": {\n    "editor.defaultformatter": "vscode.html-language-features"\n  },\n  "vetur.grammar.customblocks": {\n    "docs": "md",\n    "i18n": "json"\n  },\n  "eslint.run": "onsave",\n  "eslint.options": {\n    "extensions": [".js", ".vue"]\n  },\n  // 不显示eslint校验的警告信息\n  "eslint.quiet": true,\n  "eslint.validate": [\n    {\n      "language": "typescript",\n      "autofix": true\n    },\n    "javascript",\n    "javascriptreact",\n    {\n      "language": "vue",\n      "autofix": true\n    },\n    {\n      "language": "html",\n      "autofix": true\n    },\n    "vue"\n  ],\n\n  "vetur.format.defaultformatteroptions": {\n    "prettier": {\n      // 使用单引号\n      "semi": false\n    },\n    "js-beautify-html": {\n      "wrap_attributes": "force-expand-multiline",\n      "wrap_line_length": 250,\n      "wrap_attributes": "auto",\n      "end_with_newline": false\n    },\n    "prettyhtml": {\n      "printwidth": 100,\n      "singlequote": false,\n      "wrapattributes": false,\n      "sortattributes": false\n    }\n  },\n  // "files.insertfinalnewline": true,\n  "vetur.format.defaultformatter.html": "js-beautify-html",\n  "[javascript]": {\n    // "editor.defaultformatter": "dbaeumer.vscode-eslint"\n    "editor.defaultformatter": "dbaeumer.vscode-eslint"\n  },\n  "[json]": {\n    "editor.quicksuggestions": {\n      "strings": true\n    },\n    "editor.suggest.insertmode": "replace",\n    "editor.defaultformatter": "esbenp.prettier-vscode"\n  },\n\n  "eslint.trace.server": "off",\n  "javascript.format.insertspacebeforefunctionparenthesis": true,\n  "vetur.format.defaultformatter.ts": "vscode-typescript",\n  "vetur.format.defaultformatter.js": "vscode-typescript",\n  "eslint.format.enable": true,\n  "eslint.linttask.enable": true,\n  "eslint.alwaysshowstatus": true,\n  "workbench.editorassociations": {\n    "*.ipynb": "jupyter.notebook.ipynb"\n  },\n\n  "security.workspace.trust.untrustedfiles": "open",\n  "[javascript]": {\n    "editor.defaultformatter": "dbaeumer.vscode-eslint"\n  },\n  "[javascript]": {\n    "editor.defaultformatter": "esbenp.prettier-vscode"\n  },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n\n\npython配置\n\n  // python 配置\n  "python.linting.flake8enabled": true,\n  // "python.linting.blackenabled": true,\n  "python.linting.flake8args": ["--max--line-length=248"],\n  "python.linting.pylintenabled": false,\n  "workbench.startupeditor": "newuntitledfile",\n  "python.linting.enabled": true,\n  "python.formatting.provider": "yapf",\n  "python.formatting.blackargs": ["--skip-string-normalization"],\n  "[python]": {\n    "editor.formatontype": true\n  },\n  "python.condapath": "/users/yangxiaokang/micromamba/condabin/conda",\n  "cspell.languagesettings": [{}],\n  "python.pythonpath": "/usr/bin/python3",\n  "python.defaultinterpreterpath": "/usr/local/bin/python3",\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ngo配置\n\n// golang 配置\n  "go.formattool": "goimports",\n  "go.uselanguageserver": false,\n  "go.docstool": "guru",\n  "go.toolsenvvars": {\n    //"goflags": "-mod=vendor"\n    "goflags": "-mod=mod"\n  },\n  "go.infergopath": true,\n  "go.formattool": "goreturns",\n  //自动完成未导入的包\n  "go.autocompleteunimportedpackages": true,\n  "go.gocodepackagelookupmode": "go",\n  "go.gotosymbol.includeimports": true,\n  "go.docstool": "gogetdoc",\n  "go.usecodesnippetsonfunctionsuggest": true,\n  "go.usecodesnippetsonfunctionsuggestwithouttype": true,\n  "go.uselanguageserver": true,\n  "[go]": {\n    "editor.insertspaces": false,\n    "editor.formatonsave": true,\n    "editor.codeactionsonsave": {\n      "source.organizeimports": true\n    } // optional: disable snippets, as they conflict with completion ranking.    "editor.snippetsuggestions": "none",\n  },\n  "[go.mod]": {\n    "editor.formatonsave": true,\n    "editor.codeactionsonsave": {\n      "source.organizeimports": true\n    }\n  },\n  "go.trace.server": "verbose",\n  "gopls": {\n    // add parameter placeholders when completing a function.\n    "useplaceholders": false\n    // if true, enable additional analyses with staticcheck.\n    // warning: this will significantly increase memory usage.   "staticcheck": false,\n  },\n  "go.languageserverflags": [\n    "-remote=auto",\n    "-logfile=auto",\n    "-debug=:0",\n    "-rpc.trace"\n  ],\n  "go.toolsmanagement.autoupdate": true,\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n其他配置\n\n  // 插件配置\n  "git.confirmsync": false,\n  "workbench.editor.untitled.hint": "hidden",\n  "hediet.vscode-drawio.resizeimages": null,\n  "files.autosave": "afterdelay",\n  "gitlens.currentline.dateformat": "",\n  // indent-rainbow 使缩进更明显\n  // using the light mode\n  "indentrainbow.indicatorstyle": "light",\n  // we use a simple 1 pixel wide line\n  "indentrainbow.lightindicatorstylelinewidth": 1,\n  "indentrainbow.colors": [\n    "rgba(255,255,64,0.3)",\n    "rgba(127,255,127,0.3)",\n    "rgba(255,127,255,0.3)",\n    "rgba(79,236,236,0.3)"\n  ],\n  "update.mode": "none",\n  "extensions.autoupdate": false\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 快捷键\n\n * 跳转函数定义后如何回到之前位置\n   \n   windows: alt + \'-\' （有的是 alt + ‘←’）\n   \n   ubuntu: ctrl + alt + \'-\'\n   \n   mac: control + \'-\'',charsets:{cjk:!0},lastUpdated:"2023/8/5",lastUpdatedTimestamp:1691209473e3},{title:"打造自己的vim golang IDE",frontmatter:{title:"打造自己的vim golang IDE",date:"2020-3-1",categories:["工具/平台"],tags:["vim","go","IDE"],meta:[{name:"description",content:"使用vim进行go 开发"},{name:"keywords",content:"IDE go vim 开发工具"},{name:"image",content:'https://www.yangxiaokang.com/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.assets/image-20220816103617118.png "securecrt"'},{name:"twitter:title",content:"打造自己的vim golang IDE"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:'https://www.yangxiaokang.com/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.assets/image-20220816103617118.png "securecrt"'},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/toolplatform/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.html"},{property:"og:type",content:"article"},{property:"og:title",content:"打造自己的vim golang IDE"},{property:"og:description",content:""},{property:"og:image",content:'https://www.yangxiaokang.com/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.assets/image-20220816103617118.png "securecrt"'},{property:"og:url",content:"https://www.yangxiaokang.com/article/toolplatform/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2020-3-1"},{property:"article:tag",content:"vim"},{property:"article:tag",content:"go"},{property:"article:tag",content:"IDE"},{itemprop:"name",content:"打造自己的vim golang IDE"},{itemprop:"description",content:""},{itemprop:"image",content:'https://www.yangxiaokang.com/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.assets/image-20220816103617118.png "securecrt"'}],feed:{enable:!0},permalink:"/article/toolplatform/vim-go-ide.html",summary:"不满足公司和家里两个开发环境，总是忘记提交代码回到家无法继续coding？又或是更换电脑要重新搭建本地开发环境！可以试试vim ide，无论走在哪里，都能随时随地开发，不用担心代码忘记提交，也不用担心更换电脑环境要重新搭建。",description:""},regularPath:"/article/toolplatform/vim-go%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE.html",relativePath:"article/toolplatform/vim-go插件配置.md",key:"v-4532a315",path:"/article/toolplatform/vim-go-ide.html",headers:[{level:3,title:"前提条件",slug:"前提条件",normalizedTitle:"前提条件",charIndex:2},{level:3,title:"一、安装vundle",slug:"一、安装vundle",normalizedTitle:"一、安装vundle",charIndex:376},{level:3,title:"二、安装vim-go",slug:"二、安装vim-go",normalizedTitle:"二、安装vim-go",charIndex:741},{level:3,title:"三、安装 go.tools Binaries",slug:"三、安装-go-tools-binaries",normalizedTitle:"三、安装 go.tools binaries",charIndex:1054},{level:3,title:"四、安装ycm",slug:"四、安装ycm",normalizedTitle:"四、安装ycm",charIndex:1525},{level:3,title:"五、配置vim颜色",slug:"五、配置vim颜色",normalizedTitle:"五、配置vim颜色",charIndex:2911},{level:3,title:"六、插件",slug:"六、插件",normalizedTitle:"六、插件",charIndex:4214},{level:3,title:"七、个性化配置",slug:"七、个性化配置",normalizedTitle:"七、个性化配置",charIndex:7471},{level:3,title:"八、问题排查",slug:"八、问题排查",normalizedTitle:"八、问题排查",charIndex:8278},{level:3,title:"附录",slug:"附录",normalizedTitle:"附录",charIndex:8397},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:12231}],headersStr:"前提条件 一、安装vundle 二、安装vim-go 三、安装 go.tools Binaries 四、安装ycm 五、配置vim颜色 六、插件 七、个性化配置 八、问题排查 附录 参考",content:"# 前提条件\n\nvim版本在8.1以上(ubuntu 20可以直接执行)，centos需要升级vim版本\n\n# centos配置\n\n1、编译安装vim\n\n#配置python3，ycm默认只支持python3.6+\nyum -y install python3 python3-devel\ngit clone https://github.com/VundleVim/Vundle.vim.git\n\n./configure --enable-python3interp=yes\n\nmake && make install\n如果没有提示ycm必须在python3.6以上版本运行则表示没有问题，如果提示表示vim编译时没有读到python3，大概率时安装python3有问题\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n其他步骤相同,以上完成基本设置\n\n\n# 一、安装vundle\n\n 1. 方式一\n\nmkdir -p ~/.vim/bundle\ncd ~/.vim/bundle\ngit clone https://github.com/VundleVim/Vundle.vim.git\n\n\n1\n2\n3\n\n\nvim ~/.vimrc\n\nset nocompatible\nfiletype off\nset rtp+=~/.vim/bundle/Vundle.vim\ncall vundle#begin()\nPlugin 'gmarik/Vundle.vim'\ncall vundle#end()\nfiletype plugin indent on\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n保存退出\n\n 2. 方式二\n    \n    另一种配置方式，未测试，感兴趣的可以试试那种更方便\n\n\n# 二、安装vim-go\n\ncd ~/.vim/bundle\ngit clone https://github.com/fatih/vim-go.git\n\n\n1\n2\n\n\nvim ~/.vimrc\n\n在call vundle#begin()和call vundle#end()之间再添加如下配置：\n\nPlugin 'fatih/vim-go'\n\n\n1\n\n\n保存后，重新打开 vim 编辑器，在命令行的模式输入：PluginInstall,回车\n\nvim ~/.vimrc\n:PluginInstall\n\n\n1\n2\n\n\n安装完成后左下角会显示DONE\n\n理论上在此完成后+安装gocode就可以通过crtl+o+x进行补全。\n\n\n# 三、安装 go.tools Binaries\n\nvim ~/.vimrc\n:GoInstallBinaries\n\n\n1\n2\n\n\n由于有些命令文件是无法自动安装完成，这就需要手动进行安装啦。首先对比目录，看缺少哪些命令没有安装完成，然后去gitHub上搜索，找到对应的命令源码之后，使用git clone 下载到本地，然后使用 go install命令进行安装即可。前面已经讲解过如何安装啦，这里就不再赘述。\n\n相关工具的gitHub路径：\n\ngolint: https://github.com/golang/lint.git\n\ngocode: https://github.com/nsf/gocode.git\n\nerrcheck: https://github.com/kisielk/errcheck.git\n\ngotags: https://github.com/jstemmer/gotags.git\n\n实测基本只有gocode没下载成功，需要手动下。gocode用来代码补全，实际目前已经可以手动补全，但是没有出现补全。\n\n\n# 四、安装ycm\n\n安装ycm是为了获取实时自动补全，像ide那样。\n\n----------------------------------------\n\n 1. 安装cmake gcc g++\n\nsudo apt-get install cmake gcc g++\n\n没有g++会有以下报错\n\nTell CMake where to find the compiler by setting either the environment variable \"CXX\" or the CMake cache entry CMAKE_CXX_COMPILER to the full path to the compiler, or to the compiler name if it is in the PATH.\n\n 2. 安装python dev，视py版本而定\n\n没有python dev会有以下报错：\n\nERROR: Python headers are missing in /usr/include/python3.8\n\n解决\n\n# sudo apt-get install python3-dev\n\n#如果是centos\n# 安装EPEL源\nyum install epel-release -y\n# 安装python3开发包，具体看python版本，如果是3.6则\nyum install python36-devel -y\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 3. 获取YCM代码\n\ncd ~/.vim/bundle\n因为ycm 全部下载有200多M，github很慢，失败率极高，建议用脚本慢慢下,或者通过国内镜像网站\n#!/bin/bash\n\nwhile true\ndo\ngit clone --recursive https://github.com/Valloric/YouCompleteMe.git\nif [ $? -ne 0 ];then\n    echo 下载失败\nelse\n    echo 下载成功\n    exit 0\nfi\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 4. 编辑.vimrc\n\ncall vundle#rc()\nPlugin 'Valloric/YouCompleteMe'\nfiletype plugin indent on     \" required!\nlet g:ycm_global_ycm_extra_conf='~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'\n\n\n1\n2\n3\n4\n\n\n在*.vimrc中添加如下内容**，位置在* call vundle#begin() 和 call vundle#end() 之间。\n\nBundle 'Valloric/YouCompleteMe' 或Plugin 'Valloric/YouCompleteMe'\n\n 5. 安装ycm\n\nvim ~/.vimrc\n:BundleInstall\n\n\n1\n2\n\n 6. 安装golang自动补全\n\n./install.py --gocode-completer\n\n\n1\n\n\n\n# 五、配置vim颜色\n\n新老方案建议选择新方案\n\n# 👉最新配色方案😊\n\n前提条件：securecrt 9.x版本\n\n 1. 下载主题\n    \n    cd ~/.vim\n    git clone https://gitee.com/wu_mang/vim-one.git\n    mkdir ~/.vim/colors\n    cp vim-one/colors/one.vim colors/\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. 配置.vimrc\n    \n    vim .vimrc\n    \"配色开关\n    syntax on\n    \" 开启24bit的颜色，开启这个颜色会更漂亮一些，真彩色\n    set termguicolors\n    \" 配色方案, 可以从上面插件安装中的选择一个使用\n    \n    \n    colorscheme one\" 选择”one“主题\n    let g:airline_theme='one'\n    let g:one_allow_italics = 1 \n    set background=dark \" 主题背景 dark-深色; light-浅色\n    \"设置颜色\n    set t_Co=256\n    let g:rehash256 = 1 \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 3. 修改环境变量\n    \n    vim ~/.bash_profile \n     export TERM=xterm-color\n    \n    \n    1\n    2\n    \n\n 4. 配置securecrt\n    \n    Options-session-options-terminal-Emulation\n    \n    \n    \n    Options-session-options-Appearance\n    \n    \n\n# 👉老配色方案😊\n\n1、下载主题\n\ncd ~/.vim\ngit clone https://github.com/tomasr/molokai.git\nmkdir ~/.vim/colors\ncp molokai/colors/molokai.vim ~/.vim/colors\n\n\n1\n2\n3\n4\n\n\n2、配置.vimrc\n\nvim ~/.vimrc\nsyntax on\nset t_Co=256\ncolorscheme molokai\nlet g:molokai_original = 1\nlet g:rehash256 = 1\n\n\n1\n2\n3\n4\n5\n6\n\n\n3、修改环境变量\n\n ~/.bash_profile \n export TERM=xterm-color\n\n\n1\n2\n\n\n4、secure_crt设置\n\n\n\n\n\n\n# 六、插件\n\n> 理论上以上配置可以进行go开发工作了，但如果要把vim打造成一个IDE呢？\n> \n> 那就继续配置吧！\n\n 1. nerdtree 目录树\n\n按F7 打开/关闭目录树(快捷键自己随便定义)\n\nVim ~/.vimrc\ncall vundle#begin()\n\nPlugin 'scrooloose/nerdtree'\n\ncall vundle#end()\n#安装目录树插件映射，F7打开/关闭目录树\nmap <F7> :NERDTreeMirror<CR>\nmap <F7> :NERDTreeToggle<CR>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n执行:PluginInstall\n\n 2. 缩略图tagbar\n\n效果类似是vscode右侧缩小显示\n\nVim ~/.vimrc\ncall vundle#begin()\n\nPlugin 'majutsushi/tagbar'\n\ncall vundle#end()\n#安装目录树插件映射，F8打开/关闭缩略图\nnmap <F8> :TagbarToggle<CR>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n执行:PluginInstall\n\n 3. 函数跳转\n\n光标在某变量或函数上，输入gd跳转。ctrl+o返回\n\nyum -y install ctags\ngo get -u github.com/jstemmer/gotags\nvim ~/.vimrc //添加如下内容,需要删除空行\nlet g:tagbar_type_go = {\n    \\ 'ctagstype' : 'go',\n    \\ 'kinds'     : [\n        \\ 'p:package',\n        \\ 'i:imports:1',\n        \\ 'c:constants',\n        \\ 'v:variables',\n        \\ 't:types',\n        \\ 'n:interfaces',\n        \\ 'w:fields',\n        \\ 'e:embedded',\n        \\ 'm:methods',\n        \\ 'r:constructor',\n        \\ 'f:functions'\n    \\ ],\n    \\ 'sro' : '.',\n    \\ 'kind2scope' : {\n        \\ 't' : 'ctype',\n        \\ 'n' : 'ntype'\n    \\ },\n    \\ 'scope2kind' : {\n        \\ 'ctype' : 't',\n        \\ 'ntype' : 'n'\n    \\ },\n    \\ 'ctagsbin'  : 'gotags',\n    \\ 'ctagsargs' : '-sort -silent'\n\\ }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n 4. 成对符号补全\n\n比如() [] {}\n\nVim ~/.vimrc\ncall vundle#begin()\n\nPlugin 'Raimondi/delimitMate'\n或Plugin 'jiangmiao/auto-pairs'\n\ncall vundle#end()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n推荐auto-pairs\n\n执行:PluginInstall\n\n另一种方式，优点是{}会自动空行,两者可以结合使用效果如下\n\n\n\nVim ~/.vimrc\ninoremap ' ''<ESC>i\ninoremap \" \"\"<ESC>i\ninoremap ( ()<ESC>i\ninoremap [ []<ESC>i\ninoremap { {<CR>}<ESC>O\n\n\n1\n2\n3\n4\n5\n6\n\n\n缺点是，换行可能会造成vim崩溃\n\n 5. 添加头部注释\n\n需要自己定义模板文件，并且总是出现vim-go自动添加的package等信息下面\n\nPlugin 'aperezdc/vim-template'\n\n\n1\n\n\n执行:PluginInstall\n\n模板信息\n\nvim ~/.vim/bundle/vim-template/templates\n/*\n@Time : %YEAR%/%MONTH%/%DAY% \n@Author : zicheqingluo\n@File : %FFILE%\n*/\n\n%HERE%\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 6. 高亮单词 mark.vim\n\n下载解压1\n\n下载解压2\n\n1、两个压缩包都执行以下操作：\ngzip -d mark.xxx.gz\nvim 打开解压后的文件\n输入 :so %\n2、添加快捷键\nvim ~/.vimrc\nnmap ml <Plug>MarkSet #高亮或反高亮一个单词  \nnmap md <Plug>MarkClear\nnmap mn <Plug>MarkSearchAnyNext #跳转到任一下一个高亮单词  \nnmap mp <Plug>MarkSearchAnyPrev\nnmap mf <Plug>MarkSearchCurrentNext #跳转到当前高亮的下一个单词  \nnmap mb <Plug>MarkSearchCurrentPrev \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 7. 安装ACK 全局查找\n\nyum install epel-release -y\nyum install ack -y\nvim ~/.vimrc\ncall vundle#begin()\nPlugin 'mileszs/ack.vim'\ncall vundle#end()\n保存退出\n执行vim\n执行PluginInstall\nvim ~/.vimrc\nmap <F4> :Ack<CR>\n报存退出，光标在函数或变量上F4即可。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 8. 配置代码折叠\n\nvim ~/.vimrc\n\" 代码折叠\nset fdm=indent\n\" vim-go 代码折叠解决保存不显示折叠问题\nlet g:go_fmt_experimental = 1 \n\" 映射到快捷键\nmap <F3> zc<CR>\nmap <F4> zo<CR>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。\n\n在可折叠处（大括号中间）：\n\nzc      折叠\nzC     对所在范围内所有嵌套的折叠点进行折叠\nzo      展开折叠\nzO     对所在范围内所有嵌套的折叠点展开\n[z       到当前打开的折叠的开始处。\n]z       到当前打开的折叠的末尾处。\nzj       向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。\nzk      向上移动到前一折叠的结束处。关闭的折叠也被计入。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n 9. 辅助插件\n    \n     \"解决nerdtree不共享问题\n     Plugin 'jistr/vim-nerdtree-tabs'\n     \n     \"代码补全提示\n      Plugin 'Shougo/neocomplcache.vim'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# 七、个性化配置\n\nvim ~/.vimrc\n\n\"--------------------------------额外的配置\n\"自动缩进\nset autoindent\n\"显示行号\nset number\n\"暂时没用到\n\"let g:go_disable_autoinstall = 0\n\"解决使用自动缩进后退格键不能使用的问题\nset backspace=indent,eol,start\n\"tab宽度\nset ts=4\n\"把插入的tab换成空格，解决python问题\nset expandtab\n\"自动缩进时,缩进长度为4\nset shiftwidth=4\n\"手动tab缩进时，保持和shiftwidth长度一致\nset softtabstop=-1\n\"关闭预览窗口\nset completeopt-=preview\n\n\"//在系统启动时候启动neocomplcache 代码补全\nlet g:neocomplcache_enable_at_startup = 1\n\"//提示的时候选择第一个\nlet g:neocomplcache_enable_auto_select = 1\n\n\n\"go语言 配置\nlet g:go_highlight_functions = 1\nlet g:go_highlight_methods = 1\nlet g:go_highlight_structs = 1\nlet g:go_highlight_operators = 1\nlet g:go_highlight_build_constraints = 1\nlet g:go_fmt_command = \"goimports\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 八、问题排查\n\n * vundle安装插件报错，如图：\n   \n   \n\n报错原因\n\n这其中，有 Vundle 版本的差别，旧版配置：vundle#rc()、Bundle。 新版配置：vundle#begin()、Plugin。\n\n\n# 附录\n\n.vimrc完整配置,包括上面所有配置+修改tab为4个空格等兼容设置\n\n\"配置vundle\nset nocompatible\nfiletype off\nset rtp+=~/.vim/bundle/Vundle.vim\n\"自动识别文件类型、用文件类型plugin脚本、使用缩进定义文件\nfiletype plugin indent on \n\n\n\n\" YCM配置\n\"call vundle#rc()\nfiletype plugin indent on     \" required!\nlet g:ycm_global_ycm_extra_conf='~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'\n\n\n\"vim插件----------------------------------------\n\ncall vundle#begin()\n\n\"vim bundle管理\n\"Plugin 'gmarik/Vundle.vim'\n\n\"vim go插件\nPlugin 'fatih/vim-go'\n\n\"ycm \nPlugin 'Valloric/YouCompleteMe'\n\n\"nerdtree 目录树\nPlugin 'scrooloose/nerdtree'\n\n\"缩略图 类似vscode右边那栏\nPlugin 'majutsushi/tagbar'\n\n\"成对符号补全\nPlugin 'Raimondi/delimitMate'\n\n\"代码模板\nPlugin 'aperezdc/vim-template'\n\n\"ACK全文搜索\nPlugin 'mileszs/ack.vim'\n\n\"解决nerdtree不共享问题\nPlugin 'jistr/vim-nerdtree-tabs' \n\n\"代码补全提示\nPlugin 'Shougo/neocomplcache.vim'\n\n\"代码主题配色\nPlugin 'morhetz/gruvbox'\n\n\" colorscheme one 配色主题\nPlugin 'rakr/vim-one'\n\"其他主题\n\" colorscheme neodark\n\"\"Plugin 'KeitaNakamura/neodark.vim'\n\" colorscheme monokai\n\"\"Plugin 'crusoexia/vim-monokai'\n\" colorscheme github:PluginInstall\n\"\"Plugin 'acarapetis/vim-colors-github'\n\ncall vundle#end()\n\n\"开启颜色\nsyntax on\n\" 开启24bit的颜色，开启这个颜色会更漂亮一些\nset termguicolors\n\" 配色方案, 可以从上面插件安装中的选择一个使用\ncolorscheme one\nlet g:airline_theme='one'\nlet g:one_allow_italics = 1\nset background=dark \" 主题背景 dark-深色; light-浅色\n\n\"设置颜色\nset t_Co=256\nlet g:rehash256 = 1\n\n\"ACK全文搜索\nmap <F5> :Ack<CR>\n\"go import\nmap <F6> :GoImports<CR>\n\n\"目录树快捷键映射\nmap <F7> :NERDTreeMirror<CR>\nmap <F7> :NERDTreeToggle<CR>\n\n\"缩略图快捷键\nnmap <F8> :TagbarToggle<CR>\n\n\"高亮单词\nnmap ml <Plug>MarkSet \nnmap md <Plug>MarkClear\nnmap mn <Plug>MarkSearchAnyNext \nnmap mp <Plug>MarkSearchAnyPrev\nnmap mf <Plug>MarkSearchCurrentNext\nnmap mb <Plug>MarkSearchCurrentPrev \n\n\"代码折叠,开启后默认折叠\n\"set fdm=indent\n\" vim-go 代码折叠解决保存不显示折叠问题\n\"let g:go_fmt_experimental = 1 \n\" 映射到快捷键\nmap <F3> zc<CR>\nmap <F4> zo<CR>\n\n\n\n\"函数跳转\nlet g:tagbar_type_go = {\n    \\ 'ctagstype' : 'go',\n    \\ 'kinds'     : [\n        \\ 'p:package',\n        \\ 'i:imports:1',\n        \\ 'c:constants',\n        \\ 'v:variables',\n        \\ 't:types',\n        \\ 'n:interfaces',\n        \\ 'w:fields',\n        \\ 'e:embedded',\n        \\ 'm:methods',\n        \\ 'r:constructor',\n        \\ 'f:functions'\n    \\ ],\n    \\ 'sro' : '.',\n    \\ 'kind2scope' : {\n        \\ 't' : 'ctype',\n        \\ 'n' : 'ntype'\n    \\ },\n    \\ 'scope2kind' : {\n        \\ 'ctype' : 't',\n        \\ 'ntype' : 'n'\n    \\ },\n    \\ 'ctagsbin'  : 'gotags',\n    \\ 'ctagsargs' : '-sort -silent'\n\\ }\n\n\"--------------------------------额外的配置\n\"自动缩进\nset autoindent\n\"显示行号\nset number\n\"禁止自动下载\n\"let g:go_disable_autoinstall = 0\n\"解决使用自动缩进后退格键不能使用的问题\nset backspace=indent,eol,start\n\"tab宽度\nset ts=4\n\"把插入的tab换成空格，解决python问题\nset expandtab\n\"自动缩进时,缩进长度为4\nset shiftwidth=4\n\"手动tab缩进时，保持和shiftwidth长度一致\nset softtabstop=-1\n\"关闭预览窗口\nset completeopt-=preview\n\n\"//在系统启动时候启动neocomplcache 代码补全\nlet g:neocomplcache_enable_at_startup = 1\n\"//提示的时候选择第一个\nlet g:neocomplcache_enable_auto_select = 1\n\n\n\"go语言 配置\nlet g:go_highlight_functions = 1\nlet g:go_highlight_methods = 1\nlet g:go_highlight_structs = 1\nlet g:go_highlight_operators = 1\nlet g:go_highlight_build_constraints = 1\nlet g:go_fmt_command = \"goimports\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n\n\n效果图\n\n\n\n打出fmt.pr 自动提示，无需任何快捷键，没有ycm需要用快捷键crtl+o+x,不知为何没出提示，ycm安装好可自动补全。\n\n以上就是全部的配置了，如果有没讲到的实用配置，请在评论区留言！\n\n\n# 参考\n\n * [1] 第一、二、三、五\n\n * [2] 第四下载ycm，方法不通效果一样\n\n * [3] 第四,配置.vimrc\n\n * [4] 第四,安装ycm\n\n * [5] 另一种安装方法不同于ycm，未测试\n\n * [6] 插件安装参考\n\n * [7] 新版配色方案\n\n * [8] 代码折叠\n\n * [9] 解决vim退格键失败\n\n * [10] vim技巧：详解tabstop、softtabstop、expandtab三个选项的区别",normalizedContent:"# 前提条件\n\nvim版本在8.1以上(ubuntu 20可以直接执行)，centos需要升级vim版本\n\n# centos配置\n\n1、编译安装vim\n\n#配置python3，ycm默认只支持python3.6+\nyum -y install python3 python3-devel\ngit clone https://github.com/vundlevim/vundle.vim.git\n\n./configure --enable-python3interp=yes\n\nmake && make install\n如果没有提示ycm必须在python3.6以上版本运行则表示没有问题，如果提示表示vim编译时没有读到python3，大概率时安装python3有问题\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n其他步骤相同,以上完成基本设置\n\n\n# 一、安装vundle\n\n 1. 方式一\n\nmkdir -p ~/.vim/bundle\ncd ~/.vim/bundle\ngit clone https://github.com/vundlevim/vundle.vim.git\n\n\n1\n2\n3\n\n\nvim ~/.vimrc\n\nset nocompatible\nfiletype off\nset rtp+=~/.vim/bundle/vundle.vim\ncall vundle#begin()\nplugin 'gmarik/vundle.vim'\ncall vundle#end()\nfiletype plugin indent on\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n保存退出\n\n 2. 方式二\n    \n    另一种配置方式，未测试，感兴趣的可以试试那种更方便\n\n\n# 二、安装vim-go\n\ncd ~/.vim/bundle\ngit clone https://github.com/fatih/vim-go.git\n\n\n1\n2\n\n\nvim ~/.vimrc\n\n在call vundle#begin()和call vundle#end()之间再添加如下配置：\n\nplugin 'fatih/vim-go'\n\n\n1\n\n\n保存后，重新打开 vim 编辑器，在命令行的模式输入：plugininstall,回车\n\nvim ~/.vimrc\n:plugininstall\n\n\n1\n2\n\n\n安装完成后左下角会显示done\n\n理论上在此完成后+安装gocode就可以通过crtl+o+x进行补全。\n\n\n# 三、安装 go.tools binaries\n\nvim ~/.vimrc\n:goinstallbinaries\n\n\n1\n2\n\n\n由于有些命令文件是无法自动安装完成，这就需要手动进行安装啦。首先对比目录，看缺少哪些命令没有安装完成，然后去github上搜索，找到对应的命令源码之后，使用git clone 下载到本地，然后使用 go install命令进行安装即可。前面已经讲解过如何安装啦，这里就不再赘述。\n\n相关工具的github路径：\n\ngolint: https://github.com/golang/lint.git\n\ngocode: https://github.com/nsf/gocode.git\n\nerrcheck: https://github.com/kisielk/errcheck.git\n\ngotags: https://github.com/jstemmer/gotags.git\n\n实测基本只有gocode没下载成功，需要手动下。gocode用来代码补全，实际目前已经可以手动补全，但是没有出现补全。\n\n\n# 四、安装ycm\n\n安装ycm是为了获取实时自动补全，像ide那样。\n\n----------------------------------------\n\n 1. 安装cmake gcc g++\n\nsudo apt-get install cmake gcc g++\n\n没有g++会有以下报错\n\ntell cmake where to find the compiler by setting either the environment variable \"cxx\" or the cmake cache entry cmake_cxx_compiler to the full path to the compiler, or to the compiler name if it is in the path.\n\n 2. 安装python dev，视py版本而定\n\n没有python dev会有以下报错：\n\nerror: python headers are missing in /usr/include/python3.8\n\n解决\n\n# sudo apt-get install python3-dev\n\n#如果是centos\n# 安装epel源\nyum install epel-release -y\n# 安装python3开发包，具体看python版本，如果是3.6则\nyum install python36-devel -y\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 3. 获取ycm代码\n\ncd ~/.vim/bundle\n因为ycm 全部下载有200多m，github很慢，失败率极高，建议用脚本慢慢下,或者通过国内镜像网站\n#!/bin/bash\n\nwhile true\ndo\ngit clone --recursive https://github.com/valloric/youcompleteme.git\nif [ $? -ne 0 ];then\n    echo 下载失败\nelse\n    echo 下载成功\n    exit 0\nfi\ndone\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 4. 编辑.vimrc\n\ncall vundle#rc()\nplugin 'valloric/youcompleteme'\nfiletype plugin indent on     \" required!\nlet g:ycm_global_ycm_extra_conf='~/.vim/bundle/youcompleteme/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'\n\n\n1\n2\n3\n4\n\n\n在*.vimrc中添加如下内容**，位置在* call vundle#begin() 和 call vundle#end() 之间。\n\nbundle 'valloric/youcompleteme' 或plugin 'valloric/youcompleteme'\n\n 5. 安装ycm\n\nvim ~/.vimrc\n:bundleinstall\n\n\n1\n2\n\n 6. 安装golang自动补全\n\n./install.py --gocode-completer\n\n\n1\n\n\n\n# 五、配置vim颜色\n\n新老方案建议选择新方案\n\n# 👉最新配色方案😊\n\n前提条件：securecrt 9.x版本\n\n 1. 下载主题\n    \n    cd ~/.vim\n    git clone https://gitee.com/wu_mang/vim-one.git\n    mkdir ~/.vim/colors\n    cp vim-one/colors/one.vim colors/\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 2. 配置.vimrc\n    \n    vim .vimrc\n    \"配色开关\n    syntax on\n    \" 开启24bit的颜色，开启这个颜色会更漂亮一些，真彩色\n    set termguicolors\n    \" 配色方案, 可以从上面插件安装中的选择一个使用\n    \n    \n    colorscheme one\" 选择”one“主题\n    let g:airline_theme='one'\n    let g:one_allow_italics = 1 \n    set background=dark \" 主题背景 dark-深色; light-浅色\n    \"设置颜色\n    set t_co=256\n    let g:rehash256 = 1 \n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    \n\n 3. 修改环境变量\n    \n    vim ~/.bash_profile \n     export term=xterm-color\n    \n    \n    1\n    2\n    \n\n 4. 配置securecrt\n    \n    options-session-options-terminal-emulation\n    \n    \n    \n    options-session-options-appearance\n    \n    \n\n# 👉老配色方案😊\n\n1、下载主题\n\ncd ~/.vim\ngit clone https://github.com/tomasr/molokai.git\nmkdir ~/.vim/colors\ncp molokai/colors/molokai.vim ~/.vim/colors\n\n\n1\n2\n3\n4\n\n\n2、配置.vimrc\n\nvim ~/.vimrc\nsyntax on\nset t_co=256\ncolorscheme molokai\nlet g:molokai_original = 1\nlet g:rehash256 = 1\n\n\n1\n2\n3\n4\n5\n6\n\n\n3、修改环境变量\n\n ~/.bash_profile \n export term=xterm-color\n\n\n1\n2\n\n\n4、secure_crt设置\n\n\n\n\n\n\n# 六、插件\n\n> 理论上以上配置可以进行go开发工作了，但如果要把vim打造成一个ide呢？\n> \n> 那就继续配置吧！\n\n 1. nerdtree 目录树\n\n按f7 打开/关闭目录树(快捷键自己随便定义)\n\nvim ~/.vimrc\ncall vundle#begin()\n\nplugin 'scrooloose/nerdtree'\n\ncall vundle#end()\n#安装目录树插件映射，f7打开/关闭目录树\nmap <f7> :nerdtreemirror<cr>\nmap <f7> :nerdtreetoggle<cr>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n执行:plugininstall\n\n 2. 缩略图tagbar\n\n效果类似是vscode右侧缩小显示\n\nvim ~/.vimrc\ncall vundle#begin()\n\nplugin 'majutsushi/tagbar'\n\ncall vundle#end()\n#安装目录树插件映射，f8打开/关闭缩略图\nnmap <f8> :tagbartoggle<cr>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n执行:plugininstall\n\n 3. 函数跳转\n\n光标在某变量或函数上，输入gd跳转。ctrl+o返回\n\nyum -y install ctags\ngo get -u github.com/jstemmer/gotags\nvim ~/.vimrc //添加如下内容,需要删除空行\nlet g:tagbar_type_go = {\n    \\ 'ctagstype' : 'go',\n    \\ 'kinds'     : [\n        \\ 'p:package',\n        \\ 'i:imports:1',\n        \\ 'c:constants',\n        \\ 'v:variables',\n        \\ 't:types',\n        \\ 'n:interfaces',\n        \\ 'w:fields',\n        \\ 'e:embedded',\n        \\ 'm:methods',\n        \\ 'r:constructor',\n        \\ 'f:functions'\n    \\ ],\n    \\ 'sro' : '.',\n    \\ 'kind2scope' : {\n        \\ 't' : 'ctype',\n        \\ 'n' : 'ntype'\n    \\ },\n    \\ 'scope2kind' : {\n        \\ 'ctype' : 't',\n        \\ 'ntype' : 'n'\n    \\ },\n    \\ 'ctagsbin'  : 'gotags',\n    \\ 'ctagsargs' : '-sort -silent'\n\\ }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n 4. 成对符号补全\n\n比如() [] {}\n\nvim ~/.vimrc\ncall vundle#begin()\n\nplugin 'raimondi/delimitmate'\n或plugin 'jiangmiao/auto-pairs'\n\ncall vundle#end()\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n推荐auto-pairs\n\n执行:plugininstall\n\n另一种方式，优点是{}会自动空行,两者可以结合使用效果如下\n\n\n\nvim ~/.vimrc\ninoremap ' ''<esc>i\ninoremap \" \"\"<esc>i\ninoremap ( ()<esc>i\ninoremap [ []<esc>i\ninoremap { {<cr>}<esc>o\n\n\n1\n2\n3\n4\n5\n6\n\n\n缺点是，换行可能会造成vim崩溃\n\n 5. 添加头部注释\n\n需要自己定义模板文件，并且总是出现vim-go自动添加的package等信息下面\n\nplugin 'aperezdc/vim-template'\n\n\n1\n\n\n执行:plugininstall\n\n模板信息\n\nvim ~/.vim/bundle/vim-template/templates\n/*\n@time : %year%/%month%/%day% \n@author : zicheqingluo\n@file : %ffile%\n*/\n\n%here%\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 6. 高亮单词 mark.vim\n\n下载解压1\n\n下载解压2\n\n1、两个压缩包都执行以下操作：\ngzip -d mark.xxx.gz\nvim 打开解压后的文件\n输入 :so %\n2、添加快捷键\nvim ~/.vimrc\nnmap ml <plug>markset #高亮或反高亮一个单词  \nnmap md <plug>markclear\nnmap mn <plug>marksearchanynext #跳转到任一下一个高亮单词  \nnmap mp <plug>marksearchanyprev\nnmap mf <plug>marksearchcurrentnext #跳转到当前高亮的下一个单词  \nnmap mb <plug>marksearchcurrentprev \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 7. 安装ack 全局查找\n\nyum install epel-release -y\nyum install ack -y\nvim ~/.vimrc\ncall vundle#begin()\nplugin 'mileszs/ack.vim'\ncall vundle#end()\n保存退出\n执行vim\n执行plugininstall\nvim ~/.vimrc\nmap <f4> :ack<cr>\n报存退出，光标在函数或变量上f4即可。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 8. 配置代码折叠\n\nvim ~/.vimrc\n\" 代码折叠\nset fdm=indent\n\" vim-go 代码折叠解决保存不显示折叠问题\nlet g:go_fmt_experimental = 1 \n\" 映射到快捷键\nmap <f3> zc<cr>\nmap <f4> zo<cr>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。\n\n在可折叠处（大括号中间）：\n\nzc      折叠\nzc     对所在范围内所有嵌套的折叠点进行折叠\nzo      展开折叠\nzo     对所在范围内所有嵌套的折叠点展开\n[z       到当前打开的折叠的开始处。\n]z       到当前打开的折叠的末尾处。\nzj       向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。\nzk      向上移动到前一折叠的结束处。关闭的折叠也被计入。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n 9. 辅助插件\n    \n     \"解决nerdtree不共享问题\n     plugin 'jistr/vim-nerdtree-tabs'\n     \n     \"代码补全提示\n      plugin 'shougo/neocomplcache.vim'\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n\n# 七、个性化配置\n\nvim ~/.vimrc\n\n\"--------------------------------额外的配置\n\"自动缩进\nset autoindent\n\"显示行号\nset number\n\"暂时没用到\n\"let g:go_disable_autoinstall = 0\n\"解决使用自动缩进后退格键不能使用的问题\nset backspace=indent,eol,start\n\"tab宽度\nset ts=4\n\"把插入的tab换成空格，解决python问题\nset expandtab\n\"自动缩进时,缩进长度为4\nset shiftwidth=4\n\"手动tab缩进时，保持和shiftwidth长度一致\nset softtabstop=-1\n\"关闭预览窗口\nset completeopt-=preview\n\n\"//在系统启动时候启动neocomplcache 代码补全\nlet g:neocomplcache_enable_at_startup = 1\n\"//提示的时候选择第一个\nlet g:neocomplcache_enable_auto_select = 1\n\n\n\"go语言 配置\nlet g:go_highlight_functions = 1\nlet g:go_highlight_methods = 1\nlet g:go_highlight_structs = 1\nlet g:go_highlight_operators = 1\nlet g:go_highlight_build_constraints = 1\nlet g:go_fmt_command = \"goimports\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 八、问题排查\n\n * vundle安装插件报错，如图：\n   \n   \n\n报错原因\n\n这其中，有 vundle 版本的差别，旧版配置：vundle#rc()、bundle。 新版配置：vundle#begin()、plugin。\n\n\n# 附录\n\n.vimrc完整配置,包括上面所有配置+修改tab为4个空格等兼容设置\n\n\"配置vundle\nset nocompatible\nfiletype off\nset rtp+=~/.vim/bundle/vundle.vim\n\"自动识别文件类型、用文件类型plugin脚本、使用缩进定义文件\nfiletype plugin indent on \n\n\n\n\" ycm配置\n\"call vundle#rc()\nfiletype plugin indent on     \" required!\nlet g:ycm_global_ycm_extra_conf='~/.vim/bundle/youcompleteme/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'\n\n\n\"vim插件----------------------------------------\n\ncall vundle#begin()\n\n\"vim bundle管理\n\"plugin 'gmarik/vundle.vim'\n\n\"vim go插件\nplugin 'fatih/vim-go'\n\n\"ycm \nplugin 'valloric/youcompleteme'\n\n\"nerdtree 目录树\nplugin 'scrooloose/nerdtree'\n\n\"缩略图 类似vscode右边那栏\nplugin 'majutsushi/tagbar'\n\n\"成对符号补全\nplugin 'raimondi/delimitmate'\n\n\"代码模板\nplugin 'aperezdc/vim-template'\n\n\"ack全文搜索\nplugin 'mileszs/ack.vim'\n\n\"解决nerdtree不共享问题\nplugin 'jistr/vim-nerdtree-tabs' \n\n\"代码补全提示\nplugin 'shougo/neocomplcache.vim'\n\n\"代码主题配色\nplugin 'morhetz/gruvbox'\n\n\" colorscheme one 配色主题\nplugin 'rakr/vim-one'\n\"其他主题\n\" colorscheme neodark\n\"\"plugin 'keitanakamura/neodark.vim'\n\" colorscheme monokai\n\"\"plugin 'crusoexia/vim-monokai'\n\" colorscheme github:plugininstall\n\"\"plugin 'acarapetis/vim-colors-github'\n\ncall vundle#end()\n\n\"开启颜色\nsyntax on\n\" 开启24bit的颜色，开启这个颜色会更漂亮一些\nset termguicolors\n\" 配色方案, 可以从上面插件安装中的选择一个使用\ncolorscheme one\nlet g:airline_theme='one'\nlet g:one_allow_italics = 1\nset background=dark \" 主题背景 dark-深色; light-浅色\n\n\"设置颜色\nset t_co=256\nlet g:rehash256 = 1\n\n\"ack全文搜索\nmap <f5> :ack<cr>\n\"go import\nmap <f6> :goimports<cr>\n\n\"目录树快捷键映射\nmap <f7> :nerdtreemirror<cr>\nmap <f7> :nerdtreetoggle<cr>\n\n\"缩略图快捷键\nnmap <f8> :tagbartoggle<cr>\n\n\"高亮单词\nnmap ml <plug>markset \nnmap md <plug>markclear\nnmap mn <plug>marksearchanynext \nnmap mp <plug>marksearchanyprev\nnmap mf <plug>marksearchcurrentnext\nnmap mb <plug>marksearchcurrentprev \n\n\"代码折叠,开启后默认折叠\n\"set fdm=indent\n\" vim-go 代码折叠解决保存不显示折叠问题\n\"let g:go_fmt_experimental = 1 \n\" 映射到快捷键\nmap <f3> zc<cr>\nmap <f4> zo<cr>\n\n\n\n\"函数跳转\nlet g:tagbar_type_go = {\n    \\ 'ctagstype' : 'go',\n    \\ 'kinds'     : [\n        \\ 'p:package',\n        \\ 'i:imports:1',\n        \\ 'c:constants',\n        \\ 'v:variables',\n        \\ 't:types',\n        \\ 'n:interfaces',\n        \\ 'w:fields',\n        \\ 'e:embedded',\n        \\ 'm:methods',\n        \\ 'r:constructor',\n        \\ 'f:functions'\n    \\ ],\n    \\ 'sro' : '.',\n    \\ 'kind2scope' : {\n        \\ 't' : 'ctype',\n        \\ 'n' : 'ntype'\n    \\ },\n    \\ 'scope2kind' : {\n        \\ 'ctype' : 't',\n        \\ 'ntype' : 'n'\n    \\ },\n    \\ 'ctagsbin'  : 'gotags',\n    \\ 'ctagsargs' : '-sort -silent'\n\\ }\n\n\"--------------------------------额外的配置\n\"自动缩进\nset autoindent\n\"显示行号\nset number\n\"禁止自动下载\n\"let g:go_disable_autoinstall = 0\n\"解决使用自动缩进后退格键不能使用的问题\nset backspace=indent,eol,start\n\"tab宽度\nset ts=4\n\"把插入的tab换成空格，解决python问题\nset expandtab\n\"自动缩进时,缩进长度为4\nset shiftwidth=4\n\"手动tab缩进时，保持和shiftwidth长度一致\nset softtabstop=-1\n\"关闭预览窗口\nset completeopt-=preview\n\n\"//在系统启动时候启动neocomplcache 代码补全\nlet g:neocomplcache_enable_at_startup = 1\n\"//提示的时候选择第一个\nlet g:neocomplcache_enable_auto_select = 1\n\n\n\"go语言 配置\nlet g:go_highlight_functions = 1\nlet g:go_highlight_methods = 1\nlet g:go_highlight_structs = 1\nlet g:go_highlight_operators = 1\nlet g:go_highlight_build_constraints = 1\nlet g:go_fmt_command = \"goimports\"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n\n\n效果图\n\n\n\n打出fmt.pr 自动提示，无需任何快捷键，没有ycm需要用快捷键crtl+o+x,不知为何没出提示，ycm安装好可自动补全。\n\n以上就是全部的配置了，如果有没讲到的实用配置，请在评论区留言！\n\n\n# 参考\n\n * [1] 第一、二、三、五\n\n * [2] 第四下载ycm，方法不通效果一样\n\n * [3] 第四,配置.vimrc\n\n * [4] 第四,安装ycm\n\n * [5] 另一种安装方法不同于ycm，未测试\n\n * [6] 插件安装参考\n\n * [7] 新版配色方案\n\n * [8] 代码折叠\n\n * [9] 解决vim退格键失败\n\n * [10] vim技巧：详解tabstop、softtabstop、expandtab三个选项的区别",charsets:{cjk:!0},lastUpdated:"2023/4/7",lastUpdatedTimestamp:1680870253e3},{title:"VUE Study Day05 - 路由",frontmatter:{title:"VUE Study Day05 - 路由",date:"2021-2-9",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第5天 在vue中使用路由"},{name:"keywords",content:"自学 vue router 路由"},{name:"image",content:"https://www.yangxiaokang.com/day05-vue路由.assets/01前端路由.png"},{name:"twitter:title",content:"VUE Study Day05 - 路由"},{name:"twitter:description",content:"查看 {{id}} 号用户信息"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day05-vue路由.assets/01前端路由.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day05-vue%E8%B7%AF%E7%94%B1.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day05 - 路由"},{property:"og:description",content:"查看 {{id}} 号用户信息"},{property:"og:image",content:"https://www.yangxiaokang.com/day05-vue路由.assets/01前端路由.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day05-vue%E8%B7%AF%E7%94%B1.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-9"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day05 - 路由"},{itemprop:"description",content:"查看 {{id}} 号用户信息"},{itemprop:"image",content:"https://www.yangxiaokang.com/day05-vue路由.assets/01前端路由.png"}],feed:{enable:!0},permalink:"/article/vue/studyvueday5.html",summary:"不断学习，不断提升，日拱一卒，学习vue第5天",description:"查看 {{id}} 号用户信息"},regularPath:"/article/vue/day05-vue%E8%B7%AF%E7%94%B1.html",relativePath:"article/vue/day05-vue路由.md",key:"v-00b49c8d",path:"/article/vue/studyvueday5.html",headers:[{level:2,title:"今日目标★",slug:"今日目标★",normalizedTitle:"今日目标★",charIndex:2},{level:2,title:"路由的概念",slug:"路由的概念",normalizedTitle:"路由的概念",charIndex:124},{level:2,title:"前端路由的初体验",slug:"前端路由的初体验",normalizedTitle:"前端路由的初体验",charIndex:416},{level:2,title:"Vue Router",slug:"vue-router",normalizedTitle:"vue router",charIndex:3913},{level:3,title:"Vue Router的使用",slug:"vue-router的使用",normalizedTitle:"vue router的使用",charIndex:4239},{level:3,title:"嵌套路由",slug:"嵌套路由",normalizedTitle:"嵌套路由",charIndex:74},{level:3,title:"动态路由",slug:"动态路由",normalizedTitle:"动态路由",charIndex:79},{level:3,title:"命名路由",slug:"命名路由",normalizedTitle:"命名路由",charIndex:92},{level:3,title:"编程式导航",slug:"编程式导航",normalizedTitle:"编程式导航",charIndex:98},{level:2,title:"每日一练-后台管理💯",slug:"每日一练-后台管理💯",normalizedTitle:"每日一练-后台管理💯",charIndex:9646}],headersStr:"今日目标★ 路由的概念 前端路由的初体验 Vue Router Vue Router的使用 嵌套路由 动态路由 命名路由 编程式导航 每日一练-后台管理💯",content:'# 今日目标★\n\n 1. 能够说出什么是路由\n 2. 能够说出前端路由的实现原理\n 3. 能够使用Vue-Router实现前端路由\n 4. 能够实现嵌套路由，动态路由\n 5. 能够实现命名路由以及编程式导航\n 6. 理解并实现后台管理案例\n\n\n# 路由的概念\n\n路由的本质就是一种对应关系，比如说我们在url地址中输入我们要访问的url地址之后，浏览器要去请求这个url地址对应的资源。 那么url地址和真实的资源之间就有一种对应的关系，就是路由。\n\n路由分为前端路由和后端路由\n\n 1. 后端路由是由服务器端进行实现，并完成资源的分发\n 2. 前端路由是依靠hash值(锚链接)的变化进行实现\n\n后端路由性能相对前端路由来说较低，所以，我们接下来主要学习的是前端路由。\n\n前端路由的基本概念：根据不同的事件来显示不同的页面内容，即事件与事件处理函数之间的对应关系。前端路由主要做的事情就是监听事件并分发执行事件处理函数。\n\n\n# 前端路由的初体验\n\n前端路由是基于hash值的变化进行实现的（比如点击页面中的菜单或者按钮改变URL的hash值，根据hash值的变化来控制组件的切换） 核心实现依靠一个事件，即监听hash值变化的事件\n\nwindow.onhashchange = function(){\n    //location.hash可以获取到最新的hash值\n    location.hash\n}\n\n\n1\n2\n3\n4\n\n\n前端路由实现tab栏切换：\n\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta http-equiv="X-UA-Compatible" content="ie=edge" />\n        <title>Document</title>\n        \x3c!-- 导入 vue 文件 --\x3e\n        <script src="./lib/vue_2.5.22.js"><\/script>\n    </head>\n    <body>\n        \x3c!-- 被 vue 实例控制的 div 区域 --\x3e\n        <div id="app">\n        \x3c!-- 切换组件的超链接 --\x3e\n        <a href="#/zhuye">主页</a> \n        <a href="#/keji">科技</a> \n        <a href="#/caijing">财经</a>\n        <a href="#/yule">娱乐</a>\n\n        \x3c!-- 根据 :is 属性指定的组件名称，把对应的组件渲染到 component 标签所在的位置 --\x3e\n        \x3c!-- 可以把 component 标签当做是【组件的占位符】 --\x3e\n        <component :is="comName"></component>\n        </div>\n\n        <script>\n        // #region 定义需要被切换的 4 个组件\n        // 主页组件\n        const zhuye = {\n            template: \'<h1>主页信息</h1>\'\n        }\n\n        // 科技组件\n        const keji = {\n            template: \'<h1>科技信息</h1>\'\n        }\n\n        // 财经组件\n        const caijing = {\n            template: \'<h1>财经信息</h1>\'\n        }\n\n        // 娱乐组件\n        const yule = {\n            template: \'<h1>娱乐信息</h1>\'\n        }\n        // #endregion\n\n        // #region vue 实例对象\n        const vm = new Vue({\n            el: \'#app\',\n            data: {\n            comName: \'zhuye\'\n            },\n            // 注册私有组件\n            components: {\n            zhuye,\n            keji,\n            caijing,\n            yule\n            }\n        })\n        // #endregion\n\n        // 监听 window 的 onhashchange 事件，根据获取到的最新的 hash 值，切换要显示的组件的名称\n        window.onhashchange = function() {\n            // 通过 location.hash 获取到最新的 hash 值\n            console.log(location.hash);\n            switch(location.hash.slice(1)){\n            case \'/zhuye\':\n                vm.comName = \'zhuye\'\n            break\n            case \'/keji\':\n                vm.comName = \'keji\'\n            break\n            case \'/caijing\':\n                vm.comName = \'caijing\'\n            break\n            case \'/yule\':\n                vm.comName = \'yule\'\n            break\n            }\n        }\n        <\/script>\n    </body>\n    </html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\n案例效果图：\n\n\n\n点击每个超链接之后，会进行相应的内容切换，如下：\n\n\n\n核心思路： 在页面中有一个vue实例对象，vue实例对象中有四个组件，分别是tab栏切换需要显示的组件内容 在页面中有四个超链接，如下：\n\n<a href="#/zhuye">主页</a> \n<a href="#/keji">科技</a> \n<a href="#/caijing">财经</a>\n<a href="#/yule">娱乐</a>\n\n\n1\n2\n3\n4\n\n\n当我们点击这些超链接的时候，就会改变url地址中的hash值，当hash值被改变时，就会触发onhashchange事件 在触发onhashchange事件的时候，我们根据hash值来让不同的组件进行显示：\n\nwindow.onhashchange = function() {\n    // 通过 location.hash 获取到最新的 hash 值\n    console.log(location.hash);\n    switch(location.hash.slice(1)){\n        case \'/zhuye\':\n        //通过更改数据comName来指定显示的组件\n        //因为 <component :is="comName"></component> ，组件已经绑定了comName\n        vm.comName = \'zhuye\'\n        break\n        case \'/keji\':\n        vm.comName = \'keji\'\n        break\n        case \'/caijing\':\n        vm.comName = \'caijing\'\n        break\n        case \'/yule\':\n        vm.comName = \'yule\'\n        break\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# Vue Router\n\n * 它是一个Vue.js官方提供的路由管理器。是一个功能更加强大的前端路由器，推荐使用。\n * Vue Router和Vue.js非常契合，可以一起方便的实现SPA(single page web application,单页应用程序)应用程序的开发。\n * Vue Router依赖于Vue，所以需要先引入Vue，再引入Vue Router\n\n# Vue Router的特性\n\n 1. 支持H5历史模式或者hash模式\n 2. 支持嵌套路由\n 3. 支持路由参数\n 4. 支持编程式路由\n 5. 支持命名路由\n 6. 支持路由导航守卫\n 7. 支持路由过渡动画特效\n 8. 支持路由懒加载\n 9. 支持路由滚动行为\n\n\n# Vue Router的使用\n\n 1. 导入js文件(可在vue官网下载)\n\n<script src="lib/vue_2.5.22.js"><\/script>\n<script src="lib/vue-router_3.0.2.js"><\/script>\n\n\n1\n2\n\n\n 2. 添加路由链接:<router-link>是路由中提供的标签，默认会被渲染为a标签，to属性默认被渲染为href属性， to属性的值会被渲染为#开头的hash地址\n    \n    <router-link to="/user">User</router-link>\n    <router-link to="/login">Login</router-link>\n    \n    \n    1\n    2\n    \n\n 3. 添加路由填充位（路由占位符）\n    \n    <router-view></router-view>\n    \n    \n    1\n    \n\n 4. 定义路由组件\n    \n    var User = { template:"<div>This is User</div>" }\n    var Login = { template:"<div>This is Login</div>" }\n    \n    \n    1\n    2\n    \n\n 5. 配置路由规则并创建路由实例\n    \n    var myRouter = new VueRouter({\n        //routes是路由规则数组\n        routes:[\n            //每一个路由规则都是一个对象，对象中至少包含path和component两个属性\n            //path表示  路由匹配的hash地址，component表示路由规则对应要展示的组件对象\n            {path:"/user",component:User},\n            {path:"/login",component:Login}\n        ]\n    })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 6. 将路由挂载到Vue实例中\n    \n    new Vue({\n        el:"#app",\n        //通过router属性挂载路由对象\n        router:myRouter\n    })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n小结： Vue Router的使用步骤还是比较清晰的，按照步骤一步一步就能完成路由操作：\n\n 1. 导入js文件\n 2. 添加路由链接\n 3. 添加路由占位符(最后路由展示的组件就会在占位符的位置显示)\n 4. 定义路由组件\n 5. 配置路由规则并创建路由实例\n 6. 将路由挂载到Vue实例中\n\n补充： 路由重定向：可以通过路由重定向为页面设置默认展示的组件 在路由规则中添加一条路由规则即可，如下：\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //path设置为/表示页面最初始的地址 / ,redirect表示要被重定向的新地址，设置为一个路由即可\n        { path:"/",redirect:"/user"},\n        { path: "/user", component: User },\n        { path: "/login", component: Login }\n    ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 嵌套路由\n\n当我们进行路由的时候显示的组件中还有新的子级路由链接以及内容。\n\n嵌套路由最关键的代码在于理解子级路由的概念，比如我们有一个/login的路由,那么/login下面还可以添加子级路由，如:\n\n * /login/account\n * /login/phone\n\n参考代码如下：\n\nvar User = { template: "<div>This is User</div>" }\n//Login组件中的模板代码里面包含了子级路由链接以及子级路由的占位符\n    var Login = { template: `<div>\n        <h1>This is Login</h1>\n        <hr>\n        <router-link to="/login/account">账号密码登录</router-link>\n        <router-link to="/login/phone">扫码登录</router-link>\n        \x3c!-- 子路由组件将会在router-view中显示 --\x3e\n        <router-view></router-view>\n        </div>` }\n\n    //定义两个子级路由组件\n    var account = { template:"<div>账号：<input><br>密码：<input></div>"};\n    var phone = { template:"<h1>扫我二维码</h1>"};\n    var myRouter = new VueRouter({\n        //routes是路由规则数组\n        routes: [\n            { path:"/",redirect:"/user"},\n            { path: "/user", component: User },\n            { \n                path: "/login", \n                component: Login,\n                //通过children属性为/login添加子路由规则\n                children:[\n                    { path: "/login/account", component: account },\n                    { path: "/login/phone", component: phone },\n                ]\n            }\n        ]\n    })\n\n    var vm = new Vue({\n        el: \'#app\',\n        data: {},\n        methods: {},\n        router:myRouter\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n页面效果大致如下：\n\n\n\n\n# 动态路由\n\nvar User = { template:"<div>用户：{{$route.params.id}}</div>"}\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        { path: "/user/:id", component: User },       \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n补充 如果使用$route.params.id来获取路径传参的数据不够灵活。\n\n 1. 我们可以通过props来接收参数\n\nvar User = { \n    props:["id"],\n    template:"<div>用户：{{id}}</div>"\n    }\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为true，route.params将会被设置为组件属性\n        { path: "/user/:id", component: User,props:true },       \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. 还有一种情况，我们可以将props设置为对象，那么就直接将对象的数据传递给组件进行使用\n\nvar User = { \n    props:["username","pwd"],\n    template:"<div>用户：{{username}}---{{pwd}}</div>"\n    }\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为对象，则传递的是对象中的数据给组件\n        { path: "/user/:id", component: User,props:{username:"jack",pwd:123} },\n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 3. 如果想要获取传递的参数值还想要获取传递的对象数据，那么props应该设置为函数形式。\n\nvar User = { \n    props:["username","pwd","id"],\n    template:"<div>用户：{{id}} -> {{username}}---{{pwd}}</div>"\n    }\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为函数，则通过函数的第一个参数获取路由对象\n        //并可以通过路由对象的params属性获取传递的参数\n        //\n        { path: "/user/:id", component: User,props:(route)=>{\n            return {username:"jack",pwd:123,id:route.params.id}\n            } \n        },\n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 命名路由\n\n给路由取别名\n\n案例：\n\nvar myRouter = new VueRouter({\n    //routes是路由规则数组\n    routes: [\n        //通过name属性为路由添加一个别名\n        { path: "/user/:id", component: User, name:"user"},   \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n//添加了别名之后，可以使用别名进行跳转\n<router-link to="/user">User</router-link>\n<router-link :to="{ name:\'user\' , params: {id:123} }">User</router-link>\n\n//还可以编程式导航\nmyRouter.push( { name:\'user\' , params: {id:123} } )\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 编程式导航\n\n页面导航的两种方式：\n\n * 声明式导航：通过点击链接的方式实现的导航\n * 编程式导航：调用js的api方法实现导航\n\nVue-Router中常见的导航方式：\n\nthis.$router.push("hash地址");\nthis.$router.push("/login");\nthis.$router.push({ name:\'user\' , params: {id:123} });\nthis.$router.push({ path:"/login" });\nthis.$router.push({ path:"/login",query:{username:"jack"} });\n\nthis.$router.go( n );//n为数字，参考history.go\nthis.$router.go( -1 );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 每日一练-后台管理💯\n\n案例效果：\n\n\n\n点击左侧的"用户管理","权限管理","商品管理","订单管理","系统设置"都会出现对应的组件并展示内容\n\n其中"用户管理"组件展示的效果如上图所示，在用户管理区域中的详情链接也是可以点击的，点击之后将会显示用户详情信息。\n\n案例思路：\n\n 1. 希望是通过组件的形式展示页面的主体内容，而不是写死页面结构，所以我们可以定义一个根组件：\n\nconst app = {\n    template:`<div>\n        \x3c!-- 头部区域 --\x3e\n        <header class="header">后台管理系统</header>\n        \x3c!-- 中间主体区域 --\x3e\n        <div class="main">\n          \x3c!-- 左侧菜单栏 --\x3e\n          <div class="content left">\n            <ul>\n              <li>用户管理</li>\n              <li>权限管理</li>\n              <li>商品管理</li>\n              <li>订单管理</li>\n              <li>系统设置</li>\n            </ul>\n          </div>\n          \x3c!-- 右侧内容区域 --\x3e\n          <div class="content right">\n            <div class="main-content">添加用户表单</div>\n          </div>\n        </div>\n        \x3c!-- 尾部区域 --\x3e\n        <footer class="footer">版权信息</footer>\n      </div>`\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. 当我们访问页面的时候，默认需要展示刚刚创建的app根组件，我们可以 创建一个路由对象来完成这个事情,然后将路由挂载到Vue实例对象中即可\n\nconst myRouter = new VueRouter({\n    routes:[\n        {path:"/",component:app}\n    ]\n})\n\nconst vm = new Vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myRouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n补充：到此为止，基本的js代码都处理完毕了，我们还需要设置一个路由占位符\n\n<body>\n  <div id="app">\n    <router-view></router-view>\n  </div>\n</body>\n\n\n1\n2\n3\n4\n5\n\n 3. 此时我们打开页面应该就可以得到一个VueRouter路由出来的根组件了 我们需要在这个根组件中继续路由实现其他的功能子组件 先让我们更改根组件中的模板：更改左侧li为子级路由链接，并在右侧内容区域添加子级组件占位符\n\nconst app = {\n    template:`<div>\n        ........\n        <div class="main">\n          \x3c!-- 左侧菜单栏 --\x3e\n          <div class="content left">\n            <ul>\n              \x3c!-- 注意：我们把所有li都修改为了路由链接 --\x3e\n              <li><router-link to="/users">用户管理</router-link></li>\n              <li><router-link to="/accesses">权限管理</router-link></li>\n              <li><router-link to="/goods">商品管理</router-link></li>\n              <li><router-link to="/orders">订单管理</router-link></li>\n              <li><router-link to="/systems">系统设置</router-link></li>\n            </ul>\n          </div>\n          \x3c!-- 右侧内容区域 --\x3e\n          <div class="content right">\n            <div class="main-content">\n                \x3c!-- 在 --\x3e\n                <router-view></router-view> \n            </div>\n          </div>\n        </div>\n        .......\n      </div>`\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 4. 然后，我们要为子级路由创建并设置需要显示的子级组件\n\n//建议创建的组件首字母大写，和其他内容区分\nconst Users = {template:`<div>\n    <h3>用户管理</h3>\n</div>`}\nconst Access = {template:`<div>\n    <h3>权限管理</h3>\n</div>`}\nconst Goods = {template:`<div>\n    <h3>商品管理</h3>\n</div>`}\nconst Orders = {template:`<div>\n    <h3>订单管理</h3>\n</div>`}\nconst Systems = {template:`<div>\n    <h3>系统管理</h3>\n</div>`}\n\n//添加子组件的路由规则\nconst myRouter = new VueRouter({\n    routes:[\n        {path:"/",component:app , children:[\n            { path:"/users",component:Users },\n            { path:"/accesses",component:Access },\n            { path:"/goods",component:Goods },\n            { path:"/orders",component:Orders },\n            { path:"/systems",component:Systems },\n        ]}\n    ]\n})\n\nconst vm = new Vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myRouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n 5. 展示用户信息列表：\n    \n    为Users组件添加私有数据,并在模板中循环展示私有数据\n    \n    const Users = {\n        data(){\n            return {\n                userList:[\n                    {id:1,name:"zs",age:18},\n                    {id:2,name:"ls",age:19},\n                    {id:3,name:"wang",age:20},\n                    {id:4,name:"jack",age:21},\n                ]\n            }\n        },\n        template:`<div>\n            <h3>用户管理</h3>\n            <table>\n                <thead>\n                    <tr>\n                        <th>编号</th>\n                        <th>姓名</th>\n                        <th>年龄</th>\n                        <th>操作</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr :key="item.id" v-for="item in userList">\n                        <td>{{item.id}}</td>\n                        <td>{{item.name}}</td>\n                        <td>{{item.age}}</td>\n                        <td><a href="javascript:;">详情</a></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>`}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    \n\n 6. 当用户列表展示完毕之后，我们可以点击列表中的详情来显示用户详情信息，首先我们需要创建一个组件，用来展示详情信息\n\nconst UserInfo = {\n    props:["id"],\n    template:`<div>\n      <h5>用户详情</h5>\n      <p>查看 {{id}} 号用户信息</p>\n      <button @click="goBack">返回用户详情页</button>\n    </div> `,\n    methods:{\n      goBack(){\n        //当用户点击按钮，后退一页\n        this.$router.go(-1);\n      }\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 7. 然后我们需要设置这个组件的路由规则\n\nconst myRouter = new VueRouter({\n    routes:[\n        {path:"/",component:app , children:[\n            { path:"/users",component:Users },\n            //添加一个/userinfo的路由规则\n            { path:"/userinfo/:id",component:UserInfo,props:true},\n            { path:"/accesses",component:Access },\n            { path:"/goods",component:Goods },\n            { path:"/orders",component:Orders },\n            { path:"/systems",component:Systems },\n        ]}\n    ]\n})\n\nconst vm = new Vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myRouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 8. 再接着给用户列表中的详情a连接添加事件\n\nconst Users = {\n    data(){\n        return {\n            userList:[\n                {id:1,name:"zs",age:18},\n                {id:2,name:"ls",age:19},\n                {id:3,name:"wang",age:20},\n                {id:4,name:"jack",age:21},\n            ]\n        }\n    },\n    template:`<div>\n        <h3>用户管理</h3>\n        <table>\n            <thead>\n                <tr>\n                    <th>编号</th>\n                    <th>姓名</th>\n                    <th>年龄</th>\n                    <th>操作</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr :key="item.id" v-for="item in userList">\n                    <td>{{item.id}}</td>\n                    <td>{{item.name}}</td>\n                    <td>{{item.age}}</td>\n                    <td><a href="javascript:;" @click="goDetail(item.id)">详情</a></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>`,\n    methods:{\n        goDetail(id){\n            this.$router.push("/userinfo/"+id);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n',normalizedContent:'# 今日目标★\n\n 1. 能够说出什么是路由\n 2. 能够说出前端路由的实现原理\n 3. 能够使用vue-router实现前端路由\n 4. 能够实现嵌套路由，动态路由\n 5. 能够实现命名路由以及编程式导航\n 6. 理解并实现后台管理案例\n\n\n# 路由的概念\n\n路由的本质就是一种对应关系，比如说我们在url地址中输入我们要访问的url地址之后，浏览器要去请求这个url地址对应的资源。 那么url地址和真实的资源之间就有一种对应的关系，就是路由。\n\n路由分为前端路由和后端路由\n\n 1. 后端路由是由服务器端进行实现，并完成资源的分发\n 2. 前端路由是依靠hash值(锚链接)的变化进行实现\n\n后端路由性能相对前端路由来说较低，所以，我们接下来主要学习的是前端路由。\n\n前端路由的基本概念：根据不同的事件来显示不同的页面内容，即事件与事件处理函数之间的对应关系。前端路由主要做的事情就是监听事件并分发执行事件处理函数。\n\n\n# 前端路由的初体验\n\n前端路由是基于hash值的变化进行实现的（比如点击页面中的菜单或者按钮改变url的hash值，根据hash值的变化来控制组件的切换） 核心实现依靠一个事件，即监听hash值变化的事件\n\nwindow.onhashchange = function(){\n    //location.hash可以获取到最新的hash值\n    location.hash\n}\n\n\n1\n2\n3\n4\n\n\n前端路由实现tab栏切换：\n\n    <!doctype html>\n    <html lang="en">\n    <head>\n        <meta charset="utf-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta http-equiv="x-ua-compatible" content="ie=edge" />\n        <title>document</title>\n        \x3c!-- 导入 vue 文件 --\x3e\n        <script src="./lib/vue_2.5.22.js"><\/script>\n    </head>\n    <body>\n        \x3c!-- 被 vue 实例控制的 div 区域 --\x3e\n        <div id="app">\n        \x3c!-- 切换组件的超链接 --\x3e\n        <a href="#/zhuye">主页</a> \n        <a href="#/keji">科技</a> \n        <a href="#/caijing">财经</a>\n        <a href="#/yule">娱乐</a>\n\n        \x3c!-- 根据 :is 属性指定的组件名称，把对应的组件渲染到 component 标签所在的位置 --\x3e\n        \x3c!-- 可以把 component 标签当做是【组件的占位符】 --\x3e\n        <component :is="comname"></component>\n        </div>\n\n        <script>\n        // #region 定义需要被切换的 4 个组件\n        // 主页组件\n        const zhuye = {\n            template: \'<h1>主页信息</h1>\'\n        }\n\n        // 科技组件\n        const keji = {\n            template: \'<h1>科技信息</h1>\'\n        }\n\n        // 财经组件\n        const caijing = {\n            template: \'<h1>财经信息</h1>\'\n        }\n\n        // 娱乐组件\n        const yule = {\n            template: \'<h1>娱乐信息</h1>\'\n        }\n        // #endregion\n\n        // #region vue 实例对象\n        const vm = new vue({\n            el: \'#app\',\n            data: {\n            comname: \'zhuye\'\n            },\n            // 注册私有组件\n            components: {\n            zhuye,\n            keji,\n            caijing,\n            yule\n            }\n        })\n        // #endregion\n\n        // 监听 window 的 onhashchange 事件，根据获取到的最新的 hash 值，切换要显示的组件的名称\n        window.onhashchange = function() {\n            // 通过 location.hash 获取到最新的 hash 值\n            console.log(location.hash);\n            switch(location.hash.slice(1)){\n            case \'/zhuye\':\n                vm.comname = \'zhuye\'\n            break\n            case \'/keji\':\n                vm.comname = \'keji\'\n            break\n            case \'/caijing\':\n                vm.comname = \'caijing\'\n            break\n            case \'/yule\':\n                vm.comname = \'yule\'\n            break\n            }\n        }\n        <\/script>\n    </body>\n    </html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\n案例效果图：\n\n\n\n点击每个超链接之后，会进行相应的内容切换，如下：\n\n\n\n核心思路： 在页面中有一个vue实例对象，vue实例对象中有四个组件，分别是tab栏切换需要显示的组件内容 在页面中有四个超链接，如下：\n\n<a href="#/zhuye">主页</a> \n<a href="#/keji">科技</a> \n<a href="#/caijing">财经</a>\n<a href="#/yule">娱乐</a>\n\n\n1\n2\n3\n4\n\n\n当我们点击这些超链接的时候，就会改变url地址中的hash值，当hash值被改变时，就会触发onhashchange事件 在触发onhashchange事件的时候，我们根据hash值来让不同的组件进行显示：\n\nwindow.onhashchange = function() {\n    // 通过 location.hash 获取到最新的 hash 值\n    console.log(location.hash);\n    switch(location.hash.slice(1)){\n        case \'/zhuye\':\n        //通过更改数据comname来指定显示的组件\n        //因为 <component :is="comname"></component> ，组件已经绑定了comname\n        vm.comname = \'zhuye\'\n        break\n        case \'/keji\':\n        vm.comname = \'keji\'\n        break\n        case \'/caijing\':\n        vm.comname = \'caijing\'\n        break\n        case \'/yule\':\n        vm.comname = \'yule\'\n        break\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# vue router\n\n * 它是一个vue.js官方提供的路由管理器。是一个功能更加强大的前端路由器，推荐使用。\n * vue router和vue.js非常契合，可以一起方便的实现spa(single page web application,单页应用程序)应用程序的开发。\n * vue router依赖于vue，所以需要先引入vue，再引入vue router\n\n# vue router的特性\n\n 1. 支持h5历史模式或者hash模式\n 2. 支持嵌套路由\n 3. 支持路由参数\n 4. 支持编程式路由\n 5. 支持命名路由\n 6. 支持路由导航守卫\n 7. 支持路由过渡动画特效\n 8. 支持路由懒加载\n 9. 支持路由滚动行为\n\n\n# vue router的使用\n\n 1. 导入js文件(可在vue官网下载)\n\n<script src="lib/vue_2.5.22.js"><\/script>\n<script src="lib/vue-router_3.0.2.js"><\/script>\n\n\n1\n2\n\n\n 2. 添加路由链接:<router-link>是路由中提供的标签，默认会被渲染为a标签，to属性默认被渲染为href属性， to属性的值会被渲染为#开头的hash地址\n    \n    <router-link to="/user">user</router-link>\n    <router-link to="/login">login</router-link>\n    \n    \n    1\n    2\n    \n\n 3. 添加路由填充位（路由占位符）\n    \n    <router-view></router-view>\n    \n    \n    1\n    \n\n 4. 定义路由组件\n    \n    var user = { template:"<div>this is user</div>" }\n    var login = { template:"<div>this is login</div>" }\n    \n    \n    1\n    2\n    \n\n 5. 配置路由规则并创建路由实例\n    \n    var myrouter = new vuerouter({\n        //routes是路由规则数组\n        routes:[\n            //每一个路由规则都是一个对象，对象中至少包含path和component两个属性\n            //path表示  路由匹配的hash地址，component表示路由规则对应要展示的组件对象\n            {path:"/user",component:user},\n            {path:"/login",component:login}\n        ]\n    })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n\n 6. 将路由挂载到vue实例中\n    \n    new vue({\n        el:"#app",\n        //通过router属性挂载路由对象\n        router:myrouter\n    })\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n小结： vue router的使用步骤还是比较清晰的，按照步骤一步一步就能完成路由操作：\n\n 1. 导入js文件\n 2. 添加路由链接\n 3. 添加路由占位符(最后路由展示的组件就会在占位符的位置显示)\n 4. 定义路由组件\n 5. 配置路由规则并创建路由实例\n 6. 将路由挂载到vue实例中\n\n补充： 路由重定向：可以通过路由重定向为页面设置默认展示的组件 在路由规则中添加一条路由规则即可，如下：\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //path设置为/表示页面最初始的地址 / ,redirect表示要被重定向的新地址，设置为一个路由即可\n        { path:"/",redirect:"/user"},\n        { path: "/user", component: user },\n        { path: "/login", component: login }\n    ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 嵌套路由\n\n当我们进行路由的时候显示的组件中还有新的子级路由链接以及内容。\n\n嵌套路由最关键的代码在于理解子级路由的概念，比如我们有一个/login的路由,那么/login下面还可以添加子级路由，如:\n\n * /login/account\n * /login/phone\n\n参考代码如下：\n\nvar user = { template: "<div>this is user</div>" }\n//login组件中的模板代码里面包含了子级路由链接以及子级路由的占位符\n    var login = { template: `<div>\n        <h1>this is login</h1>\n        <hr>\n        <router-link to="/login/account">账号密码登录</router-link>\n        <router-link to="/login/phone">扫码登录</router-link>\n        \x3c!-- 子路由组件将会在router-view中显示 --\x3e\n        <router-view></router-view>\n        </div>` }\n\n    //定义两个子级路由组件\n    var account = { template:"<div>账号：<input><br>密码：<input></div>"};\n    var phone = { template:"<h1>扫我二维码</h1>"};\n    var myrouter = new vuerouter({\n        //routes是路由规则数组\n        routes: [\n            { path:"/",redirect:"/user"},\n            { path: "/user", component: user },\n            { \n                path: "/login", \n                component: login,\n                //通过children属性为/login添加子路由规则\n                children:[\n                    { path: "/login/account", component: account },\n                    { path: "/login/phone", component: phone },\n                ]\n            }\n        ]\n    })\n\n    var vm = new vue({\n        el: \'#app\',\n        data: {},\n        methods: {},\n        router:myrouter\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n页面效果大致如下：\n\n\n\n\n# 动态路由\n\nvar user = { template:"<div>用户：{{$route.params.id}}</div>"}\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        { path: "/user/:id", component: user },       \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n补充 如果使用$route.params.id来获取路径传参的数据不够灵活。\n\n 1. 我们可以通过props来接收参数\n\nvar user = { \n    props:["id"],\n    template:"<div>用户：{{id}}</div>"\n    }\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为true，route.params将会被设置为组件属性\n        { path: "/user/:id", component: user,props:true },       \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. 还有一种情况，我们可以将props设置为对象，那么就直接将对象的数据传递给组件进行使用\n\nvar user = { \n    props:["username","pwd"],\n    template:"<div>用户：{{username}}---{{pwd}}</div>"\n    }\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为对象，则传递的是对象中的数据给组件\n        { path: "/user/:id", component: user,props:{username:"jack",pwd:123} },\n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 3. 如果想要获取传递的参数值还想要获取传递的对象数据，那么props应该设置为函数形式。\n\nvar user = { \n    props:["username","pwd","id"],\n    template:"<div>用户：{{id}} -> {{username}}---{{pwd}}</div>"\n    }\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //通过/:参数名  的形式传递参数 \n        //如果props设置为函数，则通过函数的第一个参数获取路由对象\n        //并可以通过路由对象的params属性获取传递的参数\n        //\n        { path: "/user/:id", component: user,props:(route)=>{\n            return {username:"jack",pwd:123,id:route.params.id}\n            } \n        },\n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 命名路由\n\n给路由取别名\n\n案例：\n\nvar myrouter = new vuerouter({\n    //routes是路由规则数组\n    routes: [\n        //通过name属性为路由添加一个别名\n        { path: "/user/:id", component: user, name:"user"},   \n]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n//添加了别名之后，可以使用别名进行跳转\n<router-link to="/user">user</router-link>\n<router-link :to="{ name:\'user\' , params: {id:123} }">user</router-link>\n\n//还可以编程式导航\nmyrouter.push( { name:\'user\' , params: {id:123} } )\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 编程式导航\n\n页面导航的两种方式：\n\n * 声明式导航：通过点击链接的方式实现的导航\n * 编程式导航：调用js的api方法实现导航\n\nvue-router中常见的导航方式：\n\nthis.$router.push("hash地址");\nthis.$router.push("/login");\nthis.$router.push({ name:\'user\' , params: {id:123} });\nthis.$router.push({ path:"/login" });\nthis.$router.push({ path:"/login",query:{username:"jack"} });\n\nthis.$router.go( n );//n为数字，参考history.go\nthis.$router.go( -1 );\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 每日一练-后台管理💯\n\n案例效果：\n\n\n\n点击左侧的"用户管理","权限管理","商品管理","订单管理","系统设置"都会出现对应的组件并展示内容\n\n其中"用户管理"组件展示的效果如上图所示，在用户管理区域中的详情链接也是可以点击的，点击之后将会显示用户详情信息。\n\n案例思路：\n\n 1. 希望是通过组件的形式展示页面的主体内容，而不是写死页面结构，所以我们可以定义一个根组件：\n\nconst app = {\n    template:`<div>\n        \x3c!-- 头部区域 --\x3e\n        <header class="header">后台管理系统</header>\n        \x3c!-- 中间主体区域 --\x3e\n        <div class="main">\n          \x3c!-- 左侧菜单栏 --\x3e\n          <div class="content left">\n            <ul>\n              <li>用户管理</li>\n              <li>权限管理</li>\n              <li>商品管理</li>\n              <li>订单管理</li>\n              <li>系统设置</li>\n            </ul>\n          </div>\n          \x3c!-- 右侧内容区域 --\x3e\n          <div class="content right">\n            <div class="main-content">添加用户表单</div>\n          </div>\n        </div>\n        \x3c!-- 尾部区域 --\x3e\n        <footer class="footer">版权信息</footer>\n      </div>`\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n 2. 当我们访问页面的时候，默认需要展示刚刚创建的app根组件，我们可以 创建一个路由对象来完成这个事情,然后将路由挂载到vue实例对象中即可\n\nconst myrouter = new vuerouter({\n    routes:[\n        {path:"/",component:app}\n    ]\n})\n\nconst vm = new vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myrouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n补充：到此为止，基本的js代码都处理完毕了，我们还需要设置一个路由占位符\n\n<body>\n  <div id="app">\n    <router-view></router-view>\n  </div>\n</body>\n\n\n1\n2\n3\n4\n5\n\n 3. 此时我们打开页面应该就可以得到一个vuerouter路由出来的根组件了 我们需要在这个根组件中继续路由实现其他的功能子组件 先让我们更改根组件中的模板：更改左侧li为子级路由链接，并在右侧内容区域添加子级组件占位符\n\nconst app = {\n    template:`<div>\n        ........\n        <div class="main">\n          \x3c!-- 左侧菜单栏 --\x3e\n          <div class="content left">\n            <ul>\n              \x3c!-- 注意：我们把所有li都修改为了路由链接 --\x3e\n              <li><router-link to="/users">用户管理</router-link></li>\n              <li><router-link to="/accesses">权限管理</router-link></li>\n              <li><router-link to="/goods">商品管理</router-link></li>\n              <li><router-link to="/orders">订单管理</router-link></li>\n              <li><router-link to="/systems">系统设置</router-link></li>\n            </ul>\n          </div>\n          \x3c!-- 右侧内容区域 --\x3e\n          <div class="content right">\n            <div class="main-content">\n                \x3c!-- 在 --\x3e\n                <router-view></router-view> \n            </div>\n          </div>\n        </div>\n        .......\n      </div>`\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 4. 然后，我们要为子级路由创建并设置需要显示的子级组件\n\n//建议创建的组件首字母大写，和其他内容区分\nconst users = {template:`<div>\n    <h3>用户管理</h3>\n</div>`}\nconst access = {template:`<div>\n    <h3>权限管理</h3>\n</div>`}\nconst goods = {template:`<div>\n    <h3>商品管理</h3>\n</div>`}\nconst orders = {template:`<div>\n    <h3>订单管理</h3>\n</div>`}\nconst systems = {template:`<div>\n    <h3>系统管理</h3>\n</div>`}\n\n//添加子组件的路由规则\nconst myrouter = new vuerouter({\n    routes:[\n        {path:"/",component:app , children:[\n            { path:"/users",component:users },\n            { path:"/accesses",component:access },\n            { path:"/goods",component:goods },\n            { path:"/orders",component:orders },\n            { path:"/systems",component:systems },\n        ]}\n    ]\n})\n\nconst vm = new vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myrouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n 5. 展示用户信息列表：\n    \n    为users组件添加私有数据,并在模板中循环展示私有数据\n    \n    const users = {\n        data(){\n            return {\n                userlist:[\n                    {id:1,name:"zs",age:18},\n                    {id:2,name:"ls",age:19},\n                    {id:3,name:"wang",age:20},\n                    {id:4,name:"jack",age:21},\n                ]\n            }\n        },\n        template:`<div>\n            <h3>用户管理</h3>\n            <table>\n                <thead>\n                    <tr>\n                        <th>编号</th>\n                        <th>姓名</th>\n                        <th>年龄</th>\n                        <th>操作</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr :key="item.id" v-for="item in userlist">\n                        <td>{{item.id}}</td>\n                        <td>{{item.name}}</td>\n                        <td>{{item.age}}</td>\n                        <td><a href="javascript:;">详情</a></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>`}\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    15\n    16\n    17\n    18\n    19\n    20\n    21\n    22\n    23\n    24\n    25\n    26\n    27\n    28\n    29\n    30\n    31\n    32\n    \n\n 6. 当用户列表展示完毕之后，我们可以点击列表中的详情来显示用户详情信息，首先我们需要创建一个组件，用来展示详情信息\n\nconst userinfo = {\n    props:["id"],\n    template:`<div>\n      <h5>用户详情</h5>\n      <p>查看 {{id}} 号用户信息</p>\n      <button @click="goback">返回用户详情页</button>\n    </div> `,\n    methods:{\n      goback(){\n        //当用户点击按钮，后退一页\n        this.$router.go(-1);\n      }\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n 7. 然后我们需要设置这个组件的路由规则\n\nconst myrouter = new vuerouter({\n    routes:[\n        {path:"/",component:app , children:[\n            { path:"/users",component:users },\n            //添加一个/userinfo的路由规则\n            { path:"/userinfo/:id",component:userinfo,props:true},\n            { path:"/accesses",component:access },\n            { path:"/goods",component:goods },\n            { path:"/orders",component:orders },\n            { path:"/systems",component:systems },\n        ]}\n    ]\n})\n\nconst vm = new vue({\n    el:"#app",\n    data:{},\n    methods:{},\n    router:myrouter\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 8. 再接着给用户列表中的详情a连接添加事件\n\nconst users = {\n    data(){\n        return {\n            userlist:[\n                {id:1,name:"zs",age:18},\n                {id:2,name:"ls",age:19},\n                {id:3,name:"wang",age:20},\n                {id:4,name:"jack",age:21},\n            ]\n        }\n    },\n    template:`<div>\n        <h3>用户管理</h3>\n        <table>\n            <thead>\n                <tr>\n                    <th>编号</th>\n                    <th>姓名</th>\n                    <th>年龄</th>\n                    <th>操作</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr :key="item.id" v-for="item in userlist">\n                    <td>{{item.id}}</td>\n                    <td>{{item.name}}</td>\n                    <td>{{item.age}}</td>\n                    <td><a href="javascript:;" @click="godetail(item.id)">详情</a></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>`,\n    methods:{\n        godetail(id){\n            this.$router.push("/userinfo/"+id);\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day02 - Vue常用特性",frontmatter:{title:"VUE Study Day02 - Vue常用特性",date:"2021-2-3",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第2天 Vue常用特性"},{name:"keywords",content:"自学 vue 计算属性 侦听器 过滤器 生命周期"},{name:"twitter:title",content:"VUE Study Day02 - Vue常用特性"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day02-%E5%9F%BA%E6%9C%AC%E7%89%B9%E6%80%A7.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day02 - Vue常用特性"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day02-%E5%9F%BA%E6%9C%AC%E7%89%B9%E6%80%A7.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-3"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day02 - Vue常用特性"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday2.html",summary:"不断学习，不断提升，日拱一卒，学习vue第2天",description:""},regularPath:"/article/vue/day02-%E5%9F%BA%E6%9C%AC%E7%89%B9%E6%80%A7.html",relativePath:"article/vue/day02-基本特性.md",key:"v-2145a02a",path:"/article/vue/studyvueday2.html",headers:[{level:2,title:"表单基本操作",slug:"表单基本操作",normalizedTitle:"表单基本操作",charIndex:2},{level:2,title:"表单修饰符",slug:"表单修饰符",normalizedTitle:"表单修饰符",charIndex:2845},{level:2,title:"自定义指令",slug:"自定义指令",normalizedTitle:"自定义指令",charIndex:3405},{level:2,title:"计算属性   computed",slug:"计算属性-computed",normalizedTitle:"计算属性   computed",charIndex:null},{level:2,title:"侦听器   watch",slug:"侦听器-watch",normalizedTitle:"侦听器   watch",charIndex:null},{level:2,title:"过滤器",slug:"过滤器",normalizedTitle:"过滤器",charIndex:8231},{level:2,title:"生命周期",slug:"生命周期",normalizedTitle:"生命周期",charIndex:10249},{level:2,title:"数组变异方法",slug:"数组变异方法",normalizedTitle:"数组变异方法",charIndex:10818},{level:3,title:"常用特性应用场景",slug:"常用特性应用场景",normalizedTitle:"常用特性应用场景",charIndex:11511},{level:2,title:"每日一练-图书列表💯",slug:"每日一练-图书列表💯",normalizedTitle:"每日一练-图书列表💯",charIndex:15063}],headersStr:"表单基本操作 表单修饰符 自定义指令 计算属性   computed 侦听器   watch 过滤器 生命周期 数组变异方法 常用特性应用场景 每日一练-图书列表💯",content:"# 表单基本操作\n\n * 获取单选框中的值\n   \n   * 通过v-model\n   \n    \t\x3c!-- \n   \t\t1、 两个单选框需要同时通过v-model 双向绑定 一个值 \n           2、 每一个单选框必须要有value属性  且value 值不能一样 \n   \t\t3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \n   \t\tgender 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t--\x3e\n      <input type=\"radio\" id=\"male\" value=\"1\" v-model='gender'>\n      <label for=\"male\">男</label>\n   \n      <input type=\"radio\" id=\"female\" value=\"2\" v-model='gender'>\n      <label for=\"female\">女</label>\n   \n   <script>\n       new Vue({\n            data: {\n                // 默认会让当前的 value 值为 2 的单选框选中\n                   gender: 2,  \n               },\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   \n\n * 获取复选框中的值\n   \n   * 通过v-model\n   * 和获取单选框中的值一样\n   * 复选框 checkbox 这种的组合时 data 中的 hobby 我们要定义成数组 否则无法实现多选\n   \n   \t\x3c!-- \n   \t\t1、 复选框需要同时通过v-model 双向绑定 一个值 \n           2、 每一个复选框必须要有value属性  且value 值不能一样 \n   \t\t3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \n   \t\thobby 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t--\x3e\n   \n   <div>\n      <span>爱好：</span>\n      <input type=\"checkbox\" id=\"ball\" value=\"1\" v-model='hobby'>\n      <label for=\"ball\">篮球</label>\n      <input type=\"checkbox\" id=\"sing\" value=\"2\" v-model='hobby'>\n      <label for=\"sing\">唱歌</label>\n      <input type=\"checkbox\" id=\"code\" value=\"3\" v-model='hobby'>\n      <label for=\"code\">写代码</label>\n    </div>\n   <script>\n       new Vue({\n            data: {\n                   // 默认会让当前的 value 值为 2 和 3 的复选框选中\n                   hobby: ['2', '3'],\n               },\n       })\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   \n\n * 获取下拉框和文本框中的值\n   \n   * 通过v-model\n   \n      <div>\n         <span>职业：</span>\n          \x3c!--\n   \t\t\t1、 需要给select  通过v-model 双向绑定 一个值 \n               2、 每一个option  必须要有value属性  且value 值不能一样 \n   \t\t    3、 当某一个option选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \t\t     occupation 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t\t--\x3e\n          \x3c!-- multiple  多选 --\x3e\n         <select v-model='occupation' multiple>\n             <option value=\"0\">请选择职业...</option>\n             <option value=\"1\">教师</option>\n             <option value=\"2\">软件工程师</option>\n             <option value=\"3\">律师</option>\n         </select>\n            \x3c!-- textarea 是 一个双标签   不需要绑定value 属性的  --\x3e\n           <textarea v-model='desc'></textarea>\n     </div>\n   <script>\n       new Vue({\n            data: {\n                   // 默认会让当前的 value 值为 2 和 3 的下拉框选中\n                    occupation: ['2', '3'],\n                \t desc: 'nihao'\n               },\n       })\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   \n\n\n# 表单修饰符\n\n * .number 转换为数值\n   \n   * 注意点：\n   * 当开始输入非数字的字符串时，因为Vue无法将字符串转换成数值\n   * 所以属性值将实时更新成相同的字符串。即使后面输入数字，也将被视作字符串。\n\n * .trim 自动过滤用户输入的首尾空白字符\n   \n   * 只能去掉首尾的 不能去除中间的空格\n\n * .lazy 将input事件切换成change事件\n   \n   * .lazy 修饰符延迟了同步更新属性值的时机。即将原本绑定在 input 事件的同步逻辑转变为绑定在 change 事件上\n\n * 在失去焦点 或者 按下回车键时才更新\n   \n   \x3c!-- 自动将用户的输入值转为数值类型 --\x3e\n   <input v-model.number=\"age\" type=\"number\">\n   \n   \x3c!--自动过滤用户输入的首尾空白字符   --\x3e\n   <input v-model.trim=\"msg\">\n   \n   \x3c!-- 在“change”时而非“input”时更新 --\x3e\n   <input v-model.lazy=\"msg\" >\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# 自定义指令\n\n * 内置指令不能满足我们特殊的需求\n * Vue允许我们自定义指令\n\n# 注册全局指令\n\n\x3c!-- \n  使用自定义的指令，只需在对用的元素中，加上'v-'的前缀形成类似于内部指令'v-if'，'v-text'的形式。 \n--\x3e\n<input type=\"text\" v-focus>\n<script>\n// 注意点： \n//   1、 在自定义指令中  如果以驼峰命名的方式定义 如  Vue.directive('focusA',function(){}) \n//   2、 在HTML中使用的时候 只能通过 v-focus-a 来使用 \n    \n// 注册一个全局自定义指令 v-focus\nVue.directive('focus', {\n  \t// 当绑定元素插入到 DOM 中。 其中 el为dom元素\n  \tinserted: function (el) {\n    \t\t// 聚焦元素\n    \t\tel.focus();\n \t}\n});\nnew Vue({\n　　el:'#app'\n});\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# 注册全局指令带参数\n\n  <input type=\"text\" v-color='msg'>\n <script type=\"text/javascript\">\n    /*\n      自定义指令-带参数\n      bind - 只调用一次，在指令第一次绑定到元素上时候调用\n\n    */\n    Vue.directive('color', {\n      // bind声明周期, 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置\n      // el 为当前自定义指令的DOM元素  \n      // binding 为自定义的函数形参   通过自定义属性传递过来的值 存在 binding.value 里面\n      bind: function(el, binding){\n        // 根据指令的参数设置背景色\n        // console.log(binding.value.color)\n        el.style.backgroundColor = binding.value.color;\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        msg: {\n          color: 'blue'\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 自定义指令局部指令\n\n * 局部指令，需要定义在 directives 的选项 用法和全局用法一样\n * 局部指令只能在当前组件里面使用\n * 当全局指令和局部指令同名时以局部指令为准\n\n<input type=\"text\" v-color='msg'>\n <input type=\"text\" v-focus>\n <script type=\"text/javascript\">\n    /*\n      自定义指令-局部指令\n    */\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        msg: {\n          color: 'red'\n        }\n      },\n   \t  //局部指令，需要定义在  directives 的选项\n      directives: {\n        color: {\n          bind: function(el, binding){\n            el.style.backgroundColor = binding.value.color;\n          }\n        },\n        focus: {\n          inserted: function(el) {\n            el.focus();\n          }\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 计算属性 computed\n\n * 模板中放入太多的逻辑会让模板过重且难以维护 使用计算属性可以让模板更加的简洁\n * 计算属性是基于它们的响应式依赖进行缓存的\n * computed比较适合对多个变量或者对象进行处理后返回一个结果值，也就是数多个变量中的某一个值发生了变化则我们监控的这个值也就会发生变化\n\n <div id=\"app\">\n     \x3c!--  \n        当多次调用 reverseString  的时候 \n        只要里面的 num 值不改变 他会把第一次计算的结果直接返回\n\t\t直到data 中的num值改变 计算属性才会重新发生计算\n     --\x3e\n    <div>{{reverseString}}</div>\n    <div>{{reverseString}}</div>\n     \x3c!-- 调用methods中的方法的时候  他每次会重新调用 --\x3e\n    <div>{{reverseMessage()}}</div>\n    <div>{{reverseMessage()}}</div>\n  </div>\n  <script type=\"text/javascript\">\n    /*\n      计算属性与方法的区别:计算属性是基于依赖进行缓存的，而方法不缓存\n    */\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        msg: 'Nihao',\n        num: 100\n      },\n      methods: {\n        reverseMessage: function(){\n          console.log('methods')\n          return this.msg.split('').reverse().join('');\n        }\n      },\n      //computed  属性 定义 和 data 已经 methods 平级 \n      computed: {\n        //  reverseString   这个是我们自己定义的名字 \n        reverseString: function(){\n          console.log('computed')\n          var total = 0;\n          //  当data 中的 num 的值改变的时候  reverseString  会自动发生计算  \n          for(var i=0;i<=this.num;i++){\n            total += i;\n          }\n          // 这里一定要有return 否则 调用 reverseString 的 时候无法拿到结果    \n          return total;\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 侦听器 watch\n\n * 使用watch来响应数据的变化\n * 一般用于异步或者开销较大的操作\n * watch 中的属性 一定是data 中 已经存在的数据\n * 当需要监听一个对象的改变时，普通的watch方法无法监听到对象内部属性的改变，只有data中的数据才能够监听到变化，此时就需要deep属性对对象进行深度监听\n\n <div id=\"app\">\n        <div>\n            <span>名：</span>\n            <span>\n        <input type=\"text\" v-model='firstName'>\n      </span>\n        </div>\n        <div>\n            <span>姓：</span>\n            <span>\n        <input type=\"text\" v-model='lastName'>\n      </span>\n        </div>\n        <div>{{fullName}}</div>\n    </div>\n\n  <script type=\"text/javascript\">\n        /*\n              侦听器\n            */\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                firstName: 'Jim',\n                lastName: 'Green',\n                // fullName: 'Jim Green'\n            },\n             //watch  属性 定义 和 data 已经 methods 平级 \n            watch: {\n                //   注意：  这里firstName  对应着data 中的 firstName \n                //   当 firstName 值 改变的时候  会自动触发 watch\n                firstName: function(val) {\n                    this.fullName = val + ' ' + this.lastName;\n                },\n                //   注意：  这里 lastName 对应着data 中的 lastName \n                lastName: function(val) {\n                    this.fullName = this.firstName + ' ' + val;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# 过滤器\n\n * Vue.js允许自定义过滤器，可被用于一些常见的文本格式化。\n * 过滤器可以用在两个地方：双花括号插值和v-bind表达式。\n * 过滤器应该被添加在JavaScript表达式的尾部，由“管道”符号指示\n * 支持级联操作\n * 过滤器不改变真正的data，而只是改变渲染的结果，并返回过滤后的版本\n * 全局注册时是filter，没有s的。而局部过滤器是filters，是有s的\n\n  <div id=\"app\">\n    <input type=\"text\" v-model='msg'>\n      \x3c!-- upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中 --\x3e\n    <div>{{msg | upper}}</div>\n    \x3c!--  \n      支持级联操作\n      upper  被定义为接收单个参数的过滤器函数，表达式msg 的值将作为参数传入到函数中。\n\t  然后继续调用同样被定义为接收单个参数的过滤器 lower ，将upper 的结果传递到lower中\n \t--\x3e\n    <div>{{msg | upper | lower}}</div>\n    <div :abc='msg | upper'>测试数据</div>\n  </div>\n\n<script type=\"text/javascript\">\n   //  lower  为全局过滤器     \n   Vue.filter('lower', function(val) {\n      return val.charAt(0).toLowerCase() + val.slice(1);\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        msg: ''\n      },\n       //filters  属性 定义 和 data 已经 methods 平级 \n       //  定义filters 中的过滤器为局部过滤器 \n      filters: {\n        //   upper  自定义的过滤器名字 \n        //    upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中\n        upper: function(val) {\n         //  过滤器中一定要有返回值 这样外界使用过滤器的时候才能拿到结果\n          return val.charAt(0).toUpperCase() + val.slice(1);\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# 过滤器中传递参数\n\n    <div id=\"box\">\n        \x3c!--\n\t\t\tfilterA 被定义为接收三个参数的过滤器函数。\n  \t\t\t其中 message 的值作为第一个参数，\n\t\t\t普通字符串 'arg1' 作为第二个参数，表达式 arg2 的值作为第三个参数。\n\t\t--\x3e\n        {{ message | filterA('arg1', 'arg2') }}\n    </div>\n    <script>\n        // 在过滤器中 第一个参数 对应的是  管道符前面的数据   n  此时对应 message\n        // 第2个参数  a 对应 实参  arg1 字符串\n        // 第3个参数  b 对应 实参  arg2 字符串\n        Vue.filter('filterA',function(n,a,b){\n            if(n<10){\n                return n+a;\n            }else{\n                return n+b;\n            }\n        });\n        \n        new Vue({\n            el:\"#box\",\n            data:{\n                message: \"哈哈哈\"\n            }\n        })\n\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 生命周期\n\n * 事物从出生到死亡的过程\n * Vue实例从创建 到销毁的过程 ，这些过程中会伴随着一些函数的自调用。我们称这些函数为钩子函数\n\n####常用的 钩子函数\n\nBEFORECREATE    在实例初始化之后，数据观测和事件配置之前被调用 此时DATA 和 METHODS 以及页面的DOM结构都没有初始化\n                什么都做不了\ncreated         在实例创建完成后被立即调用此时data 和 methods已经可以使用 但是页面还没有渲染出来\nbeforeMount     在挂载开始之前被调用 此时页面上还看不到真实数据 只是一个模板页面而已\nmounted         el被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子。 数据已经真实渲染到页面上\n                在这个钩子函数里面我们可以使用一些第三方的插件\nbeforeUpdate    数据更新时调用，发生在虚拟DOM打补丁之前。 页面上数据还是旧的\nupdated         由于数据更改导致的虚拟DOM重新渲染和打补丁，在这之后会调用该钩子。 页面上数据已经替换成最新的\nbeforeDestroy   实例销毁之前调用\ndestroyed       实例销毁后调用\n\n\n# 数组变异方法\n\n * 在 Vue 中，直接修改对象属性的值无法触发响应式。当你直接修改了对象属性的值，你会发现，只有数据改了，但是页面内容并没有改变\n * 变异数组方法即保持数组方法原有功能不变的前提下对其进行功能拓展\n\nPUSH()      往数组最后面添加一个元素，成功返回当前数组的长度\npop()       删除数组的最后一个元素，成功返回删除元素的值\nshift()     删除数组的第一个元素，成功返回删除元素的值\nunshift()   往数组最前面添加一个元素，成功返回当前数组的长度\nsplice()    有三个参数，第一个是想要删除的元素的下标（必选），第二个是想要删除的个数（必选），第三个是删除 后想要在原位置替换的值\nsort()      sort() 使数组按照字符编码默认从小到大排序,成功返回排序后的数组\nreverse()   reverse() 将数组倒序，成功返回倒序后的数组\n\n# 替换数组\n\n * 不会改变原始数组，但总是返回一个新数组\n\nFILTER   FILTER() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\nconcat   concat() 方法用于连接两个或多个数组。该方法不会改变现有的数组\nslice    slice() 方法可从已有的数组中返回选定的元素。该方法并不会修改数组，而是返回一个子数组\n\n# 动态数组响应式数据\n\n * Vue.set(a,b,c) 让 触发视图重新更新一遍，数据动态起来\n * a是要更改的数据 、 b是数据的第几项、 c是更改后的数据\n\n\n# 常用特性应用场景\n\n# 1 过滤器\n\n * Vue.filter 定义一个全局过滤器\n\n <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n     \t\t\x3c!-- 1.3  调用过滤器 --\x3e\n            <td>{{item.date | format('yyyy-MM-dd hh:mm:ss')}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toEdit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent='deleteBook(item.id)'>删除</a>\n            </td>\n</tr>\n\n<script>\n    \t#1.1  Vue.filter  定义一个全局过滤器\n\t    Vue.filter('format', function(value, arg) {\n              function dateFormat(date, format) {\n                if (typeof date === \"string\") {\n                  var mts = date.match(/(\\/Date\\((\\d+)\\)\\/)/);\n                  if (mts && mts.length >= 3) {\n                    date = parseInt(mts[2]);\n                  }\n                }\n                date = new Date(date);\n                if (!date || date.toUTCString() == \"Invalid Date\") {\n                  return \"\";\n                }\n                var map = {\n                  \"M\": date.getMonth() + 1, //月份 \n                  \"d\": date.getDate(), //日 \n                  \"h\": date.getHours(), //小时 \n                  \"m\": date.getMinutes(), //分 \n                  \"s\": date.getSeconds(), //秒 \n                  \"q\": Math.floor((date.getMonth() + 3) / 3), //季度 \n                  \"S\": date.getMilliseconds() //毫秒 \n                };\n                format = format.replace(/([yMdhmsqS])+/g, function(all, t) {\n                  var v = map[t];\n                  if (v !== undefined) {\n                    if (all.length > 1) {\n                      v = '0' + v;\n                      v = v.substr(v.length - 2);\n                    }\n                    return v;\n                  } else if (t === 'y') {\n                    return (date.getFullYear() + '').substr(4 - all.length);\n                  }\n                  return all;\n                });\n                return format;\n              }\n              return dateFormat(value, arg);\n            })\n#1.2  提供的数据 包含一个时间戳   为毫秒数\n   [{\n          id: 1,\n          name: '三国演义',\n          date: 2525609975000\n        },{\n          id: 2,\n          name: '水浒传',\n          date: 2525609975000\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: 2525609975000\n        },{\n          id: 4,\n          name: '西游记',\n          date: 2525609975000\n        }];\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\n# 2 自定义指令\n\n * 让表单自动获取焦点\n * 通过Vue.directive 自定义指定\n\n\x3c!-- 2.2  通过v-自定义属性名 调用自定义指令 --\x3e\n<input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\" v-focus>\n\n<script>\n    # 2.1   通过Vue.directive 自定义指定\n\tVue.directive('focus', {\n      inserted: function (el) {\n        el.focus();\n      }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 3 计算属性\n\n * 通过计算属性计算图书的总数\n   * 图书的总数就是计算数组的长度\n\n <div class=\"total\">\n        <span>图书总数：</span>\n     \t\x3c!-- 3.2 在页面上 展示出来 --\x3e\n        <span>{{total}}</span>\n</div>\n\n  <script type=\"text/javascript\">\n    /*\n      计算属性与方法的区别:计算属性是基于依赖进行缓存的，而方法不缓存\n    */\n    var vm = new Vue({\n      data: {\n        flag: false,\n        submitFlag: false,\n        id: '',\n        name: '',\n        books: []\n      },\n      computed: {\n        total: function(){\n          // 3.1  计算图书的总数\n          return this.books.length;\n        }\n      },\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 每日一练-图书列表💯\n\n * 静态列表效果\n * 基于数据实现模板效果\n * 处理每行的操作按钮\n\n# 1、 提供的静态数据\n\n * 数据存放在vue 中 data 属性中\n\n var vm = new Vue({\n      el: '#app',\n      data: {\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      }\n    }); var vm = new Vue({\n      el: '#app',\n      data: {\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      }\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# 2、 把提供好的数据渲染到页面上\n\n * 利用 v-for循环 遍历 books 将每一项数据渲染到对应的数据中\n\n <tbody>\n    <tr :key='item.id' v-for='item in books'>\n       \x3c!-- 对应的id 渲染到页面上 --\x3e\n       <td>{{item.id}}</td>\n        \x3c!-- 对应的name 渲染到页面上 --\x3e\n       <td>{{item.name}}</td>\n       <td>{{item.date}}</td>\n       <td>\n         \x3c!-- 阻止 a 标签的默认跳转 --\x3e\n         <a href=\"\" @click.prevent>修改</a>\n         <span>|</span>\n       \t  <a href=\"\" @click.prevent>删除</a>\n       </td>\n     </tr>\n</tbody>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# 3、 添加图书\n\n * 通过双向绑定获取到输入框中的输入内容\n * 给按钮添加点击事件\n * 把输入框中的数据存储到 data 中的 books 里面\n\n<div>\n  <h1>图书管理</h1>\n  <div class=\"book\">\n       <div>\n         <label for=\"id\">\n           编号：\n         </label>\n          \x3c!-- 3.1、通过双向绑定获取到输入框中的输入的 id  --\x3e\n         <input type=\"text\" id=\"id\" v-model='id'>\n         <label for=\"name\">\n           名称：\n         </label>\n           \x3c!-- 3.2、通过双向绑定获取到输入框中的输入的 name  --\x3e\n         <input type=\"text\" id=\"name\" v-model='name'>\n            \x3c!-- 3.3、给按钮添加点击事件  --\x3e\n         <button @click='handle'>提交</button>\n       </div>\n  </div>\n</div>\n  <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        id: '',\n        name: '',\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      },\n      methods: {\n        handle: function(){\n          // 3.4 定义一个新的对象book 存储 获取到输入框中 书 的id和名字 \n          var book = {};\n          book.id = this.id;\n          book.name = this.name;\n          book.date = '';\n         // 3.5 把book  通过数组的变异方法 push 放到    books 里面\n          this.books.push(book);\n          //3.6 清空输入框\n          this.id = '';\n          this.name = '';\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n# 4 修改图书-上\n\n * 点击修改按钮的时候 获取到要修改的书籍名单\n   * 4.1 给修改按钮添加点击事件， 需要把当前的图书的id 传递过去 这样才知道需要修改的是哪一本书籍\n * 把需要修改的书籍名单填充到表单里面\n   * 4.2 根据传递过来的id 查出books 中 对应书籍的详细信息\n   * 4.3 把获取到的信息填充到表单\n\n <div id=\"app\">\n    <div class=\"grid\">\n      <div>\n        <h1>图书管理</h1>\n        <div class=\"book\">\n          <div>\n            <label for=\"id\">\n              编号：\n            </label>\n            <input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\">\n            <label for=\"name\">\n              名称：\n            </label>\n            <input type=\"text\" id=\"name\" v-model='name'>\n            <button @click='handle'>提交</button>\n          </div>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>编号</th>\n            <th>名称</th>\n            <th>时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              \x3c!--- \n\t\t\t\t4.1  给修改按钮添加点击事件，  需要把当前的图书的id 传递过去 \n\t\t\t\t这样才知道需要修改的是哪一本书籍\n  \t\t\t\t---\x3e  \n              <a href=\"\" @click.prevent='toEdit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent>删除</a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        flag: false,\n        id: '',\n        name: '',\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      },\n      methods: {\n        handle: function(){\n          // 3.4 定义一个新的对象book 存储 获取到输入框中 书 的id和名字 \n          var book = {};\n          book.id = this.id;\n          book.name = this.name;\n          book.date = '';\n         // 3.5 把book  通过数组的变异方法 push 放到    books 里面\n          this.books.push(book);\n          //3.6 清空输入框\n          this.id = '';\n          this.name = '';\n        },\n        toEdit: function(id){\n          console.log(id)\n          //4.2  根据传递过来的id 查出books 中 对应书籍的详细信息\n          var book = this.books.filter(function(item){\n            return item.id == id;\n          });\n          console.log(book)\n          //4.3 把获取到的信息填充到表单\n          // this.id   和  this.name 通过双向绑定 绑定到了表单中  一旦数据改变视图自动更新\n          this.id = book[0].id;\n          this.name = book[0].name;\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n\n\n# 5 修改图书-下\n\n * 5.1 定义一个标识符， 主要是控制 编辑状态下当前编辑书籍的id 不能被修改 即 处于编辑状态下 当前控制书籍编号的输入框禁用\n * 5.2 通过属性绑定给书籍编号的 绑定 disabled 的属性 flag 为 true 即为禁用\n * 5.3 flag 默认值为false 处于编辑状态 要把 flag 改为true 即当前表单为禁用\n * 5.4 复用添加方法 用户点击提交的时候依然执行 handle 中的逻辑如果 flag为true 即 表单处于不可输入状态 此时执行的用户编辑数据数据\n\n<div id=\"app\">\n    <div class=\"grid\">\n      <div>\n        <h1>图书管理</h1>\n        <div class=\"book\">\n          <div>\n            <label for=\"id\">\n              编号：\n            </label>\n              \x3c!-- 5.2 通过属性绑定 绑定 disabled 的属性  flag 为 true 即为禁用      --\x3e\n            <input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\">\n            <label for=\"name\">\n              名称：\n            </label>\n            <input type=\"text\" id=\"name\" v-model='name'>\n            <button @click='handle'>提交</button>\n          </div>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>编号</th>\n            <th>名称</th>\n            <th>时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toEdit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent>删除</a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>   \n<script type=\"text/javascript\">\n        /*图书管理-添加图书*/\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                // 5.1  定义一个标识符， 主要是控制 编辑状态下当前编辑书籍的id 不能被修改 \n                // 即 处于编辑状态下 当前控制书籍编号的输入框禁用 \n                flag: false,\n                id: '',\n                name: '',\n              \n            },\n            methods: {\n                handle: function() {\n                   /*\n                     5.4  复用添加方法   用户点击提交的时候依然执行 handle 中的逻辑\n                 \t\t 如果 flag为true 即 表单处于不可输入状态 此时执行的用户编辑数据数据\t\n                   */ \n                    if (this.flag) {\n                        // 编辑图书\n                        // 5.5  根据当前的ID去更新数组中对应的数据  \n                        this.books.some((item) => {\n                            if (item.id == this.id) {\n                                // 箭头函数中 this 指向父级作用域的this \n                                item.name = this.name;\n                                // 完成更新操作之后，需要终止循环\n                                return true;\n                            }\n                        });\n                        // 5.6 编辑完数据后表单要处以可以输入的状态\n                        this.flag = false;\n                    //  5.7  如果 flag为false  表单处于输入状态 此时执行的用户添加数据    \n                    } else { \n                        var book = {};\n                        book.id = this.id;\n                        book.name = this.name;\n                        book.date = '';\n                        this.books.push(book);\n                        // 清空表单\n                        this.id = '';\n                        this.name = '';\n                    }\n                    // 清空表单\n                    this.id = '';\n                    this.name = '';\n                },\n                toEdit: function(id) {\n                     /*\n                     5.3  flag 默认值为false   处于编辑状态 要把 flag 改为true 即当前表单为禁\t\t\t\t\t  用 \n                     */ \n                    this.flag = true;\n                    console.log(id)\n                    var book = this.books.filter(function(item) {\n                        return item.id == id;\n                    });\n                    console.log(book)\n                    this.id = book[0].id;\n                    this.name = book[0].name;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n\n\n# 6 删除图书\n\n * 6.1 给删除按钮添加事件 把当前需要删除的书籍id 传递过来\n * 6.2 根据id从数组中查找元素的索引\n * 6.3 根据索引删除数组元素\n\n  <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toEdit(item.id)'>修改</a>\n              <span>|</span>\n               \x3c!--  6.1 给删除按钮添加事件 把当前需要删除的书籍id 传递过来  --\x3e \n              <a href=\"\" @click.prevent='deleteBook(item.id)'>删除</a>\n            </td>\n          </tr>\n</tbody>\n  <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new Vue({\n      methods: {\n        deleteBook: function(id){\n          // 删除图书\n          #// 6.2 根据id从数组中查找元素的索引\n          // var index = this.books.findIndex(function(item){\n          //   return item.id == id;\n          // });\n          #// 6.3 根据索引删除数组元素\n          // this.books.splice(index, 1);\n          // -------------------------\n         #// 方法二：通过filter方法进行删除\n\t\t\n          # 6.4  根据filter 方法 过滤出来id 不是要删除书籍的id \n          # 因为 filter 是替换数组不会修改原始数据 所以需要 把 不是要删除书籍的id  赋值给 books \n          this.books = this.books.filter(function(item){\n            return item.id != id;\n          });\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n",normalizedContent:"# 表单基本操作\n\n * 获取单选框中的值\n   \n   * 通过v-model\n   \n    \t\x3c!-- \n   \t\t1、 两个单选框需要同时通过v-model 双向绑定 一个值 \n           2、 每一个单选框必须要有value属性  且value 值不能一样 \n   \t\t3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \n   \t\tgender 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t--\x3e\n      <input type=\"radio\" id=\"male\" value=\"1\" v-model='gender'>\n      <label for=\"male\">男</label>\n   \n      <input type=\"radio\" id=\"female\" value=\"2\" v-model='gender'>\n      <label for=\"female\">女</label>\n   \n   <script>\n       new vue({\n            data: {\n                // 默认会让当前的 value 值为 2 的单选框选中\n                   gender: 2,  \n               },\n       })\n   \n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   \n\n * 获取复选框中的值\n   \n   * 通过v-model\n   * 和获取单选框中的值一样\n   * 复选框 checkbox 这种的组合时 data 中的 hobby 我们要定义成数组 否则无法实现多选\n   \n   \t\x3c!-- \n   \t\t1、 复选框需要同时通过v-model 双向绑定 一个值 \n           2、 每一个复选框必须要有value属性  且value 值不能一样 \n   \t\t3、 当某一个单选框选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \n   \t\thobby 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t--\x3e\n   \n   <div>\n      <span>爱好：</span>\n      <input type=\"checkbox\" id=\"ball\" value=\"1\" v-model='hobby'>\n      <label for=\"ball\">篮球</label>\n      <input type=\"checkbox\" id=\"sing\" value=\"2\" v-model='hobby'>\n      <label for=\"sing\">唱歌</label>\n      <input type=\"checkbox\" id=\"code\" value=\"3\" v-model='hobby'>\n      <label for=\"code\">写代码</label>\n    </div>\n   <script>\n       new vue({\n            data: {\n                   // 默认会让当前的 value 值为 2 和 3 的复选框选中\n                   hobby: ['2', '3'],\n               },\n       })\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   \n\n * 获取下拉框和文本框中的值\n   \n   * 通过v-model\n   \n      <div>\n         <span>职业：</span>\n          \x3c!--\n   \t\t\t1、 需要给select  通过v-model 双向绑定 一个值 \n               2、 每一个option  必须要有value属性  且value 值不能一样 \n   \t\t    3、 当某一个option选中的时候 v-model  会将当前的 value值 改变 data 中的 数据\n   \t\t     occupation 的值就是选中的值，我们只需要实时监控他的值就可以了\n   \t\t--\x3e\n          \x3c!-- multiple  多选 --\x3e\n         <select v-model='occupation' multiple>\n             <option value=\"0\">请选择职业...</option>\n             <option value=\"1\">教师</option>\n             <option value=\"2\">软件工程师</option>\n             <option value=\"3\">律师</option>\n         </select>\n            \x3c!-- textarea 是 一个双标签   不需要绑定value 属性的  --\x3e\n           <textarea v-model='desc'></textarea>\n     </div>\n   <script>\n       new vue({\n            data: {\n                   // 默认会让当前的 value 值为 2 和 3 的下拉框选中\n                    occupation: ['2', '3'],\n                \t desc: 'nihao'\n               },\n       })\n   <\/script>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   \n\n\n# 表单修饰符\n\n * .number 转换为数值\n   \n   * 注意点：\n   * 当开始输入非数字的字符串时，因为vue无法将字符串转换成数值\n   * 所以属性值将实时更新成相同的字符串。即使后面输入数字，也将被视作字符串。\n\n * .trim 自动过滤用户输入的首尾空白字符\n   \n   * 只能去掉首尾的 不能去除中间的空格\n\n * .lazy 将input事件切换成change事件\n   \n   * .lazy 修饰符延迟了同步更新属性值的时机。即将原本绑定在 input 事件的同步逻辑转变为绑定在 change 事件上\n\n * 在失去焦点 或者 按下回车键时才更新\n   \n   \x3c!-- 自动将用户的输入值转为数值类型 --\x3e\n   <input v-model.number=\"age\" type=\"number\">\n   \n   \x3c!--自动过滤用户输入的首尾空白字符   --\x3e\n   <input v-model.trim=\"msg\">\n   \n   \x3c!-- 在“change”时而非“input”时更新 --\x3e\n   <input v-model.lazy=\"msg\" >\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   \n\n\n# 自定义指令\n\n * 内置指令不能满足我们特殊的需求\n * vue允许我们自定义指令\n\n# 注册全局指令\n\n\x3c!-- \n  使用自定义的指令，只需在对用的元素中，加上'v-'的前缀形成类似于内部指令'v-if'，'v-text'的形式。 \n--\x3e\n<input type=\"text\" v-focus>\n<script>\n// 注意点： \n//   1、 在自定义指令中  如果以驼峰命名的方式定义 如  vue.directive('focusa',function(){}) \n//   2、 在html中使用的时候 只能通过 v-focus-a 来使用 \n    \n// 注册一个全局自定义指令 v-focus\nvue.directive('focus', {\n  \t// 当绑定元素插入到 dom 中。 其中 el为dom元素\n  \tinserted: function (el) {\n    \t\t// 聚焦元素\n    \t\tel.focus();\n \t}\n});\nnew vue({\n　　el:'#app'\n});\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n# 注册全局指令带参数\n\n  <input type=\"text\" v-color='msg'>\n <script type=\"text/javascript\">\n    /*\n      自定义指令-带参数\n      bind - 只调用一次，在指令第一次绑定到元素上时候调用\n\n    */\n    vue.directive('color', {\n      // bind声明周期, 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置\n      // el 为当前自定义指令的dom元素  \n      // binding 为自定义的函数形参   通过自定义属性传递过来的值 存在 binding.value 里面\n      bind: function(el, binding){\n        // 根据指令的参数设置背景色\n        // console.log(binding.value.color)\n        el.style.backgroundcolor = binding.value.color;\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        msg: {\n          color: 'blue'\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 自定义指令局部指令\n\n * 局部指令，需要定义在 directives 的选项 用法和全局用法一样\n * 局部指令只能在当前组件里面使用\n * 当全局指令和局部指令同名时以局部指令为准\n\n<input type=\"text\" v-color='msg'>\n <input type=\"text\" v-focus>\n <script type=\"text/javascript\">\n    /*\n      自定义指令-局部指令\n    */\n    var vm = new vue({\n      el: '#app',\n      data: {\n        msg: {\n          color: 'red'\n        }\n      },\n   \t  //局部指令，需要定义在  directives 的选项\n      directives: {\n        color: {\n          bind: function(el, binding){\n            el.style.backgroundcolor = binding.value.color;\n          }\n        },\n        focus: {\n          inserted: function(el) {\n            el.focus();\n          }\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 计算属性 computed\n\n * 模板中放入太多的逻辑会让模板过重且难以维护 使用计算属性可以让模板更加的简洁\n * 计算属性是基于它们的响应式依赖进行缓存的\n * computed比较适合对多个变量或者对象进行处理后返回一个结果值，也就是数多个变量中的某一个值发生了变化则我们监控的这个值也就会发生变化\n\n <div id=\"app\">\n     \x3c!--  \n        当多次调用 reversestring  的时候 \n        只要里面的 num 值不改变 他会把第一次计算的结果直接返回\n\t\t直到data 中的num值改变 计算属性才会重新发生计算\n     --\x3e\n    <div>{{reversestring}}</div>\n    <div>{{reversestring}}</div>\n     \x3c!-- 调用methods中的方法的时候  他每次会重新调用 --\x3e\n    <div>{{reversemessage()}}</div>\n    <div>{{reversemessage()}}</div>\n  </div>\n  <script type=\"text/javascript\">\n    /*\n      计算属性与方法的区别:计算属性是基于依赖进行缓存的，而方法不缓存\n    */\n    var vm = new vue({\n      el: '#app',\n      data: {\n        msg: 'nihao',\n        num: 100\n      },\n      methods: {\n        reversemessage: function(){\n          console.log('methods')\n          return this.msg.split('').reverse().join('');\n        }\n      },\n      //computed  属性 定义 和 data 已经 methods 平级 \n      computed: {\n        //  reversestring   这个是我们自己定义的名字 \n        reversestring: function(){\n          console.log('computed')\n          var total = 0;\n          //  当data 中的 num 的值改变的时候  reversestring  会自动发生计算  \n          for(var i=0;i<=this.num;i++){\n            total += i;\n          }\n          // 这里一定要有return 否则 调用 reversestring 的 时候无法拿到结果    \n          return total;\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 侦听器 watch\n\n * 使用watch来响应数据的变化\n * 一般用于异步或者开销较大的操作\n * watch 中的属性 一定是data 中 已经存在的数据\n * 当需要监听一个对象的改变时，普通的watch方法无法监听到对象内部属性的改变，只有data中的数据才能够监听到变化，此时就需要deep属性对对象进行深度监听\n\n <div id=\"app\">\n        <div>\n            <span>名：</span>\n            <span>\n        <input type=\"text\" v-model='firstname'>\n      </span>\n        </div>\n        <div>\n            <span>姓：</span>\n            <span>\n        <input type=\"text\" v-model='lastname'>\n      </span>\n        </div>\n        <div>{{fullname}}</div>\n    </div>\n\n  <script type=\"text/javascript\">\n        /*\n              侦听器\n            */\n        var vm = new vue({\n            el: '#app',\n            data: {\n                firstname: 'jim',\n                lastname: 'green',\n                // fullname: 'jim green'\n            },\n             //watch  属性 定义 和 data 已经 methods 平级 \n            watch: {\n                //   注意：  这里firstname  对应着data 中的 firstname \n                //   当 firstname 值 改变的时候  会自动触发 watch\n                firstname: function(val) {\n                    this.fullname = val + ' ' + this.lastname;\n                },\n                //   注意：  这里 lastname 对应着data 中的 lastname \n                lastname: function(val) {\n                    this.fullname = this.firstname + ' ' + val;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n\n# 过滤器\n\n * vue.js允许自定义过滤器，可被用于一些常见的文本格式化。\n * 过滤器可以用在两个地方：双花括号插值和v-bind表达式。\n * 过滤器应该被添加在javascript表达式的尾部，由“管道”符号指示\n * 支持级联操作\n * 过滤器不改变真正的data，而只是改变渲染的结果，并返回过滤后的版本\n * 全局注册时是filter，没有s的。而局部过滤器是filters，是有s的\n\n  <div id=\"app\">\n    <input type=\"text\" v-model='msg'>\n      \x3c!-- upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中 --\x3e\n    <div>{{msg | upper}}</div>\n    \x3c!--  \n      支持级联操作\n      upper  被定义为接收单个参数的过滤器函数，表达式msg 的值将作为参数传入到函数中。\n\t  然后继续调用同样被定义为接收单个参数的过滤器 lower ，将upper 的结果传递到lower中\n \t--\x3e\n    <div>{{msg | upper | lower}}</div>\n    <div :abc='msg | upper'>测试数据</div>\n  </div>\n\n<script type=\"text/javascript\">\n   //  lower  为全局过滤器     \n   vue.filter('lower', function(val) {\n      return val.charat(0).tolowercase() + val.slice(1);\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        msg: ''\n      },\n       //filters  属性 定义 和 data 已经 methods 平级 \n       //  定义filters 中的过滤器为局部过滤器 \n      filters: {\n        //   upper  自定义的过滤器名字 \n        //    upper 被定义为接收单个参数的过滤器函数，表达式  msg  的值将作为参数传入到函数中\n        upper: function(val) {\n         //  过滤器中一定要有返回值 这样外界使用过滤器的时候才能拿到结果\n          return val.charat(0).touppercase() + val.slice(1);\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# 过滤器中传递参数\n\n    <div id=\"box\">\n        \x3c!--\n\t\t\tfiltera 被定义为接收三个参数的过滤器函数。\n  \t\t\t其中 message 的值作为第一个参数，\n\t\t\t普通字符串 'arg1' 作为第二个参数，表达式 arg2 的值作为第三个参数。\n\t\t--\x3e\n        {{ message | filtera('arg1', 'arg2') }}\n    </div>\n    <script>\n        // 在过滤器中 第一个参数 对应的是  管道符前面的数据   n  此时对应 message\n        // 第2个参数  a 对应 实参  arg1 字符串\n        // 第3个参数  b 对应 实参  arg2 字符串\n        vue.filter('filtera',function(n,a,b){\n            if(n<10){\n                return n+a;\n            }else{\n                return n+b;\n            }\n        });\n        \n        new vue({\n            el:\"#box\",\n            data:{\n                message: \"哈哈哈\"\n            }\n        })\n\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 生命周期\n\n * 事物从出生到死亡的过程\n * vue实例从创建 到销毁的过程 ，这些过程中会伴随着一些函数的自调用。我们称这些函数为钩子函数\n\n####常用的 钩子函数\n\nbeforecreate    在实例初始化之后，数据观测和事件配置之前被调用 此时data 和 methods 以及页面的dom结构都没有初始化\n                什么都做不了\ncreated         在实例创建完成后被立即调用此时data 和 methods已经可以使用 但是页面还没有渲染出来\nbeforemount     在挂载开始之前被调用 此时页面上还看不到真实数据 只是一个模板页面而已\nmounted         el被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子。 数据已经真实渲染到页面上\n                在这个钩子函数里面我们可以使用一些第三方的插件\nbeforeupdate    数据更新时调用，发生在虚拟dom打补丁之前。 页面上数据还是旧的\nupdated         由于数据更改导致的虚拟dom重新渲染和打补丁，在这之后会调用该钩子。 页面上数据已经替换成最新的\nbeforedestroy   实例销毁之前调用\ndestroyed       实例销毁后调用\n\n\n# 数组变异方法\n\n * 在 vue 中，直接修改对象属性的值无法触发响应式。当你直接修改了对象属性的值，你会发现，只有数据改了，但是页面内容并没有改变\n * 变异数组方法即保持数组方法原有功能不变的前提下对其进行功能拓展\n\npush()      往数组最后面添加一个元素，成功返回当前数组的长度\npop()       删除数组的最后一个元素，成功返回删除元素的值\nshift()     删除数组的第一个元素，成功返回删除元素的值\nunshift()   往数组最前面添加一个元素，成功返回当前数组的长度\nsplice()    有三个参数，第一个是想要删除的元素的下标（必选），第二个是想要删除的个数（必选），第三个是删除 后想要在原位置替换的值\nsort()      sort() 使数组按照字符编码默认从小到大排序,成功返回排序后的数组\nreverse()   reverse() 将数组倒序，成功返回倒序后的数组\n\n# 替换数组\n\n * 不会改变原始数组，但总是返回一个新数组\n\nfilter   filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\nconcat   concat() 方法用于连接两个或多个数组。该方法不会改变现有的数组\nslice    slice() 方法可从已有的数组中返回选定的元素。该方法并不会修改数组，而是返回一个子数组\n\n# 动态数组响应式数据\n\n * vue.set(a,b,c) 让 触发视图重新更新一遍，数据动态起来\n * a是要更改的数据 、 b是数据的第几项、 c是更改后的数据\n\n\n# 常用特性应用场景\n\n# 1 过滤器\n\n * vue.filter 定义一个全局过滤器\n\n <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n     \t\t\x3c!-- 1.3  调用过滤器 --\x3e\n            <td>{{item.date | format('yyyy-mm-dd hh:mm:ss')}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toedit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent='deletebook(item.id)'>删除</a>\n            </td>\n</tr>\n\n<script>\n    \t#1.1  vue.filter  定义一个全局过滤器\n\t    vue.filter('format', function(value, arg) {\n              function dateformat(date, format) {\n                if (typeof date === \"string\") {\n                  var mts = date.match(/(\\/date\\((\\d+)\\)\\/)/);\n                  if (mts && mts.length >= 3) {\n                    date = parseint(mts[2]);\n                  }\n                }\n                date = new date(date);\n                if (!date || date.toutcstring() == \"invalid date\") {\n                  return \"\";\n                }\n                var map = {\n                  \"m\": date.getmonth() + 1, //月份 \n                  \"d\": date.getdate(), //日 \n                  \"h\": date.gethours(), //小时 \n                  \"m\": date.getminutes(), //分 \n                  \"s\": date.getseconds(), //秒 \n                  \"q\": math.floor((date.getmonth() + 3) / 3), //季度 \n                  \"s\": date.getmilliseconds() //毫秒 \n                };\n                format = format.replace(/([ymdhmsqs])+/g, function(all, t) {\n                  var v = map[t];\n                  if (v !== undefined) {\n                    if (all.length > 1) {\n                      v = '0' + v;\n                      v = v.substr(v.length - 2);\n                    }\n                    return v;\n                  } else if (t === 'y') {\n                    return (date.getfullyear() + '').substr(4 - all.length);\n                  }\n                  return all;\n                });\n                return format;\n              }\n              return dateformat(value, arg);\n            })\n#1.2  提供的数据 包含一个时间戳   为毫秒数\n   [{\n          id: 1,\n          name: '三国演义',\n          date: 2525609975000\n        },{\n          id: 2,\n          name: '水浒传',\n          date: 2525609975000\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: 2525609975000\n        },{\n          id: 4,\n          name: '西游记',\n          date: 2525609975000\n        }];\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\n# 2 自定义指令\n\n * 让表单自动获取焦点\n * 通过vue.directive 自定义指定\n\n\x3c!-- 2.2  通过v-自定义属性名 调用自定义指令 --\x3e\n<input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\" v-focus>\n\n<script>\n    # 2.1   通过vue.directive 自定义指定\n\tvue.directive('focus', {\n      inserted: function (el) {\n        el.focus();\n      }\n    });\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 3 计算属性\n\n * 通过计算属性计算图书的总数\n   * 图书的总数就是计算数组的长度\n\n <div class=\"total\">\n        <span>图书总数：</span>\n     \t\x3c!-- 3.2 在页面上 展示出来 --\x3e\n        <span>{{total}}</span>\n</div>\n\n  <script type=\"text/javascript\">\n    /*\n      计算属性与方法的区别:计算属性是基于依赖进行缓存的，而方法不缓存\n    */\n    var vm = new vue({\n      data: {\n        flag: false,\n        submitflag: false,\n        id: '',\n        name: '',\n        books: []\n      },\n      computed: {\n        total: function(){\n          // 3.1  计算图书的总数\n          return this.books.length;\n        }\n      },\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 每日一练-图书列表💯\n\n * 静态列表效果\n * 基于数据实现模板效果\n * 处理每行的操作按钮\n\n# 1、 提供的静态数据\n\n * 数据存放在vue 中 data 属性中\n\n var vm = new vue({\n      el: '#app',\n      data: {\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      }\n    }); var vm = new vue({\n      el: '#app',\n      data: {\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      }\n    });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n# 2、 把提供好的数据渲染到页面上\n\n * 利用 v-for循环 遍历 books 将每一项数据渲染到对应的数据中\n\n <tbody>\n    <tr :key='item.id' v-for='item in books'>\n       \x3c!-- 对应的id 渲染到页面上 --\x3e\n       <td>{{item.id}}</td>\n        \x3c!-- 对应的name 渲染到页面上 --\x3e\n       <td>{{item.name}}</td>\n       <td>{{item.date}}</td>\n       <td>\n         \x3c!-- 阻止 a 标签的默认跳转 --\x3e\n         <a href=\"\" @click.prevent>修改</a>\n         <span>|</span>\n       \t  <a href=\"\" @click.prevent>删除</a>\n       </td>\n     </tr>\n</tbody>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n# 3、 添加图书\n\n * 通过双向绑定获取到输入框中的输入内容\n * 给按钮添加点击事件\n * 把输入框中的数据存储到 data 中的 books 里面\n\n<div>\n  <h1>图书管理</h1>\n  <div class=\"book\">\n       <div>\n         <label for=\"id\">\n           编号：\n         </label>\n          \x3c!-- 3.1、通过双向绑定获取到输入框中的输入的 id  --\x3e\n         <input type=\"text\" id=\"id\" v-model='id'>\n         <label for=\"name\">\n           名称：\n         </label>\n           \x3c!-- 3.2、通过双向绑定获取到输入框中的输入的 name  --\x3e\n         <input type=\"text\" id=\"name\" v-model='name'>\n            \x3c!-- 3.3、给按钮添加点击事件  --\x3e\n         <button @click='handle'>提交</button>\n       </div>\n  </div>\n</div>\n  <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new vue({\n      el: '#app',\n      data: {\n        id: '',\n        name: '',\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      },\n      methods: {\n        handle: function(){\n          // 3.4 定义一个新的对象book 存储 获取到输入框中 书 的id和名字 \n          var book = {};\n          book.id = this.id;\n          book.name = this.name;\n          book.date = '';\n         // 3.5 把book  通过数组的变异方法 push 放到    books 里面\n          this.books.push(book);\n          //3.6 清空输入框\n          this.id = '';\n          this.name = '';\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n# 4 修改图书-上\n\n * 点击修改按钮的时候 获取到要修改的书籍名单\n   * 4.1 给修改按钮添加点击事件， 需要把当前的图书的id 传递过去 这样才知道需要修改的是哪一本书籍\n * 把需要修改的书籍名单填充到表单里面\n   * 4.2 根据传递过来的id 查出books 中 对应书籍的详细信息\n   * 4.3 把获取到的信息填充到表单\n\n <div id=\"app\">\n    <div class=\"grid\">\n      <div>\n        <h1>图书管理</h1>\n        <div class=\"book\">\n          <div>\n            <label for=\"id\">\n              编号：\n            </label>\n            <input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\">\n            <label for=\"name\">\n              名称：\n            </label>\n            <input type=\"text\" id=\"name\" v-model='name'>\n            <button @click='handle'>提交</button>\n          </div>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>编号</th>\n            <th>名称</th>\n            <th>时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              \x3c!--- \n\t\t\t\t4.1  给修改按钮添加点击事件，  需要把当前的图书的id 传递过去 \n\t\t\t\t这样才知道需要修改的是哪一本书籍\n  \t\t\t\t---\x3e  \n              <a href=\"\" @click.prevent='toedit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent>删除</a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new vue({\n      el: '#app',\n      data: {\n        flag: false,\n        id: '',\n        name: '',\n        books: [{\n          id: 1,\n          name: '三国演义',\n          date: ''\n        },{\n          id: 2,\n          name: '水浒传',\n          date: ''\n        },{\n          id: 3,\n          name: '红楼梦',\n          date: ''\n        },{\n          id: 4,\n          name: '西游记',\n          date: ''\n        }]\n      },\n      methods: {\n        handle: function(){\n          // 3.4 定义一个新的对象book 存储 获取到输入框中 书 的id和名字 \n          var book = {};\n          book.id = this.id;\n          book.name = this.name;\n          book.date = '';\n         // 3.5 把book  通过数组的变异方法 push 放到    books 里面\n          this.books.push(book);\n          //3.6 清空输入框\n          this.id = '';\n          this.name = '';\n        },\n        toedit: function(id){\n          console.log(id)\n          //4.2  根据传递过来的id 查出books 中 对应书籍的详细信息\n          var book = this.books.filter(function(item){\n            return item.id == id;\n          });\n          console.log(book)\n          //4.3 把获取到的信息填充到表单\n          // this.id   和  this.name 通过双向绑定 绑定到了表单中  一旦数据改变视图自动更新\n          this.id = book[0].id;\n          this.name = book[0].name;\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n\n\n# 5 修改图书-下\n\n * 5.1 定义一个标识符， 主要是控制 编辑状态下当前编辑书籍的id 不能被修改 即 处于编辑状态下 当前控制书籍编号的输入框禁用\n * 5.2 通过属性绑定给书籍编号的 绑定 disabled 的属性 flag 为 true 即为禁用\n * 5.3 flag 默认值为false 处于编辑状态 要把 flag 改为true 即当前表单为禁用\n * 5.4 复用添加方法 用户点击提交的时候依然执行 handle 中的逻辑如果 flag为true 即 表单处于不可输入状态 此时执行的用户编辑数据数据\n\n<div id=\"app\">\n    <div class=\"grid\">\n      <div>\n        <h1>图书管理</h1>\n        <div class=\"book\">\n          <div>\n            <label for=\"id\">\n              编号：\n            </label>\n              \x3c!-- 5.2 通过属性绑定 绑定 disabled 的属性  flag 为 true 即为禁用      --\x3e\n            <input type=\"text\" id=\"id\" v-model='id' :disabled=\"flag\">\n            <label for=\"name\">\n              名称：\n            </label>\n            <input type=\"text\" id=\"name\" v-model='name'>\n            <button @click='handle'>提交</button>\n          </div>\n        </div>\n      </div>\n      <table>\n        <thead>\n          <tr>\n            <th>编号</th>\n            <th>名称</th>\n            <th>时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toedit(item.id)'>修改</a>\n              <span>|</span>\n              <a href=\"\" @click.prevent>删除</a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>   \n<script type=\"text/javascript\">\n        /*图书管理-添加图书*/\n        var vm = new vue({\n            el: '#app',\n            data: {\n                // 5.1  定义一个标识符， 主要是控制 编辑状态下当前编辑书籍的id 不能被修改 \n                // 即 处于编辑状态下 当前控制书籍编号的输入框禁用 \n                flag: false,\n                id: '',\n                name: '',\n              \n            },\n            methods: {\n                handle: function() {\n                   /*\n                     5.4  复用添加方法   用户点击提交的时候依然执行 handle 中的逻辑\n                 \t\t 如果 flag为true 即 表单处于不可输入状态 此时执行的用户编辑数据数据\t\n                   */ \n                    if (this.flag) {\n                        // 编辑图书\n                        // 5.5  根据当前的id去更新数组中对应的数据  \n                        this.books.some((item) => {\n                            if (item.id == this.id) {\n                                // 箭头函数中 this 指向父级作用域的this \n                                item.name = this.name;\n                                // 完成更新操作之后，需要终止循环\n                                return true;\n                            }\n                        });\n                        // 5.6 编辑完数据后表单要处以可以输入的状态\n                        this.flag = false;\n                    //  5.7  如果 flag为false  表单处于输入状态 此时执行的用户添加数据    \n                    } else { \n                        var book = {};\n                        book.id = this.id;\n                        book.name = this.name;\n                        book.date = '';\n                        this.books.push(book);\n                        // 清空表单\n                        this.id = '';\n                        this.name = '';\n                    }\n                    // 清空表单\n                    this.id = '';\n                    this.name = '';\n                },\n                toedit: function(id) {\n                     /*\n                     5.3  flag 默认值为false   处于编辑状态 要把 flag 改为true 即当前表单为禁\t\t\t\t\t  用 \n                     */ \n                    this.flag = true;\n                    console.log(id)\n                    var book = this.books.filter(function(item) {\n                        return item.id == id;\n                    });\n                    console.log(book)\n                    this.id = book[0].id;\n                    this.name = book[0].name;\n                }\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n\n\n# 6 删除图书\n\n * 6.1 给删除按钮添加事件 把当前需要删除的书籍id 传递过来\n * 6.2 根据id从数组中查找元素的索引\n * 6.3 根据索引删除数组元素\n\n  <tbody>\n          <tr :key='item.id' v-for='item in books'>\n            <td>{{item.id}}</td>\n            <td>{{item.name}}</td>\n            <td>{{item.date}}</td>\n            <td>\n              <a href=\"\" @click.prevent='toedit(item.id)'>修改</a>\n              <span>|</span>\n               \x3c!--  6.1 给删除按钮添加事件 把当前需要删除的书籍id 传递过来  --\x3e \n              <a href=\"\" @click.prevent='deletebook(item.id)'>删除</a>\n            </td>\n          </tr>\n</tbody>\n  <script type=\"text/javascript\">\n    /*\n      图书管理-添加图书\n    */\n    var vm = new vue({\n      methods: {\n        deletebook: function(id){\n          // 删除图书\n          #// 6.2 根据id从数组中查找元素的索引\n          // var index = this.books.findindex(function(item){\n          //   return item.id == id;\n          // });\n          #// 6.3 根据索引删除数组元素\n          // this.books.splice(index, 1);\n          // -------------------------\n         #// 方法二：通过filter方法进行删除\n\t\t\n          # 6.4  根据filter 方法 过滤出来id 不是要删除书籍的id \n          # 因为 filter 是替换数组不会修改原始数据 所以需要 把 不是要删除书籍的id  赋值给 books \n          this.books = this.books.filter(function(item){\n            return item.id != id;\n          });\n        }\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day03 - Vue组件",frontmatter:{title:"VUE Study Day03 - Vue组件",date:"2021-2-5",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第3天 Vue组件"},{name:"keywords",content:"自学 vue 组件 插槽 父子组件"},{name:"image",content:"https://www.yangxiaokang.com/day03-%E7%BB%84%E4%BB%B6.assets/image-20230308201528417.png"},{name:"twitter:title",content:"VUE Study Day03 - Vue组件"},{name:"twitter:description",content:"标题信息"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day03-%E7%BB%84%E4%BB%B6.assets/image-20230308201528417.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day03-%E7%BB%84%E4%BB%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day03 - Vue组件"},{property:"og:description",content:"标题信息"},{property:"og:image",content:"https://www.yangxiaokang.com/day03-%E7%BB%84%E4%BB%B6.assets/image-20230308201528417.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day03-%E7%BB%84%E4%BB%B6.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-5"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day03 - Vue组件"},{itemprop:"description",content:"标题信息"},{itemprop:"image",content:"https://www.yangxiaokang.com/day03-%E7%BB%84%E4%BB%B6.assets/image-20230308201528417.png"}],feed:{enable:!0},permalink:"/article/vue/studyvueday3.html",summary:"不断学习，不断提升，日拱一卒，学习vue第3天",description:"标题信息"},regularPath:"/article/vue/day03-%E7%BB%84%E4%BB%B6.html",relativePath:"article/vue/day03-组件.md",key:"v-232a4853",path:"/article/vue/studyvueday3.html",headers:[{level:2,title:"组件",slug:"组件",normalizedTitle:"组件",charIndex:2},{level:2,title:"组件注册",slug:"组件注册",normalizedTitle:"组件注册",charIndex:72},{level:3,title:"全局注册",slug:"全局注册",normalizedTitle:"全局注册",charIndex:81},{level:3,title:"局部注册",slug:"局部注册",normalizedTitle:"局部注册",charIndex:2018},{level:2,title:"Vue组件之间传值",slug:"vue组件之间传值",normalizedTitle:"vue组件之间传值",charIndex:3739},{level:3,title:"父组件向子组件传值",slug:"父组件向子组件传值",normalizedTitle:"父组件向子组件传值",charIndex:3753},{level:3,title:"子组件向父组件传值",slug:"子组件向父组件传值",normalizedTitle:"子组件向父组件传值",charIndex:4722},{level:3,title:"兄弟之间的传递",slug:"兄弟之间的传递",normalizedTitle:"兄弟之间的传递",charIndex:6126},{level:2,title:"数据双向绑定",slug:"数据双向绑定",normalizedTitle:"数据双向绑定",charIndex:8414},{level:2,title:"组件插槽",slug:"组件插槽",normalizedTitle:"组件插槽",charIndex:11457},{level:3,title:"匿名插槽",slug:"匿名插槽",normalizedTitle:"匿名插槽",charIndex:11502},{level:3,title:"具名插槽",slug:"具名插槽",normalizedTitle:"具名插槽",charIndex:12192},{level:3,title:"作用域插槽",slug:"作用域插槽",normalizedTitle:"作用域插槽",charIndex:13622},{level:2,title:"Vue 调试工具",slug:"vue-调试工具",normalizedTitle:"vue 调试工具",charIndex:15114},{level:2,title:"每日一练-购物车💯",slug:"每日一练-购物车💯",normalizedTitle:"每日一练-购物车💯",charIndex:15184}],headersStr:"组件 组件注册 全局注册 局部注册 Vue组件之间传值 父组件向子组件传值 子组件向父组件传值 兄弟之间的传递 数据双向绑定 组件插槽 匿名插槽 具名插槽 作用域插槽 Vue 调试工具 每日一练-购物车💯",content:"# 组件\n\n * 组件 (Component) 是 Vue.js 最强大的功能之一\n * 组件可以扩展 HTML 元素，封装可重用的代\n\n\n# 组件注册\n\n\n# 全局注册\n\n * Vue.component('组件名称', { }) 第1个参数是标签名称，第2个参数是一个选项对象\n * 全局组件注册后，任何vue实例都可以用\n\n# 组件基础用法\n\n<div id=\"example\">\n  \x3c!-- 2、 组件使用 组件名称 是以HTML标签的形式使用  --\x3e  \n  <my-component></my-component>\n</div>\n<script>\n    //   注册组件 \n    // 1、 my-component 就是组件中自定义的标签名\n\tVue.component('my-component', {\n      template: '<div>A custom component!</div>'\n    })\n\n    // 创建根实例\n    new Vue({\n      el: '#example'\n    })\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 组件注意事项\n\n * 组件参数的data值必须是函数同时这个函数要求返回一个对象\n * 组件模板必须是单个根元素\n * 组件模板的内容可以是模板字符串\n\n  <div id=\"app\">\n     \x3c!-- \n\t\t4、  组件可以重复使用多次 \n\t      因为data中返回的是一个对象所以每个组件中的数据是私有的\n\t\t  即每个实例可以维护一份被返回对象的独立的拷贝   \n\t--\x3e \n    <button-counter></button-counter>\n    <button-counter></button-counter>\n    <button-counter></button-counter>\n      \x3c!-- 8、必须使用短横线的方式使用组件 --\x3e\n     <hello-world></hello-world>\n  </div>\n\n<script type=\"text/javascript\">\n\t//5  如果使用驼峰式命名组件，那么在使用组件的时候，只能在字符串模板中用驼峰的方式使用组件，\n    // 7、但是在普通的标签模板中，必须使用短横线的方式使用组件\n     Vue.component('HelloWorld', {\n      data: function(){\n        return {\n          msg: 'HelloWorld'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    });\n    \n    \n    \n    Vue.component('button-counter', {\n      // 1、组件参数的data值必须是函数 \n      // 同时这个函数要求返回一个对象  \n      data: function(){\n        return {\n          count: 0\n        }\n      },\n      //  2、组件模板必须是单个根元素\n      //  3、组件模板的内容可以是模板字符串  \n      template: `\n        <div>\n          <button @click=\"handle\">点击了{{count}}次</button>\n          <button>测试123</button>\n\t\t\t#  6 在字符串模板中可以使用驼峰的方式使用组件\t\n\t\t   <HelloWorld></HelloWorld>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          this.count += 2;\n        }\n      }\n    })\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n\n# 局部注册\n\n * 只能在当前注册它的vue实例中使用\n\n  <div id=\"app\">\n      <my-component></my-component>\n  </div>\n\n\n<script>\n    // 定义组件的模板\n    var Child = {\n      template: '<div>A custom component!</div>'\n    }\n    new Vue({\n      //局部注册组件  \n      components: {\n        // <my-component> 将只在父模板可用  一定要在实例上注册了才能在html文件中使用\n        'my-component': Child\n      }\n    })\n <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n可以在vue容器中注册，也可以以变量形式注册在全局组件中，注意顺序，必须先声明变量在调用\n\n <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      局部组件注册\n      局部组件只能在注册他的父组件中使用\n    */\n\n    \n    var HelloWorld = {\n      data:function(){\n        return {\n          msg:'HelloWorld'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n// 自定义组件如hello-world必须在全局组件的上面才能被调用，否则会提示‘ <hello-world> - did you register the component correctly’\n    Vue.component('test-com',{\n     template:'<div>Test<hello-world></hello-world></div>',\n     components:{\n       'hello-world':HelloWorld\n     }\n   });\n    var HelloJerry = {\n      data:function(){\n        return {\n          msg:'HelloJerry'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n    var HelloTom = {\n      data:function(){\n        return {\n          msg:'HelloTom'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        \n      },\n      // 自定义组件可以被vm实例下调用，也可以被全局组件调用\n      components: {\n        'hello-world': HelloWorld,\n        'hello-tom': HelloTom,\n        'hello-jerry': HelloJerry\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# Vue组件之间传值\n\n\n# 父组件向子组件传值\n\n * 父组件发送的形式是以属性的形式绑定值到子组件身上。\n * 然后子组件用属性props接收\n * 在props中使用驼峰形式，模板中需要使用短横线的形式字符串形式的模板中没有这个限制\n\n  <div id=\"app\">\n    <div>{{pmsg}}</div>\n     \x3c!--1、menu-item  在 APP中嵌套着 故 menu-item   为  子组件      --\x3e\n     \x3c!-- 给子组件传入一个静态的值 --\x3e\n    <menu-item title='来自父组件的值'></menu-item>\n    \x3c!-- 2、 需要动态的数据的时候 需要属性绑定的形式设置 此时 ptitle  来自父组件data 中的数据 . \n\t\t  传的值可以是数字、对象、数组等等\n\t--\x3e\n    <menu-item :title='ptitle' content='hello'></menu-item>\n  </div>\n\n  <script type=\"text/javascript\">\n    Vue.component('menu-item', {\n      // 3、 子组件用属性props接收父组件传递过来的数据  \n      props: ['title', 'content'],\n      data: function() {\n        return {\n          msg: '子组件本身的数据'\n        }\n      },\n      template: '<div>{{msg + \"----\" + title + \"-----\" + content}}</div>'\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        pmsg: '父组件中内容',\n        ptitle: '动态绑定属性'\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 子组件向父组件传值\n\n * 子组件用$emit()触发事件\n * $emit() 第一个参数为 自定义的事件名称 第二个参数为需要传递的数据\n * 父组件用v-on 监听子组件的事件\n\n> 子组件传递this.$emit('myEvent')，父组件需要监听myevent事件，html会全部转为小写，并不会转为my-event\n\n <div id=\"app\">\n    <div :style='{fontSize: fontSize + \"px\"}'>{{pmsg}}</div>\n     \x3c!-- 2 父组件用v-on 监听子组件的事件\n\t\t这里 enlarge-text  是从 $emit 中的第一个参数对应   handle 为对应的事件处理函数\t\n\t--\x3e\t\n    <menu-item :parr='parr' @enlarge-text='handle($event)'></menu-item>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      子组件向父组件传值-携带参数\n    */\n    \n    Vue.component('menu-item', {\n      props: ['parr'],\n      template: `\n        <div>\n          <ul>\n            <li :key='index' v-for='(item,index) in parr'>{{item}}</li>\n          </ul>\n\t\t\t###  1、子组件用$emit()触发事件\n\t\t\t### 第一个参数为 自定义的事件名称   第二个参数为需要传递的数据  \n          <button @click='$emit(\"enlarge-text\", 5)'>扩大父组件中字体大小</button>\n          <button @click='$emit(\"enlarge-text\", 10)'>扩大父组件中字体大小</button>\n        </div>\n      `\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        pmsg: '父组件中内容',\n        parr: ['apple','orange','banana'],\n        fontSize: 10\n      },\n      methods: {\n        handle: function(val){\n          // 扩大字体大小\n          this.fontSize += val;\n        }\n      }\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 兄弟之间的传递\n\n * 兄弟之间传递数据需要借助于事件中心，通过事件中心传递数据\n   * 提供事件中心 var hub = new Vue()\n * 传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)\n * 接收数据方，通过mounted(){} 钩子中 触发hub.$on()方法名\n * 销毁事件 通过hub.$off()方法名销毁之后无法进行传递数据\n\n <div id=\"app\">\n    <div>父组件</div>\n    <div>\n      <button @click='handle'>销毁事件</button>\n    </div>\n    <test-tom></test-tom>\n    <test-jerry></test-jerry>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      兄弟组件之间数据传递\n    */\n    //1、 提供事件中心\n    var hub = new Vue();\n\n    Vue.component('test-tom', {\n      data: function(){\n        return {\n          num: 0\n        }\n      },\n      template: `\n        <div>\n          <div>TOM:{{num}}</div>\n          <div>\n            <button @click='handle'>点击</button>\n          </div>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          //2、传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)   触发兄弟组件的事件\n          hub.$emit('jerry-event', 2);\n        }\n      },\n      mounted: function() {\n       // 3、接收数据方，通过mounted(){} 钩子中  触发hub.$on(方法名\n        hub.$on('tom-event', (val) => {\n          this.num += val;\n        });\n      }\n    });\n    Vue.component('test-jerry', {\n      data: function(){\n        return {\n          num: 0\n        }\n      },\n      template: `\n        <div>\n          <div>JERRY:{{num}}</div>\n          <div>\n            <button @click='handle'>点击</button>\n          </div>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          //2、传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)   触发兄弟组件的事件\n          hub.$emit('tom-event', 1);\n        }\n      },\n      mounted: function() {\n        // 3、接收数据方，通过mounted(){} 钩子中  触发hub.$on()方法名\n        hub.$on('jerry-event', (val) => {\n          this.num += val;\n        });\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        \n      },\n      methods: {\n        handle: function(){\n          //4、销毁事件 通过hub.$off()方法名销毁之后无法进行传递数据  \n          hub.$off('tom-event');\n          hub.$off('jerry-event');\n        }\n      }\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\n\n# 数据双向绑定\n\n# 自定义v-model\n\n一个自定义组件中只能有一个v-model\n\n一个组件上的 v-model 默认会利用名为 value 的 prop 和名为 input 的事件，\n\n以下是一个最简单的自定义v-model\n\n子组件\n\n<template>\n  <div>\n    <input type=\"text\" :value=\"value1\" @input=\"$emit('input', $event.target.value)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n      required: true\n    }\n  }\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n子组件通过监听input框的input事件，发现有输入时，通过$emit将新的指传递给父组件\n\n父组件\n\n<template>\n  <div>\n    <my-custom-component v-model=\"data1\" ></my-custom-component>\n  </div>\n</template>\n\n<script>\nimport MyCustomComponent from '@/components/MyCustomComponent.vue'\n\nexport default {\n  components: {\n    MyCustomComponent\n  },\n  data() {\n    return {\n      data1: 'hello',\n    };\n  }\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n父组件通过props将指传递给子组件\n\n> 像单选框、复选框等类型的输入控件可能会将 value attribute 用于不同的目的。model 选项可以用来避免这样的冲突：\n\n子组件\n\n<template>\n  <div>\n    <input type=\"checkbox\"  v-bind:checked=\"checked\"\n      v-on:change=\"$emit('change', $event.target.checked)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    checked: Boolean\n  },\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n父组件不变，自定义了model的prop及event\n\n# 伪v-model：.sync\n\n一个自定义组件中只能有一个v-model，有多个需求如何破？\n\n在有些情况下，我们可能需要对一个 prop 进行“双向绑定”：this.$emit('title', newTitle) 。不幸的是，真正的双向绑定会带来维护上的问题，因为子组件可以变更父组件，且在父组件和子组件两侧都没有明显的变更来源。\n\n所以推荐以update:myPropName 的模式触发事件取而代之。\n\n子组件：\n\n<template>\n  <div>\n    <input type=\"text\" :value=\"value2\" @input=\"$emit('update:propData2', $event.target.value)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    propData2: {\n      type: String,\n      required: true\n    }\n  },\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n通过propData2接受父组件的数据传递，通过$emit('update:propData2', $event.target.value) 方法将input框输入的数据传递给父组件，update表示更新某个props，propData2表示事件名，父组件需要监听这个事件名。\n\n> 此时还可以简化，改为:value=\"propData2\" ，这样不需要 @input=\"$emit('update:propData2' 来负责input框的更新来自父组件的输入，父组件使用了.sync，也会自动更新子组件的输入。\n\n父组件：\n\n<template>\n  <div>\n    <my-custom-component  :prop-data2.sync=\"data2\"></my-custom-component>\n  </div>\n</template>\n\n<script>\nimport MyCustomComponent from '@/components/MyCustomComponent.vue'\n\nexport default {\n  components: {\n    MyCustomComponent\n  },\n  data() {\n    return {\n      data2: 'world'\n    };\n  }\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n:prop-data2.sync=\"data2\"是v-on:update:prop-data2=\"data2 = $event\" 的缩写，prop-data2是监听的事件名，对应子组件update:propData2。\n\n注意：子组件的事件名是驼峰式，父组件监听的是烤串式。\n\n注意事项\n\n> 子组件传递this.$emit('myEvent')，父组件需要监听myevent事件，html会全部转为小写，并不会转为my-event\n\n> 注意带有 .sync 修饰符的 v-bind 不能和表达式一起使用 (例如 v-bind:title.sync=”doc.title + ‘!’” 是无效的)。取而代之的是，你只能提供你想要绑定的 property 名，类似 v-model。\n\n当我们用一个对象同时设置多个 prop 的时候，也可以将这个 .sync 修饰符和 v-bind 配合使用：\n\n<text-document v-bind.sync=\"doc\"></text-document>\n\n\n1\n\n\n这样会把 doc 对象中的每一个 property (如 title) 都作为一个独立的 prop 传进去，然后各自添加用于更新的 v-on 监听器。\n\n> 将 v-bind.sync 用在一个字面量的对象上，例如 v-bind.sync=”{ title: doc.title }”，是无法正常工作的，因为在解析一个像这样的复杂表达式的时候，有很多边缘情况需要考虑。\n\n\n# 组件插槽\n\n * 组件的最大特性就是复用性，而用好插槽能大大提高组件的可复用能力\n\n\n# 匿名插槽\n\n  <div id=\"app\">\n    \x3c!-- 这里的所有组件标签中嵌套的内容会替换掉slot  如果不传值 则使用 slot 中的默认值  --\x3e  \n    <alert-box>有bug发生</alert-box>\n    <alert-box>有一个警告</alert-box>\n    <alert-box></alert-box>\n  </div>\n\n  <script type=\"text/javascript\">\n    /*\n      组件插槽：父组件向子组件传递内容\n    */\n    Vue.component('alert-box', {\n      template: `\n        <div>\n          <strong>ERROR:</strong>\n\t\t# 当组件渲染的时候，这个 <slot> 元素将会被替换为“组件标签中嵌套的内容”。\n\t\t# 插槽内可以包含任何模板代码，包括 HTML\n          <slot>默认内容</slot>\n        </div>\n      `\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 具名插槽\n\n * 具有名字的插槽\n * 使用 <slot> 中的 \"name\" 属性绑定元素\n\n  <div id=\"app\">\n    <base-layout>\n       \x3c!-- 2、 通过slot属性来指定, 这个slot的值必须和下面slot组件得name值对应上\n\t\t\t\t如果没有匹配到 则放到匿名的插槽中   --\x3e \n      <p slot='header'>标题信息</p>\n      <p>主要内容1</p>\n      <p>主要内容2</p>\n      <p slot='footer'>底部信息信息</p>\n    </base-layout>\n\n    <base-layout>\n      \x3c!-- 注意点：template临时的包裹标签最终不会渲染到页面上     --\x3e  \n      <template slot='header'>\n        <p>标题信息1</p>\n        <p>标题信息2</p>\n      </template>\n      <p>主要内容1</p>\n      <p>主要内容2</p>\n      <template slot='footer'>\n        <p>底部信息信息1</p>\n        <p>底部信息信息2</p>\n      </template>\n    </base-layout>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      具名插槽\n    */\n    Vue.component('base-layout', {\n      template: `\n        <div>\n          <header>\n\t\t\t###\t1、 使用 <slot> 中的 \"name\" 属性绑定元素 指定当前插槽的名字\n            <slot name='header'></slot>\n          </header>\n          <main>\n            <slot></slot>\n          </main>\n          <footer>\n\t\t\t###  注意点： \n\t\t\t###  具名插槽的渲染顺序，完全取决于模板，而不是取决于父组件中元素的顺序\n            <slot name='footer'></slot>\n          </footer>\n        </div>\n      `\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n\n# 作用域插槽\n\n * 父组件对子组件加工处理\n * 既可以复用子组件的slot，又可以使slot内容不一致\n\n  <div id=\"app\">\n    \x3c!-- \n\t\t1、当我们希望li 的样式由外部使用组件的地方定义，因为可能有多种地方要使用该组件，\n\t\t但样式希望不一样 这个时候我们需要使用作用域插槽 \n\t\t\n\t--\x3e  \n    <fruit-list :list='list'>\n       \x3c!-- 2、 父组件中使用了<template>元素,而且包含scope=\"slotProps\",\n\t\t\tslotProps在这里只是临时变量   \n\t\t---\x3e \t\n      <template slot-scope='slotProps'>\n        <strong v-if='slotProps.info.id==3' class=\"current\">\n            {{slotProps.info.name}}\t\t         \n         </strong>\n        <span v-else>{{slotProps.info.name}}</span>\n      </template>\n    </fruit-list>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      作用域插槽\n    */\n    Vue.component('fruit-list', {\n      props: ['list'],\n      template: `\n        <div>\n          <li :key='item.id' v-for='item in list'>\n\t\t\t###  3、 在子组件模板中,<slot>元素上有一个类似props传递数据给组件的写法msg=\"xxx\",\n\t\t\t###   插槽可以提供一个默认内容，如果如果父组件没有为这个插槽提供了内容，会显示默认的内容。\n\t\t\t\t\t如果父组件为这个插槽提供了内容，则默认的内容会被替换掉\n            <slot :info='item'>{{item.name}}</slot>\n          </li>\n        </div>\n      `\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n        list: [{\n          id: 1,\n          name: 'apple'\n        },{\n          id: 2,\n          name: 'orange'\n        },{\n          id: 3,\n          name: 'banana'\n        }]\n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# Vue 调试工具\n\nchrome浏览器商店里搜索vue.js devtools，安装后，在vue也没F12可以看到调试工具\n\n\n\n\n\n\n# 每日一练-购物车💯\n\n# 1. 实现组件化布局\n\n * 把静态页面转换成组件化模式\n * 把组件渲染到页面上\n\n <div id=\"app\">\n    <div class=\"container\">\n      \x3c!-- 2、把组件渲染到页面上 --\x3e \n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    # 1、 把静态页面转换成组件化模式\n    # 1.1  标题组件 \n    var CartTitle = {\n      template: `\n        <div class=\"title\">我的商品</div>\n      `\n    }\n    # 1.2  商品列表组件 \n    var CartList = {\n      #  注意点 ：  组件模板必须是单个根元素  \n      template: `\n        <div>\n          <div class=\"item\">\n            <img src=\"img/a.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/b.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/c.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/d.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/e.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n        </div>\n      `\n    }\n    # 1.3  商品结算组件 \n    var CartTotal = {\n      template: `\n        <div class=\"total\">\n          <span>总价：123</span>\n          <button>结算</button>\n        </div>\n      `\n    }\n    ## 1.4  定义一个全局组件 my-cart\n    Vue.component('my-cart',{\n      ##  1.6 引入子组件  \n      template: `\n        <div class='cart'>\n          <cart-title></cart-title>\n          <cart-list></cart-list>\n          <cart-total></cart-total>\n        </div>\n      `,\n      # 1.5  注册子组件   \n      components: {\n        'cart-title': CartTitle,\n        'cart-list': CartList,\n        'cart-total': CartTotal\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n\n\n# 2、实现 标题和结算功能组件\n\n * 标题组件实现动态渲染\n   * 从父组件把标题数据传递过来 即 父向子组件传值\n   * 把传递过来的数据渲染到页面上\n * 结算功能组件\n   * 从父组件把商品列表list 数据传递过来 即 父向子组件传值\n   * 把传递过来的数据计算最终价格渲染到页面上\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n     # 2.2  标题组件     子组件通过props形式接收父组件传递过来的uname数据\n    var CartTitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n\t# 2.3  商品结算组件  子组件通过props形式接收父组件传递过来的list数据   \n    var CartTotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        # 2.4    计算商品的总价  并渲染到页面上 \n        total: function() {\n          var t = 0;\n          this.list.forEach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    Vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'TCL彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'PPTV电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      #  2.1  父组件向子组件以属性传递的形式 传递数据\n      #   向 标题组件传递 uname 属性   向 商品结算组件传递 list  属性  \n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n          <cart-list></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': CartTitle,\n        'cart-list': CartList,\n        'cart-total': CartTotal\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n# 3. 实现列表组件删除功能\n\n * 从父组件把商品列表list 数据传递过来 即 父向子组件传值\n * 把传递过来的数据渲染到页面上\n * 点击删除按钮的时候删除对应的数据\n   * 给按钮添加点击事件把需要删除的id传递过来\n     * 子组件中不推荐操作父组件的数据有可能多个子组件使用父组件的数据 我们需要把数据传递给父组件让父组件操作数据\n     * 父组件删除对应的数据\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var CartTitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    #  3.2 把列表数据动态渲染到页面上  \n    var CartList = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n\t\t\t# 3.3  给按钮添加点击事件把需要删除的id传递过来\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        del: function(id){\n           # 3.4 子组件中不推荐操作父组件的数据有可能多个子组件使用父组件的数据 \n          # \t  我们需要把数据传递给父组件 让父组件操作数据 \n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var CartTotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.forEach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    Vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'TCL彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'PPTV电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      # 3.1 从父组件把商品列表list 数据传递过来 即 父向子组件传值  \n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n\t\t  #  3.5  父组件通过事件绑定 接收子组件传递过来的数据 \n          <cart-list :list='list' @cart-del='delCart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': CartTitle,\n        'cart-list': CartList,\n        'cart-total': CartTotal\n      },\n      methods: {\n        # 3.6    根据id删除list中对应的数据        \n        delCart: function(id) {\n          // 1、找到id所对应数据的索引\n          var index = this.list.findIndex(item=>{\n            return item.id == id;\n          });\n          // 2、根据索引删除对应数据\n          this.list.splice(index, 1);\n        }\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n\n\n# 4. 实现组件更新数据功能 上\n\n * 将输入框中的默认数据动态渲染出来\n * 输入框失去焦点的时候 更改商品的数量\n * 子组件中不推荐操作数据 把这些数据传递给父组件 让父组件处理这些数据\n * 父组件中接收子组件传递过来的数据并处理\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var CartTitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    var CartList = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n\t\t\t\t# 1. 将输入框中的默认数据动态渲染出来\n\t\t\t\t# 2. 输入框失去焦点的时候 更改商品的数量  需要将当前商品的id 传递过来\n              <input type=\"text\" class=\"num\" :value='item.num' @blur='changeNum(item.id, $event)'/>\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        changeNum: function(id, event){\n          # 3 子组件中不推荐操作数据  因为别的组件可能也引用了这些数据\n          #  把这些数据传递给父组件 让父组件处理这些数据\n          this.$emit('change-num', {\n            id: id,\n            num: event.target.value\n          });\n        },\n        del: function(id){\n          // 把id传递给父组件\n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var CartTotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.forEach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    Vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'TCL彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          }]\n      },\n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n\t\t\t# 4  父组件中接收子组件传递过来的数据 \n          <cart-list :list='list' @change-num='changeNum($event)' @cart-del='delCart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': CartTitle,\n        'cart-list': CartList,\n        'cart-total': CartTotal\n      },\n      methods: {\n        changeNum: function(val) {\n          //4.1 根据子组件传递过来的数据，跟新list中对应的数据\n          this.list.some(item=>{\n            if(item.id == val.id) {\n              item.num = val.num;\n              // 终止遍历\n              return true;\n            }\n          });\n        },\n        delCart: function(id) {\n          // 根据id删除list中对应的数据\n          // 1、找到id所对应数据的索引\n          var index = this.list.findIndex(item=>{\n            return item.id == id;\n          });\n          // 2、根据索引删除对应数据\n          this.list.splice(index, 1);\n        }\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n\n\n# 5. 实现组件更新数据功能 下\n\n * 子组件通过一个标识符来标记对用的用户点击 + - 或者输入框输入的内容\n * 父组件拿到标识符更新对应的组件\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Document</title>\n  <style type=\"text/css\">\n    .container {\n    }\n    .container .cart {\n      width: 300px;\n      margin: auto;\n    }\n    .container .title {\n      background-color: lightblue;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      /*color: #fff;*/  \n    }\n    .container .total {\n      background-color: #FFCE46;\n      height: 50px;\n      line-height: 50px;\n      text-align: right;\n    }\n    .container .total button {\n      margin: 0 10px;\n      background-color: #DC4C40;\n      height: 35px;\n      width: 80px;\n      border: 0;\n    }\n    .container .total span {\n      color: red;\n      font-weight: bold;\n    }\n    .container .item {\n      height: 55px;\n      line-height: 55px;\n      position: relative;\n      border-top: 1px solid #ADD8E6;\n    }\n    .container .item img {\n      width: 45px;\n      height: 45px;\n      margin: 5px;\n    }\n    .container .item .name {\n      position: absolute;\n      width: 90px;\n      top: 0;left: 55px;\n      font-size: 16px;\n    }\n\n    .container .item .change {\n      width: 100px;\n      position: absolute;\n      top: 0;\n      right: 50px;\n    }\n    .container .item .change a {\n      font-size: 20px;\n      width: 30px;\n      text-decoration:none;\n      background-color: lightgray;\n      vertical-align: middle;\n    }\n    .container .item .change .num {\n      width: 40px;\n      height: 25px;\n    }\n    .container .item .del {\n      position: absolute;\n      top: 0;\n      right: 0px;\n      width: 40px;\n      text-align: center;\n      font-size: 40px;\n      cursor: pointer;\n      color: red;\n    }\n    .container .item .del:hover {\n      background-color: orange;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var CartTitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    var CartList = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n\t\t\t  # 1.  + - 按钮绑定事件 \n              <a href=\"\" @click.prevent='sub(item.id)'>－</a>\n              <input type=\"text\" class=\"num\" :value='item.num' @blur='changeNum(item.id, $event)'/>\n              <a href=\"\" @click.prevent='add(item.id)'>＋</a>\n            </div>\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        changeNum: function(id, event){\n          this.$emit('change-num', {\n            id: id,\n            type: 'change',\n            num: event.target.value\n          });\n        },\n        sub: function(id){\n          # 2 数量的增加和减少通过父组件来计算   每次都是加1 和 减1 不需要传递数量   父组件需要一个类型来判断 是 加一 还是减1  以及是输入框输入的数据  我们通过type 标识符来标记 不同的操作   \n          this.$emit('change-num', {\n            id: id,\n            type: 'sub'\n          });\n        },\n        add: function(id){\n         # 2 数量的增加和减少通过父组件来计算   每次都是加1 和 减1 不需要传递数量   父组件需要一个类型来判断 是 加一 还是减1  以及是输入框输入的数据  我们通过type 标识符来标记 不同的操作\n          this.$emit('change-num', {\n            id: id,\n            type: 'add'\n          });\n        },\n        del: function(id){\n          // 把id传递给父组件\n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var CartTotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.forEach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    Vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'TCL彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'PPTV电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\t\n\t\t# 3 父组件通过事件监听   接收子组件的数据  \n          <cart-list :list='list' @change-num='changeNum($event)' @cart-del='delCart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': CartTitle,\n        'cart-list': CartList,\n        'cart-total': CartTotal\n      },\n      methods: {\n        changeNum: function(val) {\n          #4 分为三种情况：输入框变更、加号变更、减号变更\n          if(val.type=='change') {\n            // 根据子组件传递过来的数据，跟新list中对应的数据\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num = val.num;\n                // 终止遍历\n                return true;\n              }\n            });\n          }else if(val.type=='sub'){\n            // 减一操作\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num -= 1;\n                // 终止遍历\n                return true;\n              }\n            });\n          }else if(val.type=='add'){\n            // 加一操作\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num += 1;\n                // 终止遍历\n                return true;\n              }\n            });\n          }\n        }\n      }\n    });\n    var vm = new Vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n",normalizedContent:"# 组件\n\n * 组件 (component) 是 vue.js 最强大的功能之一\n * 组件可以扩展 html 元素，封装可重用的代\n\n\n# 组件注册\n\n\n# 全局注册\n\n * vue.component('组件名称', { }) 第1个参数是标签名称，第2个参数是一个选项对象\n * 全局组件注册后，任何vue实例都可以用\n\n# 组件基础用法\n\n<div id=\"example\">\n  \x3c!-- 2、 组件使用 组件名称 是以html标签的形式使用  --\x3e  \n  <my-component></my-component>\n</div>\n<script>\n    //   注册组件 \n    // 1、 my-component 就是组件中自定义的标签名\n\tvue.component('my-component', {\n      template: '<div>a custom component!</div>'\n    })\n\n    // 创建根实例\n    new vue({\n      el: '#example'\n    })\n\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n# 组件注意事项\n\n * 组件参数的data值必须是函数同时这个函数要求返回一个对象\n * 组件模板必须是单个根元素\n * 组件模板的内容可以是模板字符串\n\n  <div id=\"app\">\n     \x3c!-- \n\t\t4、  组件可以重复使用多次 \n\t      因为data中返回的是一个对象所以每个组件中的数据是私有的\n\t\t  即每个实例可以维护一份被返回对象的独立的拷贝   \n\t--\x3e \n    <button-counter></button-counter>\n    <button-counter></button-counter>\n    <button-counter></button-counter>\n      \x3c!-- 8、必须使用短横线的方式使用组件 --\x3e\n     <hello-world></hello-world>\n  </div>\n\n<script type=\"text/javascript\">\n\t//5  如果使用驼峰式命名组件，那么在使用组件的时候，只能在字符串模板中用驼峰的方式使用组件，\n    // 7、但是在普通的标签模板中，必须使用短横线的方式使用组件\n     vue.component('helloworld', {\n      data: function(){\n        return {\n          msg: 'helloworld'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    });\n    \n    \n    \n    vue.component('button-counter', {\n      // 1、组件参数的data值必须是函数 \n      // 同时这个函数要求返回一个对象  \n      data: function(){\n        return {\n          count: 0\n        }\n      },\n      //  2、组件模板必须是单个根元素\n      //  3、组件模板的内容可以是模板字符串  \n      template: `\n        <div>\n          <button @click=\"handle\">点击了{{count}}次</button>\n          <button>测试123</button>\n\t\t\t#  6 在字符串模板中可以使用驼峰的方式使用组件\t\n\t\t   <helloworld></helloworld>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          this.count += 2;\n        }\n      }\n    })\n    var vm = new vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n\n# 局部注册\n\n * 只能在当前注册它的vue实例中使用\n\n  <div id=\"app\">\n      <my-component></my-component>\n  </div>\n\n\n<script>\n    // 定义组件的模板\n    var child = {\n      template: '<div>a custom component!</div>'\n    }\n    new vue({\n      //局部注册组件  \n      components: {\n        // <my-component> 将只在父模板可用  一定要在实例上注册了才能在html文件中使用\n        'my-component': child\n      }\n    })\n <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n可以在vue容器中注册，也可以以变量形式注册在全局组件中，注意顺序，必须先声明变量在调用\n\n <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      局部组件注册\n      局部组件只能在注册他的父组件中使用\n    */\n\n    \n    var helloworld = {\n      data:function(){\n        return {\n          msg:'helloworld'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n// 自定义组件如hello-world必须在全局组件的上面才能被调用，否则会提示‘ <hello-world> - did you register the component correctly’\n    vue.component('test-com',{\n     template:'<div>test<hello-world></hello-world></div>',\n     components:{\n       'hello-world':helloworld\n     }\n   });\n    var hellojerry = {\n      data:function(){\n        return {\n          msg:'hellojerry'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n    var hellotom = {\n      data:function(){\n        return {\n          msg:'hellotom'\n        }\n      },\n      template: '<div>{{msg}}</div>'\n    };\n    var vm = new vue({\n      el: '#app',\n      data: {\n        \n      },\n      // 自定义组件可以被vm实例下调用，也可以被全局组件调用\n      components: {\n        'hello-world': helloworld,\n        'hello-tom': hellotom,\n        'hello-jerry': hellojerry\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# vue组件之间传值\n\n\n# 父组件向子组件传值\n\n * 父组件发送的形式是以属性的形式绑定值到子组件身上。\n * 然后子组件用属性props接收\n * 在props中使用驼峰形式，模板中需要使用短横线的形式字符串形式的模板中没有这个限制\n\n  <div id=\"app\">\n    <div>{{pmsg}}</div>\n     \x3c!--1、menu-item  在 app中嵌套着 故 menu-item   为  子组件      --\x3e\n     \x3c!-- 给子组件传入一个静态的值 --\x3e\n    <menu-item title='来自父组件的值'></menu-item>\n    \x3c!-- 2、 需要动态的数据的时候 需要属性绑定的形式设置 此时 ptitle  来自父组件data 中的数据 . \n\t\t  传的值可以是数字、对象、数组等等\n\t--\x3e\n    <menu-item :title='ptitle' content='hello'></menu-item>\n  </div>\n\n  <script type=\"text/javascript\">\n    vue.component('menu-item', {\n      // 3、 子组件用属性props接收父组件传递过来的数据  \n      props: ['title', 'content'],\n      data: function() {\n        return {\n          msg: '子组件本身的数据'\n        }\n      },\n      template: '<div>{{msg + \"----\" + title + \"-----\" + content}}</div>'\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        pmsg: '父组件中内容',\n        ptitle: '动态绑定属性'\n      }\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 子组件向父组件传值\n\n * 子组件用$emit()触发事件\n * $emit() 第一个参数为 自定义的事件名称 第二个参数为需要传递的数据\n * 父组件用v-on 监听子组件的事件\n\n> 子组件传递this.$emit('myevent')，父组件需要监听myevent事件，html会全部转为小写，并不会转为my-event\n\n <div id=\"app\">\n    <div :style='{fontsize: fontsize + \"px\"}'>{{pmsg}}</div>\n     \x3c!-- 2 父组件用v-on 监听子组件的事件\n\t\t这里 enlarge-text  是从 $emit 中的第一个参数对应   handle 为对应的事件处理函数\t\n\t--\x3e\t\n    <menu-item :parr='parr' @enlarge-text='handle($event)'></menu-item>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      子组件向父组件传值-携带参数\n    */\n    \n    vue.component('menu-item', {\n      props: ['parr'],\n      template: `\n        <div>\n          <ul>\n            <li :key='index' v-for='(item,index) in parr'>{{item}}</li>\n          </ul>\n\t\t\t###  1、子组件用$emit()触发事件\n\t\t\t### 第一个参数为 自定义的事件名称   第二个参数为需要传递的数据  \n          <button @click='$emit(\"enlarge-text\", 5)'>扩大父组件中字体大小</button>\n          <button @click='$emit(\"enlarge-text\", 10)'>扩大父组件中字体大小</button>\n        </div>\n      `\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        pmsg: '父组件中内容',\n        parr: ['apple','orange','banana'],\n        fontsize: 10\n      },\n      methods: {\n        handle: function(val){\n          // 扩大字体大小\n          this.fontsize += val;\n        }\n      }\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 兄弟之间的传递\n\n * 兄弟之间传递数据需要借助于事件中心，通过事件中心传递数据\n   * 提供事件中心 var hub = new vue()\n * 传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)\n * 接收数据方，通过mounted(){} 钩子中 触发hub.$on()方法名\n * 销毁事件 通过hub.$off()方法名销毁之后无法进行传递数据\n\n <div id=\"app\">\n    <div>父组件</div>\n    <div>\n      <button @click='handle'>销毁事件</button>\n    </div>\n    <test-tom></test-tom>\n    <test-jerry></test-jerry>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      兄弟组件之间数据传递\n    */\n    //1、 提供事件中心\n    var hub = new vue();\n\n    vue.component('test-tom', {\n      data: function(){\n        return {\n          num: 0\n        }\n      },\n      template: `\n        <div>\n          <div>tom:{{num}}</div>\n          <div>\n            <button @click='handle'>点击</button>\n          </div>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          //2、传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)   触发兄弟组件的事件\n          hub.$emit('jerry-event', 2);\n        }\n      },\n      mounted: function() {\n       // 3、接收数据方，通过mounted(){} 钩子中  触发hub.$on(方法名\n        hub.$on('tom-event', (val) => {\n          this.num += val;\n        });\n      }\n    });\n    vue.component('test-jerry', {\n      data: function(){\n        return {\n          num: 0\n        }\n      },\n      template: `\n        <div>\n          <div>jerry:{{num}}</div>\n          <div>\n            <button @click='handle'>点击</button>\n          </div>\n        </div>\n      `,\n      methods: {\n        handle: function(){\n          //2、传递数据方，通过一个事件触发hub.$emit(方法名，传递的数据)   触发兄弟组件的事件\n          hub.$emit('tom-event', 1);\n        }\n      },\n      mounted: function() {\n        // 3、接收数据方，通过mounted(){} 钩子中  触发hub.$on()方法名\n        hub.$on('jerry-event', (val) => {\n          this.num += val;\n        });\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        \n      },\n      methods: {\n        handle: function(){\n          //4、销毁事件 通过hub.$off()方法名销毁之后无法进行传递数据  \n          hub.$off('tom-event');\n          hub.$off('jerry-event');\n        }\n      }\n    });\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n\n\n\n# 数据双向绑定\n\n# 自定义v-model\n\n一个自定义组件中只能有一个v-model\n\n一个组件上的 v-model 默认会利用名为 value 的 prop 和名为 input 的事件，\n\n以下是一个最简单的自定义v-model\n\n子组件\n\n<template>\n  <div>\n    <input type=\"text\" :value=\"value1\" @input=\"$emit('input', $event.target.value)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: string,\n      required: true\n    }\n  }\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n子组件通过监听input框的input事件，发现有输入时，通过$emit将新的指传递给父组件\n\n父组件\n\n<template>\n  <div>\n    <my-custom-component v-model=\"data1\" ></my-custom-component>\n  </div>\n</template>\n\n<script>\nimport mycustomcomponent from '@/components/mycustomcomponent.vue'\n\nexport default {\n  components: {\n    mycustomcomponent\n  },\n  data() {\n    return {\n      data1: 'hello',\n    };\n  }\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n父组件通过props将指传递给子组件\n\n> 像单选框、复选框等类型的输入控件可能会将 value attribute 用于不同的目的。model 选项可以用来避免这样的冲突：\n\n子组件\n\n<template>\n  <div>\n    <input type=\"checkbox\"  v-bind:checked=\"checked\"\n      v-on:change=\"$emit('change', $event.target.checked)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  model: {\n    prop: 'checked',\n    event: 'change'\n  },\n  props: {\n    checked: boolean\n  },\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n父组件不变，自定义了model的prop及event\n\n# 伪v-model：.sync\n\n一个自定义组件中只能有一个v-model，有多个需求如何破？\n\n在有些情况下，我们可能需要对一个 prop 进行“双向绑定”：this.$emit('title', newtitle) 。不幸的是，真正的双向绑定会带来维护上的问题，因为子组件可以变更父组件，且在父组件和子组件两侧都没有明显的变更来源。\n\n所以推荐以update:mypropname 的模式触发事件取而代之。\n\n子组件：\n\n<template>\n  <div>\n    <input type=\"text\" :value=\"value2\" @input=\"$emit('update:propdata2', $event.target.value)\">\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    propdata2: {\n      type: string,\n      required: true\n    }\n  },\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n通过propdata2接受父组件的数据传递，通过$emit('update:propdata2', $event.target.value) 方法将input框输入的数据传递给父组件，update表示更新某个props，propdata2表示事件名，父组件需要监听这个事件名。\n\n> 此时还可以简化，改为:value=\"propdata2\" ，这样不需要 @input=\"$emit('update:propdata2' 来负责input框的更新来自父组件的输入，父组件使用了.sync，也会自动更新子组件的输入。\n\n父组件：\n\n<template>\n  <div>\n    <my-custom-component  :prop-data2.sync=\"data2\"></my-custom-component>\n  </div>\n</template>\n\n<script>\nimport mycustomcomponent from '@/components/mycustomcomponent.vue'\n\nexport default {\n  components: {\n    mycustomcomponent\n  },\n  data() {\n    return {\n      data2: 'world'\n    };\n  }\n};\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n:prop-data2.sync=\"data2\"是v-on:update:prop-data2=\"data2 = $event\" 的缩写，prop-data2是监听的事件名，对应子组件update:propdata2。\n\n注意：子组件的事件名是驼峰式，父组件监听的是烤串式。\n\n注意事项\n\n> 子组件传递this.$emit('myevent')，父组件需要监听myevent事件，html会全部转为小写，并不会转为my-event\n\n> 注意带有 .sync 修饰符的 v-bind 不能和表达式一起使用 (例如 v-bind:title.sync=”doc.title + ‘!’” 是无效的)。取而代之的是，你只能提供你想要绑定的 property 名，类似 v-model。\n\n当我们用一个对象同时设置多个 prop 的时候，也可以将这个 .sync 修饰符和 v-bind 配合使用：\n\n<text-document v-bind.sync=\"doc\"></text-document>\n\n\n1\n\n\n这样会把 doc 对象中的每一个 property (如 title) 都作为一个独立的 prop 传进去，然后各自添加用于更新的 v-on 监听器。\n\n> 将 v-bind.sync 用在一个字面量的对象上，例如 v-bind.sync=”{ title: doc.title }”，是无法正常工作的，因为在解析一个像这样的复杂表达式的时候，有很多边缘情况需要考虑。\n\n\n# 组件插槽\n\n * 组件的最大特性就是复用性，而用好插槽能大大提高组件的可复用能力\n\n\n# 匿名插槽\n\n  <div id=\"app\">\n    \x3c!-- 这里的所有组件标签中嵌套的内容会替换掉slot  如果不传值 则使用 slot 中的默认值  --\x3e  \n    <alert-box>有bug发生</alert-box>\n    <alert-box>有一个警告</alert-box>\n    <alert-box></alert-box>\n  </div>\n\n  <script type=\"text/javascript\">\n    /*\n      组件插槽：父组件向子组件传递内容\n    */\n    vue.component('alert-box', {\n      template: `\n        <div>\n          <strong>error:</strong>\n\t\t# 当组件渲染的时候，这个 <slot> 元素将会被替换为“组件标签中嵌套的内容”。\n\t\t# 插槽内可以包含任何模板代码，包括 html\n          <slot>默认内容</slot>\n        </div>\n      `\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 具名插槽\n\n * 具有名字的插槽\n * 使用 <slot> 中的 \"name\" 属性绑定元素\n\n  <div id=\"app\">\n    <base-layout>\n       \x3c!-- 2、 通过slot属性来指定, 这个slot的值必须和下面slot组件得name值对应上\n\t\t\t\t如果没有匹配到 则放到匿名的插槽中   --\x3e \n      <p slot='header'>标题信息</p>\n      <p>主要内容1</p>\n      <p>主要内容2</p>\n      <p slot='footer'>底部信息信息</p>\n    </base-layout>\n\n    <base-layout>\n      \x3c!-- 注意点：template临时的包裹标签最终不会渲染到页面上     --\x3e  \n      <template slot='header'>\n        <p>标题信息1</p>\n        <p>标题信息2</p>\n      </template>\n      <p>主要内容1</p>\n      <p>主要内容2</p>\n      <template slot='footer'>\n        <p>底部信息信息1</p>\n        <p>底部信息信息2</p>\n      </template>\n    </base-layout>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      具名插槽\n    */\n    vue.component('base-layout', {\n      template: `\n        <div>\n          <header>\n\t\t\t###\t1、 使用 <slot> 中的 \"name\" 属性绑定元素 指定当前插槽的名字\n            <slot name='header'></slot>\n          </header>\n          <main>\n            <slot></slot>\n          </main>\n          <footer>\n\t\t\t###  注意点： \n\t\t\t###  具名插槽的渲染顺序，完全取决于模板，而不是取决于父组件中元素的顺序\n            <slot name='footer'></slot>\n          </footer>\n        </div>\n      `\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        \n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n\n# 作用域插槽\n\n * 父组件对子组件加工处理\n * 既可以复用子组件的slot，又可以使slot内容不一致\n\n  <div id=\"app\">\n    \x3c!-- \n\t\t1、当我们希望li 的样式由外部使用组件的地方定义，因为可能有多种地方要使用该组件，\n\t\t但样式希望不一样 这个时候我们需要使用作用域插槽 \n\t\t\n\t--\x3e  \n    <fruit-list :list='list'>\n       \x3c!-- 2、 父组件中使用了<template>元素,而且包含scope=\"slotprops\",\n\t\t\tslotprops在这里只是临时变量   \n\t\t---\x3e \t\n      <template slot-scope='slotprops'>\n        <strong v-if='slotprops.info.id==3' class=\"current\">\n            {{slotprops.info.name}}\t\t         \n         </strong>\n        <span v-else>{{slotprops.info.name}}</span>\n      </template>\n    </fruit-list>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    /*\n      作用域插槽\n    */\n    vue.component('fruit-list', {\n      props: ['list'],\n      template: `\n        <div>\n          <li :key='item.id' v-for='item in list'>\n\t\t\t###  3、 在子组件模板中,<slot>元素上有一个类似props传递数据给组件的写法msg=\"xxx\",\n\t\t\t###   插槽可以提供一个默认内容，如果如果父组件没有为这个插槽提供了内容，会显示默认的内容。\n\t\t\t\t\t如果父组件为这个插槽提供了内容，则默认的内容会被替换掉\n            <slot :info='item'>{{item.name}}</slot>\n          </li>\n        </div>\n      `\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n        list: [{\n          id: 1,\n          name: 'apple'\n        },{\n          id: 2,\n          name: 'orange'\n        },{\n          id: 3,\n          name: 'banana'\n        }]\n      }\n    });\n  <\/script>\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# vue 调试工具\n\nchrome浏览器商店里搜索vue.js devtools，安装后，在vue也没f12可以看到调试工具\n\n\n\n\n\n\n# 每日一练-购物车💯\n\n# 1. 实现组件化布局\n\n * 把静态页面转换成组件化模式\n * 把组件渲染到页面上\n\n <div id=\"app\">\n    <div class=\"container\">\n      \x3c!-- 2、把组件渲染到页面上 --\x3e \n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    # 1、 把静态页面转换成组件化模式\n    # 1.1  标题组件 \n    var carttitle = {\n      template: `\n        <div class=\"title\">我的商品</div>\n      `\n    }\n    # 1.2  商品列表组件 \n    var cartlist = {\n      #  注意点 ：  组件模板必须是单个根元素  \n      template: `\n        <div>\n          <div class=\"item\">\n            <img src=\"img/a.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/b.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/c.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/d.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n          <div class=\"item\">\n            <img src=\"img/e.jpg\"/>\n            <div class=\"name\"></div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\">×</div>\n          </div>\n        </div>\n      `\n    }\n    # 1.3  商品结算组件 \n    var carttotal = {\n      template: `\n        <div class=\"total\">\n          <span>总价：123</span>\n          <button>结算</button>\n        </div>\n      `\n    }\n    ## 1.4  定义一个全局组件 my-cart\n    vue.component('my-cart',{\n      ##  1.6 引入子组件  \n      template: `\n        <div class='cart'>\n          <cart-title></cart-title>\n          <cart-list></cart-list>\n          <cart-total></cart-total>\n        </div>\n      `,\n      # 1.5  注册子组件   \n      components: {\n        'cart-title': carttitle,\n        'cart-list': cartlist,\n        'cart-total': carttotal\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n\n\n# 2、实现 标题和结算功能组件\n\n * 标题组件实现动态渲染\n   * 从父组件把标题数据传递过来 即 父向子组件传值\n   * 把传递过来的数据渲染到页面上\n * 结算功能组件\n   * 从父组件把商品列表list 数据传递过来 即 父向子组件传值\n   * 把传递过来的数据计算最终价格渲染到页面上\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n     # 2.2  标题组件     子组件通过props形式接收父组件传递过来的uname数据\n    var carttitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n\t# 2.3  商品结算组件  子组件通过props形式接收父组件传递过来的list数据   \n    var carttotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        # 2.4    计算商品的总价  并渲染到页面上 \n        total: function() {\n          var t = 0;\n          this.list.foreach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'tcl彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'pptv电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      #  2.1  父组件向子组件以属性传递的形式 传递数据\n      #   向 标题组件传递 uname 属性   向 商品结算组件传递 list  属性  \n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n          <cart-list></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': carttitle,\n        'cart-list': cartlist,\n        'cart-total': carttotal\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n# 3. 实现列表组件删除功能\n\n * 从父组件把商品列表list 数据传递过来 即 父向子组件传值\n * 把传递过来的数据渲染到页面上\n * 点击删除按钮的时候删除对应的数据\n   * 给按钮添加点击事件把需要删除的id传递过来\n     * 子组件中不推荐操作父组件的数据有可能多个子组件使用父组件的数据 我们需要把数据传递给父组件让父组件操作数据\n     * 父组件删除对应的数据\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var carttitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    #  3.2 把列表数据动态渲染到页面上  \n    var cartlist = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n              <input type=\"text\" class=\"num\" />\n              <a href=\"\">＋</a>\n            </div>\n\t\t\t# 3.3  给按钮添加点击事件把需要删除的id传递过来\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        del: function(id){\n           # 3.4 子组件中不推荐操作父组件的数据有可能多个子组件使用父组件的数据 \n          # \t  我们需要把数据传递给父组件 让父组件操作数据 \n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var carttotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.foreach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'tcl彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'pptv电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      # 3.1 从父组件把商品列表list 数据传递过来 即 父向子组件传值  \n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n\t\t  #  3.5  父组件通过事件绑定 接收子组件传递过来的数据 \n          <cart-list :list='list' @cart-del='delcart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': carttitle,\n        'cart-list': cartlist,\n        'cart-total': carttotal\n      },\n      methods: {\n        # 3.6    根据id删除list中对应的数据        \n        delcart: function(id) {\n          // 1、找到id所对应数据的索引\n          var index = this.list.findindex(item=>{\n            return item.id == id;\n          });\n          // 2、根据索引删除对应数据\n          this.list.splice(index, 1);\n        }\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n\n\n# 4. 实现组件更新数据功能 上\n\n * 将输入框中的默认数据动态渲染出来\n * 输入框失去焦点的时候 更改商品的数量\n * 子组件中不推荐操作数据 把这些数据传递给父组件 让父组件处理这些数据\n * 父组件中接收子组件传递过来的数据并处理\n\n <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var carttitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    var cartlist = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n              <a href=\"\">－</a>\n\t\t\t\t# 1. 将输入框中的默认数据动态渲染出来\n\t\t\t\t# 2. 输入框失去焦点的时候 更改商品的数量  需要将当前商品的id 传递过来\n              <input type=\"text\" class=\"num\" :value='item.num' @blur='changenum(item.id, $event)'/>\n              <a href=\"\">＋</a>\n            </div>\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        changenum: function(id, event){\n          # 3 子组件中不推荐操作数据  因为别的组件可能也引用了这些数据\n          #  把这些数据传递给父组件 让父组件处理这些数据\n          this.$emit('change-num', {\n            id: id,\n            num: event.target.value\n          });\n        },\n        del: function(id){\n          // 把id传递给父组件\n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var carttotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.foreach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'tcl彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          }]\n      },\n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\n\t\t\t# 4  父组件中接收子组件传递过来的数据 \n          <cart-list :list='list' @change-num='changenum($event)' @cart-del='delcart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': carttitle,\n        'cart-list': cartlist,\n        'cart-total': carttotal\n      },\n      methods: {\n        changenum: function(val) {\n          //4.1 根据子组件传递过来的数据，跟新list中对应的数据\n          this.list.some(item=>{\n            if(item.id == val.id) {\n              item.num = val.num;\n              // 终止遍历\n              return true;\n            }\n          });\n        },\n        delcart: function(id) {\n          // 根据id删除list中对应的数据\n          // 1、找到id所对应数据的索引\n          var index = this.list.findindex(item=>{\n            return item.id == id;\n          });\n          // 2、根据索引删除对应数据\n          this.list.splice(index, 1);\n        }\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n\n\n# 5. 实现组件更新数据功能 下\n\n * 子组件通过一个标识符来标记对用的用户点击 + - 或者输入框输入的内容\n * 父组件拿到标识符更新对应的组件\n\n<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <title>document</title>\n  <style type=\"text/css\">\n    .container {\n    }\n    .container .cart {\n      width: 300px;\n      margin: auto;\n    }\n    .container .title {\n      background-color: lightblue;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      /*color: #fff;*/  \n    }\n    .container .total {\n      background-color: #ffce46;\n      height: 50px;\n      line-height: 50px;\n      text-align: right;\n    }\n    .container .total button {\n      margin: 0 10px;\n      background-color: #dc4c40;\n      height: 35px;\n      width: 80px;\n      border: 0;\n    }\n    .container .total span {\n      color: red;\n      font-weight: bold;\n    }\n    .container .item {\n      height: 55px;\n      line-height: 55px;\n      position: relative;\n      border-top: 1px solid #add8e6;\n    }\n    .container .item img {\n      width: 45px;\n      height: 45px;\n      margin: 5px;\n    }\n    .container .item .name {\n      position: absolute;\n      width: 90px;\n      top: 0;left: 55px;\n      font-size: 16px;\n    }\n\n    .container .item .change {\n      width: 100px;\n      position: absolute;\n      top: 0;\n      right: 50px;\n    }\n    .container .item .change a {\n      font-size: 20px;\n      width: 30px;\n      text-decoration:none;\n      background-color: lightgray;\n      vertical-align: middle;\n    }\n    .container .item .change .num {\n      width: 40px;\n      height: 25px;\n    }\n    .container .item .del {\n      position: absolute;\n      top: 0;\n      right: 0px;\n      width: 40px;\n      text-align: center;\n      font-size: 40px;\n      cursor: pointer;\n      color: red;\n    }\n    .container .item .del:hover {\n      background-color: orange;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"app\">\n    <div class=\"container\">\n      <my-cart></my-cart>\n    </div>\n  </div>\n  <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n  <script type=\"text/javascript\">\n    \n    var carttitle = {\n      props: ['uname'],\n      template: `\n        <div class=\"title\">{{uname}}的商品</div>\n      `\n    }\n    var cartlist = {\n      props: ['list'],\n      template: `\n        <div>\n          <div :key='item.id' v-for='item in list' class=\"item\">\n            <img :src=\"item.img\"/>\n            <div class=\"name\">{{item.name}}</div>\n            <div class=\"change\">\n\t\t\t  # 1.  + - 按钮绑定事件 \n              <a href=\"\" @click.prevent='sub(item.id)'>－</a>\n              <input type=\"text\" class=\"num\" :value='item.num' @blur='changenum(item.id, $event)'/>\n              <a href=\"\" @click.prevent='add(item.id)'>＋</a>\n            </div>\n            <div class=\"del\" @click='del(item.id)'>×</div>\n          </div>\n        </div>\n      `,\n      methods: {\n        changenum: function(id, event){\n          this.$emit('change-num', {\n            id: id,\n            type: 'change',\n            num: event.target.value\n          });\n        },\n        sub: function(id){\n          # 2 数量的增加和减少通过父组件来计算   每次都是加1 和 减1 不需要传递数量   父组件需要一个类型来判断 是 加一 还是减1  以及是输入框输入的数据  我们通过type 标识符来标记 不同的操作   \n          this.$emit('change-num', {\n            id: id,\n            type: 'sub'\n          });\n        },\n        add: function(id){\n         # 2 数量的增加和减少通过父组件来计算   每次都是加1 和 减1 不需要传递数量   父组件需要一个类型来判断 是 加一 还是减1  以及是输入框输入的数据  我们通过type 标识符来标记 不同的操作\n          this.$emit('change-num', {\n            id: id,\n            type: 'add'\n          });\n        },\n        del: function(id){\n          // 把id传递给父组件\n          this.$emit('cart-del', id);\n        }\n      }\n    }\n    var carttotal = {\n      props: ['list'],\n      template: `\n        <div class=\"total\">\n          <span>总价：{{total}}</span>\n          <button>结算</button>\n        </div>\n      `,\n      computed: {\n        total: function() {\n          // 计算商品的总价\n          var t = 0;\n          this.list.foreach(item => {\n            t += item.price * item.num;\n          });\n          return t;\n        }\n      }\n    }\n    vue.component('my-cart',{\n      data: function() {\n        return {\n          uname: '张三',\n          list: [{\n            id: 1,\n            name: 'tcl彩电',\n            price: 1000,\n            num: 1,\n            img: 'img/a.jpg'\n          },{\n            id: 2,\n            name: '机顶盒',\n            price: 1000,\n            num: 1,\n            img: 'img/b.jpg'\n          },{\n            id: 3,\n            name: '海尔冰箱',\n            price: 1000,\n            num: 1,\n            img: 'img/c.jpg'\n          },{\n            id: 4,\n            name: '小米手机',\n            price: 1000,\n            num: 1,\n            img: 'img/d.jpg'\n          },{\n            id: 5,\n            name: 'pptv电视',\n            price: 1000,\n            num: 2,\n            img: 'img/e.jpg'\n          }]\n        }\n      },\n      template: `\n        <div class='cart'>\n          <cart-title :uname='uname'></cart-title>\t\n\t\t# 3 父组件通过事件监听   接收子组件的数据  \n          <cart-list :list='list' @change-num='changenum($event)' @cart-del='delcart($event)'></cart-list>\n          <cart-total :list='list'></cart-total>\n        </div>\n      `,\n      components: {\n        'cart-title': carttitle,\n        'cart-list': cartlist,\n        'cart-total': carttotal\n      },\n      methods: {\n        changenum: function(val) {\n          #4 分为三种情况：输入框变更、加号变更、减号变更\n          if(val.type=='change') {\n            // 根据子组件传递过来的数据，跟新list中对应的数据\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num = val.num;\n                // 终止遍历\n                return true;\n              }\n            });\n          }else if(val.type=='sub'){\n            // 减一操作\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num -= 1;\n                // 终止遍历\n                return true;\n              }\n            });\n          }else if(val.type=='add'){\n            // 加一操作\n            this.list.some(item=>{\n              if(item.id == val.id) {\n                item.num += 1;\n                // 终止遍历\n                return true;\n              }\n            });\n          }\n        }\n      }\n    });\n    var vm = new vue({\n      el: '#app',\n      data: {\n\n      }\n    });\n\n  <\/script>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n206\n207\n208\n209\n210\n211\n212\n213\n214\n215\n216\n217\n218\n219\n220\n221\n222\n223\n224\n225\n226\n227\n228\n229\n230\n231\n232\n233\n234\n235\n236\n237\n238\n239\n240\n241\n242\n243\n244\n245\n246\n247\n248\n249\n250\n251\n252\n253\n254\n255\n256\n257\n258\n259\n",charsets:{cjk:!0},lastUpdated:"2023/5/18",lastUpdatedTimestamp:1684412285e3},{title:"VUE Study Day04 - 接口调用",frontmatter:{title:"VUE Study Day04 - 接口调用",date:"2021-2-7",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第4天 在vue中调用接口"},{name:"keywords",content:"自学 vue 同步 异步 promise async await"},{name:"twitter:title",content:"VUE Study Day04 - 接口调用"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day04-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day04 - 接口调用"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day04-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-7"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day04 - 接口调用"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday4.html",summary:"不断学习，不断提升，日拱一卒，学习vue第4天",description:""},regularPath:"/article/vue/day04-%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8.html",relativePath:"article/vue/day04-接口调用.md",key:"v-5b9068e2",path:"/article/vue/studyvueday4.html",headers:[{level:2,title:"接口调用方式",slug:"接口调用方式",normalizedTitle:"接口调用方式",charIndex:2},{level:2,title:"异步",slug:"异步",normalizedTitle:"异步",charIndex:59},{level:2,title:"promise",slug:"promise",normalizedTitle:"promise",charIndex:248},{level:3,title:"基于Promise发送Ajax请求",slug:"基于promise发送ajax请求",normalizedTitle:"基于promise发送ajax请求",charIndex:1126},{level:3,title:"Promise  基本API",slug:"promise-基本api",normalizedTitle:"promise  基本api",charIndex:null},{level:2,title:"fetch",slug:"fetch",normalizedTitle:"fetch",charIndex:40},{level:2,title:"axios",slug:"axios",normalizedTitle:"axios",charIndex:49},{level:2,title:"async  和 await",slug:"async-和-await",normalizedTitle:"async  和 await",charIndex:16416},{level:2,title:"每日一练-图书列表💯",slug:"每日一练-图书列表💯",normalizedTitle:"每日一练-图书列表💯",charIndex:13471}],headersStr:"接口调用方式 异步 promise 基于Promise发送Ajax请求 Promise  基本API fetch axios async  和 await 每日一练-图书列表💯",content:"# 接口调用方式\n\n * 原生ajax\n * 基于jQuery的ajax\n * fetch\n * axios\n\n\n# 异步\n\n * JavaScript的执行环境是「单线程」\n * 所谓单线程，是指JS引擎中负责解释和执行JavaScript代码的线程只有一个，也就是一次只能完成一项任务，这个任务执行完后才能执行下一个，它会「阻塞」其他任务。这个任务可称为主线程\n * 异步模式可以一起执行多个任务\n * JS中常见的异步调用\n   * 定时器\n   * ajax\n   * 事件函数\n\n\n# promise\n\n * 主要解决异步深层嵌套的问题\n * promise 提供了简洁的API 使得异步操作更加容易\n\n \n  <script type=\"text/javascript\">\n    /*\n     1. Promise基本使用\n           我们使用new来构建一个Promise  Promise的构造函数接收一个参数，是函数，并且传入两个参数：\t\t   resolve，reject， 分别表示异步操作执行成功后的回调函数和异步操作执行失败后的回调函数\n    */\n\n\n    var p = new Promise(function(resolve, reject){\n      //2. 这里用于实现异步任务  setTimeout\n      setTimeout(function(){\n        var flag = false;\n        if(flag) {\n          //3. 正常情况\n          resolve('hello');\n        }else{\n          //4. 异常情况\n          reject('出错了');\n        }\n      }, 100);\n    });\n    //  5 Promise实例生成以后，可以用then方法指定resolved状态和reject状态的回调函数 \n    //  在then方法中，你也可以直接return数据而不是Promise对象，在后面的then中就可以接收到数据了  \n    p.then(function(data){\n      console.log(data)\n    },function(info){\n      console.log(info)\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 基于Promise发送Ajax请求\n\n \n  <script type=\"text/javascript\">\n    /*\n      基于Promise发送Ajax请求\n    */\n    function queryData(url) {\n     #   1.1 创建一个Promise实例\n      var p = new Promise(function(resolve, reject){\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = function(){\n          if(xhr.readyState != 4) return;\n          if(xhr.readyState == 4 && xhr.status == 200) {\n            # 1.2 处理正常的情况\n            resolve(xhr.responseText);\n          }else{\n            # 1.3 处理异常情况\n            reject('服务器错误');\n          }\n        };\n        xhr.open('get', url);\n        xhr.send(null);\n      });\n      return p;\n    }\n\t# 注意：  这里需要开启一个服务 \n    # 在then方法中，你也可以直接return数据而不是Promise对象，在后面的then中就可以接收到数据了\n    queryData('http://localhost:3000/data')\n      .then(function(data){\n        console.log(data)\n        #  1.4 想要继续链式编程下去 需要 return  \n        return queryData('http://localhost:3000/data1');\n      })\n      .then(function(data){\n        console.log(data);\n        return queryData('http://localhost:3000/data2');\n      })\n      .then(function(data){\n        console.log(data)\n      });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# Promise 基本API\n\n# 实例方法\n\n# .then()\n\n * 得到异步任务正确的结果\n\n# .catch()\n\n * 获取异常信息\n\n# .finally()\n\n * 成功与否都会执行（不是正式标准）\n\n  \n  <script type=\"text/javascript\">\n    /*\n      Promise常用API-实例方法\n    */\n    // console.dir(Promise);\n    function foo() {\n      return new Promise(function(resolve, reject){\n        setTimeout(function(){\n          // resolve(123);\n          reject('error');\n        }, 100);\n      })\n    }\n    // foo()\n    //   .then(function(data){\n    //     console.log(data)\n    //   })\n    //   .catch(function(data){\n    //     console.log(data)\n    //   })\n    //   .finally(function(){\n    //     console.log('finished')\n    //   });\n\n    // --------------------------\n    // 两种写法是等效的\n    foo()\n      .then(function(data){\n        # 得到异步任务正确的结果\n        console.log(data)\n      },function(data){\n        # 获取异常信息\n        console.log(data)\n      })\n      # 成功与否都会执行（不是正式标准） \n      .finally(function(){\n        console.log('finished')\n      });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n# 静态方法\n\n# .all()\n\n * Promise.all方法接受一个数组作参数，数组中的对象（p1、p2、p3）均为promise实例（如果不是一个promise，该项会被用Promise.resolve转换为一个promise)。它的状态由这三个promise实例决定\n\n# .race()\n\n * Promise.race方法同样接受一个数组作参数。当p1, p2, p3中有一个实例的状态发生改变（变为fulfilled或rejected），p的状态就跟着改变。并把第一个改变状态的promise的返回值，传给p的回调函数\n\n\n\n  <script type=\"text/javascript\">\n    /*\n      Promise常用API-对象方法\n    */\n    // console.dir(Promise)\n    function queryData(url) {\n      return new Promise(function(resolve, reject){\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = function(){\n          if(xhr.readyState != 4) return;\n          if(xhr.readyState == 4 && xhr.status == 200) {\n            // 处理正常的情况\n            resolve(xhr.responseText);\n          }else{\n            // 处理异常情况\n            reject('服务器错误');\n          }\n        };\n        xhr.open('get', url);\n        xhr.send(null);\n      });\n    }\n\n    var p1 = queryData('http://localhost:3000/a1');\n    var p2 = queryData('http://localhost:3000/a2');\n    var p3 = queryData('http://localhost:3000/a3');\n     Promise.all([p1,p2,p3]).then(function(result){\n       //   all 中的参数  [p1,p2,p3]   和 返回的结果一 一对应[\"HELLO TOM\", \"HELLO JERRY\", \"HELLO SPIKE\"]\n       console.log(result) //[\"HELLO TOM\", \"HELLO JERRY\", \"HELLO SPIKE\"]\n     })\n    Promise.race([p1,p2,p3]).then(function(result){\n      // 由于p1执行较快，Promise的then()将获得结果'P1'。p2,p3仍在继续执行，但执行结果将被丢弃。\n      console.log(result) // \"HELLO TOM\"\n    })\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# fetch\n\n * Fetch API是新的ajax解决方案 Fetch会返回Promise\n * fetch不是ajax的进一步封装，而是原生js，没有使用XMLHttpRequest对象。\n * fetch(url, options).then(）\n\n  <script type=\"text/javascript\">\n    /*\n      Fetch API 基本用法\n      \tfetch(url).then()\n     \t第一个参数请求的路径   Fetch会返回Promise   所以我们可以使用then 拿到请求成功的结果 \n    */\n    fetch('http://localhost:3000/fdata').then(function(data){\n      // text()方法属于fetchAPI的一部分，它返回一个Promise实例对象，用于获取后台返回的数据\n      return data.text();\n    }).then(function(data){\n      //   在这个then里面我们能拿到最终的数据  \n      console.log(data);\n    })\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# fetch API 中的 HTTP 请求\n\n * fetch(url, options).then(）\n * HTTP协议，它给我们提供了很多的方法，如POST，GET，DELETE，UPDATE，PATCH和PUT\n   * 默认的是 GET 请求\n   * 需要在 options 对象中 指定对应的 method method:请求使用的方法\n   * post 和 普通 请求的时候 需要在options 中 设置 请求头 headers 和 body\n\n   <script type=\"text/javascript\">\n        /*\n              Fetch API 调用接口传递参数\n        */\n       #1.1 GET参数传递 - 传统URL  通过url  ？ 的形式传参 \n        fetch('http://localhost:3000/books?id=123', {\n            \t# get 请求可以省略不写 默认的是GET \n                method: 'get'\n            })\n            .then(function(data) {\n            \t# 它返回一个Promise实例对象，用于获取后台返回的数据\n                return data.text();\n            }).then(function(data) {\n            \t# 在这个then里面我们能拿到最终的数据  \n                console.log(data)\n            });\n\n      #1.2  GET参数传递  restful形式的URL  通过/ 的形式传递参数  即  id = 456 和id后台的配置有关   \n        fetch('http://localhost:3000/books/456', {\n            \t# get 请求可以省略不写 默认的是GET \n                method: 'get'\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       #2.1  DELETE请求方式参数传递      删除id  是  id=789\n        fetch('http://localhost:3000/books/789', {\n                method: 'delete'\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       #3 POST请求传参\n        fetch('http://localhost:3000/books', {\n                method: 'post',\n            \t# 3.1  传递数据 \n                body: 'uname=lisi&pwd=123',\n            \t#  3.2  设置请求头 \n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       # POST请求传参\n        fetch('http://localhost:3000/books', {\n                method: 'post',\n                body: JSON.stringify({\n                    uname: '张三',\n                    pwd: '456'\n                }),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n        # PUT请求传参     修改id 是 123 的 \n        fetch('http://localhost:3000/books/123', {\n                method: 'put',\n                body: JSON.stringify({\n                    uname: '张三',\n                    pwd: '789'\n                }),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n\n\n# fetchAPI 中 响应格式\n\n * 用fetch来获取数据，如果响应正常返回，我们首先看到的是一个response对象，其中包括返回的一堆原始字节，这些字节需要在收到后，需要我们通过调用方法将其转换为相应格式的数据，比如JSON，BLOB或者TEXT等等\n\n\n    /*\n      Fetch响应结果的数据格式\n    */\n    fetch('http://localhost:3000/json').then(function(data){\n      // return data.json();   //  将获取到的数据使用 json 转换对象\n      return data.text(); //  //  将获取到的数据 转换成字符串 \n    }).then(function(data){\n      // console.log(data.uname)\n      // console.log(typeof data)\n      var obj = JSON.parse(data);\n      console.log(obj.uname,obj.age,obj.gender)\n    })\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# axios\n\n * 基于promise用于浏览器和node.js的http客户端\n * 支持浏览器和node.js\n * 支持promise\n * 能拦截请求和响应\n * 自动转换JSON数据\n * 能转换请求和响应数据\n\n# axios基础用法\n\n * get和 delete请求传递参数\n   * 通过传统的url 以 ? 的形式传递参数\n   * restful 形式传递参数\n   * 通过params 形式传递参数\n * post 和 put 请求传递参数\n   * 通过选项传递参数\n   * 通过 URLSearchParams 传递参数\n\n    # 1. 发送get 请求 \n\taxios.get('http://localhost:3000/adata').then(function(ret){ \n      #  拿到 ret 是一个对象      所有的对象都存在 ret 的data 属性里面\n      // 注意data属性是固定的用法，用于获取后台的实际数据\n      // console.log(ret.data)\n      console.log(ret)\n    })\n\t# 2.  get 请求传递参数\n    # 2.1  通过传统的url  以 ? 的形式传递参数\n\taxios.get('http://localhost:3000/axios?id=123').then(function(ret){\n      console.log(ret.data)\n    })\n    # 2.2  restful 形式传递参数 \n    axios.get('http://localhost:3000/axios/123').then(function(ret){\n      console.log(ret.data)\n    })\n\t# 2.3  通过params  形式传递参数 \n    axios.get('http://localhost:3000/axios', {\n      params: {\n        id: 789\n      }\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\t#3 axios delete 请求传参     传参的形式和 get 请求一样\n    axios.delete('http://localhost:3000/axios', {\n      params: {\n        id: 111\n      }\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\n\t# 4  axios 的 post 请求\n    # 4.1  通过选项传递参数\n    axios.post('http://localhost:3000/axios', {\n      uname: 'lisi',\n      pwd: 123\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\t# 4.2  通过 URLSearchParams  传递参数 \n    var params = new URLSearchParams();\n    params.append('uname', 'zhangsan');\n    params.append('pwd', '111');\n    axios.post('http://localhost:3000/axios', params).then(function(ret){\n      console.log(ret.data)\n    })\n\n \t#5  axios put 请求传参   和 post 请求一样 \n    axios.put('http://localhost:3000/axios/123', {\n      uname: 'lisi',\n      pwd: 123\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n# axios 全局配置\n\n#  配置公共的请求头 \naxios.defaults.baseURL = 'https://api.example.com';\n#  配置 超时时间\naxios.defaults.timeout = 2500;\n#  配置公共的请求头\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n# 配置公共的 post 的 Content-Type\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# axios 拦截器\n\n * 请求拦截器\n   * 请求拦截器的作用是在请求发送前进行一些操作\n     * 例如在每个请求体里加上token，统一做了处理如果以后要改也非常容易\n * 响应拦截器\n   * 响应拦截器的作用是在接收到响应后进行一些操作\n     * 例如在服务器返回登录状态失效，需要重新登录的时候，跳转到登录页\n\n\t# 1. 请求拦截器 \n\taxios.interceptors.request.use(function(config) {\n      console.log(config.url)\n      # 1.1  任何请求都会经过这一步   在发送请求之前做些什么   \n      config.headers.mytoken = 'nihao';\n      # 1.2  这里一定要return   否则配置不成功  \n      return config;\n    }, function(err){\n       #1.3 对请求错误做点什么    \n      console.log(err)\n    })\n\t#2. 响应拦截器 \n    axios.interceptors.response.use(function(res) {\n      #2.1  在接收响应做些什么  \n      var data = res.data;\n      return data;\n    }, function(err){\n      #2.2 对响应错误做点什么  \n      console.log(err)\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# async 和 await\n\n * async作为一个关键字放到函数前面\n   * 任何一个async函数都会隐式返回一个promise\n * await关键字只能在使用async定义的函数中使用\n   * await后面可以直接跟一个 Promise实例对象\n   * await函数不能单独使用\n * async/await 让异步代码看起来、表现起来更像同步代码\n\n \t# 1.  async 基础用法\n    # 1.1 async作为一个关键字放到函数前面\n\tasync function queryData() {\n      # 1.2 await关键字只能在使用async定义的函数中使用      await后面可以直接跟一个 Promise实例对象\n      var ret = await new Promise(function(resolve, reject){\n        setTimeout(function(){\n          resolve('nihao')\n        },1000);\n      })\n      // console.log(ret.data)\n      return ret;\n    }\n\t# 1.3 任何一个async函数都会隐式返回一个promise   我们可以使用then 进行链式编程\n    queryData().then(function(data){\n      console.log(data)\n    })\n\n\t#2.  async    函数处理多个异步函数\n    axios.defaults.baseURL = 'http://localhost:3000';\n\n    async function queryData() {\n      # 2.1  添加await之后 当前的await 返回结果之后才会执行后面的代码   \n      \n      var info = await axios.get('async1');\n      #2.2  让异步代码看起来、表现起来更像同步代码\n      var ret = await axios.get('async2?info=' + info.data);\n      return ret.data;\n    }\n\n    queryData().then(function(data){\n      console.log(data)\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 每日一练-图书列表💯\n\n# 1. 基于接口案例-获取图书列表\n\n * 导入axios 用来发送ajax\n * 把获取到的数据渲染到页面上\n\n  <div id=\"app\">\n        <div class=\"grid\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>编号</th>\n                        <th>名称</th>\n                        <th>时间</th>\n                        <th>操作</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \x3c!-- 5.  把books  中的数据渲染到页面上   --\x3e\n                    <tr :key='item.id' v-for='item in books'>\n                        <td>{{item.id}}</td>\n                        <td>{{item.name}}</td>\n                        <td>{{item.date }}</td>\n                        <td>\n                            <a href=\"\">修改</a>\n                            <span>|</span>\n                            <a href=\"\">删除</a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n\t1.  导入axios   \n    <script type=\"text/javascript\" src=\"js/axios.js\"><\/script>\n    <script type=\"text/javascript\">\n        /*\n             图书管理-添加图书\n         */\n        # 2   配置公共的url地址  简化后面的调用方式\n        axios.defaults.baseURL = 'http://localhost:3000/';\n        axios.interceptors.response.use(function(res) {\n            return res.data;\n        }, function(error) {\n            console.log(error)\n        });\n\n        var vm = new Vue({\n            el: '#app',\n            data: {\n                flag: false,\n                submitFlag: false,\n                id: '',\n                name: '',\n                books: []\n            },\n            methods: {\n                # 3 定义一个方法 用来发送 ajax \n                # 3.1  使用 async  来 让异步的代码  以同步的形式书写 \n                queryData: async function() {\n                    // 调用后台接口获取图书列表数据\n                    // var ret = await axios.get('books');\n                    // this.books = ret.data;\n\t\t\t\t\t# 3.2  发送ajax请求  把拿到的数据放在books 里面   \n                    this.books = await axios.get('books');\n                }\n            },\n\n            mounted: function() {\n\t\t\t\t#  4 mounted  里面 DOM已经加载完毕  在这里调用函数  \n                this.queryData();\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\n# 2. 添加图书\n\n * 获取用户输入的数据 发送到后台\n * 渲染最新的数据到页面上\n\n methods: {\n    handle: async function(){\n          if(this.flag) {\n            // 编辑图书\n            // 就是根据当前的ID去更新数组中对应的数据\n            this.books.some((item) => {\n              if(item.id == this.id) {\n                item.name = this.name;\n                // 完成更新操作之后，需要终止循环\n                return true;\n              }\n            });\n            this.flag = false;\n          }else{\n            # 1.1  在前面封装好的 handle 方法中  发送ajax请求  \n            # 1.2  使用async  和 await 简化操作 需要在 function 前面添加 async   \n            var ret = await axios.post('books', {\n              name: this.name\n            })\n            # 1.3  根据后台返回的状态码判断是否加载数据 \n            if(ret.status == 200) {\n             # 1.4  调用 queryData 这个方法  渲染最新的数据 \n              this.queryData();\n            }\n          }\n          // 清空表单\n          this.id = '';\n          this.name = '';\n        },        \n }         \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# 3. 验证图书名称是否存在\n\n * 添加图书之前发送请求验证图示是否已经存在\n * 如果不存在 往后台里面添加图书名称\n   * 图书存在与否只需要修改submitFlag的值即可\n\n watch: {\n        name: async function(val) {\n          // 验证图书名称是否已经存在\n          // var flag = this.books.some(function(item){\n          //   return item.name == val;\n          // });\n          var ret = await axios.get('/books/book/' + this.name);\n          if(ret.status == 1) {\n            // 图书名称存在\n            this.submitFlag = true;\n          }else{\n            // 图书名称不存在\n            this.submitFlag = false;\n          }\n        }\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 4. 编辑图书\n\n * 根据当前书的id 查询需要编辑的书籍\n * 需要根据状态位判断是添加还是编辑\n\n methods: {\n        handle: async function(){\n          if(this.flag) {\n            #4.3 编辑图书   把用户输入的信息提交到后台\n            var ret = await axios.put('books/' + this.id, {\n              name: this.name\n            });\n            if(ret.status == 200){\n              #4.4  完成添加后 重新加载列表数据\n              this.queryData();\n            }\n            this.flag = false;\n          }else{\n            // 添加图书\n            var ret = await axios.post('books', {\n              name: this.name\n            })\n            if(ret.status == 200) {\n              // 重新加载列表数据\n              this.queryData();\n            }\n          }\n          // 清空表单\n          this.id = '';\n          this.name = '';\n        },\n        toEdit: async function(id){\n          #4.1  flag状态位用于区分编辑和添加操作\n          this.flag = true;\n          #4.2  根据id查询出对应的图书信息  页面中可以加载出来最新的信息\n          # 调用接口发送ajax 请求  \n          var ret = await axios.get('books/' + id);\n          this.id = ret.id;\n          this.name = ret.name;\n        },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# 5. 删除图书\n\n * 把需要删除的id书籍 通过参数的形式传递到后台\n\n   deleteBook: async function(id){\n          // 删除图书\n          var ret = await axios.delete('books/' + id);\n          if(ret.status == 200) {\n            // 重新加载列表数据\n            this.queryData();\n          }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",normalizedContent:"# 接口调用方式\n\n * 原生ajax\n * 基于jquery的ajax\n * fetch\n * axios\n\n\n# 异步\n\n * javascript的执行环境是「单线程」\n * 所谓单线程，是指js引擎中负责解释和执行javascript代码的线程只有一个，也就是一次只能完成一项任务，这个任务执行完后才能执行下一个，它会「阻塞」其他任务。这个任务可称为主线程\n * 异步模式可以一起执行多个任务\n * js中常见的异步调用\n   * 定时器\n   * ajax\n   * 事件函数\n\n\n# promise\n\n * 主要解决异步深层嵌套的问题\n * promise 提供了简洁的api 使得异步操作更加容易\n\n \n  <script type=\"text/javascript\">\n    /*\n     1. promise基本使用\n           我们使用new来构建一个promise  promise的构造函数接收一个参数，是函数，并且传入两个参数：\t\t   resolve，reject， 分别表示异步操作执行成功后的回调函数和异步操作执行失败后的回调函数\n    */\n\n\n    var p = new promise(function(resolve, reject){\n      //2. 这里用于实现异步任务  settimeout\n      settimeout(function(){\n        var flag = false;\n        if(flag) {\n          //3. 正常情况\n          resolve('hello');\n        }else{\n          //4. 异常情况\n          reject('出错了');\n        }\n      }, 100);\n    });\n    //  5 promise实例生成以后，可以用then方法指定resolved状态和reject状态的回调函数 \n    //  在then方法中，你也可以直接return数据而不是promise对象，在后面的then中就可以接收到数据了  \n    p.then(function(data){\n      console.log(data)\n    },function(info){\n      console.log(info)\n    });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 基于promise发送ajax请求\n\n \n  <script type=\"text/javascript\">\n    /*\n      基于promise发送ajax请求\n    */\n    function querydata(url) {\n     #   1.1 创建一个promise实例\n      var p = new promise(function(resolve, reject){\n        var xhr = new xmlhttprequest();\n        xhr.onreadystatechange = function(){\n          if(xhr.readystate != 4) return;\n          if(xhr.readystate == 4 && xhr.status == 200) {\n            # 1.2 处理正常的情况\n            resolve(xhr.responsetext);\n          }else{\n            # 1.3 处理异常情况\n            reject('服务器错误');\n          }\n        };\n        xhr.open('get', url);\n        xhr.send(null);\n      });\n      return p;\n    }\n\t# 注意：  这里需要开启一个服务 \n    # 在then方法中，你也可以直接return数据而不是promise对象，在后面的then中就可以接收到数据了\n    querydata('http://localhost:3000/data')\n      .then(function(data){\n        console.log(data)\n        #  1.4 想要继续链式编程下去 需要 return  \n        return querydata('http://localhost:3000/data1');\n      })\n      .then(function(data){\n        console.log(data);\n        return querydata('http://localhost:3000/data2');\n      })\n      .then(function(data){\n        console.log(data)\n      });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# promise 基本api\n\n# 实例方法\n\n# .then()\n\n * 得到异步任务正确的结果\n\n# .catch()\n\n * 获取异常信息\n\n# .finally()\n\n * 成功与否都会执行（不是正式标准）\n\n  \n  <script type=\"text/javascript\">\n    /*\n      promise常用api-实例方法\n    */\n    // console.dir(promise);\n    function foo() {\n      return new promise(function(resolve, reject){\n        settimeout(function(){\n          // resolve(123);\n          reject('error');\n        }, 100);\n      })\n    }\n    // foo()\n    //   .then(function(data){\n    //     console.log(data)\n    //   })\n    //   .catch(function(data){\n    //     console.log(data)\n    //   })\n    //   .finally(function(){\n    //     console.log('finished')\n    //   });\n\n    // --------------------------\n    // 两种写法是等效的\n    foo()\n      .then(function(data){\n        # 得到异步任务正确的结果\n        console.log(data)\n      },function(data){\n        # 获取异常信息\n        console.log(data)\n      })\n      # 成功与否都会执行（不是正式标准） \n      .finally(function(){\n        console.log('finished')\n      });\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n# 静态方法\n\n# .all()\n\n * promise.all方法接受一个数组作参数，数组中的对象（p1、p2、p3）均为promise实例（如果不是一个promise，该项会被用promise.resolve转换为一个promise)。它的状态由这三个promise实例决定\n\n# .race()\n\n * promise.race方法同样接受一个数组作参数。当p1, p2, p3中有一个实例的状态发生改变（变为fulfilled或rejected），p的状态就跟着改变。并把第一个改变状态的promise的返回值，传给p的回调函数\n\n\n\n  <script type=\"text/javascript\">\n    /*\n      promise常用api-对象方法\n    */\n    // console.dir(promise)\n    function querydata(url) {\n      return new promise(function(resolve, reject){\n        var xhr = new xmlhttprequest();\n        xhr.onreadystatechange = function(){\n          if(xhr.readystate != 4) return;\n          if(xhr.readystate == 4 && xhr.status == 200) {\n            // 处理正常的情况\n            resolve(xhr.responsetext);\n          }else{\n            // 处理异常情况\n            reject('服务器错误');\n          }\n        };\n        xhr.open('get', url);\n        xhr.send(null);\n      });\n    }\n\n    var p1 = querydata('http://localhost:3000/a1');\n    var p2 = querydata('http://localhost:3000/a2');\n    var p3 = querydata('http://localhost:3000/a3');\n     promise.all([p1,p2,p3]).then(function(result){\n       //   all 中的参数  [p1,p2,p3]   和 返回的结果一 一对应[\"hello tom\", \"hello jerry\", \"hello spike\"]\n       console.log(result) //[\"hello tom\", \"hello jerry\", \"hello spike\"]\n     })\n    promise.race([p1,p2,p3]).then(function(result){\n      // 由于p1执行较快，promise的then()将获得结果'p1'。p2,p3仍在继续执行，但执行结果将被丢弃。\n      console.log(result) // \"hello tom\"\n    })\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# fetch\n\n * fetch api是新的ajax解决方案 fetch会返回promise\n * fetch不是ajax的进一步封装，而是原生js，没有使用xmlhttprequest对象。\n * fetch(url, options).then(）\n\n  <script type=\"text/javascript\">\n    /*\n      fetch api 基本用法\n      \tfetch(url).then()\n     \t第一个参数请求的路径   fetch会返回promise   所以我们可以使用then 拿到请求成功的结果 \n    */\n    fetch('http://localhost:3000/fdata').then(function(data){\n      // text()方法属于fetchapi的一部分，它返回一个promise实例对象，用于获取后台返回的数据\n      return data.text();\n    }).then(function(data){\n      //   在这个then里面我们能拿到最终的数据  \n      console.log(data);\n    })\n  <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n# fetch api 中的 http 请求\n\n * fetch(url, options).then(）\n * http协议，它给我们提供了很多的方法，如post，get，delete，update，patch和put\n   * 默认的是 get 请求\n   * 需要在 options 对象中 指定对应的 method method:请求使用的方法\n   * post 和 普通 请求的时候 需要在options 中 设置 请求头 headers 和 body\n\n   <script type=\"text/javascript\">\n        /*\n              fetch api 调用接口传递参数\n        */\n       #1.1 get参数传递 - 传统url  通过url  ？ 的形式传参 \n        fetch('http://localhost:3000/books?id=123', {\n            \t# get 请求可以省略不写 默认的是get \n                method: 'get'\n            })\n            .then(function(data) {\n            \t# 它返回一个promise实例对象，用于获取后台返回的数据\n                return data.text();\n            }).then(function(data) {\n            \t# 在这个then里面我们能拿到最终的数据  \n                console.log(data)\n            });\n\n      #1.2  get参数传递  restful形式的url  通过/ 的形式传递参数  即  id = 456 和id后台的配置有关   \n        fetch('http://localhost:3000/books/456', {\n            \t# get 请求可以省略不写 默认的是get \n                method: 'get'\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       #2.1  delete请求方式参数传递      删除id  是  id=789\n        fetch('http://localhost:3000/books/789', {\n                method: 'delete'\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       #3 post请求传参\n        fetch('http://localhost:3000/books', {\n                method: 'post',\n            \t# 3.1  传递数据 \n                body: 'uname=lisi&pwd=123',\n            \t#  3.2  设置请求头 \n                headers: {\n                    'content-type': 'application/x-www-form-urlencoded'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n       # post请求传参\n        fetch('http://localhost:3000/books', {\n                method: 'post',\n                body: json.stringify({\n                    uname: '张三',\n                    pwd: '456'\n                }),\n                headers: {\n                    'content-type': 'application/json'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n\n        # put请求传参     修改id 是 123 的 \n        fetch('http://localhost:3000/books/123', {\n                method: 'put',\n                body: json.stringify({\n                    uname: '张三',\n                    pwd: '789'\n                }),\n                headers: {\n                    'content-type': 'application/json'\n                }\n            })\n            .then(function(data) {\n                return data.text();\n            }).then(function(data) {\n                console.log(data)\n            });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n\n\n# fetchapi 中 响应格式\n\n * 用fetch来获取数据，如果响应正常返回，我们首先看到的是一个response对象，其中包括返回的一堆原始字节，这些字节需要在收到后，需要我们通过调用方法将其转换为相应格式的数据，比如json，blob或者text等等\n\n\n    /*\n      fetch响应结果的数据格式\n    */\n    fetch('http://localhost:3000/json').then(function(data){\n      // return data.json();   //  将获取到的数据使用 json 转换对象\n      return data.text(); //  //  将获取到的数据 转换成字符串 \n    }).then(function(data){\n      // console.log(data.uname)\n      // console.log(typeof data)\n      var obj = json.parse(data);\n      console.log(obj.uname,obj.age,obj.gender)\n    })\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# axios\n\n * 基于promise用于浏览器和node.js的http客户端\n * 支持浏览器和node.js\n * 支持promise\n * 能拦截请求和响应\n * 自动转换json数据\n * 能转换请求和响应数据\n\n# axios基础用法\n\n * get和 delete请求传递参数\n   * 通过传统的url 以 ? 的形式传递参数\n   * restful 形式传递参数\n   * 通过params 形式传递参数\n * post 和 put 请求传递参数\n   * 通过选项传递参数\n   * 通过 urlsearchparams 传递参数\n\n    # 1. 发送get 请求 \n\taxios.get('http://localhost:3000/adata').then(function(ret){ \n      #  拿到 ret 是一个对象      所有的对象都存在 ret 的data 属性里面\n      // 注意data属性是固定的用法，用于获取后台的实际数据\n      // console.log(ret.data)\n      console.log(ret)\n    })\n\t# 2.  get 请求传递参数\n    # 2.1  通过传统的url  以 ? 的形式传递参数\n\taxios.get('http://localhost:3000/axios?id=123').then(function(ret){\n      console.log(ret.data)\n    })\n    # 2.2  restful 形式传递参数 \n    axios.get('http://localhost:3000/axios/123').then(function(ret){\n      console.log(ret.data)\n    })\n\t# 2.3  通过params  形式传递参数 \n    axios.get('http://localhost:3000/axios', {\n      params: {\n        id: 789\n      }\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\t#3 axios delete 请求传参     传参的形式和 get 请求一样\n    axios.delete('http://localhost:3000/axios', {\n      params: {\n        id: 111\n      }\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\n\t# 4  axios 的 post 请求\n    # 4.1  通过选项传递参数\n    axios.post('http://localhost:3000/axios', {\n      uname: 'lisi',\n      pwd: 123\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\t# 4.2  通过 urlsearchparams  传递参数 \n    var params = new urlsearchparams();\n    params.append('uname', 'zhangsan');\n    params.append('pwd', '111');\n    axios.post('http://localhost:3000/axios', params).then(function(ret){\n      console.log(ret.data)\n    })\n\n \t#5  axios put 请求传参   和 post 请求一样 \n    axios.put('http://localhost:3000/axios/123', {\n      uname: 'lisi',\n      pwd: 123\n    }).then(function(ret){\n      console.log(ret.data)\n    })\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n\n\n# axios 全局配置\n\n#  配置公共的请求头 \naxios.defaults.baseurl = 'https://api.example.com';\n#  配置 超时时间\naxios.defaults.timeout = 2500;\n#  配置公共的请求头\naxios.defaults.headers.common['authorization'] = auth_token;\n# 配置公共的 post 的 content-type\naxios.defaults.headers.post['content-type'] = 'application/x-www-form-urlencoded';\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# axios 拦截器\n\n * 请求拦截器\n   * 请求拦截器的作用是在请求发送前进行一些操作\n     * 例如在每个请求体里加上token，统一做了处理如果以后要改也非常容易\n * 响应拦截器\n   * 响应拦截器的作用是在接收到响应后进行一些操作\n     * 例如在服务器返回登录状态失效，需要重新登录的时候，跳转到登录页\n\n\t# 1. 请求拦截器 \n\taxios.interceptors.request.use(function(config) {\n      console.log(config.url)\n      # 1.1  任何请求都会经过这一步   在发送请求之前做些什么   \n      config.headers.mytoken = 'nihao';\n      # 1.2  这里一定要return   否则配置不成功  \n      return config;\n    }, function(err){\n       #1.3 对请求错误做点什么    \n      console.log(err)\n    })\n\t#2. 响应拦截器 \n    axios.interceptors.response.use(function(res) {\n      #2.1  在接收响应做些什么  \n      var data = res.data;\n      return data;\n    }, function(err){\n      #2.2 对响应错误做点什么  \n      console.log(err)\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# async 和 await\n\n * async作为一个关键字放到函数前面\n   * 任何一个async函数都会隐式返回一个promise\n * await关键字只能在使用async定义的函数中使用\n   * await后面可以直接跟一个 promise实例对象\n   * await函数不能单独使用\n * async/await 让异步代码看起来、表现起来更像同步代码\n\n \t# 1.  async 基础用法\n    # 1.1 async作为一个关键字放到函数前面\n\tasync function querydata() {\n      # 1.2 await关键字只能在使用async定义的函数中使用      await后面可以直接跟一个 promise实例对象\n      var ret = await new promise(function(resolve, reject){\n        settimeout(function(){\n          resolve('nihao')\n        },1000);\n      })\n      // console.log(ret.data)\n      return ret;\n    }\n\t# 1.3 任何一个async函数都会隐式返回一个promise   我们可以使用then 进行链式编程\n    querydata().then(function(data){\n      console.log(data)\n    })\n\n\t#2.  async    函数处理多个异步函数\n    axios.defaults.baseurl = 'http://localhost:3000';\n\n    async function querydata() {\n      # 2.1  添加await之后 当前的await 返回结果之后才会执行后面的代码   \n      \n      var info = await axios.get('async1');\n      #2.2  让异步代码看起来、表现起来更像同步代码\n      var ret = await axios.get('async2?info=' + info.data);\n      return ret.data;\n    }\n\n    querydata().then(function(data){\n      console.log(data)\n    })\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 每日一练-图书列表💯\n\n# 1. 基于接口案例-获取图书列表\n\n * 导入axios 用来发送ajax\n * 把获取到的数据渲染到页面上\n\n  <div id=\"app\">\n        <div class=\"grid\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>编号</th>\n                        <th>名称</th>\n                        <th>时间</th>\n                        <th>操作</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \x3c!-- 5.  把books  中的数据渲染到页面上   --\x3e\n                    <tr :key='item.id' v-for='item in books'>\n                        <td>{{item.id}}</td>\n                        <td>{{item.name}}</td>\n                        <td>{{item.date }}</td>\n                        <td>\n                            <a href=\"\">修改</a>\n                            <span>|</span>\n                            <a href=\"\">删除</a>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <script type=\"text/javascript\" src=\"js/vue.js\"><\/script>\n\t1.  导入axios   \n    <script type=\"text/javascript\" src=\"js/axios.js\"><\/script>\n    <script type=\"text/javascript\">\n        /*\n             图书管理-添加图书\n         */\n        # 2   配置公共的url地址  简化后面的调用方式\n        axios.defaults.baseurl = 'http://localhost:3000/';\n        axios.interceptors.response.use(function(res) {\n            return res.data;\n        }, function(error) {\n            console.log(error)\n        });\n\n        var vm = new vue({\n            el: '#app',\n            data: {\n                flag: false,\n                submitflag: false,\n                id: '',\n                name: '',\n                books: []\n            },\n            methods: {\n                # 3 定义一个方法 用来发送 ajax \n                # 3.1  使用 async  来 让异步的代码  以同步的形式书写 \n                querydata: async function() {\n                    // 调用后台接口获取图书列表数据\n                    // var ret = await axios.get('books');\n                    // this.books = ret.data;\n\t\t\t\t\t# 3.2  发送ajax请求  把拿到的数据放在books 里面   \n                    this.books = await axios.get('books');\n                }\n            },\n\n            mounted: function() {\n\t\t\t\t#  4 mounted  里面 dom已经加载完毕  在这里调用函数  \n                this.querydata();\n            }\n        });\n    <\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n\n\n# 2. 添加图书\n\n * 获取用户输入的数据 发送到后台\n * 渲染最新的数据到页面上\n\n methods: {\n    handle: async function(){\n          if(this.flag) {\n            // 编辑图书\n            // 就是根据当前的id去更新数组中对应的数据\n            this.books.some((item) => {\n              if(item.id == this.id) {\n                item.name = this.name;\n                // 完成更新操作之后，需要终止循环\n                return true;\n              }\n            });\n            this.flag = false;\n          }else{\n            # 1.1  在前面封装好的 handle 方法中  发送ajax请求  \n            # 1.2  使用async  和 await 简化操作 需要在 function 前面添加 async   \n            var ret = await axios.post('books', {\n              name: this.name\n            })\n            # 1.3  根据后台返回的状态码判断是否加载数据 \n            if(ret.status == 200) {\n             # 1.4  调用 querydata 这个方法  渲染最新的数据 \n              this.querydata();\n            }\n          }\n          // 清空表单\n          this.id = '';\n          this.name = '';\n        },        \n }         \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n# 3. 验证图书名称是否存在\n\n * 添加图书之前发送请求验证图示是否已经存在\n * 如果不存在 往后台里面添加图书名称\n   * 图书存在与否只需要修改submitflag的值即可\n\n watch: {\n        name: async function(val) {\n          // 验证图书名称是否已经存在\n          // var flag = this.books.some(function(item){\n          //   return item.name == val;\n          // });\n          var ret = await axios.get('/books/book/' + this.name);\n          if(ret.status == 1) {\n            // 图书名称存在\n            this.submitflag = true;\n          }else{\n            // 图书名称不存在\n            this.submitflag = false;\n          }\n        }\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 4. 编辑图书\n\n * 根据当前书的id 查询需要编辑的书籍\n * 需要根据状态位判断是添加还是编辑\n\n methods: {\n        handle: async function(){\n          if(this.flag) {\n            #4.3 编辑图书   把用户输入的信息提交到后台\n            var ret = await axios.put('books/' + this.id, {\n              name: this.name\n            });\n            if(ret.status == 200){\n              #4.4  完成添加后 重新加载列表数据\n              this.querydata();\n            }\n            this.flag = false;\n          }else{\n            // 添加图书\n            var ret = await axios.post('books', {\n              name: this.name\n            })\n            if(ret.status == 200) {\n              // 重新加载列表数据\n              this.querydata();\n            }\n          }\n          // 清空表单\n          this.id = '';\n          this.name = '';\n        },\n        toedit: async function(id){\n          #4.1  flag状态位用于区分编辑和添加操作\n          this.flag = true;\n          #4.2  根据id查询出对应的图书信息  页面中可以加载出来最新的信息\n          # 调用接口发送ajax 请求  \n          var ret = await axios.get('books/' + id);\n          this.id = ret.id;\n          this.name = ret.name;\n        },\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n# 5. 删除图书\n\n * 把需要删除的id书籍 通过参数的形式传递到后台\n\n   deletebook: async function(id){\n          // 删除图书\n          var ret = await axios.delete('books/' + id);\n          if(ret.status == 200) {\n            // 重新加载列表数据\n            this.querydata();\n          }\n   }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day07 - 实战1",frontmatter:{title:"VUE Study Day07 - 实战1",date:"2021-2-13",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第7天 vue实战-登录功能"},{name:"keywords",content:"自学 vue 实战"},{name:"image",content:"https://www.yangxiaokang.com/day07-电商.assets/注册码云.jpg"},{name:"twitter:title",content:"VUE Study Day07 - 实战1"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/day07-电商.assets/注册码云.jpg"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day07-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day07 - 实战1"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/day07-电商.assets/注册码云.jpg"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day07-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-13"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day07 - 实战1"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/day07-电商.assets/注册码云.jpg"}],feed:{enable:!0},permalink:"/article/vue/studyvueday7.html",summary:"不断学习，不断提升，日拱一卒，学习vue第7天",description:""},regularPath:"/article/vue/day07-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day07-电商.md",key:"v-116737e9",path:"/article/vue/studyvueday7.html",headers:[{level:2,title:"★今日目标",slug:"★今日目标",normalizedTitle:"★今日目标",charIndex:2},{level:2,title:"电商业务概述",slug:"电商业务概述",normalizedTitle:"电商业务概述",charIndex:80},{level:2,title:"项目初始化",slug:"项目初始化",normalizedTitle:"项目初始化",charIndex:406},{level:2,title:"准备工作",slug:"准备工作",normalizedTitle:"准备工作",charIndex:572},{level:2,title:"配置后台项目",slug:"配置后台项目",normalizedTitle:"配置后台项目",charIndex:885},{level:2,title:"补充",slug:"补充",normalizedTitle:"补充",charIndex:11209}],headersStr:"★今日目标 电商业务概述 项目初始化 准备工作 配置后台项目 补充",content:"# ★今日目标\n\n 1. 初始化项目\n 2. 基于Vue技术栈进行项目开发\n 3. 使用Vue的第三方组件进行项目开发\n 4. 理解前后端分离开发模式\n\n\n# 电商业务概述\n\n客户使用的业务服务：PC端，小程序，移动web，移动app 管理员使用的业务服务：PC后台管理端。 PC后台管理端的功能：\n\n * 管理用户账号（登录，退出，用户管理，权限管理）\n * 商品管理（商品分类，分类参数，商品信息，订单）\n * 数据统计\n\n电商后台管理系统采用前后端分离的开发模式 前端项目是基于Vue的SPA（单页应用程序）项目\n\n前端技术栈:\n\n * Vue,Vue-Router\n * Element-UI\n * Axios\n * Echarts\n\n后端技术栈：\n\n * Node.js\n * Express\n * Jwt(模拟session)\n * Mysql\n * Sequelize(操作数据库的框架)\n\n\n# 项目初始化\n\n 1. 安装Vue脚手架\n 2. 通过脚手架创建项目\n 3. 配置路由\n 4. 配置Element-UI:在插件中安装，搜索vue-cli-plugin-element\n 5. 配置Axios：在依赖中安装,搜索axios(运行依赖)\n 6. 初始化git仓库\n 7. 将本地项目托管到github或者码云中\n\n\n# 准备工作\n\n# 安装git\n\n在Windows上使用Git，可以从Git官网直接下载安装程序进行安装。 测试命令：git --version\n\n# 配置码云\n\n\n\n点击网站右上角“登录”，登录码云，并进行账号设置\n\n在本地创建公钥：在终端运行：ssh-keygen -t rsa -C \"xxx@xxx.com\"\n\nwindows用户直接在左面邮件，选择git bash here即可 找到公钥地址： cat ~/.ssh/id_rsa.pub\n\n测试公钥：打开终端，输入命令 ssh -T git@gitee.com 点击码云右上角的+号->新建仓库\n\n进行git配置： 打开项目所在位置的终端，进行git仓库关联\n\n\n# 配置后台项目\n\n# 环境配置\n\nA.安装phpStudy并导入mysql数据库数据\n\nB.安装nodeJS，配置后台项目,从终端打开后台项目vue_api_server 然后在终端中输入命令安装项目依赖包：npm install\n\nC.使用postman测试api接口\n\n# 实现登录功能\n\nA.登录状态保持 如果服务器和客户端同源，建议可以使用cookie或者session来保持登录状态 如果客户端和服务器跨域了，建议使用token进行维持登录状态。\n\nB.登录逻辑： 在登录页面输入账号和密码进行登录，将数据发送给服务器 服务器返回登录的结果，登录成功则返回数据中带有token 客户端得到token并进行保存，后续的请求都需要将此token发送给服务器，服务器会验证token以保证用户身份。\n\nC.添加新分支login，在login分支中开发当前项目vue_shop： 打开vue_shop终端，使用git status确定当前项目状态。 确定当前工作目录是干净的之后，创建一个分支进行开发，开发完毕之后将其合并到master git checkout -b login 然后查看新创建的分支：git branch 确定我们正在使用login分支进行开发\n\n然后执行vue ui命令打开ui界面，然后运行serve，运行app查看当前项目效果\n\n发现现在是一个默认页面，我们需要进行更改，打开项目的src目录，点击main.js文件（入口文件）\n\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport './plugins/element.js'\n\nVue.config.productionTip = false\n\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n再打开App.vue(根组件)，将根组件的内容进行操作梳理(template中留下根节点，script中留下默认导出，去掉组件，style中去掉所有样式)\n\n<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n<\/script>\n\n<style>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n再打开router.js(路由)，将routes数组中的路由规则清除，然后将views删除，将components中的helloworld.vue删除\n\nimport Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    \n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n在components文件夹中新建Login.vue组件,添加template，script，style标签,style标签中的scoped可以防止组件之间的样式冲突，没有scoped则样式是全局的\n\n<template>\n    <div class=\"login_container\">\n        \n    </div>\n</template>\n\n<script>\nexport default {\n  \n}\n<\/script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n在router.js中导入组件并设置规则 在App.vue中添加路由占位符\n\nconst router = new Router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: Login }\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n当我们给Login.vue中的内容添加样式的时候，会报错“缺少less-loader”，需要配置less加载器（开发依赖），安装less(开发依赖) 然后需要添加公共样式，在assets文件夹下面添加css文件夹，创建global.css文件,添加全局样式\n\n/* 全局样式表 */\nhtml,body,#app{\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0; \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n在main.js中导入global.css，使得全局样式生效import \"./assets/css/global.css\" 然后Login.vue中的根元素也需要设置撑满全屏（height:100%） 最终Login.vue文件中的代码如下\n\n<template>\n    <div class=\"login_container\">\n        \x3c!-- 登录盒子  --\x3e\n        <div class=\"login_box\">\n            \x3c!-- 头像 --\x3e\n            <div class=\"avatar_box\">\n                <img src=\"../assets/logo.png\" alt=\"\">\n            </div>\n            \x3c!-- 登录表单 --\x3e\n            <el-form :model=\"loginForm\" ref=\"LoginFormRef\" :rules=\"loginFormRules\" label-width=\"0px\" class=\"login_form\">\n                \x3c!-- 用户名 --\x3e\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginForm.username\" prefix-icon=\"iconfont icon-user\" ></el-input>\n                </el-form-item> \n                \x3c!-- 密码 --\x3e\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginForm.password\" prefix-icon=\"iconfont icon-3702mima\"></el-input>\n                </el-form-item> \n                \x3c!-- 按钮 --\x3e\n                <el-form-item class=\"btns\">\n                    <el-button type=\"primary\" @click=\"login\">登录</el-button>\n                    <el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\n                </el-form-item> \n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //数据绑定\n      loginForm: {\n        username: 'admin',\n        password: '123456'\n      },\n      //表单验证规则\n      loginFormRules: {\n        username: [\n          { required: true, message: '请输入登录名', trigger: 'blur' },\n          {\n            min: 3,\n            max: 10,\n            message: '登录名长度在 3 到 10 个字符',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          {\n            min: 6,\n            max: 15,\n            message: '密码长度在 6 到 15 个字符',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  //添加行为，\n  methods: {\n    //添加表单重置方法\n    resetLoginForm() {\n      //this=>当前组件对象，其中的属性$refs包含了设置的表单ref\n      //   console.log(this)\n      this.$refs.LoginFormRef.resetFields()\n    },\n    login() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.LoginFormRef.validate(async valid => {\n        console.log(this.loginFormRules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post('login', this.loginForm)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error('登录失败:' + res.meta.msg) //console.log(\"登录失败:\"+res.meta.msg)\n        }\n\n        this.$message.success('登录成功')\n        console.log(res)\n        //保存token\n        window.sessionStorage.setItem('token', res.data.token)\n        // 导航至/home\n        this.$router.push('/home')\n      })\n    }\n  }\n}\n<\/script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n.login_box {\n  width: 450px;\n  height: 300px;\n  background: #fff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  .avatar_box {\n    height: 130px;\n    width: 130px;\n    border: 1px solid #eee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0 0 10px #ddd;\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #fff;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eee;\n    }\n  }\n}\n.login_form {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.btns {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n\n\n其中我们有用到以下内容，需要进行进一步处理：\n\n 1. 添加element-ui的表单组件 在plugins文件夹中打开element.js文件，进行elementui的按需导入\n    \n    import Vue from 'vue'\n    import { Button } from 'element-ui'\n    import { Form, FormItem } from 'element-ui'\n    import { Input } from 'element-ui'\n    Vue.use(Button)\n    Vue.use(Form)\n    Vue.use(FormItem)\n    Vue.use(Input)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. 添加第三方字体 复制素材中的fonts文件夹到assets中,在入口文件main.js中导入import './assets/fonts/iconfont.css' 然后直接在 <el-input prefix-icon=\"iconfont icon-3702mima\"></el-input> 接着添加登录盒子\n\n 3. 添加表单验证的步骤 1).给<el-form>添加属性:rules=\"rules\"，rules是一堆验证规则，定义在script中 2).在script中添加\n    \n    rules：export default{ \n    \n    data(){\n    \treturn{......, \n    \t\trules: {\n              name: [\n                { required: true, message: '请输入活动名称', trigger: 'blur' },\n                { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n              ],\n              region: [\n                { required: true, message: '请选择活动区域', trigger: 'change' }\n              ]\n    }......\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n    \n    3).通过<el-form-item>的prop属性设置验证规则<el-form-item label=\"活动名称\" prop=\"name\">\n\n 4. 导入axios以发送ajax请求 打开main.js，import axios from 'axios'; 设置请求的根路径：axios.defaults.baseURL = 'http://127.0.0.1:8888/api/private/v1/'; 挂载axios：Vue.prototype.$http = axios;\n\n 5. 配置弹窗提示： 在plugins文件夹中打开element.js文件，进行elementui的按需导入 import {Message} from 'element-ui' 进行全局挂载：Vue.prototype.$message = Message; 在login.vue组件中编写弹窗代码：this.$message.error('登录失败')\n\n# 登录成功之后的操作\n\n 1. 登录成功之后，需要将后台返回的token保存到sessionStorage中 操作完毕之后，需要跳转到/home\n\nlogin() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.LoginFormRef.validate(async valid => {\n        console.log(this.loginFormRules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post('login', this.loginForm)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error('登录失败:' + res.meta.msg) //console.log(\"登录失败:\"+res.meta.msg)\n        }\n\n        this.$message.success('登录成功')\n        console.log(res)\n        //保存token\n        window.sessionStorage.setItem('token', res.data.token)\n        // 导航至/home\n        this.$router.push('/home')\n      })\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. 添加一个组件Home.vue，并为之添加规则\n\n<template>\n    <div>\n        this is home\n        <el-button type=\"info\" @click=\"logout\"> 退出 </el-button>\n    </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    logout() {\n      window.sessionStorage.clear()\n      this.$router.push('/login')\n    }\n  }\n}\n<\/script>\n\n<style lang='less' scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 3. 添加路由规则\n\nconst router = new Router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: Login },\n    { path: '/home', component: Home }\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n 4. 添加路由守卫 如果用户没有登录，不能访问/home,如果用户通过url地址直接访问，则强制跳转到登录页面\n    \n    打开router.js\n\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from './components/Login.vue'\nimport Home from './components/Home.vue'\n\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    { path:'/', redirect:'/login'},\n    { path:'/login' , component:Login },\n    { path:'/home' , component:Home}\n  ]\n})\n\n//挂载路由导航守卫,to表示将要访问的路径，from表示从哪里来，next是下一个要做的操作\nrouter.beforeEach((to,from,next)=>{ \n  if(to.path === '/login')\n    return next();\n  \n  //获取token\n  const tokenStr = window.sessionStorage.getItem('token');\n\n  if(!tokenStr)\n    return next('/login');\n\n  next();\n\n})\n\nexport default router \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n 5. 实现退出功能 在Home组件中添加一个退出功能按钮,给退出按钮添加点击事件，添加事件处理代码如下：\n\nexport default {\n    methods:{\n        logout(){\n            window.sessionStorage.clear();\n            this.$router.push('/login');\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 补充\n\n 1. 处理ESLint警告 打开脚手架面板，查看警告信息 默认情况下，ESLint和vscode格式化工具有冲突，需要添加配置文件解决冲突。 在项目根目录添加 .prettierrc 文件\n\n{\n    \"semi\":false,\n    \"singleQuote\":true\n}\n\n\n1\n2\n3\n4\n\n\n打开.eslintrc.js文件，禁用对 space-before-function-paren 的检查:\n\n  rules: {\n    'no-console': process.env.NODE_ENV === 'production' ? 'error' : 'off',\n    'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off',\n    'space-before-function-paren' : 0\n  },\n\n\n1\n2\n3\n4\n5\n\n 2. 合并按需导入的element-ui\n\nimport Vue from 'vue'\nimport { Button, Form, FormItem, Input, Message } from 'element-ui'\n\nVue.use(Button)\nVue.use(Form)\nVue.use(FormItem)\nVue.use(Input)\n// 进行全局挂载：\nVue.prototype.$message = Message\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. 将代码提交到码云 新建一个项目终端,输入命令git status查看修改过的与新增的文件内容 将所有文件添加到暂存区：git add -A 将所有代码提交到本地仓库：git commit -m \"添加登录功能以及/home的基本结构\" 查看分支：git branch 发现所有代码都被提交到了login分支 将login分支代码合并到master主分支，先切换到master：git checkout master 在master分支进行代码合并：git merge login 将本地的master推送到远端的码云：git push\n\n推送本地的子分支到码云，先切换到子分支：git checkout 分支名 然后推送到码云：git push -u origin 远端分支名",normalizedContent:"# ★今日目标\n\n 1. 初始化项目\n 2. 基于vue技术栈进行项目开发\n 3. 使用vue的第三方组件进行项目开发\n 4. 理解前后端分离开发模式\n\n\n# 电商业务概述\n\n客户使用的业务服务：pc端，小程序，移动web，移动app 管理员使用的业务服务：pc后台管理端。 pc后台管理端的功能：\n\n * 管理用户账号（登录，退出，用户管理，权限管理）\n * 商品管理（商品分类，分类参数，商品信息，订单）\n * 数据统计\n\n电商后台管理系统采用前后端分离的开发模式 前端项目是基于vue的spa（单页应用程序）项目\n\n前端技术栈:\n\n * vue,vue-router\n * element-ui\n * axios\n * echarts\n\n后端技术栈：\n\n * node.js\n * express\n * jwt(模拟session)\n * mysql\n * sequelize(操作数据库的框架)\n\n\n# 项目初始化\n\n 1. 安装vue脚手架\n 2. 通过脚手架创建项目\n 3. 配置路由\n 4. 配置element-ui:在插件中安装，搜索vue-cli-plugin-element\n 5. 配置axios：在依赖中安装,搜索axios(运行依赖)\n 6. 初始化git仓库\n 7. 将本地项目托管到github或者码云中\n\n\n# 准备工作\n\n# 安装git\n\n在windows上使用git，可以从git官网直接下载安装程序进行安装。 测试命令：git --version\n\n# 配置码云\n\n\n\n点击网站右上角“登录”，登录码云，并进行账号设置\n\n在本地创建公钥：在终端运行：ssh-keygen -t rsa -c \"xxx@xxx.com\"\n\nwindows用户直接在左面邮件，选择git bash here即可 找到公钥地址： cat ~/.ssh/id_rsa.pub\n\n测试公钥：打开终端，输入命令 ssh -t git@gitee.com 点击码云右上角的+号->新建仓库\n\n进行git配置： 打开项目所在位置的终端，进行git仓库关联\n\n\n# 配置后台项目\n\n# 环境配置\n\na.安装phpstudy并导入mysql数据库数据\n\nb.安装nodejs，配置后台项目,从终端打开后台项目vue_api_server 然后在终端中输入命令安装项目依赖包：npm install\n\nc.使用postman测试api接口\n\n# 实现登录功能\n\na.登录状态保持 如果服务器和客户端同源，建议可以使用cookie或者session来保持登录状态 如果客户端和服务器跨域了，建议使用token进行维持登录状态。\n\nb.登录逻辑： 在登录页面输入账号和密码进行登录，将数据发送给服务器 服务器返回登录的结果，登录成功则返回数据中带有token 客户端得到token并进行保存，后续的请求都需要将此token发送给服务器，服务器会验证token以保证用户身份。\n\nc.添加新分支login，在login分支中开发当前项目vue_shop： 打开vue_shop终端，使用git status确定当前项目状态。 确定当前工作目录是干净的之后，创建一个分支进行开发，开发完毕之后将其合并到master git checkout -b login 然后查看新创建的分支：git branch 确定我们正在使用login分支进行开发\n\n然后执行vue ui命令打开ui界面，然后运行serve，运行app查看当前项目效果\n\n发现现在是一个默认页面，我们需要进行更改，打开项目的src目录，点击main.js文件（入口文件）\n\nimport vue from 'vue'\nimport app from './app.vue'\nimport router from './router'\nimport './plugins/element.js'\n\nvue.config.productiontip = false\n\n\nnew vue({\n  router,\n  render: h => h(app)\n}).$mount('#app')\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n再打开app.vue(根组件)，将根组件的内容进行操作梳理(template中留下根节点，script中留下默认导出，去掉组件，style中去掉所有样式)\n\n<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n<\/script>\n\n<style>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n再打开router.js(路由)，将routes数组中的路由规则清除，然后将views删除，将components中的helloworld.vue删除\n\nimport vue from 'vue'\nimport router from 'vue-router'\n\nvue.use(router)\n\nexport default new router({\n  routes: [\n    \n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n在components文件夹中新建login.vue组件,添加template，script，style标签,style标签中的scoped可以防止组件之间的样式冲突，没有scoped则样式是全局的\n\n<template>\n    <div class=\"login_container\">\n        \n    </div>\n</template>\n\n<script>\nexport default {\n  \n}\n<\/script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n在router.js中导入组件并设置规则 在app.vue中添加路由占位符\n\nconst router = new router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: login }\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n当我们给login.vue中的内容添加样式的时候，会报错“缺少less-loader”，需要配置less加载器（开发依赖），安装less(开发依赖) 然后需要添加公共样式，在assets文件夹下面添加css文件夹，创建global.css文件,添加全局样式\n\n/* 全局样式表 */\nhtml,body,#app{\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0; \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n在main.js中导入global.css，使得全局样式生效import \"./assets/css/global.css\" 然后login.vue中的根元素也需要设置撑满全屏（height:100%） 最终login.vue文件中的代码如下\n\n<template>\n    <div class=\"login_container\">\n        \x3c!-- 登录盒子  --\x3e\n        <div class=\"login_box\">\n            \x3c!-- 头像 --\x3e\n            <div class=\"avatar_box\">\n                <img src=\"../assets/logo.png\" alt=\"\">\n            </div>\n            \x3c!-- 登录表单 --\x3e\n            <el-form :model=\"loginform\" ref=\"loginformref\" :rules=\"loginformrules\" label-width=\"0px\" class=\"login_form\">\n                \x3c!-- 用户名 --\x3e\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginform.username\" prefix-icon=\"iconfont icon-user\" ></el-input>\n                </el-form-item> \n                \x3c!-- 密码 --\x3e\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginform.password\" prefix-icon=\"iconfont icon-3702mima\"></el-input>\n                </el-form-item> \n                \x3c!-- 按钮 --\x3e\n                <el-form-item class=\"btns\">\n                    <el-button type=\"primary\" @click=\"login\">登录</el-button>\n                    <el-button type=\"info\" @click=\"resetloginform\">重置</el-button>\n                </el-form-item> \n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //数据绑定\n      loginform: {\n        username: 'admin',\n        password: '123456'\n      },\n      //表单验证规则\n      loginformrules: {\n        username: [\n          { required: true, message: '请输入登录名', trigger: 'blur' },\n          {\n            min: 3,\n            max: 10,\n            message: '登录名长度在 3 到 10 个字符',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          {\n            min: 6,\n            max: 15,\n            message: '密码长度在 6 到 15 个字符',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  //添加行为，\n  methods: {\n    //添加表单重置方法\n    resetloginform() {\n      //this=>当前组件对象，其中的属性$refs包含了设置的表单ref\n      //   console.log(this)\n      this.$refs.loginformref.resetfields()\n    },\n    login() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.loginformref.validate(async valid => {\n        console.log(this.loginformrules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post('login', this.loginform)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error('登录失败:' + res.meta.msg) //console.log(\"登录失败:\"+res.meta.msg)\n        }\n\n        this.$message.success('登录成功')\n        console.log(res)\n        //保存token\n        window.sessionstorage.setitem('token', res.data.token)\n        // 导航至/home\n        this.$router.push('/home')\n      })\n    }\n  }\n}\n<\/script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #2b5b6b;\n  height: 100%;\n}\n.login_box {\n  width: 450px;\n  height: 300px;\n  background: #fff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  .avatar_box {\n    height: 130px;\n    width: 130px;\n    border: 1px solid #eee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0 0 10px #ddd;\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: #fff;\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eee;\n    }\n  }\n}\n.login_form {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.btns {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n\n\n其中我们有用到以下内容，需要进行进一步处理：\n\n 1. 添加element-ui的表单组件 在plugins文件夹中打开element.js文件，进行elementui的按需导入\n    \n    import vue from 'vue'\n    import { button } from 'element-ui'\n    import { form, formitem } from 'element-ui'\n    import { input } from 'element-ui'\n    vue.use(button)\n    vue.use(form)\n    vue.use(formitem)\n    vue.use(input)\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n 2. 添加第三方字体 复制素材中的fonts文件夹到assets中,在入口文件main.js中导入import './assets/fonts/iconfont.css' 然后直接在 <el-input prefix-icon=\"iconfont icon-3702mima\"></el-input> 接着添加登录盒子\n\n 3. 添加表单验证的步骤 1).给<el-form>添加属性:rules=\"rules\"，rules是一堆验证规则，定义在script中 2).在script中添加\n    \n    rules：export default{ \n    \n    data(){\n    \treturn{......, \n    \t\trules: {\n              name: [\n                { required: true, message: '请输入活动名称', trigger: 'blur' },\n                { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n              ],\n              region: [\n                { required: true, message: '请选择活动区域', trigger: 'change' }\n              ]\n    }......\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    \n    \n    3).通过<el-form-item>的prop属性设置验证规则<el-form-item label=\"活动名称\" prop=\"name\">\n\n 4. 导入axios以发送ajax请求 打开main.js，import axios from 'axios'; 设置请求的根路径：axios.defaults.baseurl = 'http://127.0.0.1:8888/api/private/v1/'; 挂载axios：vue.prototype.$http = axios;\n\n 5. 配置弹窗提示： 在plugins文件夹中打开element.js文件，进行elementui的按需导入 import {message} from 'element-ui' 进行全局挂载：vue.prototype.$message = message; 在login.vue组件中编写弹窗代码：this.$message.error('登录失败')\n\n# 登录成功之后的操作\n\n 1. 登录成功之后，需要将后台返回的token保存到sessionstorage中 操作完毕之后，需要跳转到/home\n\nlogin() {\n      //点击登录的时候先调用validate方法验证表单内容是否有误\n      this.$refs.loginformref.validate(async valid => {\n        console.log(this.loginformrules)\n        //如果valid参数为true则验证通过\n        if (!valid) {\n          return\n        }\n\n        //发送请求进行登录\n        const { data: res } = await this.$http.post('login', this.loginform)\n        //   console.log(res);\n        if (res.meta.status !== 200) {\n          return this.$message.error('登录失败:' + res.meta.msg) //console.log(\"登录失败:\"+res.meta.msg)\n        }\n\n        this.$message.success('登录成功')\n        console.log(res)\n        //保存token\n        window.sessionstorage.setitem('token', res.data.token)\n        // 导航至/home\n        this.$router.push('/home')\n      })\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n 2. 添加一个组件home.vue，并为之添加规则\n\n<template>\n    <div>\n        this is home\n        <el-button type=\"info\" @click=\"logout\"> 退出 </el-button>\n    </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    logout() {\n      window.sessionstorage.clear()\n      this.$router.push('/login')\n    }\n  }\n}\n<\/script>\n\n<style lang='less' scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n 3. 添加路由规则\n\nconst router = new router({\n  routes: [\n    { path: '/', redirect: '/login' },\n    { path: '/login', component: login },\n    { path: '/home', component: home }\n  ]\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n 4. 添加路由守卫 如果用户没有登录，不能访问/home,如果用户通过url地址直接访问，则强制跳转到登录页面\n    \n    打开router.js\n\nimport vue from 'vue'\nimport router from 'vue-router'\nimport login from './components/login.vue'\nimport home from './components/home.vue'\n\nvue.use(router)\n\nconst router = new router({\n  routes: [\n    { path:'/', redirect:'/login'},\n    { path:'/login' , component:login },\n    { path:'/home' , component:home}\n  ]\n})\n\n//挂载路由导航守卫,to表示将要访问的路径，from表示从哪里来，next是下一个要做的操作\nrouter.beforeeach((to,from,next)=>{ \n  if(to.path === '/login')\n    return next();\n  \n  //获取token\n  const tokenstr = window.sessionstorage.getitem('token');\n\n  if(!tokenstr)\n    return next('/login');\n\n  next();\n\n})\n\nexport default router \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n 5. 实现退出功能 在home组件中添加一个退出功能按钮,给退出按钮添加点击事件，添加事件处理代码如下：\n\nexport default {\n    methods:{\n        logout(){\n            window.sessionstorage.clear();\n            this.$router.push('/login');\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 补充\n\n 1. 处理eslint警告 打开脚手架面板，查看警告信息 默认情况下，eslint和vscode格式化工具有冲突，需要添加配置文件解决冲突。 在项目根目录添加 .prettierrc 文件\n\n{\n    \"semi\":false,\n    \"singlequote\":true\n}\n\n\n1\n2\n3\n4\n\n\n打开.eslintrc.js文件，禁用对 space-before-function-paren 的检查:\n\n  rules: {\n    'no-console': process.env.node_env === 'production' ? 'error' : 'off',\n    'no-debugger': process.env.node_env === 'production' ? 'error' : 'off',\n    'space-before-function-paren' : 0\n  },\n\n\n1\n2\n3\n4\n5\n\n 2. 合并按需导入的element-ui\n\nimport vue from 'vue'\nimport { button, form, formitem, input, message } from 'element-ui'\n\nvue.use(button)\nvue.use(form)\nvue.use(formitem)\nvue.use(input)\n// 进行全局挂载：\nvue.prototype.$message = message\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n 3. 将代码提交到码云 新建一个项目终端,输入命令git status查看修改过的与新增的文件内容 将所有文件添加到暂存区：git add -a 将所有代码提交到本地仓库：git commit -m \"添加登录功能以及/home的基本结构\" 查看分支：git branch 发现所有代码都被提交到了login分支 将login分支代码合并到master主分支，先切换到master：git checkout master 在master分支进行代码合并：git merge login 将本地的master推送到远端的码云：git push\n\n推送本地的子分支到码云，先切换到子分支：git checkout 分支名 然后推送到码云：git push -u origin 远端分支名",charsets:{cjk:!0},lastUpdated:"2023/3/11",lastUpdatedTimestamp:1678548244e3},{title:"VUE Study Day06 - 前端工程化",frontmatter:{title:"VUE Study Day06 - 前端工程化",date:"2021-2-11",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第6天 vue前端工程化"},{name:"keywords",content:"自学 vue 前端工程化"},{name:"twitter:title",content:"VUE Study Day06 - 前端工程化"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day06-vue%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day06 - 前端工程化"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day06-vue%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-11"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day06 - 前端工程化"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday6.html",summary:"不断学习，不断提升，日拱一卒，学习vue第6天",description:""},regularPath:"/article/vue/day06-vue%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96.html",relativePath:"article/vue/day06-vue前端工程化.md",key:"v-44220668",path:"/article/vue/studyvueday6.html",headers:[{level:2,title:"今日目标★",slug:"今日目标★",normalizedTitle:"今日目标★",charIndex:2},{level:2,title:"模块化的分类",slug:"模块化的分类",normalizedTitle:"模块化的分类",charIndex:96},{level:2,title:"在NodeJS中安装babel",slug:"在nodejs中安装babel",normalizedTitle:"在nodejs中安装babel",charIndex:544},{level:3,title:"设置默认导入/导出",slug:"设置默认导入-导出",normalizedTitle:"设置默认导入/导出",charIndex:1205},{level:3,title:"按需导入/导出",slug:"按需导入-导出",normalizedTitle:"按需导入/导出",charIndex:1547},{level:3,title:"直接导入并执行代码",slug:"直接导入并执行代码",normalizedTitle:"直接导入并执行代码",charIndex:1880},{level:2,title:"webpack",slug:"webpack",normalizedTitle:"webpack",charIndex:32},{level:2,title:"Vue单文件组件",slug:"vue单文件组件",normalizedTitle:"vue单文件组件",charIndex:48},{level:2,title:"在webpack中使用vue",slug:"在webpack中使用vue",normalizedTitle:"在webpack中使用vue",charIndex:12328},{level:2,title:"Vue脚手架",slug:"vue脚手架",normalizedTitle:"vue脚手架",charIndex:65},{level:2,title:"Element-UI的基本使用",slug:"element-ui的基本使用",normalizedTitle:"element-ui的基本使用",charIndex:14186}],headersStr:"今日目标★ 模块化的分类 在NodeJS中安装babel 设置默认导入/导出 按需导入/导出 直接导入并执行代码 webpack Vue单文件组件 在webpack中使用vue Vue脚手架 Element-UI的基本使用",content:'# 今日目标★\n\n 1. 能够了解模块化的相关规范\n 2. 了解webpack\n 3. 了解使用Vue单文件组件\n 4. 能够搭建Vue脚手架\n 5. 掌握Element-UI的使用\n\n\n# 模块化的分类\n\n# 浏览器端的模块化\n\n * AMD(Asynchronous Module Definition,异步模块定义) 代表产品为：Require.js\n * CMD(Common Module Definition,通用模块定义) 代表产品为：Sea.js\n\n# 服务器端的模块化\n\n服务器端的模块化规范是使用CommonJS规范：\n\n * 使用require引入其他模块或者包\n * 使用exports或者module.exports导出模块成员\n * 一个文件就是一个模块，都拥有独立的作用域\n\n# ES6模块化\n\nES6模块化规范中定义：\n\n        1. 每一个js文件都是独立的模块\n           2. 导入模块成员使用import关键字\n        3. 暴露模块成员使用export关键字\n\n\n小结：推荐使用ES6模块化，因为AMD，CMD局限使用与浏览器端，而CommonJS在服务器端使用。 ES6模块化是浏览器端和服务器端通用的规范.\n\n\n# 在NodeJS中安装babel\n\n# 安装babel\n\n打开终端，输入命令：\n\nnpm install --save-dev @babel/core @babel/cli @babel/preset-env @babel/node 安装完毕之后，再次输入命令安装：\n\nnpm install --save @babel/polyfill\n\n# 创建babel.config.js\n\n在项目目录中创建babel.config.js文件。 编辑js文件中的代码如下：\n\n    const presets = [\n        ["@babel/env",{\n            targets:{\n                edge:"17",\n                firefox:"60",\n                chrome:"67",\n                safari:"11.1"\n            }\n        }]\n    ]        //暴露\n    module.exports = { presets }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# 创建index.js文件\n\n在项目目录中创建index.js文件作为入口文件 在index.js中输入需要执行的js代码，例如： console.log("ok");\n\n# 使用npx执行文件\n\n打开终端，输入命令：npx babel-node ./index.js\n\n\n# 设置默认导入/导出\n\n# 默认导出\n\n    export default {\n        成员A,\n        成员B,\n        .......\n    },如下：\n    let num = 100;\n    export default{\n        num\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 默认导入\n\nimport 接收名称 from "模块标识符"，如下： import test from "./test.js"\n\n注意：在一个模块中，只允许使用export default向外默认暴露一次成员，千万不要写多个export default。 如果在一个模块中没有向外暴露成员，其他模块引入该模块时将会得到一个空对象\n\n\n# 按需导入/导出\n\n# 按需导出\n\n    export let num = 998;\n    export let myName = "jack";\n    export function fn = function(){ console.log("fn") }\n\n\n1\n2\n3\n\n\n# 按需导入\n\nimport { num,fn as printFn ,myName } from "./test.js" //同时导入默认导出的成员以及按需导入的成员 import test,{ num,fn as printFn ,myName } from "./test.js" 注意：一个模块中既可以按需导入也可以默认导入，一个模块中既可以按需导出也可以默认导出\n\n\n# 直接导入并执行代码\n\nimport "./test2.js";\n\n\n# webpack\n\n概念\n\nwebpack是一个流行的前端项目构建工具，可以解决目前web开发的困境。 webpack提供了模块化支持，代码压缩混淆，解决js兼容问题，性能优化等特性，提高了开发效率和项目的可维护性\n\n# webpack的基本使用\n\n\t1. 创建项目目录并初始化\n    \t`npm init -y`\n\n\n 2. 创建首页及js文件 在项目目录中创建index.html页面，并初始化页面结构：在页面中摆放一个ul，ul里面放置几个li 在项目目录中创建js文件夹，并在文件夹中创建index.js文件\n\n 3. 安装jQuery\n\n打开项目目录终端，输入命令: npm install jquery -S\n\n 4. 导入jquery\n\n打开index.js文件，编写代码导入jQuery并实现功能：\n\n    import $ from "jquery";\n    $(function(){\n        $("li:odd").css("background","cyan");\n        $("li:odd").css("background","pink");\n    })\n\n\n1\n2\n3\n4\n5\n\n\n注意：此时项目运行会有错误，因为import $ from "jquery";这句代码属于ES6的新语法代码，在浏览器中可能会存在兼容性问题 所以我们需要webpack来帮助我们解决这个问题。\n\n 5. 安装webpack 1). 打开项目目录终端，输入命令: npm install webpack webpack-cli -D 2). 然后在项目根目录中，创建一个 webpack.config.js 的配置文件用来配置webpack\n\n    在 webpack.config.js 文件中编写代码进行webpack配置，如下：\n    module.exports = {\n        mode:"development"//可以设置为development(开发模式)，production(发布模式)\n    }\n\n\n1\n2\n3\n4\n\n\n补充：mode设置的是项目的编译模式。 如果设置为development则表示项目处于开发阶段，不会进行压缩和混淆，打包速度会快一些 如果设置为production则表示项目处于上线发布阶段，会进行压缩和混淆，打包速度会慢一些 3). 修改项目中的package.json文件添加运行脚本dev，如下：\n\n    "scripts":{\n        "dev":"webpack"\n    }\n\n\n1\n2\n3\n\n\n注意：scripts节点下的脚本，可以通过 npm run 运行，如： 运行终端命令：npm run dev 将会启动webpack进行项目打包 4).运行dev命令进行项目打包，并在页面中引入项目打包生成的js文件 打开项目目录终端，输入命令: npm run dev 等待webpack打包完毕之后，找到默认的dist路径中生成的main.js文件，将其引入到html页面中。 浏览页面查看效果。\n\n# 设置webpack的打包入口/出口)\n\n在webpack 4.x中，默认会将src/index.js 作为默认的打包入口js；默认会将dist/main.js作为默认的打包输出js文件 如果不想使用默认的入口/出口js文件，我们可以通过改变 webpack.config.js 来设置入口/出口的js文件，如下：\n\n    const path = require("path");\n    module.exports = {\n        mode:"development",\n        //设置入口文件路径\n        entry: path.join(__dirname,"./src/xx.js"),\n        //设置出口文件\n        output:{\n            //设置路径\n            path:path.join(__dirname,"./dist"),\n            //设置文件名\n            filename:"res.js"\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 设置webpack的自动打包\n\n默认情况下，我们更改入口js文件的代码，需要重新运行命令打包webpack，才能生成出口的js文件 那么每次都要重新执行命令打包，这是一个非常繁琐的事情，那么，自动打包可以解决这样繁琐的操作。 实现自动打包功能的步骤如下：\n\n 1. 安装自动打包功能的包:webpack-dev-server npm install webpack-dev-server -D\n\n 2. 修改package.json中的dev指令如下：\n    \n    "scripts":{\n        "dev":"webpack-dev-server"\n    }\n    \n    \n    1\n    2\n    3\n    \n\n 3. 将引入的js文件路径更改为：\n    \n    <script src="/bundle.js"><\/script>\n\n 4. 运行npm run dev，进行打包\n\n 5. 打开网址查看效果：http://localhost:8080\n\n> 注意：webpack-dev-server自动打包的输出文件，默认放到了服务器的根目录中.\n\n补充： 在自动打包完毕之后，默认打开服务器网页，实现方式就是打开package.json文件，修改dev命令： "dev": "webpack-dev-server --open --host 127.0.0.1 --port 9999"\n\n# 配置html-webpack-plugin\n\n使用html-webpack-plugin 可以生成一个预览页面。 因为当我们访问默认的http://localhost:8080/的时候，看到的是一些文件和文件夹，想要查看我们的页面 还需要点击文件夹点击文件才能查看，那么我们希望默认就能看到一个页面，而不是看到文件夹或者目录。 实现默认预览页面功能的步骤如下：\n\n 1. 安装默认预览功能的包:html-webpack-plugin npm install html-webpack-plugin -D\n\n 2. 修改webpack.config.js文件，如下：\n    \n    //导入包\n    const HtmlWebpackPlugin = require("html-webpack-plugin");\n    //创建对象\n    const htmlPlugin = new HtmlWebpackPlugin({\n    //设置生成预览页面的模板文件\n    template:"./src/index.html"\n    //设置生成的预览页面名称\n    filename:"index.html"\n    })\n    C.继续修改webpack.config.js文件，添加plugins信息：\n    module.exports = {\n    ......\n    plugins:[ htmlPlugin ]\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n    \n    # webpack中的加载器\n    \n    通过loader打包非js模块：默认情况下，webpack只能打包js文件，如果想要打包非js文件，需要调用loader加载器才能打包 loader加载器包含：\n    \n    * less-loader\n    \n    * sass-loader\n    \n    * url-loader:打包处理css中与url路径有关的文件\n    \n    * babel-loader:处理高级js语法的加载器\n    \n    * postcss-loader\n    \n    * css-loader,stye-loader\n      \n      > 注意：指定多个loader时的顺序是固定的，而调用loader的顺序是从后向前进行调用\n\n\n\nA.安装style-loader,css-loader来处理样式文件\n    1).安装包\n        npm install style-loader css-loader -D\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlPlugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                }\n            ]\n        }\n    }\nB.安装less,less-loader处理less文件\n    1).安装包\n        npm install less-loader less -D\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlPlugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                },\n                {\n                    test:/\\.less$/,\n                    use:[\'style-loader\',\'css-loader\',\'less-loader\']\n                }\n            ]\n        }\n    }\nC.安装sass-loader,node-sass处理less文件\n    1).安装包\n        npm install sass-loader node-sass -D\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlPlugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                },\n                {\n                    test:/\\.less$/,\n                    use:[\'style-loader\',\'css-loader\',\'less-loader\']\n                },\n                {\n                    test:/\\.scss$/,\n                    use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n                }\n            ]\n        }\n    }\n\n    补充：安装sass-loader失败时，大部分情况是因为网络原因，详情参考：\n    https://segmentfault.com/a/1190000010984731?utm_source=tag-newest\n\nD.安装post-css自动添加css的兼容性前缀（-ie-,-webkit-）\n1).安装包\n    npm install postcss-loader autoprefixer -D\n2).在项目根目录创建并配置postcss.config.js文件\nconst autoprefixer = require("autoprefixer");\nmodule.exports = {\n    plugins:[ autoprefixer ]\n}\n3).配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlPlugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\',\'postcss-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            }\n        ]\n    }\n}\n\nE.打包样式表中的图片以及字体文件\n在样式表css中有时候会设置背景图片和设置字体文件，一样需要loader进行处理\n使用url-loader和file-loader来处理打包图片文件以及字体文件\n1).安装包\n    npm install url-loader file-loader -D\n2).配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlPlugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            },{\n                test:/\\.jpg|png|gif|bmp|ttf|eot|svg|woff|woff2$/,\n                //limit用来设置字节数，只有小于limit值的图片，才会转换\n                //为base64图片\n                use:"url-loader?limit=16940"\n            }\n        ]\n    }\n}\n\nF.打包js文件中的高级语法：在编写js的时候，有时候我们会使用高版本的js语法\n有可能这些高版本的语法不被兼容，我们需要将之打包为兼容性的js代码\n我们需要安装babel系列的包\nA.安装babel转换器\n    npm install babel-loader @babel/core @babel/runtime -D\nB.安装babel语法插件包\n    npm install @babel/preset-env @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -D\nC.在项目根目录创建并配置babel.config.js文件\n    \n    module.exports = {\n        presets:["@babel/preset-env"],\n        plugins:[ "@babel/plugin-transform-runtime", "@babel/plugin-proposal-class-properties" ]\n    }\nD.配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlPlugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            },{\n                test:/\\.jpg|png|gif|bmp|ttf|eot|svg|woff|woff2$/,\n                //limit用来设置字节数，只有小于limit值的图片，才会转换\n                //为base64图片\n                use:"url-loader?limit=16940"\n            },{\n                test:/\\.js$/,\n                use:"babel-loader",\n                //exclude为排除项，意思是不要处理node_modules中的js文件\n                exclude:/node_modules/\n            }\n        ]\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n\n\n\n# Vue单文件组件\n\n传统Vue组件的缺陷：\n\n * 全局定义的组件不能重名，字符串模板缺乏语法高亮，不支持css(当html和js组件化时，css没有参与其中)\n\n * 没有构建步骤限制，只能使用H5和ES5，不能使用预处理器（babel）\n   \n   解决方案： 使用Vue单文件组件，每个单文件组件的后缀名都是.vue 每一个Vue单文件组件都由三部分组成\n   \n   1. template组件组成的模板区域\n   2. script组成的业务逻辑区域\n   3. style样式区域\n\n代码如下：\n\n<template>\n\n    组件代码区域\n\n</template>\n\n<script>\n\n    js代码区域\n\n<\/script>\n\n<style scoped>\n\n    样式代码区域\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n> 补充：安装Vetur插件可以使得.vue文件中的代码高亮\n\n# 配置.vue文件的加载器\n\n 1. 安装vue组件的加载器 npm install vue-loader vue-template-compiler -D\n 2. 配置规则：更改webpack.config.js的module中的rules数组\n\n      const VueLoaderPlugin = require("vue-loader/lib/plugin");\n    const vuePlugin = new VueLoaderPlugin();\n    module.exports = {\n        ......\n        plugins:[ htmlPlugin, vuePlugin  ],\n        module : {\n            rules:[\n                ...//其他规则\n                { \n                    test:/\\.vue$/,\n                    loader:"vue-loader",\n                    \n  }\n        ]\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 在webpack中使用vue\n\n我们安装处理了vue单文件组件的加载器，想要让vue单文件组件能够使用，我们必须要安装vue并使用vue来引用vue单文件组件。\n\n 1. 安装Vue npm install vue -S\n\n 2. 在index.js中引入vue：\n    \n    import Vue from "vue"\n\n 3. 创建Vue实例对象并指定el，最后使用render函数渲染单文件组件\n    \n        const vm = new Vue({\n            el:"#first",\n            render:h=>h(app)\n        })\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    # 使用webpack打包发布项目\n    \n    在项目上线之前，我们需要将整个项目打包并发布。\n    \n    1. 配置package.json\n       \n           "scripts":{\n               "dev":"webpack-dev-server",\n               "build":"webpack -p"\n           }\n       \n       \n       1\n       2\n       3\n       4\n       \n    \n    2. 在项目打包之前，可以将dist目录删除，生成全新的dist目录\n\n\n# Vue脚手架\n\nVue脚手架可以快速生成Vue项目基础的架构。\n\n 1. 安装3.x版本的Vue脚手架： npm install -g @vue/cli\n\n 2. 基于3.x版本的脚手架创建Vue项目： 1).使用命令创建Vue项目 命令：vue create my-project 选择``Manually select features(选择特性以创建项目) 勾选特性可以用空格进行勾选。 是否选用历史模式的路由：n ESLint选择：ESLint + Standard config 何时进行ESLint语法校验：Lint on save babel，postcss等配置文件如何放置：In dedicated config files(单独使用文件进行配置) 是否保存为模板：n 使用哪个工具安装包：npm 2).基于ui界面创建Vue项目 命令：vue ui 在自动打开的创建项目网页中配置项目信息。 3).基于2.x的旧模板，创建Vue项目npm install -g @vue/cli-initvue init webpack my-project`\n\n 3. 分析Vue脚手架生成的项目结构 node_modules:依赖包目录 public：静态资源目录 src：源码目录 src/assets:资源目录 src/components：组件目录 src/views:视图组件目录 src/App.vue:根组件 src/main.js:入口js src/router.js:路由js babel.config.js:babel配置文件 .eslintrc.js:\n\n 4. Vue脚手架的自定义配置 A.通过 package.json 进行配置 [不推荐使用]\n    \n            "vue":{\n                "devServer":{\n                    "port":"9990",\n                    "open":true\n                }\n            }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    B.通过单独的配置文件进行配置，创建vue.config.js\n    \n            module.exports = {\n                devServer:{\n                    port:8888,\n                    open:true\n                }\n            }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n\n# Element-UI的基本使用\n\nElement-UI:一套基于2.0的桌面端组件库 官网地址：http://element-cn.eleme.io/#/zh-CN\n\n 1. 安装： npm install element-ui -S\n\n 2. 导入使用：\n    \n    import ElementUI from "element-ui";\n    import "element-ui/lib/theme-chalk/index.css";\n    Vue.use(ElementUI)\n    \n    \n    1\n    2\n    3\n    \n    \n    ',normalizedContent:'# 今日目标★\n\n 1. 能够了解模块化的相关规范\n 2. 了解webpack\n 3. 了解使用vue单文件组件\n 4. 能够搭建vue脚手架\n 5. 掌握element-ui的使用\n\n\n# 模块化的分类\n\n# 浏览器端的模块化\n\n * amd(asynchronous module definition,异步模块定义) 代表产品为：require.js\n * cmd(common module definition,通用模块定义) 代表产品为：sea.js\n\n# 服务器端的模块化\n\n服务器端的模块化规范是使用commonjs规范：\n\n * 使用require引入其他模块或者包\n * 使用exports或者module.exports导出模块成员\n * 一个文件就是一个模块，都拥有独立的作用域\n\n# es6模块化\n\nes6模块化规范中定义：\n\n        1. 每一个js文件都是独立的模块\n           2. 导入模块成员使用import关键字\n        3. 暴露模块成员使用export关键字\n\n\n小结：推荐使用es6模块化，因为amd，cmd局限使用与浏览器端，而commonjs在服务器端使用。 es6模块化是浏览器端和服务器端通用的规范.\n\n\n# 在nodejs中安装babel\n\n# 安装babel\n\n打开终端，输入命令：\n\nnpm install --save-dev @babel/core @babel/cli @babel/preset-env @babel/node 安装完毕之后，再次输入命令安装：\n\nnpm install --save @babel/polyfill\n\n# 创建babel.config.js\n\n在项目目录中创建babel.config.js文件。 编辑js文件中的代码如下：\n\n    const presets = [\n        ["@babel/env",{\n            targets:{\n                edge:"17",\n                firefox:"60",\n                chrome:"67",\n                safari:"11.1"\n            }\n        }]\n    ]        //暴露\n    module.exports = { presets }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# 创建index.js文件\n\n在项目目录中创建index.js文件作为入口文件 在index.js中输入需要执行的js代码，例如： console.log("ok");\n\n# 使用npx执行文件\n\n打开终端，输入命令：npx babel-node ./index.js\n\n\n# 设置默认导入/导出\n\n# 默认导出\n\n    export default {\n        成员a,\n        成员b,\n        .......\n    },如下：\n    let num = 100;\n    export default{\n        num\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 默认导入\n\nimport 接收名称 from "模块标识符"，如下： import test from "./test.js"\n\n注意：在一个模块中，只允许使用export default向外默认暴露一次成员，千万不要写多个export default。 如果在一个模块中没有向外暴露成员，其他模块引入该模块时将会得到一个空对象\n\n\n# 按需导入/导出\n\n# 按需导出\n\n    export let num = 998;\n    export let myname = "jack";\n    export function fn = function(){ console.log("fn") }\n\n\n1\n2\n3\n\n\n# 按需导入\n\nimport { num,fn as printfn ,myname } from "./test.js" //同时导入默认导出的成员以及按需导入的成员 import test,{ num,fn as printfn ,myname } from "./test.js" 注意：一个模块中既可以按需导入也可以默认导入，一个模块中既可以按需导出也可以默认导出\n\n\n# 直接导入并执行代码\n\nimport "./test2.js";\n\n\n# webpack\n\n概念\n\nwebpack是一个流行的前端项目构建工具，可以解决目前web开发的困境。 webpack提供了模块化支持，代码压缩混淆，解决js兼容问题，性能优化等特性，提高了开发效率和项目的可维护性\n\n# webpack的基本使用\n\n\t1. 创建项目目录并初始化\n    \t`npm init -y`\n\n\n 2. 创建首页及js文件 在项目目录中创建index.html页面，并初始化页面结构：在页面中摆放一个ul，ul里面放置几个li 在项目目录中创建js文件夹，并在文件夹中创建index.js文件\n\n 3. 安装jquery\n\n打开项目目录终端，输入命令: npm install jquery -s\n\n 4. 导入jquery\n\n打开index.js文件，编写代码导入jquery并实现功能：\n\n    import $ from "jquery";\n    $(function(){\n        $("li:odd").css("background","cyan");\n        $("li:odd").css("background","pink");\n    })\n\n\n1\n2\n3\n4\n5\n\n\n注意：此时项目运行会有错误，因为import $ from "jquery";这句代码属于es6的新语法代码，在浏览器中可能会存在兼容性问题 所以我们需要webpack来帮助我们解决这个问题。\n\n 5. 安装webpack 1). 打开项目目录终端，输入命令: npm install webpack webpack-cli -d 2). 然后在项目根目录中，创建一个 webpack.config.js 的配置文件用来配置webpack\n\n    在 webpack.config.js 文件中编写代码进行webpack配置，如下：\n    module.exports = {\n        mode:"development"//可以设置为development(开发模式)，production(发布模式)\n    }\n\n\n1\n2\n3\n4\n\n\n补充：mode设置的是项目的编译模式。 如果设置为development则表示项目处于开发阶段，不会进行压缩和混淆，打包速度会快一些 如果设置为production则表示项目处于上线发布阶段，会进行压缩和混淆，打包速度会慢一些 3). 修改项目中的package.json文件添加运行脚本dev，如下：\n\n    "scripts":{\n        "dev":"webpack"\n    }\n\n\n1\n2\n3\n\n\n注意：scripts节点下的脚本，可以通过 npm run 运行，如： 运行终端命令：npm run dev 将会启动webpack进行项目打包 4).运行dev命令进行项目打包，并在页面中引入项目打包生成的js文件 打开项目目录终端，输入命令: npm run dev 等待webpack打包完毕之后，找到默认的dist路径中生成的main.js文件，将其引入到html页面中。 浏览页面查看效果。\n\n# 设置webpack的打包入口/出口)\n\n在webpack 4.x中，默认会将src/index.js 作为默认的打包入口js；默认会将dist/main.js作为默认的打包输出js文件 如果不想使用默认的入口/出口js文件，我们可以通过改变 webpack.config.js 来设置入口/出口的js文件，如下：\n\n    const path = require("path");\n    module.exports = {\n        mode:"development",\n        //设置入口文件路径\n        entry: path.join(__dirname,"./src/xx.js"),\n        //设置出口文件\n        output:{\n            //设置路径\n            path:path.join(__dirname,"./dist"),\n            //设置文件名\n            filename:"res.js"\n        }\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 设置webpack的自动打包\n\n默认情况下，我们更改入口js文件的代码，需要重新运行命令打包webpack，才能生成出口的js文件 那么每次都要重新执行命令打包，这是一个非常繁琐的事情，那么，自动打包可以解决这样繁琐的操作。 实现自动打包功能的步骤如下：\n\n 1. 安装自动打包功能的包:webpack-dev-server npm install webpack-dev-server -d\n\n 2. 修改package.json中的dev指令如下：\n    \n    "scripts":{\n        "dev":"webpack-dev-server"\n    }\n    \n    \n    1\n    2\n    3\n    \n\n 3. 将引入的js文件路径更改为：\n    \n    <script src="/bundle.js"><\/script>\n\n 4. 运行npm run dev，进行打包\n\n 5. 打开网址查看效果：http://localhost:8080\n\n> 注意：webpack-dev-server自动打包的输出文件，默认放到了服务器的根目录中.\n\n补充： 在自动打包完毕之后，默认打开服务器网页，实现方式就是打开package.json文件，修改dev命令： "dev": "webpack-dev-server --open --host 127.0.0.1 --port 9999"\n\n# 配置html-webpack-plugin\n\n使用html-webpack-plugin 可以生成一个预览页面。 因为当我们访问默认的http://localhost:8080/的时候，看到的是一些文件和文件夹，想要查看我们的页面 还需要点击文件夹点击文件才能查看，那么我们希望默认就能看到一个页面，而不是看到文件夹或者目录。 实现默认预览页面功能的步骤如下：\n\n 1. 安装默认预览功能的包:html-webpack-plugin npm install html-webpack-plugin -d\n\n 2. 修改webpack.config.js文件，如下：\n    \n    //导入包\n    const htmlwebpackplugin = require("html-webpack-plugin");\n    //创建对象\n    const htmlplugin = new htmlwebpackplugin({\n    //设置生成预览页面的模板文件\n    template:"./src/index.html"\n    //设置生成的预览页面名称\n    filename:"index.html"\n    })\n    c.继续修改webpack.config.js文件，添加plugins信息：\n    module.exports = {\n    ......\n    plugins:[ htmlplugin ]\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n    \n    # webpack中的加载器\n    \n    通过loader打包非js模块：默认情况下，webpack只能打包js文件，如果想要打包非js文件，需要调用loader加载器才能打包 loader加载器包含：\n    \n    * less-loader\n    \n    * sass-loader\n    \n    * url-loader:打包处理css中与url路径有关的文件\n    \n    * babel-loader:处理高级js语法的加载器\n    \n    * postcss-loader\n    \n    * css-loader,stye-loader\n      \n      > 注意：指定多个loader时的顺序是固定的，而调用loader的顺序是从后向前进行调用\n\n\n\na.安装style-loader,css-loader来处理样式文件\n    1).安装包\n        npm install style-loader css-loader -d\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlplugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                }\n            ]\n        }\n    }\nb.安装less,less-loader处理less文件\n    1).安装包\n        npm install less-loader less -d\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlplugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                },\n                {\n                    test:/\\.less$/,\n                    use:[\'style-loader\',\'css-loader\',\'less-loader\']\n                }\n            ]\n        }\n    }\nc.安装sass-loader,node-sass处理less文件\n    1).安装包\n        npm install sass-loader node-sass -d\n    2).配置规则：更改webpack.config.js的module中的rules数组\n    module.exports = {\n        ......\n        plugins:[ htmlplugin ],\n        module : {\n            rules:[\n                {\n                    //test设置需要匹配的文件类型，支持正则\n                    test:/\\.css$/,\n                    //use表示该文件类型需要调用的loader\n                    use:[\'style-loader\',\'css-loader\']\n                },\n                {\n                    test:/\\.less$/,\n                    use:[\'style-loader\',\'css-loader\',\'less-loader\']\n                },\n                {\n                    test:/\\.scss$/,\n                    use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n                }\n            ]\n        }\n    }\n\n    补充：安装sass-loader失败时，大部分情况是因为网络原因，详情参考：\n    https://segmentfault.com/a/1190000010984731?utm_source=tag-newest\n\nd.安装post-css自动添加css的兼容性前缀（-ie-,-webkit-）\n1).安装包\n    npm install postcss-loader autoprefixer -d\n2).在项目根目录创建并配置postcss.config.js文件\nconst autoprefixer = require("autoprefixer");\nmodule.exports = {\n    plugins:[ autoprefixer ]\n}\n3).配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlplugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\',\'postcss-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            }\n        ]\n    }\n}\n\ne.打包样式表中的图片以及字体文件\n在样式表css中有时候会设置背景图片和设置字体文件，一样需要loader进行处理\n使用url-loader和file-loader来处理打包图片文件以及字体文件\n1).安装包\n    npm install url-loader file-loader -d\n2).配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlplugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            },{\n                test:/\\.jpg|png|gif|bmp|ttf|eot|svg|woff|woff2$/,\n                //limit用来设置字节数，只有小于limit值的图片，才会转换\n                //为base64图片\n                use:"url-loader?limit=16940"\n            }\n        ]\n    }\n}\n\nf.打包js文件中的高级语法：在编写js的时候，有时候我们会使用高版本的js语法\n有可能这些高版本的语法不被兼容，我们需要将之打包为兼容性的js代码\n我们需要安装babel系列的包\na.安装babel转换器\n    npm install babel-loader @babel/core @babel/runtime -d\nb.安装babel语法插件包\n    npm install @babel/preset-env @babel/plugin-transform-runtime @babel/plugin-proposal-class-properties -d\nc.在项目根目录创建并配置babel.config.js文件\n    \n    module.exports = {\n        presets:["@babel/preset-env"],\n        plugins:[ "@babel/plugin-transform-runtime", "@babel/plugin-proposal-class-properties" ]\n    }\nd.配置规则：更改webpack.config.js的module中的rules数组\nmodule.exports = {\n    ......\n    plugins:[ htmlplugin ],\n    module : {\n        rules:[\n            {\n                //test设置需要匹配的文件类型，支持正则\n                test:/\\.css$/,\n                //use表示该文件类型需要调用的loader\n                use:[\'style-loader\',\'css-loader\']\n            },\n            {\n                test:/\\.less$/,\n                use:[\'style-loader\',\'css-loader\',\'less-loader\']\n            },\n            {\n                test:/\\.scss$/,\n                use:[\'style-loader\',\'css-loader\',\'sass-loader\']\n            },{\n                test:/\\.jpg|png|gif|bmp|ttf|eot|svg|woff|woff2$/,\n                //limit用来设置字节数，只有小于limit值的图片，才会转换\n                //为base64图片\n                use:"url-loader?limit=16940"\n            },{\n                test:/\\.js$/,\n                use:"babel-loader",\n                //exclude为排除项，意思是不要处理node_modules中的js文件\n                exclude:/node_modules/\n            }\n        ]\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n\n\n\n# vue单文件组件\n\n传统vue组件的缺陷：\n\n * 全局定义的组件不能重名，字符串模板缺乏语法高亮，不支持css(当html和js组件化时，css没有参与其中)\n\n * 没有构建步骤限制，只能使用h5和es5，不能使用预处理器（babel）\n   \n   解决方案： 使用vue单文件组件，每个单文件组件的后缀名都是.vue 每一个vue单文件组件都由三部分组成\n   \n   1. template组件组成的模板区域\n   2. script组成的业务逻辑区域\n   3. style样式区域\n\n代码如下：\n\n<template>\n\n    组件代码区域\n\n</template>\n\n<script>\n\n    js代码区域\n\n<\/script>\n\n<style scoped>\n\n    样式代码区域\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n> 补充：安装vetur插件可以使得.vue文件中的代码高亮\n\n# 配置.vue文件的加载器\n\n 1. 安装vue组件的加载器 npm install vue-loader vue-template-compiler -d\n 2. 配置规则：更改webpack.config.js的module中的rules数组\n\n      const vueloaderplugin = require("vue-loader/lib/plugin");\n    const vueplugin = new vueloaderplugin();\n    module.exports = {\n        ......\n        plugins:[ htmlplugin, vueplugin  ],\n        module : {\n            rules:[\n                ...//其他规则\n                { \n                    test:/\\.vue$/,\n                    loader:"vue-loader",\n                    \n  }\n        ]\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 在webpack中使用vue\n\n我们安装处理了vue单文件组件的加载器，想要让vue单文件组件能够使用，我们必须要安装vue并使用vue来引用vue单文件组件。\n\n 1. 安装vue npm install vue -s\n\n 2. 在index.js中引入vue：\n    \n    import vue from "vue"\n\n 3. 创建vue实例对象并指定el，最后使用render函数渲染单文件组件\n    \n        const vm = new vue({\n            el:"#first",\n            render:h=>h(app)\n        })\n    \n    \n    1\n    2\n    3\n    4\n    \n    \n    # 使用webpack打包发布项目\n    \n    在项目上线之前，我们需要将整个项目打包并发布。\n    \n    1. 配置package.json\n       \n           "scripts":{\n               "dev":"webpack-dev-server",\n               "build":"webpack -p"\n           }\n       \n       \n       1\n       2\n       3\n       4\n       \n    \n    2. 在项目打包之前，可以将dist目录删除，生成全新的dist目录\n\n\n# vue脚手架\n\nvue脚手架可以快速生成vue项目基础的架构。\n\n 1. 安装3.x版本的vue脚手架： npm install -g @vue/cli\n\n 2. 基于3.x版本的脚手架创建vue项目： 1).使用命令创建vue项目 命令：vue create my-project 选择``manually select features(选择特性以创建项目) 勾选特性可以用空格进行勾选。 是否选用历史模式的路由：n eslint选择：eslint + standard config 何时进行eslint语法校验：lint on save babel，postcss等配置文件如何放置：in dedicated config files(单独使用文件进行配置) 是否保存为模板：n 使用哪个工具安装包：npm 2).基于ui界面创建vue项目 命令：vue ui 在自动打开的创建项目网页中配置项目信息。 3).基于2.x的旧模板，创建vue项目npm install -g @vue/cli-initvue init webpack my-project`\n\n 3. 分析vue脚手架生成的项目结构 node_modules:依赖包目录 public：静态资源目录 src：源码目录 src/assets:资源目录 src/components：组件目录 src/views:视图组件目录 src/app.vue:根组件 src/main.js:入口js src/router.js:路由js babel.config.js:babel配置文件 .eslintrc.js:\n\n 4. vue脚手架的自定义配置 a.通过 package.json 进行配置 [不推荐使用]\n    \n            "vue":{\n                "devserver":{\n                    "port":"9990",\n                    "open":true\n                }\n            }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n    \n    b.通过单独的配置文件进行配置，创建vue.config.js\n    \n            module.exports = {\n                devserver:{\n                    port:8888,\n                    open:true\n                }\n            }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    \n\n\n# element-ui的基本使用\n\nelement-ui:一套基于2.0的桌面端组件库 官网地址：http://element-cn.eleme.io/#/zh-cn\n\n 1. 安装： npm install element-ui -s\n\n 2. 导入使用：\n    \n    import elementui from "element-ui";\n    import "element-ui/lib/theme-chalk/index.css";\n    vue.use(elementui)\n    \n    \n    1\n    2\n    3\n    \n    \n    ',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day09 - 实战3",frontmatter:{title:"VUE Study Day09 - 实战3",date:"2021-2-17",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第9天 vue实战-实现权限、角色分配，增删用户"},{name:"keywords",content:"自学 vue 实战 电商平台 权限 角色 增删"},{name:"twitter:title",content:"VUE Study Day09 - 实战3"},{name:"twitter:description",content:"当前的用户:{{userInfo.username}}"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day09-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day09 - 实战3"},{property:"og:description",content:"当前的用户:{{userInfo.username}}"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day09-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-17"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day09 - 实战3"},{itemprop:"description",content:"当前的用户:{{userInfo.username}}"}],feed:{enable:!0},permalink:"/article/vue/studyvueday9.html",summary:"不断学习，不断提升，日拱一卒，学习vue第9天",description:"当前的用户:{{userInfo.username}}"},regularPath:"/article/vue/day09-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day09-电商.md",key:"v-18db05ed",path:"/article/vue/studyvueday9.html",headers:[{level:2,title:"★今日目标",slug:"★今日目标",normalizedTitle:"★今日目标",charIndex:2},{level:2,title:"用户管理",slug:"用户管理",normalizedTitle:"用户管理",charIndex:70},{level:2,title:"推送代码",slug:"推送代码",normalizedTitle:"推送代码",charIndex:28},{level:2,title:"权限列表",slug:"权限列表",normalizedTitle:"权限列表",charIndex:41},{level:2,title:"角色列表",slug:"角色列表",normalizedTitle:"角色列表",charIndex:51},{level:2,title:"分配角色",slug:"分配角色",normalizedTitle:"分配角色",charIndex:61}],headersStr:"★今日目标 用户管理 推送代码 权限列表 角色列表 分配角色",content:'# ★今日目标\n\n 1. 修改用户,删除用户\n\n 2. 推送代码到码云\n\n 3. 权限列表\n\n 4. 角色列表\n\n 5. 分配角色\n\n\n# 用户管理\n\n# 修改用户信息\n\nA.为用户列表中的修改按钮绑定点击事件 B.在页面中添加修改用户对话框，并修改对话框的属性 C.根据id查询需要修改的用户数据\n\n//展示编辑用户的对话框\nasync showEditDialog(id) {\n    //发送请求根据id获取用户信息\n    const { data: res } = await this.$http.get(\'users/\' + id)\n    //判断如果添加失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'获取用户信息失败\')\n    //将获取到的数据保存到数据editForm中\n    this.editForm = res.data\n    //显示弹出窗\n    this.editDialogVisible = true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nD.在弹出窗中添加修改用户信息的表单并做响应的数据绑定以及数据验证\n\n\x3c!-- 对话框主体区域 --\x3e\n<el-form :model="editForm" :rules="editFormRules" ref="editFormRef" label-width="70px">\n    <el-form-item label="用户名">\n        <el-input v-model="editForm.username" disabled></el-input>\n    </el-form-item>\n    <el-form-item label="邮箱" prop="email">\n        <el-input v-model="editForm.email"></el-input>\n    </el-form-item>\n    <el-form-item label="电话" prop="mobile">\n        <el-input v-model="editForm.mobile"></el-input>\n    </el-form-item>\n</el-form>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n数据绑定以及验证：\n\n//控制修改用户对话框的显示与否\neditDialogVisible: false,\n//修改用户的表单数据\neditForm: {\n    username: \'\',\n    email: \'\',\n    mobile: \'\'\n},\n//修改表单的验证规则对象\neditFormRules: {\n    email: [\n        { required: true, message: \'请输入邮箱\', trigger: \'blur\' },\n        {\n        validator: checkEmail,\n        message: \'邮箱格式不正确，请重新输入\',\n        trigger: \'blur\'\n        }\n    ],\n    mobile: [\n        { required: true, message: \'请输入手机号码\', trigger: \'blur\' },\n        {\n        validator: checkMobile,\n        message: \'手机号码不正确，请重新输入\',\n        trigger: \'blur\'\n        }\n    ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nE.监听对话框关闭事件，在对话框关闭之后，重置表单\n\n<el-dialog title="修改用户" :visible.sync="editDialogVisible" width="50%" @close="editDialogClosed">\n\neditDialogClosed(){\n    //对话框关闭之后，重置表达\n    this.$refs.editFormRef.resetFields()\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nF.在用户点击确定按钮的时候，验证数据成功之后发送请求完成修改\n\neditUser() {\n    //用户点击修改表单中的确定按钮之后，验证表单数据\n    this.$refs.editFormRef.validate(async valid => {\n    if (!valid) return this.$message.error(\'请填写完整用户信息\')\n    //发送请求完成修改用户的操作\n    const { data: res } = await this.$http.put(\n        \'users/\' + this.editForm.id,\n        this.editForm\n    )\n    //判断如果修改失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'修改用户失败\')\n    //修改成功的提示\n    this.$message.success(\'修改用户成功\')\n    //关闭对话框\n    this.editDialogVisible = false\n    //重新请求最新的数据\n    this.getUserList()\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# 删除用户\n\n在点击删除按钮的时候，我们应该跳出提示信息框，让用户确认要进行删除操作。 如果想要使用确认取消提示框，我们需要先将提示信息框挂载到vue中。 A.导入MessageBox组件，并将MessageBox组件挂载到实例。 Vue.prototype.$confirm = MessageBox.confirm B.给用户列表中的删除按钮添加事件，并在事件处理函数中弹出确定取消窗,最后再根据id发送删除用户的请求\n\nasync removeUserById(id){\n    //弹出确定取消框，是否删除用户\n    const confirmResult = await this.$confirm(\'请问是否要永久删除该用户\',\'删除提示\',{\n    confirmButtonText:\'确认删除\',\n    cancelButtonText:\'取消\',\n    type:\'warning\'\n    }).catch(err=>err)\n    //如果用户点击确认，则confirmResult 为\'confirm\'\n    //如果用户点击取消, 则confirmResult获取的就是catch的错误消息\'cancel\'\n    if(confirmResult != "confirm"){\n        return this.$message.info("已经取消删除")\n    }\n    //发送请求根据id完成删除操作\n    const {data:res} = await this.$http.delete(\'users/\'+id)\n    //判断如果删除失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'删除用户失败\')\n    //修改成功的提示\n    this.$message.success(\'删除用户成功\')\n    //重新请求最新的数据\n    this.getUserList()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 推送代码\n\n创建user子分支，并将代码推送到码云 A.创建user子分支 git checkout -b user B.将代码添加到暂存区 git add . C.将代码提交并注释git commit -m \'添加完成用户列表功能\' D.将本地的user分支推送到码云 git push -u origin user E.将user分支代码合并到master: 切换到master git checkout master 合并user git merge user F.将本地master分支的代码推送到码云 git push\n\n创建rights子分支 A.创建rights子分支 git checkout -b rights B.将本地的rights分支推送到码云 git push -u origin rights\n\n\n# 权限列表\n\n# 添加权限列表路由\n\n创建权限管理组件（Rights.vue），并在router.js添加对应的路由规则\n\nimport Rights from \'./components/power/Rights.vue\'\n......\n      path: \'/home\', component: Home, redirect: \'/welcome\', children: [\n        { path: "/welcome", component: Welcome },\n        { path: "/users", component: Users },\n        { path: "/rights", component: Rights }\n      ]\n......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 添加面包屑导航\n\n在Rights.vue中添加面包屑组件展示导航路径\n\n# 显示数据\n\n在data中添加一个rightsList数据，在methods中提供一个getRightsList方法发送请求获取权限列表数据，在created中调用这个方法获取数据\n\n<el-table :data="rightsList" stripe>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="权限名称" prop="authName"></el-table-column>\n    <el-table-column label="路径" prop="path"></el-table-column>\n    <el-table-column label="权限等级" prop="level">\n        <template slot-scope="scope"> \n            <el-tag v-if="scope.row.level === 0">一级权限</el-tag>\n            <el-tag v-if="scope.row.level === 1" type="success">二级权限</el-tag>\n            <el-tag v-if="scope.row.level === 2" type="warning">三级权限</el-tag>\n        </template>\n    </el-table-column>\n</el-table>\n<script>\nexport default {\n    data(){\n        return {\n            //列表形式的权限\n            rightsList:[]\n        }\n    },\n    created(){\n        this.getRightsList();\n    },\n    methods:{\n        async getRightsList(){\n            const {data:res} = await this.$http.get(\'rights/list\')\n            //如果返回状态为异常状态则报错并返回\n            if (res.meta.status !== 200)\n                return this.$message.error(\'获取权限列表失败\')\n            //如果返回状态正常，将请求的数据保存在data中\n            this.rightsList = res.data\n        }\n    }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 角色列表\n\n# 添加角色列表路由\n\n添加角色列表子组件（power/Roles.vue），并添加对应的规则\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n        { path: "/welcome", component: Welcome },\n        { path: "/users", component: Users },\n        { path: "/rights", component: Rights },\n        { path: "/roles", component: Roles  }\n      ]\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 添加面包屑导航\n\n在Roles.vue中添加面包屑组件展示导航路径\n\n# 显示数据\n\n在data中添加一个roleList数据，在methods中提供一个getRoleList方法发送请求获取权限列表数据，在created中调用这个方法获取数据\n\n\x3c!-- 角色列表区域 --\x3e\n\x3c!-- row-key="id" 是2019年3月提供的新特性，\nif there\'s nested data, rowKey is required.\n如果这是一个嵌套的数据，rowkey 是必须添加的属性 --\x3e\n<el-table row-key="id" :data="roleList" border>\n    \x3c!-- 添加展开列 --\x3e\n    <el-table-column type="expand"></el-table-column>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="角色名称" prop="roleName"></el-table-column>\n    <el-table-column label="角色描述" prop="roleDesc"></el-table-column>\n    <el-table-column label="操作" width="300px">\n        <template slot-scope="scope"> \n            <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n            <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n            <el-button size="mini" type="warning" icon="el-icon-setting">分配权限</el-button>\n        </template>\n    </el-table-column>\n</el-table>\n\n<script>\nexport default {\n    data(){\n        return {\n            roleList:[]\n        }\n    },created(){\n        this.getRoleList();\n    },methods:{\n        async getRoleList(){\n            const {data:res} = await this.$http.get(\'roles\')\n            //如果返回状态为异常状态则报错并返回\n            // if (res.meta.status !== 200)\n            //     return this.$message.error(\'获取角色列表失败\')\n            // //如果返回状态正常，将请求的数据保存在data中\n            // this.roleList = res.data\n            console.log(res.data)\n            this.roleList = res.data;\n        }\n    }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n补充说明 之前学习过类似的添加角色，删除角色，编辑角色请参照之前编写过的代码还有接口文档完成效果。\n\n# 生成权限列表\n\n使用三重嵌套for循环生成权限下拉列表\n\n\x3c!-- 添加展开列 --\x3e\n<el-table-column type="expand">\n    <template slot-scope="scope">\n        <el-row :class="[\'bdbottom\',i1===0?\'bdtop\':\'\']" v-for="(item1,i1) in scope.row.children" :key="item1.id">\n            \x3c!-- 渲染一级权限 --\x3e\n            <el-col :span="5">\n                <el-tag>\n                    {{item1.authName}}\n                </el-tag>\n                <i class="el-icon-caret-right"></i>\n            </el-col>\n            \x3c!-- 渲染二，三级权限 --\x3e\n            <el-col :span="19">\n                \x3c!-- 通过for循环嵌套渲染二级权限  --\x3e\n                <el-row :class="[i2===0?\'\':\'bdtop\' ]" v-for="(item2,i2) in item1.children" :key="item2.id">\n                    <el-col :span="6">\n                        <el-tag type="success">{{item2.authName}}</el-tag>\n                        <i class="el-icon-caret-right"></i>\n                    </el-col>\n                    <el-col :span="18">\n                        <el-tag type="warning" v-for="(item3) in item2.children" :key="item3.id">\n                            {{item3.authName}}\n                        </el-tag>\n                    </el-col>\n                </el-row>\n            </el-col>\n        </el-row>\n    </template>\n</el-table-column>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# 美化样式\n\n通过设置global.css中的#app样式min-width:1366px 解决三级权限换行的问题 ，通过给一级权限el-row添加display:flex,align-items:center的方式解决一级权限垂直居中的问题，二级权限也类似添加，因为需要给多个内容添加，可以将这个样式设置为一个.vcenter{display:flex;align-items:center}\n\n# 添加权限删除功能\n\n给每一个权限的el-tag添加closable属性，是的权限右侧出现“X”图标 再给el-tag添加绑定close事件处理函数\n\nremoveRightById(scope.row,item1.id)\nremoveRightById(scope.row,item2.id)\nremoveRightById(scope.row,item3.id)\n\n\n1\n2\n3\n\n\nasync removeRightById(role,rightId){\n    //弹窗提示用户是否要删除\n    const confirmResult = await this.$confirm(\'请问是否要删除该权限\',\'删除提示\',{\n        confirmButtonText:\'确认删除\',\n        cancelButtonText:\'取消\',\n        type:\'warning\'\n    }).catch(err=>err)\n    //如果用户点击确认，则confirmResult 为\'confirm\'\n    //如果用户点击取消, 则confirmResult获取的就是catch的错误消息\'cancel\'\n    if(confirmResult != "confirm"){\n        return this.$message.info("已经取消删除")\n    }\n\n    //用户点击了确定表示真的要删除\n    //当发送delete请求之后，返回的数据就是最新的角色权限信息\n    const {data:res} = await this.$http.delete(`roles/${role.id}/rights/${rightId}`)\n    if (res.meta.status !== 200)\n        return this.$message.error(\'删除角色权限失败\')\n\n    //无需再重新加载所有权限\n    //只需要对现有的角色权限进行更新即可\n    role.children = res.data\n    // this.getRoleList();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 完成权限分配功能\n\n先给分配权限按钮添加事件\n\n<el-button size="mini" type="warning" icon="el-icon-setting" @click="showSetRightDialog">分配权限</el-button>\n\n\n1\n\n\n在showSetRightDialog函数中请求权限树数据并显示对话框\n\nasync showSetRightDialog() {\n    //当点击分配权限按钮时，展示对应的对话框\n    this.setRightDialogVisible = true;\n    //获取所有权限的数据\n    const {data:res} = await this.$http.get(\'rights/tree\')\n    //如果返回状态为异常状态则报错并返回\n    if (res.meta.status !== 200)\n        return this.$message.error(\'获取权限树失败\')\n    //如果返回状态正常，将请求的数据保存在data中\n    this.rightsList = res.data\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n添加分配权限对话框，并添加绑定数据setRightDialogVisible\n\n\x3c!-- 分配权限对话框 --\x3e\n<el-dialog title="分配权限" :visible.sync="setRightDialogVisible" width="50%">\n    <span>这是一段信息</span>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="setRightDialogVisible = false">取 消</el-button>\n        <el-button type="primary" @click="setRightDialogVisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 完成树形结构弹窗\n\n在element.js中引入Tree，注册Tree\n\n\x3c!-- 分配权限对话框 --\x3e\n<el-dialog title="分配权限" :visible.sync="setRightDialogVisible" width="50%" @close="setRightDialogClose">\n    \x3c!-- 树形组件\n    show-checkbox:显示复选框\n    node-key:设置选中节点对应的值\n    default-expand-all:是否默认展开所有节点\n    :default-checked-keys 设置默认选中项的数组\n    ref:设置引用 --\x3e\n    <el-tree :data="rightsList" :props="treeProps" show-checkbox node-key="id" default-expand-all :default-checked-keys="defKeys" ref="treeRef"></el-tree>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="setRightDialogVisible = false">取 消</el-button>\n        <el-button type="primary" @click="allotRights">确 定</el-button>\n    </span>\n</el-dialog>\n\n<script>\nexport default {\n  data() {\n    return {\n      //角色列表数据\n      roleList: [],\n      //控制分配权限对话框的显示\n      setRightDialogVisible: false,\n      //权限树数据\n      rightsList: [],\n      //树形控件的属性绑定对象\n      treeProps: {\n        //通过label设置树形节点文本展示authName\n        label: \'authName\',\n        //设置通过children属性展示子节点信息\n        children: \'children\'\n      },\n      //设置树形控件中默认选中的内容\n      defKeys: [],\n      //保存正在操作的角色id\n      roleId:\'\'\n    }\n  },\n  created() {\n    this.getRoleList()\n  },\n  methods: {\n    async getRoleList() {\n      const { data: res } = await this.$http.get(\'roles\')\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200)\n        return this.$message.error(\'获取角色列表失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      // this.roleList = res.data\n      console.log(res.data)\n      this.roleList = res.data\n    },\n    async removeRightById(role, rightId) {\n      //弹窗提示用户是否要删除\n      const confirmResult = await this.$confirm(\n        \'请问是否要删除该权限\',\n        \'删除提示\',\n        {\n          confirmButtonText: \'确认删除\',\n          cancelButtonText: \'取消\',\n          type: \'warning\'\n        }\n      ).catch(err => err)\n      //如果用户点击确认，则confirmResult 为\'confirm\'\n      //如果用户点击取消, 则confirmResult获取的就是catch的错误消息\'cancel\'\n      if (confirmResult != \'confirm\') {\n        return this.$message.info(\'已经取消删除\')\n      }\n\n      //用户点击了确定表示真的要删除\n      //当发送delete请求之后，返回的数据就是最新的角色权限信息\n      const { data: res } = await this.$http.delete(\n        `roles/${role.id}/rights/${rightId}`\n      )\n      if (res.meta.status !== 200)\n        return this.$message.error(\'删除角色权限失败\')\n\n      //无需再重新加载所有权限\n      //只需要对现有的角色权限进行更新即可\n      role.children = res.data\n      // this.getRoleList();\n    },\n    async showSetRightDialog(role) {\n      //将role.id保存起来以供保存权限时使用\n      this.roleId = role.id;  \n      //获取所有权限的数据\n      const { data: res } = await this.$http.get(\'rights/tree\')\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200) return this.$message.error(\'获取权限树失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      this.rightsList = res.data\n\n      //调用getLeafKeys进行递归，将三级权限添加到数组中\n      this.getLeafKeys(role, this.defKeys)\n      //当点击分配权限按钮时，展示对应的对话框\n      this.setRightDialogVisible = true\n      console.log(this.defKeys)\n    },\n    getLeafKeys(node, arr) {\n      //该函数会获取到当前角色的所有三级权限id并添加到defKeys中\n      //如果当前节点不包含children属性，则表示node为三级权限\n      if (!node.children) {\n        return arr.push(node.id)\n      }\n      //递归调用\n      node.children.forEach(item => this.getLeafKeys(item, arr))\n    },\n    setRightDialogClose() {\n      //当用户关闭树形权限对话框的时候，清除掉所有选中状态\n      this.defKeys = []\n    },\n    async allotRights() {\n      //当用户在树形权限对话框中点击确定，将用户选择的\n      //权限发送请求进行更新\n\n      //获取所有选中及半选的内容\n      const keys = [\n        ...this.$refs.treeRef.getCheckedKeys(),\n        ...this.$refs.treeRef.getHalfCheckedKeys()\n      ]\n      //将数组转换为 , 拼接的字符串\n      const idStr = keys.join(\',\')\n\n      //发送请求完成更新\n      const { data: res } = await this.$http.post(\n        `roles/${this.roleId}/rights`,\n        { rids:idStr }\n      )\n      if (res.meta.status !== 200)\n        return this.$message.error(\'分配权限失败\')\n\n      this.$message.success("分配权限成功")\n      this.getRoleList();\n      //关闭对话框\n      this.setRightDialogVisible = false;\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n\n\n\n# 分配角色\n\n打开Users.vue，完成分配角色的功能\n\n# 添加分配角色对话框\n\n\x3c!-- 分配角色对话框 --\x3e\n<el-dialog title="分配角色" :visible.sync="setRoleDialogVisible" width="50%">\n    <div>\n    <p>当前的用户:{{userInfo.username}}</p>\n    <p>当前的角色:{{userInfo.role_name}}</p>\n    <p>分配新角色:</p>\n    </div>\n    <span slot="footer" class="dialog-footer">\n    <el-button @click="setRoleDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="setRoleDialogVisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nB.给分配角色按钮添加点击事件，点击之后弹出一个对话框进行角色分配\n\n\x3c!-- 分配角色 --\x3e\n<el-tooltip class="item" effect="dark" content="分配角色" placement="top" :enterable="false">\n    <el-button type="warning" icon="el-icon-setting" size=\'mini\' @click="setRole(scope.row)"></el-button>\n</el-tooltip>\n\ndata(){\n    ......\n    //控制显示分配角色对话框\n    setRoleDialogVisible:false,\n    //保存正在操作的那个用户信息\n    userInfo:{},\n    //保存所有的角色信息\n    rolesList:[],\n    //保存用户选中的角色id\n    selectedRoleId:\'\'\n},\nmethods:{\n    ......\n    async setRole( userInfo ){\n      //保存起来以供后续使用\n      this.userInfo = userInfo;\n      //获取所有的角色信息，以备下拉列表使用\n      //发送请求根据id完成删除操作\n      const { data: res } = await this.$http.get(\'roles\')\n      //判断如果删除失败，就做提示\n      if (res.meta.status !== 200) return this.$message.error(\'获取角色列表失败\')\n      \n      this.rolesList = res.data;\n      //展示分配角色对话框\n      this.setRoleDialogVisible = true;\n\n      \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nC.在element.js中引入Select，Option，注册Select，Option\n\n\x3c!-- 角色选择下拉框\nv-model：设置用户选中角色之后的id绑定数据\n--\x3e\n<el-select v-model="selectedRoleId" placeholder="请选择角色">\n\x3c!-- :label 显示文本，:value 选中值 --\x3e\n<el-option v-for="item in rolesList" :key="item.id" :label="item.roleName" :value="item.id">\n</el-option>\n</el-select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nD.当用户点击对话框中的确定之后，完成分配角色的操作\n\n\x3c!-- 分配角色对话框 --\x3e\n<el-dialog title="分配角色" :visible.sync="setRoleDialogVisible" width="50%" @close="setRoleDialogClosed">\n    <div>\n    <p>当前的用户:{{userInfo.username}}</p>\n    <p>当前的角色:{{userInfo.role_name}}</p>\n    <p>分配新角色:\n        \x3c!-- 角色选择下拉框\n        v-model：设置用户选中角色之后的id绑定数据\n        --\x3e\n        <el-select v-model="selectedRoleId" placeholder="请选择角色">\n        \x3c!-- :label 显示文本，:value 选中值 --\x3e\n        <el-option v-for="item in rolesList" :key="item.id" :label="item.roleName" :value="item.id">\n        </el-option>\n        </el-select>\n    </p>\n    </div>\n    <span slot="footer" class="dialog-footer">\n    <el-button @click="setRoleDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="saveRoleInfo">确 定</el-button>\n    </span>\n</el-dialog>\n\n\nmethods:{\n    .......\n    async saveRoleInfo(){\n      //当用户点击确定按钮之后\n      //判断用户是否选择了需要分配的角色\n      if(!this.selectedRoleId){\n        return this.$message.error(\'请选择需要分配的角色\')\n      }\n      //发送请求完成分配角色的操作\n      const {data:res} = await this.$http.put(`users/${this.userInfo.id}/role`,{rid:this.selectedRoleId})\n\n      //判断如果删除失败，就做提示\n      if (res.meta.status !== 200)\n        return this.$message.error(\'分配角色失败\')\n\n      this.$message.success(\'分配角色成功\')\n      this.getUserList();\n      //关闭对话框\n      this.setRoleDialogVisible = false\n    },\n    setRoleDialogClosed(){\n      //当关闭对话框的时候，重置下拉框中的内容\n      this.selectedRoleId = \'\'\n      this.userInfo = {}\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n将代码推送到码云',normalizedContent:'# ★今日目标\n\n 1. 修改用户,删除用户\n\n 2. 推送代码到码云\n\n 3. 权限列表\n\n 4. 角色列表\n\n 5. 分配角色\n\n\n# 用户管理\n\n# 修改用户信息\n\na.为用户列表中的修改按钮绑定点击事件 b.在页面中添加修改用户对话框，并修改对话框的属性 c.根据id查询需要修改的用户数据\n\n//展示编辑用户的对话框\nasync showeditdialog(id) {\n    //发送请求根据id获取用户信息\n    const { data: res } = await this.$http.get(\'users/\' + id)\n    //判断如果添加失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'获取用户信息失败\')\n    //将获取到的数据保存到数据editform中\n    this.editform = res.data\n    //显示弹出窗\n    this.editdialogvisible = true\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nd.在弹出窗中添加修改用户信息的表单并做响应的数据绑定以及数据验证\n\n\x3c!-- 对话框主体区域 --\x3e\n<el-form :model="editform" :rules="editformrules" ref="editformref" label-width="70px">\n    <el-form-item label="用户名">\n        <el-input v-model="editform.username" disabled></el-input>\n    </el-form-item>\n    <el-form-item label="邮箱" prop="email">\n        <el-input v-model="editform.email"></el-input>\n    </el-form-item>\n    <el-form-item label="电话" prop="mobile">\n        <el-input v-model="editform.mobile"></el-input>\n    </el-form-item>\n</el-form>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n数据绑定以及验证：\n\n//控制修改用户对话框的显示与否\neditdialogvisible: false,\n//修改用户的表单数据\neditform: {\n    username: \'\',\n    email: \'\',\n    mobile: \'\'\n},\n//修改表单的验证规则对象\neditformrules: {\n    email: [\n        { required: true, message: \'请输入邮箱\', trigger: \'blur\' },\n        {\n        validator: checkemail,\n        message: \'邮箱格式不正确，请重新输入\',\n        trigger: \'blur\'\n        }\n    ],\n    mobile: [\n        { required: true, message: \'请输入手机号码\', trigger: \'blur\' },\n        {\n        validator: checkmobile,\n        message: \'手机号码不正确，请重新输入\',\n        trigger: \'blur\'\n        }\n    ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\ne.监听对话框关闭事件，在对话框关闭之后，重置表单\n\n<el-dialog title="修改用户" :visible.sync="editdialogvisible" width="50%" @close="editdialogclosed">\n\neditdialogclosed(){\n    //对话框关闭之后，重置表达\n    this.$refs.editformref.resetfields()\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nf.在用户点击确定按钮的时候，验证数据成功之后发送请求完成修改\n\nedituser() {\n    //用户点击修改表单中的确定按钮之后，验证表单数据\n    this.$refs.editformref.validate(async valid => {\n    if (!valid) return this.$message.error(\'请填写完整用户信息\')\n    //发送请求完成修改用户的操作\n    const { data: res } = await this.$http.put(\n        \'users/\' + this.editform.id,\n        this.editform\n    )\n    //判断如果修改失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'修改用户失败\')\n    //修改成功的提示\n    this.$message.success(\'修改用户成功\')\n    //关闭对话框\n    this.editdialogvisible = false\n    //重新请求最新的数据\n    this.getuserlist()\n    })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n# 删除用户\n\n在点击删除按钮的时候，我们应该跳出提示信息框，让用户确认要进行删除操作。 如果想要使用确认取消提示框，我们需要先将提示信息框挂载到vue中。 a.导入messagebox组件，并将messagebox组件挂载到实例。 vue.prototype.$confirm = messagebox.confirm b.给用户列表中的删除按钮添加事件，并在事件处理函数中弹出确定取消窗,最后再根据id发送删除用户的请求\n\nasync removeuserbyid(id){\n    //弹出确定取消框，是否删除用户\n    const confirmresult = await this.$confirm(\'请问是否要永久删除该用户\',\'删除提示\',{\n    confirmbuttontext:\'确认删除\',\n    cancelbuttontext:\'取消\',\n    type:\'warning\'\n    }).catch(err=>err)\n    //如果用户点击确认，则confirmresult 为\'confirm\'\n    //如果用户点击取消, 则confirmresult获取的就是catch的错误消息\'cancel\'\n    if(confirmresult != "confirm"){\n        return this.$message.info("已经取消删除")\n    }\n    //发送请求根据id完成删除操作\n    const {data:res} = await this.$http.delete(\'users/\'+id)\n    //判断如果删除失败，就做提示\n    if (res.meta.status !== 200) return this.$message.error(\'删除用户失败\')\n    //修改成功的提示\n    this.$message.success(\'删除用户成功\')\n    //重新请求最新的数据\n    this.getuserlist()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 推送代码\n\n创建user子分支，并将代码推送到码云 a.创建user子分支 git checkout -b user b.将代码添加到暂存区 git add . c.将代码提交并注释git commit -m \'添加完成用户列表功能\' d.将本地的user分支推送到码云 git push -u origin user e.将user分支代码合并到master: 切换到master git checkout master 合并user git merge user f.将本地master分支的代码推送到码云 git push\n\n创建rights子分支 a.创建rights子分支 git checkout -b rights b.将本地的rights分支推送到码云 git push -u origin rights\n\n\n# 权限列表\n\n# 添加权限列表路由\n\n创建权限管理组件（rights.vue），并在router.js添加对应的路由规则\n\nimport rights from \'./components/power/rights.vue\'\n......\n      path: \'/home\', component: home, redirect: \'/welcome\', children: [\n        { path: "/welcome", component: welcome },\n        { path: "/users", component: users },\n        { path: "/rights", component: rights }\n      ]\n......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 添加面包屑导航\n\n在rights.vue中添加面包屑组件展示导航路径\n\n# 显示数据\n\n在data中添加一个rightslist数据，在methods中提供一个getrightslist方法发送请求获取权限列表数据，在created中调用这个方法获取数据\n\n<el-table :data="rightslist" stripe>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="权限名称" prop="authname"></el-table-column>\n    <el-table-column label="路径" prop="path"></el-table-column>\n    <el-table-column label="权限等级" prop="level">\n        <template slot-scope="scope"> \n            <el-tag v-if="scope.row.level === 0">一级权限</el-tag>\n            <el-tag v-if="scope.row.level === 1" type="success">二级权限</el-tag>\n            <el-tag v-if="scope.row.level === 2" type="warning">三级权限</el-tag>\n        </template>\n    </el-table-column>\n</el-table>\n<script>\nexport default {\n    data(){\n        return {\n            //列表形式的权限\n            rightslist:[]\n        }\n    },\n    created(){\n        this.getrightslist();\n    },\n    methods:{\n        async getrightslist(){\n            const {data:res} = await this.$http.get(\'rights/list\')\n            //如果返回状态为异常状态则报错并返回\n            if (res.meta.status !== 200)\n                return this.$message.error(\'获取权限列表失败\')\n            //如果返回状态正常，将请求的数据保存在data中\n            this.rightslist = res.data\n        }\n    }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 角色列表\n\n# 添加角色列表路由\n\n添加角色列表子组件（power/roles.vue），并添加对应的规则\n\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n        { path: "/welcome", component: welcome },\n        { path: "/users", component: users },\n        { path: "/rights", component: rights },\n        { path: "/roles", component: roles  }\n      ]\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 添加面包屑导航\n\n在roles.vue中添加面包屑组件展示导航路径\n\n# 显示数据\n\n在data中添加一个rolelist数据，在methods中提供一个getrolelist方法发送请求获取权限列表数据，在created中调用这个方法获取数据\n\n\x3c!-- 角色列表区域 --\x3e\n\x3c!-- row-key="id" 是2019年3月提供的新特性，\nif there\'s nested data, rowkey is required.\n如果这是一个嵌套的数据，rowkey 是必须添加的属性 --\x3e\n<el-table row-key="id" :data="rolelist" border>\n    \x3c!-- 添加展开列 --\x3e\n    <el-table-column type="expand"></el-table-column>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="角色名称" prop="rolename"></el-table-column>\n    <el-table-column label="角色描述" prop="roledesc"></el-table-column>\n    <el-table-column label="操作" width="300px">\n        <template slot-scope="scope"> \n            <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n            <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n            <el-button size="mini" type="warning" icon="el-icon-setting">分配权限</el-button>\n        </template>\n    </el-table-column>\n</el-table>\n\n<script>\nexport default {\n    data(){\n        return {\n            rolelist:[]\n        }\n    },created(){\n        this.getrolelist();\n    },methods:{\n        async getrolelist(){\n            const {data:res} = await this.$http.get(\'roles\')\n            //如果返回状态为异常状态则报错并返回\n            // if (res.meta.status !== 200)\n            //     return this.$message.error(\'获取角色列表失败\')\n            // //如果返回状态正常，将请求的数据保存在data中\n            // this.rolelist = res.data\n            console.log(res.data)\n            this.rolelist = res.data;\n        }\n    }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n补充说明 之前学习过类似的添加角色，删除角色，编辑角色请参照之前编写过的代码还有接口文档完成效果。\n\n# 生成权限列表\n\n使用三重嵌套for循环生成权限下拉列表\n\n\x3c!-- 添加展开列 --\x3e\n<el-table-column type="expand">\n    <template slot-scope="scope">\n        <el-row :class="[\'bdbottom\',i1===0?\'bdtop\':\'\']" v-for="(item1,i1) in scope.row.children" :key="item1.id">\n            \x3c!-- 渲染一级权限 --\x3e\n            <el-col :span="5">\n                <el-tag>\n                    {{item1.authname}}\n                </el-tag>\n                <i class="el-icon-caret-right"></i>\n            </el-col>\n            \x3c!-- 渲染二，三级权限 --\x3e\n            <el-col :span="19">\n                \x3c!-- 通过for循环嵌套渲染二级权限  --\x3e\n                <el-row :class="[i2===0?\'\':\'bdtop\' ]" v-for="(item2,i2) in item1.children" :key="item2.id">\n                    <el-col :span="6">\n                        <el-tag type="success">{{item2.authname}}</el-tag>\n                        <i class="el-icon-caret-right"></i>\n                    </el-col>\n                    <el-col :span="18">\n                        <el-tag type="warning" v-for="(item3) in item2.children" :key="item3.id">\n                            {{item3.authname}}\n                        </el-tag>\n                    </el-col>\n                </el-row>\n            </el-col>\n        </el-row>\n    </template>\n</el-table-column>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# 美化样式\n\n通过设置global.css中的#app样式min-width:1366px 解决三级权限换行的问题 ，通过给一级权限el-row添加display:flex,align-items:center的方式解决一级权限垂直居中的问题，二级权限也类似添加，因为需要给多个内容添加，可以将这个样式设置为一个.vcenter{display:flex;align-items:center}\n\n# 添加权限删除功能\n\n给每一个权限的el-tag添加closable属性，是的权限右侧出现“x”图标 再给el-tag添加绑定close事件处理函数\n\nremoverightbyid(scope.row,item1.id)\nremoverightbyid(scope.row,item2.id)\nremoverightbyid(scope.row,item3.id)\n\n\n1\n2\n3\n\n\nasync removerightbyid(role,rightid){\n    //弹窗提示用户是否要删除\n    const confirmresult = await this.$confirm(\'请问是否要删除该权限\',\'删除提示\',{\n        confirmbuttontext:\'确认删除\',\n        cancelbuttontext:\'取消\',\n        type:\'warning\'\n    }).catch(err=>err)\n    //如果用户点击确认，则confirmresult 为\'confirm\'\n    //如果用户点击取消, 则confirmresult获取的就是catch的错误消息\'cancel\'\n    if(confirmresult != "confirm"){\n        return this.$message.info("已经取消删除")\n    }\n\n    //用户点击了确定表示真的要删除\n    //当发送delete请求之后，返回的数据就是最新的角色权限信息\n    const {data:res} = await this.$http.delete(`roles/${role.id}/rights/${rightid}`)\n    if (res.meta.status !== 200)\n        return this.$message.error(\'删除角色权限失败\')\n\n    //无需再重新加载所有权限\n    //只需要对现有的角色权限进行更新即可\n    role.children = res.data\n    // this.getrolelist();\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 完成权限分配功能\n\n先给分配权限按钮添加事件\n\n<el-button size="mini" type="warning" icon="el-icon-setting" @click="showsetrightdialog">分配权限</el-button>\n\n\n1\n\n\n在showsetrightdialog函数中请求权限树数据并显示对话框\n\nasync showsetrightdialog() {\n    //当点击分配权限按钮时，展示对应的对话框\n    this.setrightdialogvisible = true;\n    //获取所有权限的数据\n    const {data:res} = await this.$http.get(\'rights/tree\')\n    //如果返回状态为异常状态则报错并返回\n    if (res.meta.status !== 200)\n        return this.$message.error(\'获取权限树失败\')\n    //如果返回状态正常，将请求的数据保存在data中\n    this.rightslist = res.data\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n添加分配权限对话框，并添加绑定数据setrightdialogvisible\n\n\x3c!-- 分配权限对话框 --\x3e\n<el-dialog title="分配权限" :visible.sync="setrightdialogvisible" width="50%">\n    <span>这是一段信息</span>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="setrightdialogvisible = false">取 消</el-button>\n        <el-button type="primary" @click="setrightdialogvisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n# 完成树形结构弹窗\n\n在element.js中引入tree，注册tree\n\n\x3c!-- 分配权限对话框 --\x3e\n<el-dialog title="分配权限" :visible.sync="setrightdialogvisible" width="50%" @close="setrightdialogclose">\n    \x3c!-- 树形组件\n    show-checkbox:显示复选框\n    node-key:设置选中节点对应的值\n    default-expand-all:是否默认展开所有节点\n    :default-checked-keys 设置默认选中项的数组\n    ref:设置引用 --\x3e\n    <el-tree :data="rightslist" :props="treeprops" show-checkbox node-key="id" default-expand-all :default-checked-keys="defkeys" ref="treeref"></el-tree>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="setrightdialogvisible = false">取 消</el-button>\n        <el-button type="primary" @click="allotrights">确 定</el-button>\n    </span>\n</el-dialog>\n\n<script>\nexport default {\n  data() {\n    return {\n      //角色列表数据\n      rolelist: [],\n      //控制分配权限对话框的显示\n      setrightdialogvisible: false,\n      //权限树数据\n      rightslist: [],\n      //树形控件的属性绑定对象\n      treeprops: {\n        //通过label设置树形节点文本展示authname\n        label: \'authname\',\n        //设置通过children属性展示子节点信息\n        children: \'children\'\n      },\n      //设置树形控件中默认选中的内容\n      defkeys: [],\n      //保存正在操作的角色id\n      roleid:\'\'\n    }\n  },\n  created() {\n    this.getrolelist()\n  },\n  methods: {\n    async getrolelist() {\n      const { data: res } = await this.$http.get(\'roles\')\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200)\n        return this.$message.error(\'获取角色列表失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      // this.rolelist = res.data\n      console.log(res.data)\n      this.rolelist = res.data\n    },\n    async removerightbyid(role, rightid) {\n      //弹窗提示用户是否要删除\n      const confirmresult = await this.$confirm(\n        \'请问是否要删除该权限\',\n        \'删除提示\',\n        {\n          confirmbuttontext: \'确认删除\',\n          cancelbuttontext: \'取消\',\n          type: \'warning\'\n        }\n      ).catch(err => err)\n      //如果用户点击确认，则confirmresult 为\'confirm\'\n      //如果用户点击取消, 则confirmresult获取的就是catch的错误消息\'cancel\'\n      if (confirmresult != \'confirm\') {\n        return this.$message.info(\'已经取消删除\')\n      }\n\n      //用户点击了确定表示真的要删除\n      //当发送delete请求之后，返回的数据就是最新的角色权限信息\n      const { data: res } = await this.$http.delete(\n        `roles/${role.id}/rights/${rightid}`\n      )\n      if (res.meta.status !== 200)\n        return this.$message.error(\'删除角色权限失败\')\n\n      //无需再重新加载所有权限\n      //只需要对现有的角色权限进行更新即可\n      role.children = res.data\n      // this.getrolelist();\n    },\n    async showsetrightdialog(role) {\n      //将role.id保存起来以供保存权限时使用\n      this.roleid = role.id;  \n      //获取所有权限的数据\n      const { data: res } = await this.$http.get(\'rights/tree\')\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200) return this.$message.error(\'获取权限树失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      this.rightslist = res.data\n\n      //调用getleafkeys进行递归，将三级权限添加到数组中\n      this.getleafkeys(role, this.defkeys)\n      //当点击分配权限按钮时，展示对应的对话框\n      this.setrightdialogvisible = true\n      console.log(this.defkeys)\n    },\n    getleafkeys(node, arr) {\n      //该函数会获取到当前角色的所有三级权限id并添加到defkeys中\n      //如果当前节点不包含children属性，则表示node为三级权限\n      if (!node.children) {\n        return arr.push(node.id)\n      }\n      //递归调用\n      node.children.foreach(item => this.getleafkeys(item, arr))\n    },\n    setrightdialogclose() {\n      //当用户关闭树形权限对话框的时候，清除掉所有选中状态\n      this.defkeys = []\n    },\n    async allotrights() {\n      //当用户在树形权限对话框中点击确定，将用户选择的\n      //权限发送请求进行更新\n\n      //获取所有选中及半选的内容\n      const keys = [\n        ...this.$refs.treeref.getcheckedkeys(),\n        ...this.$refs.treeref.gethalfcheckedkeys()\n      ]\n      //将数组转换为 , 拼接的字符串\n      const idstr = keys.join(\',\')\n\n      //发送请求完成更新\n      const { data: res } = await this.$http.post(\n        `roles/${this.roleid}/rights`,\n        { rids:idstr }\n      )\n      if (res.meta.status !== 200)\n        return this.$message.error(\'分配权限失败\')\n\n      this.$message.success("分配权限成功")\n      this.getrolelist();\n      //关闭对话框\n      this.setrightdialogvisible = false;\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n\n\n\n# 分配角色\n\n打开users.vue，完成分配角色的功能\n\n# 添加分配角色对话框\n\n\x3c!-- 分配角色对话框 --\x3e\n<el-dialog title="分配角色" :visible.sync="setroledialogvisible" width="50%">\n    <div>\n    <p>当前的用户:{{userinfo.username}}</p>\n    <p>当前的角色:{{userinfo.role_name}}</p>\n    <p>分配新角色:</p>\n    </div>\n    <span slot="footer" class="dialog-footer">\n    <el-button @click="setroledialogvisible = false">取 消</el-button>\n    <el-button type="primary" @click="setroledialogvisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\nb.给分配角色按钮添加点击事件，点击之后弹出一个对话框进行角色分配\n\n\x3c!-- 分配角色 --\x3e\n<el-tooltip class="item" effect="dark" content="分配角色" placement="top" :enterable="false">\n    <el-button type="warning" icon="el-icon-setting" size=\'mini\' @click="setrole(scope.row)"></el-button>\n</el-tooltip>\n\ndata(){\n    ......\n    //控制显示分配角色对话框\n    setroledialogvisible:false,\n    //保存正在操作的那个用户信息\n    userinfo:{},\n    //保存所有的角色信息\n    roleslist:[],\n    //保存用户选中的角色id\n    selectedroleid:\'\'\n},\nmethods:{\n    ......\n    async setrole( userinfo ){\n      //保存起来以供后续使用\n      this.userinfo = userinfo;\n      //获取所有的角色信息，以备下拉列表使用\n      //发送请求根据id完成删除操作\n      const { data: res } = await this.$http.get(\'roles\')\n      //判断如果删除失败，就做提示\n      if (res.meta.status !== 200) return this.$message.error(\'获取角色列表失败\')\n      \n      this.roleslist = res.data;\n      //展示分配角色对话框\n      this.setroledialogvisible = true;\n\n      \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\nc.在element.js中引入select，option，注册select，option\n\n\x3c!-- 角色选择下拉框\nv-model：设置用户选中角色之后的id绑定数据\n--\x3e\n<el-select v-model="selectedroleid" placeholder="请选择角色">\n\x3c!-- :label 显示文本，:value 选中值 --\x3e\n<el-option v-for="item in roleslist" :key="item.id" :label="item.rolename" :value="item.id">\n</el-option>\n</el-select>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nd.当用户点击对话框中的确定之后，完成分配角色的操作\n\n\x3c!-- 分配角色对话框 --\x3e\n<el-dialog title="分配角色" :visible.sync="setroledialogvisible" width="50%" @close="setroledialogclosed">\n    <div>\n    <p>当前的用户:{{userinfo.username}}</p>\n    <p>当前的角色:{{userinfo.role_name}}</p>\n    <p>分配新角色:\n        \x3c!-- 角色选择下拉框\n        v-model：设置用户选中角色之后的id绑定数据\n        --\x3e\n        <el-select v-model="selectedroleid" placeholder="请选择角色">\n        \x3c!-- :label 显示文本，:value 选中值 --\x3e\n        <el-option v-for="item in roleslist" :key="item.id" :label="item.rolename" :value="item.id">\n        </el-option>\n        </el-select>\n    </p>\n    </div>\n    <span slot="footer" class="dialog-footer">\n    <el-button @click="setroledialogvisible = false">取 消</el-button>\n    <el-button type="primary" @click="saveroleinfo">确 定</el-button>\n    </span>\n</el-dialog>\n\n\nmethods:{\n    .......\n    async saveroleinfo(){\n      //当用户点击确定按钮之后\n      //判断用户是否选择了需要分配的角色\n      if(!this.selectedroleid){\n        return this.$message.error(\'请选择需要分配的角色\')\n      }\n      //发送请求完成分配角色的操作\n      const {data:res} = await this.$http.put(`users/${this.userinfo.id}/role`,{rid:this.selectedroleid})\n\n      //判断如果删除失败，就做提示\n      if (res.meta.status !== 200)\n        return this.$message.error(\'分配角色失败\')\n\n      this.$message.success(\'分配角色成功\')\n      this.getuserlist();\n      //关闭对话框\n      this.setroledialogvisible = false\n    },\n    setroledialogclosed(){\n      //当关闭对话框的时候，重置下拉框中的内容\n      this.selectedroleid = \'\'\n      this.userinfo = {}\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n将代码推送到码云',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day11 - 实战-5",frontmatter:{title:"VUE Study Day11 - 实战-5",date:"2021-2-21",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第11天 vue实战-实现商品列表管理"},{name:"keywords",content:"自学 vue 实战 电商平台 商品列表"},{name:"twitter:title",content:"VUE Study Day11 - 实战-5"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day11-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day11 - 实战-5"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day11-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-21"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day11 - 实战-5"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday11.html",summary:"不断学习，不断提升，日拱一卒，学习vue第11天",description:""},regularPath:"/article/vue/day11-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day11-电商.md",key:"v-22e271ca",path:"/article/vue/studyvueday11.html",headers:[{level:2,title:"★今日目标",slug:"★今日目标",normalizedTitle:"★今日目标",charIndex:2},{level:2,title:"参数管理优化",slug:"参数管理优化",normalizedTitle:"参数管理优化",charIndex:13},{level:2,title:"商品列表",slug:"商品列表",normalizedTitle:"商品列表",charIndex:26},{level:2,title:"添加商品",slug:"添加商品",normalizedTitle:"添加商品",charIndex:4569}],headersStr:"★今日目标 参数管理优化 商品列表 添加商品",content:'# ★今日目标\n\n 1. 参数管理优化\n 2. 制作商品列表页面\n 3. 制作商品添加页面\n\n\n# 参数管理优化\n\n# 展示动态参数可选项\n\n动态参数可选项展示及操作，在获取动态参数的方法中进行处理。\n\n//将获取到的数据中的attr_vals字符串转换为数组\nres.data.forEach(item => {\n  item.attr_vals = item.attr_vals ? item.attr_vals.split(\' \') : []\n  //添加一个bool值控制文本框的显示或者隐藏\n  item.inputVisible = false\n  //添加一个inputValue保存文本框值\n  item.inputValue = \'\'\n})\n\n//然后再修改展开行中的代码，生成el-tag和文本框以及添加按钮\n\x3c!-- 展开行 --\x3e\n<el-table-column type="expand">\n  <template slot-scope="scope">\n    \x3c!-- 循环生成的el-tag --\x3e\n    <el-tag v-for="(item,i) in scope.row.attr_vals" :key="i" closable>{{item}}</el-tag>\n    \x3c!-- 输入框 --\x3e\n    <el-input class="input-new-tag" v-if="scope.row.inputVisible" v-model="scope.row.inputValue" ref="saveTagInput" size="small" @keyup.enter.native="handleInputConfirm(scope.row)" @blur="handleInputConfirm(scope.row)">\n    </el-input>\n    \x3c!-- 添加按钮 --\x3e\n    <el-button v-else class="button-new-tag" size="small" @click="showInput(scope.row)">+ New Tag</el-button>\n  </template>\n</el-table-column>\n\n\n//最后对应文本框的事件和按钮的事件添加处理函数\nhandleInputConfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputValue.trim().length===0){\n    row.inputValue = \'\'\n    row.inputVisible = false\n    return\n  }\n\n  // row.inputVisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n},\nshowInput(row){\n  //用户点击添加按钮时触发\n  row.inputVisible = true\n  //$nextTick:在页面上元素被重新渲染之后，调用回调函数的代码\n  this.$nextTick(_=>{\n    //让文本框自动获得焦点\n    this.$refs.saveTagInput.$refs.input.focus()\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 添加/删除可选项\n\n添加/删除动态参数可选项\n\n给el-tag添加删除事件\n<el-tag v-for="(item,i) in scope.row.attr_vals" :key="i" closable @close="handleClose(i,scope.row)">{{item}}</el-tag>\n\n在methods中添加新增，删除事件处理函数\nhandleInputConfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputValue.trim().length===0){\n    row.inputValue = \'\'\n    row.inputVisible = false\n    return\n  }\n\n  // row.inputVisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n  row.attr_vals.push(row.inputValue.trim())\n  row.inputValue = \'\'\n  row.inputVisible = false\n\n  this.saveAttrVals(row)\n},\nhandleClose(index,row){\n  //删除对应索引的参数可选项\n  row.attr_vals.splice(index,1)\n  //调用函数，完成保存可选项的操作\n  this.saveAttrVals(row)\n},\nasync saveAttrVals(row){\n  //封装函数，完成保存可选项的操作\n  //发起请求，保存参数细项\n  const {data:res} = await this.$http.put(`categories/${this.cateId}/attributes/${row.attr_id}`,\n  {attr_name:row.attr_name,attr_sel:row.attr_sel,attr_vals:row.attr_vals.join(\' \')})\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'修改参数项失败\')\n  }\n\n  this.$message.success(\'修改参数项成功\')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n> 补充：当用户在级联选择框中选中了非三级分类时，需要清空表格中数据\n\nasync handleChange() {\n      //如果用户选择的不是三级分类\n      if(this.selectedCateKeys.length !== 3){\n        this.selectedCateKeys = []\n        this.manyTableData = []\n        this.onlyTableData = []\n        return\n      }\n      ......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> 补充：当完成了动态参数可选项的功能之后，我们也需要一样的方式完成静态属性可选项的功能。\n\n此时我们只需要将动态参数可选项中的展开行复制到静态属性的表格中即可\n\n# 推送代码到码云\n\n添加到暂存求： git add .\n提交到本地仓库：  git commit -m \'完成了分类参数开发\'\n推送到码云：  git push\n切换到master ： git checkout master\n合并到master ： git merge goods_params\n\n创建子分支\ngit checkout -b goods_list\n推送至码云 git push -u origin goods_list\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 商品列表\n\n# 制作商品列表基本结构\n\n添加子级路由组件以及对应的规则,并设置组件的基本机构 打开router.js,添加下面的代码\n\nimport GoodList from \'./components/goods/List.vue\'\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n打开List.vue组件，添加下列代码\n\n<template>\n    <div>\n        <h3>商品列表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            <el-row :gutter="20">\n                <el-col :span="8">\n                    <el-input placeholder="请输入内容">\n                        <el-button slot="append" icon="el-icon-search"></el-button>\n                    </el-input>\n                </el-col>\n                <el-col :span="4">\n                    <el-button type="primary">添加商品</el-button>\n                </el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {}\n  },\n  created() {},\n  methods: {}\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 数据展示\n\n添加数据表格展示数据以及分页功能的实现,搜索功能的实现 在main.js中添加过滤器：\n\n//创建过滤器将秒数过滤为年月日，时分秒\nVue.filter(\'dateFormat\',function(originVal){\n  const dt = new Date(originVal)\n  const y = dt.getFullYear()\n  const m = (dt.getMonth()+1+\'\').padStart(2,\'0\')\n  const d = (dt.getDate()+\'\').padStart(2,\'0\')\n\n  const hh = (dt.getHours()+\'\').padStart(2,\'0\')\n  const mm = (dt.getMinutes()+\'\').padStart(2,\'0\')\n  const ss = (dt.getSeconds()+\'\').padStart(2,\'0\')\n\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\x3c!-- 卡片视图区域 --\x3e\n<el-card>\n    \x3c!-- 搜索栏 --\x3e\n    <el-row :gutter="20">\n        <el-col :span="8">\n            <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable @clear="getGoodsList">\n                <el-button slot="append" icon="el-icon-search" @click="getGoodsList"></el-button>\n            </el-input>\n        </el-col>\n        <el-col :span="4">\n            <el-button type="primary">添加商品</el-button>\n        </el-col>\n    </el-row>\n\n    \x3c!-- 表格区域 --\x3e\n    <el-table :data="goodsList" border stripe>\n        <el-table-column type="index"></el-table-column>\n        <el-table-column label="商品名称" prop="goods_name"></el-table-column>\n        <el-table-column label="商品价格(元)" prop="goods_price" width="95px"></el-table-column>\n        <el-table-column label="商品重量" prop="goods_weight" width="95px"></el-table-column>\n        <el-table-column label="创建时间" prop="add_time" width="140px">\n            <template slot-scope="scope">\n                {{scope.row.add_time | dateFormat}}\n            </template>\n        </el-table-column>\n        <el-table-column label="操作" width="125px">\n            <template slot-scope="scope">\n                <el-button size="mini" type="primary" icon="el-icon-edit"></el-button>\n                <el-button size="mini" type="danger" icon="el-icon-delete"></el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n\n    \x3c!-- 分页 --\x3e\n    <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n    </el-pagination>\n</el-card>\n\n//绑定数据以及添加方法\n<script>\nexport default {\n  data() {\n    return {\n      //查询参数\n      queryInfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 10\n      },\n      //保存商品列表信息\n      goodsList: [],\n      //总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getGoodsList()\n  },\n  methods: {\n    async getGoodsList() {\n      //   根据分页获取对应的商品列表\n      const { data: res } = await this.$http.get(\'goods\', {\n        params: this.queryInfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品列表失败\')\n      }\n      console.log(res.data)\n      this.$message.success(\'获取商品列表成功\')\n      this.goodsList = res.data.goods\n      this.total = res.data.total\n    },\n    handleSizeChange(newSize){\n        //当页号发生改变时，更改pagesize，重新请求\n        this.queryInfo.pagesize = newSize\n        this.getGoodsList();\n    },\n    handleCurrentChange(newPage){\n        //当页码发生改变时，更改pagesize，重新请求\n        this.queryInfo.pagenum = newPage\n        this.getGoodsList();\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n# 实现删除商品\n\n//绑定按钮点击事件\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removeGoods(scope.row.goods_id)"></el-button>\n\n//事件函数代码编写\nasync removeGoods(goods_id) {\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmResult = await this.$confirm(\n    \'请问是否要删除该商品\',\n    \'删除提示\',\n    {\n      confirmButtonText: \'确认删除\',\n      cancelButtonText: \'取消\',\n      type: \'warning\'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmResult 为\'confirm\'\n  //如果用户点击取消, 则confirmResult获取的就是catch的错误消息\'cancel\'\n  if (confirmResult != \'confirm\') {\n    return this.$message.info(\'已经取消删除\')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`goods/${goods_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'删除商品失败\')\n  }\n\n  this.$message.success(\'删除商品成功\')\n  this.getGoodsList()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 添加商品\n\n# 添加编程式导航\n\n在List.vue中添加编程式导航，并创建添加商品路由组件及规则\n\n//在List.vue中添加编程式导航\n<el-col :span="4">\n    <el-button type="primary" @click="goAddPage">添加商品</el-button>\n</el-col>\n\ngoAddPage(){\n    this.$router.push(\'/goods/add\')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n在router.js中引入goods/Add.vue,并添加路由规则\n\nimport GoodAdd from \'./components/goods/Add.vue\'\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  },\n  { path: "/goods/add", component: GoodAdd  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# 布局Add.vue组件\n\n布局过程中需要使用Steps组件，在element.js中引入并注册该组件，并在global.css中给组件设置全局样式\n\nimport {Steps,Step} from \'element-ui\'\nVue.use(Step)\nVue.use(Steps)\n\n//global.css\n.el-steps{\n    margin:15px 0;\n}\n.el-step__title{\n    font-size: 13px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n然后再在Add.vue中进行页面布局\n\n<template>\n    <div>\n        <h3>添加商品</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>添加商品</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 消息提示 --\x3e\n            <el-alert title="添加商品信息" type="info" center show-icon :closable="false">\n            </el-alert>\n\n            \x3c!-- 步骤条组件 --\x3e\n            \x3c!-- align-center(居中效果) --\x3e\n            <el-steps :space="200" :active="activeIndex - 0" finish-status="success" align-center>\n                <el-step title="基本信息"></el-step>\n                <el-step title="商品参数"></el-step>\n                <el-step title="商品属性"></el-step>\n                <el-step title="商品图片"></el-step>\n                <el-step title="商品内容"></el-step>\n                <el-step title="完成"></el-step>\n            </el-steps>\n\n            \x3c!-- tab栏区域:el-tab-pane必须是el-tabs的子节点\n            :tab-position="\'left\'"(设置tab栏为左右结构tab栏) --\x3e\n            \x3c!-- 表单：label-position="top"(设置label在文本框上方) --\x3e\n            <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="100px" label-position="top">\n                <el-tabs v-model="activeIndex" :tab-position="\'left\'">\n                    <el-tab-pane label="基本信息" name="0">\n                        <el-form-item label="商品名称" prop="goods_name">\n                            <el-input v-model="addForm.goods_name"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品价格" prop="goods_price">\n                            <el-input v-model="addForm.goods_price" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品重量" prop="goods_weight">\n                            <el-input v-model="addForm.goods_weight" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品数量" prop="goods_number">\n                            <el-input v-model="addForm.goods_number" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品分类" prop="goods_cat">\n                            \x3c!-- 选择商品分类的级联选择框 --\x3e\n                            <el-cascader expandTrigger=\'hover\' v-model="addForm.goods_cat" :options="cateList" :props="cateProps" @change="handleChange" clearable></el-cascader>\n                        </el-form-item>\n                    </el-tab-pane>\n                    <el-tab-pane label="商品参数" name="1">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品属性" name="2">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品图片" name="3">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品内容" name="4">\n\n                    </el-tab-pane>\n                </el-tabs>\n            </el-form>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //保存步骤条激活项索引\n      activeIndex: \'0\',\n      //添加商品的表单数据对象\n      addForm: {\n        goods_name: \'\',\n        goods_price: 0,\n        goods_weight: 0,\n        goods_number: 0,\n        goods_cat:[]\n      },\n      //验证规则\n      addFormRules: {\n        goods_name: [\n          { required: true, message: \'请输入商品名称\', trigger: \'blur\' }\n        ],\n        goods_price: [\n          { required: true, message: \'请输入商品价格\', trigger: \'blur\' }\n        ],\n        goods_weight: [\n          { required: true, message: \'请输入商品重量\', trigger: \'blur\' }\n        ],\n        goods_number: [\n          { required: true, message: \'请输入商品数量\', trigger: \'blur\' }\n        ],\n        goods_cat: [\n          { required: true, message: \'请选择商品分类\', trigger: \'blur\' }\n        ]\n      },\n      //用来保存分类数据\n      cateList: [],\n      //配置级联菜单中数据如何展示\n      cateProps: {\n        value: \'cat_id\',\n        label: \'cat_name\',\n        children: \'children\'\n      }\n    }\n  },\n  created() {\n    this.getCateList()\n  },\n  methods: {\n    async getCateList() {\n      const { data: res } = await this.$http.get(\'categories\')\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品分类数据失败\')\n      }\n      this.cateList = res.data\n    },\n    handleChange(){\n      //如果用户选择的不是三级分类,该次选择无效，因为必须选择三级分类\n      if(this.addForm.goods_cat.length !== 3){\n        this.addForm.goods_cat = []\n        return\n      }\n    }\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n\n\n# 添加tab栏切换验证\n\n也就是说不输入某些内容，无法切换到别的tab栏\n\n//首先给tabs添加tab切换前事件\n<el-tabs v-model="activeIndex" :tab-position="\'left\'" :before-leave="beforeTabLeave">\n......\n</el-tabs>\n\n//再到methods编写事件函数beforeTabLeave\nbeforeTabLeave(activeName,oldActiveName){\n  //在tab栏切换之前触发，两个形参为切换前，后的tab栏name\n  if(oldActiveName === \'0\'){\n      //在第一个标签页的时候\n      if(this.addForm.goods_cat.length !== 3){\n          this.$message.error(\'请选择商品的分类\')\n          return false\n      }else if(this.addForm.goods_name.trim() === \'\'){\n          this.$message.error(\'请输入商品名称\')\n          return false\n      }else if(this.addForm.goods_price.trim() === \'0\'){\n          this.$message.error(\'请输入商品价格\')\n          return false\n      }else if(this.addForm.goods_weight.trim() === \'0\'){\n          this.$message.error(\'请输入商品重量\')\n          return false\n      }else if(this.addForm.goods_number.trim() === \'0\'){\n          this.$message.error(\'请输入商品数量\')\n          return false\n      }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# 展示信息\n\n展示商品参数信息,商品属性信息 在商品参数信息展示中使用的el-checkbox,el-checkbox-group组件，打开element.js引入组件并注册组件\n\n//在用户点击tab栏时触发事件\n<el-tabs v-model="activeIndex" :tab-position="\'left\'" :before-leave="beforeTabLeave" @tab-click="tabClicked">\n........\n\n//在参数信息，商品属性面板中添加循环生成结构的代码\n<el-tab-pane label="商品参数" name="1">\n  \x3c!-- 渲染表单item项 --\x3e\n  <el-form-item :label="item.attr_name" :key="item.attr_id" v-for="item in manyTableData">\n      \x3c!-- 使用数组渲染复选框组 --\x3e\n      <el-checkbox-group v-model="item.attr_vals">\n          <el-checkbox border :label="val" v-for="(val,i) in item.attr_vals" :key="i"></el-checkbox>\n      </el-checkbox-group>\n  </el-form-item>\n</el-tab-pane>\n<el-tab-pane label="商品属性" name="2">\n  \x3c!-- 循环生成静态属性 --\x3e\n  <el-form-item :label="item.attr_name" v-for="item in onlyTableData" :key="item.attr_id">\n      <el-input v-model="item.attr_vals"></el-input>\n  </el-form-item>\n</el-tab-pane>\n\n//在data数据中添加保存动态参数和静态属性的数组\nexport default {\n  data() {\n    return {\n      ......\n      //动态参数列表\n      manyTableData: [],\n      //静态属性列表\n      onlyTableData:[]\n      }\n  },methods: {\n    .......\n    async tabClicked() {\n      //当用户点击切换tab栏时触发\n      if (this.activeIndex === \'1\') {\n        //发送请求获取动态参数\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          { params: { sel: \'many\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取动态参数列表失败\')\n        }\n        //将attr_vals字符串转换为数组\n        res.data.forEach(item => {\n          item.attr_vals =\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\' \')\n        })\n        this.manyTableData = res.data\n      } else if (this.activeIndex === \'2\') {\n        //发送请求获取静态属性\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateId}/attributes`,\n          { params: { sel: \'only\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取静态属性列表失败\')\n        }\n\n        this.onlyTableData = res.data\n      }\n    }\n  },\n  //添加 计算属性获取三级分类\n  computed: {\n    cateId() {\n      if (this.addForm.goods_cat.length === 3) {\n        return this.addForm.goods_cat[2]\n      }\n      return null\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n',normalizedContent:'# ★今日目标\n\n 1. 参数管理优化\n 2. 制作商品列表页面\n 3. 制作商品添加页面\n\n\n# 参数管理优化\n\n# 展示动态参数可选项\n\n动态参数可选项展示及操作，在获取动态参数的方法中进行处理。\n\n//将获取到的数据中的attr_vals字符串转换为数组\nres.data.foreach(item => {\n  item.attr_vals = item.attr_vals ? item.attr_vals.split(\' \') : []\n  //添加一个bool值控制文本框的显示或者隐藏\n  item.inputvisible = false\n  //添加一个inputvalue保存文本框值\n  item.inputvalue = \'\'\n})\n\n//然后再修改展开行中的代码，生成el-tag和文本框以及添加按钮\n\x3c!-- 展开行 --\x3e\n<el-table-column type="expand">\n  <template slot-scope="scope">\n    \x3c!-- 循环生成的el-tag --\x3e\n    <el-tag v-for="(item,i) in scope.row.attr_vals" :key="i" closable>{{item}}</el-tag>\n    \x3c!-- 输入框 --\x3e\n    <el-input class="input-new-tag" v-if="scope.row.inputvisible" v-model="scope.row.inputvalue" ref="savetaginput" size="small" @keyup.enter.native="handleinputconfirm(scope.row)" @blur="handleinputconfirm(scope.row)">\n    </el-input>\n    \x3c!-- 添加按钮 --\x3e\n    <el-button v-else class="button-new-tag" size="small" @click="showinput(scope.row)">+ new tag</el-button>\n  </template>\n</el-table-column>\n\n\n//最后对应文本框的事件和按钮的事件添加处理函数\nhandleinputconfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputvalue.trim().length===0){\n    row.inputvalue = \'\'\n    row.inputvisible = false\n    return\n  }\n\n  // row.inputvisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n},\nshowinput(row){\n  //用户点击添加按钮时触发\n  row.inputvisible = true\n  //$nexttick:在页面上元素被重新渲染之后，调用回调函数的代码\n  this.$nexttick(_=>{\n    //让文本框自动获得焦点\n    this.$refs.savetaginput.$refs.input.focus()\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n# 添加/删除可选项\n\n添加/删除动态参数可选项\n\n给el-tag添加删除事件\n<el-tag v-for="(item,i) in scope.row.attr_vals" :key="i" closable @close="handleclose(i,scope.row)">{{item}}</el-tag>\n\n在methods中添加新增，删除事件处理函数\nhandleinputconfirm(row){\n  //当用户在文本框中按下enter键或者焦点离开时都会触发执行\n  //判断用户在文本框中输入的内容是否合法\n  if(row.inputvalue.trim().length===0){\n    row.inputvalue = \'\'\n    row.inputvisible = false\n    return\n  }\n\n  // row.inputvisible = false\n  //如果用户输入了真实合法的数据，需要保存起来\n  row.attr_vals.push(row.inputvalue.trim())\n  row.inputvalue = \'\'\n  row.inputvisible = false\n\n  this.saveattrvals(row)\n},\nhandleclose(index,row){\n  //删除对应索引的参数可选项\n  row.attr_vals.splice(index,1)\n  //调用函数，完成保存可选项的操作\n  this.saveattrvals(row)\n},\nasync saveattrvals(row){\n  //封装函数，完成保存可选项的操作\n  //发起请求，保存参数细项\n  const {data:res} = await this.$http.put(`categories/${this.cateid}/attributes/${row.attr_id}`,\n  {attr_name:row.attr_name,attr_sel:row.attr_sel,attr_vals:row.attr_vals.join(\' \')})\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'修改参数项失败\')\n  }\n\n  this.$message.success(\'修改参数项成功\')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n> 补充：当用户在级联选择框中选中了非三级分类时，需要清空表格中数据\n\nasync handlechange() {\n      //如果用户选择的不是三级分类\n      if(this.selectedcatekeys.length !== 3){\n        this.selectedcatekeys = []\n        this.manytabledata = []\n        this.onlytabledata = []\n        return\n      }\n      ......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n> 补充：当完成了动态参数可选项的功能之后，我们也需要一样的方式完成静态属性可选项的功能。\n\n此时我们只需要将动态参数可选项中的展开行复制到静态属性的表格中即可\n\n# 推送代码到码云\n\n添加到暂存求： git add .\n提交到本地仓库：  git commit -m \'完成了分类参数开发\'\n推送到码云：  git push\n切换到master ： git checkout master\n合并到master ： git merge goods_params\n\n创建子分支\ngit checkout -b goods_list\n推送至码云 git push -u origin goods_list\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 商品列表\n\n# 制作商品列表基本结构\n\n添加子级路由组件以及对应的规则,并设置组件的基本机构 打开router.js,添加下面的代码\n\nimport goodlist from \'./components/goods/list.vue\'\n\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: welcome },\n  { path: "/users", component: users },\n  { path: "/rights", component: rights },\n  { path: "/roles", component: roles  },\n  { path: "/categories", component: cate  },\n  { path: "/params", component: params  },\n  { path: "/goods", component: goodlist  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n打开list.vue组件，添加下列代码\n\n<template>\n    <div>\n        <h3>商品列表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            <el-row :gutter="20">\n                <el-col :span="8">\n                    <el-input placeholder="请输入内容">\n                        <el-button slot="append" icon="el-icon-search"></el-button>\n                    </el-input>\n                </el-col>\n                <el-col :span="4">\n                    <el-button type="primary">添加商品</el-button>\n                </el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {}\n  },\n  created() {},\n  methods: {}\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n# 数据展示\n\n添加数据表格展示数据以及分页功能的实现,搜索功能的实现 在main.js中添加过滤器：\n\n//创建过滤器将秒数过滤为年月日，时分秒\nvue.filter(\'dateformat\',function(originval){\n  const dt = new date(originval)\n  const y = dt.getfullyear()\n  const m = (dt.getmonth()+1+\'\').padstart(2,\'0\')\n  const d = (dt.getdate()+\'\').padstart(2,\'0\')\n\n  const hh = (dt.gethours()+\'\').padstart(2,\'0\')\n  const mm = (dt.getminutes()+\'\').padstart(2,\'0\')\n  const ss = (dt.getseconds()+\'\').padstart(2,\'0\')\n\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\x3c!-- 卡片视图区域 --\x3e\n<el-card>\n    \x3c!-- 搜索栏 --\x3e\n    <el-row :gutter="20">\n        <el-col :span="8">\n            <el-input placeholder="请输入内容" v-model="queryinfo.query" clearable @clear="getgoodslist">\n                <el-button slot="append" icon="el-icon-search" @click="getgoodslist"></el-button>\n            </el-input>\n        </el-col>\n        <el-col :span="4">\n            <el-button type="primary">添加商品</el-button>\n        </el-col>\n    </el-row>\n\n    \x3c!-- 表格区域 --\x3e\n    <el-table :data="goodslist" border stripe>\n        <el-table-column type="index"></el-table-column>\n        <el-table-column label="商品名称" prop="goods_name"></el-table-column>\n        <el-table-column label="商品价格(元)" prop="goods_price" width="95px"></el-table-column>\n        <el-table-column label="商品重量" prop="goods_weight" width="95px"></el-table-column>\n        <el-table-column label="创建时间" prop="add_time" width="140px">\n            <template slot-scope="scope">\n                {{scope.row.add_time | dateformat}}\n            </template>\n        </el-table-column>\n        <el-table-column label="操作" width="125px">\n            <template slot-scope="scope">\n                <el-button size="mini" type="primary" icon="el-icon-edit"></el-button>\n                <el-button size="mini" type="danger" icon="el-icon-delete"></el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n\n    \x3c!-- 分页 --\x3e\n    <el-pagination @size-change="handlesizechange" @current-change="handlecurrentchange" :current-page="queryinfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryinfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n    </el-pagination>\n</el-card>\n\n//绑定数据以及添加方法\n<script>\nexport default {\n  data() {\n    return {\n      //查询参数\n      queryinfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 10\n      },\n      //保存商品列表信息\n      goodslist: [],\n      //总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getgoodslist()\n  },\n  methods: {\n    async getgoodslist() {\n      //   根据分页获取对应的商品列表\n      const { data: res } = await this.$http.get(\'goods\', {\n        params: this.queryinfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品列表失败\')\n      }\n      console.log(res.data)\n      this.$message.success(\'获取商品列表成功\')\n      this.goodslist = res.data.goods\n      this.total = res.data.total\n    },\n    handlesizechange(newsize){\n        //当页号发生改变时，更改pagesize，重新请求\n        this.queryinfo.pagesize = newsize\n        this.getgoodslist();\n    },\n    handlecurrentchange(newpage){\n        //当页码发生改变时，更改pagesize，重新请求\n        this.queryinfo.pagenum = newpage\n        this.getgoodslist();\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n\n\n# 实现删除商品\n\n//绑定按钮点击事件\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removegoods(scope.row.goods_id)"></el-button>\n\n//事件函数代码编写\nasync removegoods(goods_id) {\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmresult = await this.$confirm(\n    \'请问是否要删除该商品\',\n    \'删除提示\',\n    {\n      confirmbuttontext: \'确认删除\',\n      cancelbuttontext: \'取消\',\n      type: \'warning\'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmresult 为\'confirm\'\n  //如果用户点击取消, 则confirmresult获取的就是catch的错误消息\'cancel\'\n  if (confirmresult != \'confirm\') {\n    return this.$message.info(\'已经取消删除\')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`goods/${goods_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'删除商品失败\')\n  }\n\n  this.$message.success(\'删除商品成功\')\n  this.getgoodslist()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 添加商品\n\n# 添加编程式导航\n\n在list.vue中添加编程式导航，并创建添加商品路由组件及规则\n\n//在list.vue中添加编程式导航\n<el-col :span="4">\n    <el-button type="primary" @click="goaddpage">添加商品</el-button>\n</el-col>\n\ngoaddpage(){\n    this.$router.push(\'/goods/add\')\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n在router.js中引入goods/add.vue,并添加路由规则\n\nimport goodadd from \'./components/goods/add.vue\'\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: welcome },\n  { path: "/users", component: users },\n  { path: "/rights", component: rights },\n  { path: "/roles", component: roles  },\n  { path: "/categories", component: cate  },\n  { path: "/params", component: params  },\n  { path: "/goods", component: goodlist  },\n  { path: "/goods/add", component: goodadd  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n# 布局add.vue组件\n\n布局过程中需要使用steps组件，在element.js中引入并注册该组件，并在global.css中给组件设置全局样式\n\nimport {steps,step} from \'element-ui\'\nvue.use(step)\nvue.use(steps)\n\n//global.css\n.el-steps{\n    margin:15px 0;\n}\n.el-step__title{\n    font-size: 13px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n然后再在add.vue中进行页面布局\n\n<template>\n    <div>\n        <h3>添加商品</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>添加商品</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 消息提示 --\x3e\n            <el-alert title="添加商品信息" type="info" center show-icon :closable="false">\n            </el-alert>\n\n            \x3c!-- 步骤条组件 --\x3e\n            \x3c!-- align-center(居中效果) --\x3e\n            <el-steps :space="200" :active="activeindex - 0" finish-status="success" align-center>\n                <el-step title="基本信息"></el-step>\n                <el-step title="商品参数"></el-step>\n                <el-step title="商品属性"></el-step>\n                <el-step title="商品图片"></el-step>\n                <el-step title="商品内容"></el-step>\n                <el-step title="完成"></el-step>\n            </el-steps>\n\n            \x3c!-- tab栏区域:el-tab-pane必须是el-tabs的子节点\n            :tab-position="\'left\'"(设置tab栏为左右结构tab栏) --\x3e\n            \x3c!-- 表单：label-position="top"(设置label在文本框上方) --\x3e\n            <el-form :model="addform" :rules="addformrules" ref="addformref" label-width="100px" label-position="top">\n                <el-tabs v-model="activeindex" :tab-position="\'left\'">\n                    <el-tab-pane label="基本信息" name="0">\n                        <el-form-item label="商品名称" prop="goods_name">\n                            <el-input v-model="addform.goods_name"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品价格" prop="goods_price">\n                            <el-input v-model="addform.goods_price" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品重量" prop="goods_weight">\n                            <el-input v-model="addform.goods_weight" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品数量" prop="goods_number">\n                            <el-input v-model="addform.goods_number" type="number"></el-input>\n                        </el-form-item>\n                        <el-form-item label="商品分类" prop="goods_cat">\n                            \x3c!-- 选择商品分类的级联选择框 --\x3e\n                            <el-cascader expandtrigger=\'hover\' v-model="addform.goods_cat" :options="catelist" :props="cateprops" @change="handlechange" clearable></el-cascader>\n                        </el-form-item>\n                    </el-tab-pane>\n                    <el-tab-pane label="商品参数" name="1">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品属性" name="2">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品图片" name="3">\n\n                    </el-tab-pane>\n                    <el-tab-pane label="商品内容" name="4">\n\n                    </el-tab-pane>\n                </el-tabs>\n            </el-form>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //保存步骤条激活项索引\n      activeindex: \'0\',\n      //添加商品的表单数据对象\n      addform: {\n        goods_name: \'\',\n        goods_price: 0,\n        goods_weight: 0,\n        goods_number: 0,\n        goods_cat:[]\n      },\n      //验证规则\n      addformrules: {\n        goods_name: [\n          { required: true, message: \'请输入商品名称\', trigger: \'blur\' }\n        ],\n        goods_price: [\n          { required: true, message: \'请输入商品价格\', trigger: \'blur\' }\n        ],\n        goods_weight: [\n          { required: true, message: \'请输入商品重量\', trigger: \'blur\' }\n        ],\n        goods_number: [\n          { required: true, message: \'请输入商品数量\', trigger: \'blur\' }\n        ],\n        goods_cat: [\n          { required: true, message: \'请选择商品分类\', trigger: \'blur\' }\n        ]\n      },\n      //用来保存分类数据\n      catelist: [],\n      //配置级联菜单中数据如何展示\n      cateprops: {\n        value: \'cat_id\',\n        label: \'cat_name\',\n        children: \'children\'\n      }\n    }\n  },\n  created() {\n    this.getcatelist()\n  },\n  methods: {\n    async getcatelist() {\n      const { data: res } = await this.$http.get(\'categories\')\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品分类数据失败\')\n      }\n      this.catelist = res.data\n    },\n    handlechange(){\n      //如果用户选择的不是三级分类,该次选择无效，因为必须选择三级分类\n      if(this.addform.goods_cat.length !== 3){\n        this.addform.goods_cat = []\n        return\n      }\n    }\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n\n\n# 添加tab栏切换验证\n\n也就是说不输入某些内容，无法切换到别的tab栏\n\n//首先给tabs添加tab切换前事件\n<el-tabs v-model="activeindex" :tab-position="\'left\'" :before-leave="beforetableave">\n......\n</el-tabs>\n\n//再到methods编写事件函数beforetableave\nbeforetableave(activename,oldactivename){\n  //在tab栏切换之前触发，两个形参为切换前，后的tab栏name\n  if(oldactivename === \'0\'){\n      //在第一个标签页的时候\n      if(this.addform.goods_cat.length !== 3){\n          this.$message.error(\'请选择商品的分类\')\n          return false\n      }else if(this.addform.goods_name.trim() === \'\'){\n          this.$message.error(\'请输入商品名称\')\n          return false\n      }else if(this.addform.goods_price.trim() === \'0\'){\n          this.$message.error(\'请输入商品价格\')\n          return false\n      }else if(this.addform.goods_weight.trim() === \'0\'){\n          this.$message.error(\'请输入商品重量\')\n          return false\n      }else if(this.addform.goods_number.trim() === \'0\'){\n          this.$message.error(\'请输入商品数量\')\n          return false\n      }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n# 展示信息\n\n展示商品参数信息,商品属性信息 在商品参数信息展示中使用的el-checkbox,el-checkbox-group组件，打开element.js引入组件并注册组件\n\n//在用户点击tab栏时触发事件\n<el-tabs v-model="activeindex" :tab-position="\'left\'" :before-leave="beforetableave" @tab-click="tabclicked">\n........\n\n//在参数信息，商品属性面板中添加循环生成结构的代码\n<el-tab-pane label="商品参数" name="1">\n  \x3c!-- 渲染表单item项 --\x3e\n  <el-form-item :label="item.attr_name" :key="item.attr_id" v-for="item in manytabledata">\n      \x3c!-- 使用数组渲染复选框组 --\x3e\n      <el-checkbox-group v-model="item.attr_vals">\n          <el-checkbox border :label="val" v-for="(val,i) in item.attr_vals" :key="i"></el-checkbox>\n      </el-checkbox-group>\n  </el-form-item>\n</el-tab-pane>\n<el-tab-pane label="商品属性" name="2">\n  \x3c!-- 循环生成静态属性 --\x3e\n  <el-form-item :label="item.attr_name" v-for="item in onlytabledata" :key="item.attr_id">\n      <el-input v-model="item.attr_vals"></el-input>\n  </el-form-item>\n</el-tab-pane>\n\n//在data数据中添加保存动态参数和静态属性的数组\nexport default {\n  data() {\n    return {\n      ......\n      //动态参数列表\n      manytabledata: [],\n      //静态属性列表\n      onlytabledata:[]\n      }\n  },methods: {\n    .......\n    async tabclicked() {\n      //当用户点击切换tab栏时触发\n      if (this.activeindex === \'1\') {\n        //发送请求获取动态参数\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateid}/attributes`,\n          { params: { sel: \'many\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取动态参数列表失败\')\n        }\n        //将attr_vals字符串转换为数组\n        res.data.foreach(item => {\n          item.attr_vals =\n            item.attr_vals.length === 0 ? [] : item.attr_vals.split(\' \')\n        })\n        this.manytabledata = res.data\n      } else if (this.activeindex === \'2\') {\n        //发送请求获取静态属性\n        const { data: res } = await this.$http.get(\n          `categories/${this.cateid}/attributes`,\n          { params: { sel: \'only\' } }\n        )\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取静态属性列表失败\')\n        }\n\n        this.onlytabledata = res.data\n      }\n    }\n  },\n  //添加 计算属性获取三级分类\n  computed: {\n    cateid() {\n      if (this.addform.goods_cat.length === 3) {\n        return this.addform.goods_cat[2]\n      }\n      return null\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day08 - 实战2",frontmatter:{title:"VUE Study Day08 - 实战2",date:"2021-2-15",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第8天 vue实战-实现菜单栏，用户管理"},{name:"keywords",content:"自学 vue 实战 电商平台 用户管理"},{name:"image",content:"https://www.yangxiaokang.com/../assets/heima.png"},{name:"twitter:title",content:"VUE Study Day08 - 实战2"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/../assets/heima.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day08-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day08 - 实战2"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/../assets/heima.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day08-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-15"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day08 - 实战2"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/../assets/heima.png"}],feed:{enable:!0},permalink:"/article/vue/studyvueday8.html",summary:"不断学习，不断提升，日拱一卒，学习vue第8天",description:""},regularPath:"/article/vue/day08-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day08-电商.md",key:"v-d5bdc22a",path:"/article/vue/studyvueday8.html",headers:[{level:2,title:"★今日目标",slug:"★今日目标",normalizedTitle:"★今日目标",charIndex:2},{level:2,title:"基本布局",slug:"基本布局",normalizedTitle:"基本布局",charIndex:20},{level:2,title:"左侧菜单栏",slug:"左侧菜单栏",normalizedTitle:"左侧菜单栏",charIndex:31},{level:2,title:"用户列表",slug:"用户列表",normalizedTitle:"用户列表",charIndex:43},{level:2,title:"添加用户",slug:"添加用户",normalizedTitle:"添加用户",charIndex:56}],headersStr:"★今日目标 基本布局 左侧菜单栏 用户列表 添加用户",content:'# ★今日目标\n\n 1. 实现后台首页的基本布局\n 2. 实现左侧菜单栏\n 3. 实现用户列表展示\n 4. 实现添加用户\n\n\n# 基本布局\n\n# 简单布局\n\n打开Home.vue组件，进行布局：\n\n<el-container class="home-container">\n  \x3c!-- 头部区域 --\x3e\n  <el-header>Header<el-button type="info" @click="logout"> 退出 </el-button></el-header>\n  \x3c!-- 页面主体区域 --\x3e\n  <el-container>\n    \x3c!-- 侧边栏 --\x3e\n    <el-aside width="200px">Aside</el-aside>\n    \x3c!-- 主体结构 --\x3e\n    <el-main>Main</el-main>\n  </el-container>\n</el-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n默认情况下，跟element-ui组件同名的类名可以帮助我们快速的给对应的组件添加样式，如：\n\n.home-container {\n  height: 100%;\n}\n.el-header{\n  background-color:#373D41;\n}\n.el-aside{\n  background-color:#333744;\n}\n.el-main{\n  background-color:#eaedf1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 顶部布局，侧边栏布局\n\n<template>\n    <el-container class="home-container">\n      \x3c!-- 头部区域 --\x3e\n      <el-header>\n        <div>\n          \x3c!-- 黑马logo --\x3e\n          <img src="../assets/heima.png" alt="">\n          \x3c!-- 顶部标题 --\x3e\n          <span>电商后台管理系统</span>\n        </div>\n        <el-button type="info" @click="logout"> 退出 </el-button>\n      </el-header>\n      \x3c!-- 页面主体区域 --\x3e\n      <el-container>\n        \x3c!-- 侧边栏 --\x3e\n        <el-aside width="200px">\n          \x3c!-- 侧边栏菜单 --\x3e\n          <el-menu\n            background-color="#333744"\n            text-color="#fff"\n            active-text-color="#ffd04b">\n            \x3c!-- 一级菜单 --\x3e\n            <el-submenu index="1">\n              \x3c!-- 一级菜单模板 --\x3e\n              <template slot="title">\n                \x3c!-- 图标 --\x3e\n                <i class="el-icon-location"></i>\n                \x3c!-- 文本 --\x3e\n                <span>导航一</span>\n              </template>\n              \x3c!-- 二级子菜单 --\x3e\n              <el-menu-item index="1-4-1">\n                \x3c!-- 二级菜单模板 --\x3e\n                <template slot="title">\n                  \x3c!-- 图标 --\x3e\n                  <i class="el-icon-location"></i>\n                  \x3c!-- 文本 --\x3e\n                  <span>子菜单一</span>\n                </template>\n              </el-menu-item>\n            </el-submenu>\n            \n          </el-menu>\n        </el-aside>\n        \x3c!-- 主体结构 --\x3e\n        <el-main>Main</el-main>\n      </el-container>\n    </el-container>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 左侧菜单栏\n\n# axios请求拦截器\n\n后台除了登录接口之外，都需要token权限验证，我们可以通过添加axios请求拦截器来添加token，以保证拥有获取数据的权限 在main.js中添加代码，在将axios挂载到vue原型之前添加下面的代码\n\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config=>{\n  //为请求头对象，添加token验证的Authorization字段\n  config.headers.Authorization = window.sessionStorage.getItem("token")\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 请求侧边栏数据\n\n<script>\nexport default {\n  data() {\n    return {\n      // 左侧菜单数据\n      menuList: null\n    }\n  },\n  created() {\n    // 在created阶段请求左侧菜单数据\n    this.getMenuList()\n  },\n  methods: {\n    logout() {\n      window.sessionStorage.clear()\n      this.$router.push(\'/login\')\n    },\n    async getMenuList() {\n      // 发送请求获取左侧菜单数据\n      const { data: res } = await this.$http.get(\'menus\')\n      if (res.meta.status !== 200) return this.$message.error(res.meta.msg)\n\n      this.menuList = res.data\n      console.log(res)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n通过v-for双重循环渲染左侧菜单\n\n<el-menu\n  background-color="#333744"\n  text-color="#fff"\n  active-text-color="#ffd04b">\n  \x3c!-- 一级菜单 --\x3e\n  <el-submenu :index="item.id+\'\'" v-for="item in menuList" :key="item.id">\n    \x3c!-- 一级菜单模板 --\x3e\n    <template slot="title">\n      \x3c!-- 图标 --\x3e\n      <i class="el-icon-location"></i>\n      \x3c!-- 文本 --\x3e\n      <span>{{item.authName}}</span>\n    </template>\n    \x3c!-- 二级子菜单 --\x3e\n    <el-menu-item :index="subItem.id+\'\'" v-for="subItem in item.children" :key="subItem.id">\n      \x3c!-- 二级菜单模板 --\x3e\n      <template slot="title">\n        \x3c!-- 图标 --\x3e\n        <i class="el-icon-location"></i>\n        \x3c!-- 文本 --\x3e\n        <span>{{subItem.authName}}</span>\n      </template>\n    </el-menu-item>\n  </el-submenu>\n</el-menu>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 设置激活子菜单样式\n\n通过更改el-menu的active-text-color属性可以设置侧边栏菜单中点击的激活项的文字颜色 通过更改菜单项模板（template）中的i标签的类名，可以将左侧菜单栏的图标进行设置，我们需要在项目中使用第三方字体图标 在数据中添加一个iconsObj：\n\niconsObj: {\n        \'125\':\'iconfont icon-user\',\n        \'103\':\'iconfont icon-tijikongjian\',\n        \'101\':\'iconfont icon-shangpin\',\n        \'102\':\'iconfont icon-danju\',\n        \'145\':\'iconfont icon-baobiao\'\n      }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n然后将图标类名进行数据绑定，绑定iconsObj中的数据：\n\n为了保持左侧菜单每次只能打开一个，显示其中的子菜单，我们可以在el-menu中添加一个属性unique-opened 或者也可以数据绑定进行设置(此时true认为是一个bool值，而不是字符串) :unique-opened="true"\n\n# 制作侧边菜单栏的伸缩功能\n\n在菜单栏上方添加一个div\n\n        \x3c!-- 侧边栏,宽度根据是否折叠进行设置 --\x3e\n        <el-aside :width="isCollapse ? \'64px\':\'200px\'">\n          \x3c!-- 伸缩侧边栏按钮 --\x3e\n          <div class="toggle-button" @click="toggleCollapse">|||</div>\n          \x3c!-- 侧边栏菜单，:collapse="isCollapse"（设置折叠菜单为绑定的 isCollapse 值），:collapse-transition="false"（关闭默认的折叠动画） --\x3e\n          <el-menu\n          :collapse="isCollapse"\n          :collapse-transition="false"\n          ......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n然后给div添加样式，给div添加事件：\n\n<div class="toggle-button" @click="this.isCollapse ? \'64px\':\'200px\'">|||</div>\n\n\n1\n\n\n# 在后台首页添加子级路由\n\n新增子级路由组件Welcome.vue 在router.js中导入子级路由组件，并设置路由规则以及子级路由的默认重定向 打开Home.vue，在main的主体结构中添加一个路由占位符\n\n制作好了Welcome子级路由之后，我们需要将所有的侧边栏二级菜单都改造成子级路由链接 我们只需要将el-menu的router属性设置为true就可以了，此时当我们点击二级菜单的时候，就会根据菜单的index 属性进行路由跳转,如: /110, 使用index id来作为跳转的路径不合适，我们可以重新绑定index的值为 :index="\'/\'+subItem.path"\n\n\n# 用户列表\n\n# 完成用户列表主体区域\n\n新建用户列表组件 user/Users.vue 在router.js中导入子级路由组件Users.vue，并设置路由规则\n\n当点击二级菜单的时候，被点击的二级子菜单并没有高亮，我们需要正在被使用的功能高亮显示 我们可以通过设置el-menu的default-active属性来设置当前激活菜单的index 但是default-active属性也不能写死，固定为某个菜单值 所以我们可以先给所有的二级菜单添加点击事件,并将path值作为方法的参数\n\n@click="saveNavState(\'/\'+subItem.path)"\n在saveNavState方法中将path保存到sessionStorage中\nsaveNavState( path ){\n  //点击二级菜单的时候保存被点击的二级菜单信息\n  window.sessionStorage.setItem("activePath",path);\n  this.activePath = path;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n然后在数据中添加一个activePath绑定数据，并将el-menu的default-active属性设置为activePath 最后在created中将sessionStorage中的数据赋值给activePath this.activePath = window.sessionStorage.getItem("activePath")\n\n# 绘制用户列表基本结构\n\nA. 使用element-ui面包屑组件完成顶部导航路径(复制面包屑代码，在element.js中导入组件Breadcrumb,BreadcrumbItem) B. 使用element-ui卡片组件完成主体表格(复制卡片组件代码，在element.js中导入组件Card)，再使用element-ui输入框完成搜索框及搜索按钮， 此时我们需要使用栅格布局来划分结构(复制卡片组件代码，在element.js中导入组件Row，Col)，然后再使用el-button制作添加用户按钮\n\n<div>\n    <h3>用户列表组件</h3>\n    \x3c!-- 面包屑导航 --\x3e\n    <el-breadcrumb separator="/">\n        <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n        <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    \x3c!-- 卡片视图区域 --\x3e\n    <el-card>\n        \x3c!-- 搜索与添加区域 --\x3e\n        <el-row :gutter="20">\n            <el-col :span="7">\n                <el-input placeholder="请输入内容">\n                    <el-button slot="append" icon="el-icon-search"></el-button>\n                </el-input> \n            </el-col>\n            <el-col :span="4">\n                <el-button type="primary">添加用户</el-button>\n            </el-col>\n        </el-row> \n    </el-card>\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# 请求用户列表数据\n\n<script>\nexport default {\n  data() {\n    return {\n      //获取查询用户信息的参数\n      queryInfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 2\n      },\n      //保存请求回来的用户列表数据\n      userList:[],\n      total:0\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  methods: {\n    async getUserList() {\n      //发送请求获取用户列表数据\n      const { res: data } = await this.$http.get(\'users\', {\n        params: this.queryInfo\n      })\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200)\n        return this.$message.error(\'获取用户列表失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      this.userList = res.data.users;\n      this.total = res.data.total;\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n----------------------------------------\n\n# 将用户列表数据展示\n\n使用表格来展示用户列表数据，使用element-ui表格组件完成列表展示数据(复制表格代码，在element.js中导入组件Table,TableColumn) 在渲染展示状态时，会使用作用域插槽获取每一行的数据 再使用switch开关组件展示状态信息(复制开关组件代码，在element.js中导入组件Switch) 而渲染操作列时，也是使用作用域插槽来进行渲染的， 在操作列中包含了修改，删除，分配角色按钮，当我们把鼠标放到分配角色按钮上时 希望能有一些文字提示，此时我们需要使用文字提示组件(复制文字提示组件代码，在element.js中导入组件Tooltip),将分配角色按钮包含 代码结构如下：\n\n\x3c!-- 用户列表(表格)区域 --\x3e\n<el-table :data="userList" border stripe>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="姓名" prop="username"></el-table-column>\n    <el-table-column label="邮箱" prop="email"></el-table-column>\n    <el-table-column label="电话" prop="mobile"></el-table-column>\n    <el-table-column label="角色" prop="role_name"></el-table-column>\n    <el-table-column label="状态">\n        <template slot-scope="scope">\n            <el-switch v-model="scope.row.mg_state"></el-switch>\n        </template>\n    </el-table-column>\n    <el-table-column label="操作" width="180px">\n        <template slot-scope="scope">\n            \x3c!-- 修改 --\x3e\n            <el-button type="primary" icon="el-icon-edit" size=\'mini\'></el-button>\n            \x3c!-- 删除 --\x3e\n            <el-button type="danger" icon="el-icon-delete" size=\'mini\'></el-button>\n            \x3c!-- 分配角色 --\x3e\n            <el-tooltip class="item" effect="dark" content="分配角色" placement="top" :enterable="false">\n                <el-button type="warning" icon="el-icon-setting" size=\'mini\'></el-button>\n            </el-tooltip>\n        </template>\n    </el-table-column>\n</el-table>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 实现用户列表分页\n\nA. 使用表格来展示用户列表数据，可以使用分页组件完成列表分页展示数据(复制分页组件代码，在element.js中导入组件Pagination) B. 更改组件中的绑定数据\n\n\x3c!-- 分页导航区域 \n@size-change(pagesize改变时触发) \n@current-change(页码发生改变时触发)\n:current-page(设置当前页码)\n:page-size(设置每页的数据条数)\n:total(设置总页数) --\x3e\n            <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[1, 2, 5, 10]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n            </el-pagination>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nC.添加两个事件的事件处理函数@size-change，@current-change\n\nhandleSizeChange(newSize) {\n  //pagesize改变时触发，当pagesize发生改变的时候，我们应该\n  //以最新的pagesize来请求数据并展示数据\n  //   console.log(newSize)\n  this.queryInfo.pagesize = newSize;\n  //重新按照pagesize发送请求，请求最新的数据\n  this.getUserList();  \n},\nhandleCurrentChange( current ) {\n  //页码发生改变时触发当current发生改变的时候，我们应该\n  //以最新的current页码来请求数据并展示数据\n  //   console.log(current)\n  this.queryInfo.pagenum = current;\n  //重新按照pagenum发送请求，请求最新的数据\n  this.getUserList();  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 实现更新用户状态\n\n当用户点击列表中的switch组件时，用户的状态应该跟随发生改变。 A.首先监听用户点击switch组件的事件，并将作用域插槽的数据当做事件参数进行传递\n\n<el-switch v-model="scope.row.mg_state" @change="userStateChanged(scope.row)"></el-switch>\n\n\n1\n\n\nB. 在事件中发送请求完成状态的更改\n\nasync userStateChanged(row) {\n  //发送请求进行状态修改\n  const { data: res } = await this.$http.put(\n    `users/${row.id}/state/${row.mg_state}`\n  )\n  //如果返回状态为异常状态则报错并返回\n  if (res.meta.status !== 200) {\n    row.mg_state = !row.mg_state\n    return this.$message.error(\'修改状态失败\')\n  }\n  this.$message.success(\'更新状态成功\')\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 实现搜索功能\n\n添加数据绑定，添加搜索按钮的点击事件(当用户点击搜索按钮的时候，调用getUserList方法根据文本框内容重新请求用户列表数据) 当我们在输入框中输入内容并点击搜索之后，会按照搜索关键字搜索，我们希望能够提供一个X删除搜索关键字并重新获取所有的用户列表数据，只需要给文本框添加clearable属性并添加clear事件，在clear事件中重新请求数据即可\n\n<el-col :span="7">\n    <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable @clear="getUserList">\n        <el-button slot="append" icon="el-icon-search" @click="getUserList"></el-button>\n    </el-input>\n</el-col>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 添加用户\n\nA.当我们点击添加用户按钮的时候，弹出一个对话框来实现添加用户的功能，首先我们需要复制对话框组件的代码并在element.js文件中引入Dialog组件\n\nB.接下来我们要为“添加用户”按钮添加点击事件，在事件中将addDialogVisible设置为true，即显示对话框\n\nC.更改Dialog组件中的内容\n\n\x3c!-- 对话框组件  :visible.sync(设置是否显示对话框) width(设置对话框的宽度)\n:before-close(在对话框关闭前触发的事件) --\x3e\n<el-dialog title="添加用户" :visible.sync="addDialogVisible" width="50%">\n    \x3c!-- 对话框主体区域 --\x3e\n    <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="70px">\n        <el-form-item label="用户名" prop="username">\n            <el-input v-model="addForm.username"></el-input>\n        </el-form-item>\n        <el-form-item label="密码" prop="password">\n            <el-input v-model="addForm.password"></el-input>\n        </el-form-item>\n        <el-form-item label="邮箱" prop="email">\n            <el-input v-model="addForm.email"></el-input>\n        </el-form-item>\n        <el-form-item label="电话" prop="mobile">\n            <el-input v-model="addForm.mobile"></el-input>\n        </el-form-item>\n    </el-form>\n    \x3c!-- 对话框底部区域 --\x3e\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="addDialogVisible = false">取 消</el-button>\n        <el-button type="primary" @click="addDialogVisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nD.添加数据绑定和校验规则：\n\ndata() {\n  //验证邮箱的规则\n  var checkEmail = (rule, value, cb) => {\n    const regEmail = /^\\w+@\\w+(\\.\\w+)+$/\n    if (regEmail.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new Error(\'请输入合法的邮箱\'))\n  }\n  //验证手机号码的规则\n  var checkMobile = (rule, value, cb) => {\n    const regMobile = /^1[34578]\\d{9}$/\n    if (regMobile.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new Error(\'请输入合法的手机号码\'))\n  }\n  return {\n    //获取查询用户信息的参数\n    queryInfo: {\n      // 查询的条件\n      query: \'\',\n      // 当前的页数，即页码\n      pagenum: 1,\n      // 每页显示的数据条数\n      pagesize: 2\n    },\n    //保存请求回来的用户列表数据\n    userList: [],\n    total: 0,\n    //是否显示添加用户弹出窗\n    addDialogVisible: false,\n    // 添加用户的表单数据\n    addForm: {\n      username: \'\',\n      password: \'\',\n      email: \'\',\n      mobile: \'\'\n    },\n    // 添加表单的验证规则对象\n    addFormRules: {\n      username: [\n        { required: true, message: \'请输入用户名称\', trigger: \'blur\' },\n        {\n          min: 3,\n          max: 10,\n          message: \'用户名在3~10个字符之间\',\n          trigger: \'blur\'\n        }\n      ],\n      password: [\n        { required: true, message: \'请输入密码\', trigger: \'blur\' },\n        {\n          min: 6,\n          max: 15,\n          message: \'用户名在6~15个字符之间\',\n          trigger: \'blur\'\n        }\n      ],\n      email: [\n          { required: true, message: \'请输入邮箱\', trigger: \'blur\' },\n          { validator:checkEmail, message: \'邮箱格式不正确，请重新输入\', trigger: \'blur\'}\n      ],\n      mobile: [\n          { required: true, message: \'请输入手机号码\', trigger: \'blur\' },\n          { validator:checkMobile, message: \'手机号码不正确，请重新输入\', trigger: \'blur\'}\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\nE.当关闭对话框时，重置表单 给el-dialog添加@close事件，在事件中添加重置表单的代码\n\nmethods:{\n  ....\n  addDialogClosed(){\n      //对话框关闭之后，重置表达\n      this.$refs.addFormRef.resetFields();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nF.点击对话框中的确定按钮，发送请求完成添加用户的操作 首先给确定按钮添加点击事件，在点击事件中完成业务逻辑代码\n\nmethods:{\n  ....\n  addUser(){\n      //点击确定按钮，添加新用户\n      //调用validate进行表单验证\n      this.$refs.addFormRef.validate( async valid => {\n          if(!valid) return this.$message.error("请填写完整用户信息");\n          //发送请求完成添加用户的操作\n          const {data:res} = await this.$http.post("users",this.addForm)\n          //判断如果添加失败，就做提示\n          if (res.meta.status !== 200)\n              return this.$message.error(\'添加用户失败\')\n          //添加成功的提示\n          this.$message.success("添加用户成功")\n          //关闭对话框\n          this.addDialogVisible = false\n          //重新请求最新的数据\n          this.getUserList()\n      })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',normalizedContent:'# ★今日目标\n\n 1. 实现后台首页的基本布局\n 2. 实现左侧菜单栏\n 3. 实现用户列表展示\n 4. 实现添加用户\n\n\n# 基本布局\n\n# 简单布局\n\n打开home.vue组件，进行布局：\n\n<el-container class="home-container">\n  \x3c!-- 头部区域 --\x3e\n  <el-header>header<el-button type="info" @click="logout"> 退出 </el-button></el-header>\n  \x3c!-- 页面主体区域 --\x3e\n  <el-container>\n    \x3c!-- 侧边栏 --\x3e\n    <el-aside width="200px">aside</el-aside>\n    \x3c!-- 主体结构 --\x3e\n    <el-main>main</el-main>\n  </el-container>\n</el-container>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n默认情况下，跟element-ui组件同名的类名可以帮助我们快速的给对应的组件添加样式，如：\n\n.home-container {\n  height: 100%;\n}\n.el-header{\n  background-color:#373d41;\n}\n.el-aside{\n  background-color:#333744;\n}\n.el-main{\n  background-color:#eaedf1;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 顶部布局，侧边栏布局\n\n<template>\n    <el-container class="home-container">\n      \x3c!-- 头部区域 --\x3e\n      <el-header>\n        <div>\n          \x3c!-- 黑马logo --\x3e\n          <img src="../assets/heima.png" alt="">\n          \x3c!-- 顶部标题 --\x3e\n          <span>电商后台管理系统</span>\n        </div>\n        <el-button type="info" @click="logout"> 退出 </el-button>\n      </el-header>\n      \x3c!-- 页面主体区域 --\x3e\n      <el-container>\n        \x3c!-- 侧边栏 --\x3e\n        <el-aside width="200px">\n          \x3c!-- 侧边栏菜单 --\x3e\n          <el-menu\n            background-color="#333744"\n            text-color="#fff"\n            active-text-color="#ffd04b">\n            \x3c!-- 一级菜单 --\x3e\n            <el-submenu index="1">\n              \x3c!-- 一级菜单模板 --\x3e\n              <template slot="title">\n                \x3c!-- 图标 --\x3e\n                <i class="el-icon-location"></i>\n                \x3c!-- 文本 --\x3e\n                <span>导航一</span>\n              </template>\n              \x3c!-- 二级子菜单 --\x3e\n              <el-menu-item index="1-4-1">\n                \x3c!-- 二级菜单模板 --\x3e\n                <template slot="title">\n                  \x3c!-- 图标 --\x3e\n                  <i class="el-icon-location"></i>\n                  \x3c!-- 文本 --\x3e\n                  <span>子菜单一</span>\n                </template>\n              </el-menu-item>\n            </el-submenu>\n            \n          </el-menu>\n        </el-aside>\n        \x3c!-- 主体结构 --\x3e\n        <el-main>main</el-main>\n      </el-container>\n    </el-container>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 左侧菜单栏\n\n# axios请求拦截器\n\n后台除了登录接口之外，都需要token权限验证，我们可以通过添加axios请求拦截器来添加token，以保证拥有获取数据的权限 在main.js中添加代码，在将axios挂载到vue原型之前添加下面的代码\n\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config=>{\n  //为请求头对象，添加token验证的authorization字段\n  config.headers.authorization = window.sessionstorage.getitem("token")\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n# 请求侧边栏数据\n\n<script>\nexport default {\n  data() {\n    return {\n      // 左侧菜单数据\n      menulist: null\n    }\n  },\n  created() {\n    // 在created阶段请求左侧菜单数据\n    this.getmenulist()\n  },\n  methods: {\n    logout() {\n      window.sessionstorage.clear()\n      this.$router.push(\'/login\')\n    },\n    async getmenulist() {\n      // 发送请求获取左侧菜单数据\n      const { data: res } = await this.$http.get(\'menus\')\n      if (res.meta.status !== 200) return this.$message.error(res.meta.msg)\n\n      this.menulist = res.data\n      console.log(res)\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n通过v-for双重循环渲染左侧菜单\n\n<el-menu\n  background-color="#333744"\n  text-color="#fff"\n  active-text-color="#ffd04b">\n  \x3c!-- 一级菜单 --\x3e\n  <el-submenu :index="item.id+\'\'" v-for="item in menulist" :key="item.id">\n    \x3c!-- 一级菜单模板 --\x3e\n    <template slot="title">\n      \x3c!-- 图标 --\x3e\n      <i class="el-icon-location"></i>\n      \x3c!-- 文本 --\x3e\n      <span>{{item.authname}}</span>\n    </template>\n    \x3c!-- 二级子菜单 --\x3e\n    <el-menu-item :index="subitem.id+\'\'" v-for="subitem in item.children" :key="subitem.id">\n      \x3c!-- 二级菜单模板 --\x3e\n      <template slot="title">\n        \x3c!-- 图标 --\x3e\n        <i class="el-icon-location"></i>\n        \x3c!-- 文本 --\x3e\n        <span>{{subitem.authname}}</span>\n      </template>\n    </el-menu-item>\n  </el-submenu>\n</el-menu>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 设置激活子菜单样式\n\n通过更改el-menu的active-text-color属性可以设置侧边栏菜单中点击的激活项的文字颜色 通过更改菜单项模板（template）中的i标签的类名，可以将左侧菜单栏的图标进行设置，我们需要在项目中使用第三方字体图标 在数据中添加一个iconsobj：\n\niconsobj: {\n        \'125\':\'iconfont icon-user\',\n        \'103\':\'iconfont icon-tijikongjian\',\n        \'101\':\'iconfont icon-shangpin\',\n        \'102\':\'iconfont icon-danju\',\n        \'145\':\'iconfont icon-baobiao\'\n      }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n然后将图标类名进行数据绑定，绑定iconsobj中的数据：\n\n为了保持左侧菜单每次只能打开一个，显示其中的子菜单，我们可以在el-menu中添加一个属性unique-opened 或者也可以数据绑定进行设置(此时true认为是一个bool值，而不是字符串) :unique-opened="true"\n\n# 制作侧边菜单栏的伸缩功能\n\n在菜单栏上方添加一个div\n\n        \x3c!-- 侧边栏,宽度根据是否折叠进行设置 --\x3e\n        <el-aside :width="iscollapse ? \'64px\':\'200px\'">\n          \x3c!-- 伸缩侧边栏按钮 --\x3e\n          <div class="toggle-button" @click="togglecollapse">|||</div>\n          \x3c!-- 侧边栏菜单，:collapse="iscollapse"（设置折叠菜单为绑定的 iscollapse 值），:collapse-transition="false"（关闭默认的折叠动画） --\x3e\n          <el-menu\n          :collapse="iscollapse"\n          :collapse-transition="false"\n          ......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n然后给div添加样式，给div添加事件：\n\n<div class="toggle-button" @click="this.iscollapse ? \'64px\':\'200px\'">|||</div>\n\n\n1\n\n\n# 在后台首页添加子级路由\n\n新增子级路由组件welcome.vue 在router.js中导入子级路由组件，并设置路由规则以及子级路由的默认重定向 打开home.vue，在main的主体结构中添加一个路由占位符\n\n制作好了welcome子级路由之后，我们需要将所有的侧边栏二级菜单都改造成子级路由链接 我们只需要将el-menu的router属性设置为true就可以了，此时当我们点击二级菜单的时候，就会根据菜单的index 属性进行路由跳转,如: /110, 使用index id来作为跳转的路径不合适，我们可以重新绑定index的值为 :index="\'/\'+subitem.path"\n\n\n# 用户列表\n\n# 完成用户列表主体区域\n\n新建用户列表组件 user/users.vue 在router.js中导入子级路由组件users.vue，并设置路由规则\n\n当点击二级菜单的时候，被点击的二级子菜单并没有高亮，我们需要正在被使用的功能高亮显示 我们可以通过设置el-menu的default-active属性来设置当前激活菜单的index 但是default-active属性也不能写死，固定为某个菜单值 所以我们可以先给所有的二级菜单添加点击事件,并将path值作为方法的参数\n\n@click="savenavstate(\'/\'+subitem.path)"\n在savenavstate方法中将path保存到sessionstorage中\nsavenavstate( path ){\n  //点击二级菜单的时候保存被点击的二级菜单信息\n  window.sessionstorage.setitem("activepath",path);\n  this.activepath = path;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n然后在数据中添加一个activepath绑定数据，并将el-menu的default-active属性设置为activepath 最后在created中将sessionstorage中的数据赋值给activepath this.activepath = window.sessionstorage.getitem("activepath")\n\n# 绘制用户列表基本结构\n\na. 使用element-ui面包屑组件完成顶部导航路径(复制面包屑代码，在element.js中导入组件breadcrumb,breadcrumbitem) b. 使用element-ui卡片组件完成主体表格(复制卡片组件代码，在element.js中导入组件card)，再使用element-ui输入框完成搜索框及搜索按钮， 此时我们需要使用栅格布局来划分结构(复制卡片组件代码，在element.js中导入组件row，col)，然后再使用el-button制作添加用户按钮\n\n<div>\n    <h3>用户列表组件</h3>\n    \x3c!-- 面包屑导航 --\x3e\n    <el-breadcrumb separator="/">\n        <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n        <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    \x3c!-- 卡片视图区域 --\x3e\n    <el-card>\n        \x3c!-- 搜索与添加区域 --\x3e\n        <el-row :gutter="20">\n            <el-col :span="7">\n                <el-input placeholder="请输入内容">\n                    <el-button slot="append" icon="el-icon-search"></el-button>\n                </el-input> \n            </el-col>\n            <el-col :span="4">\n                <el-button type="primary">添加用户</el-button>\n            </el-col>\n        </el-row> \n    </el-card>\n</div>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# 请求用户列表数据\n\n<script>\nexport default {\n  data() {\n    return {\n      //获取查询用户信息的参数\n      queryinfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 2\n      },\n      //保存请求回来的用户列表数据\n      userlist:[],\n      total:0\n    }\n  },\n  created() {\n    this.getuserlist()\n  },\n  methods: {\n    async getuserlist() {\n      //发送请求获取用户列表数据\n      const { res: data } = await this.$http.get(\'users\', {\n        params: this.queryinfo\n      })\n      //如果返回状态为异常状态则报错并返回\n      if (res.meta.status !== 200)\n        return this.$message.error(\'获取用户列表失败\')\n      //如果返回状态正常，将请求的数据保存在data中\n      this.userlist = res.data.users;\n      this.total = res.data.total;\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n----------------------------------------\n\n# 将用户列表数据展示\n\n使用表格来展示用户列表数据，使用element-ui表格组件完成列表展示数据(复制表格代码，在element.js中导入组件table,tablecolumn) 在渲染展示状态时，会使用作用域插槽获取每一行的数据 再使用switch开关组件展示状态信息(复制开关组件代码，在element.js中导入组件switch) 而渲染操作列时，也是使用作用域插槽来进行渲染的， 在操作列中包含了修改，删除，分配角色按钮，当我们把鼠标放到分配角色按钮上时 希望能有一些文字提示，此时我们需要使用文字提示组件(复制文字提示组件代码，在element.js中导入组件tooltip),将分配角色按钮包含 代码结构如下：\n\n\x3c!-- 用户列表(表格)区域 --\x3e\n<el-table :data="userlist" border stripe>\n    <el-table-column type="index"></el-table-column>\n    <el-table-column label="姓名" prop="username"></el-table-column>\n    <el-table-column label="邮箱" prop="email"></el-table-column>\n    <el-table-column label="电话" prop="mobile"></el-table-column>\n    <el-table-column label="角色" prop="role_name"></el-table-column>\n    <el-table-column label="状态">\n        <template slot-scope="scope">\n            <el-switch v-model="scope.row.mg_state"></el-switch>\n        </template>\n    </el-table-column>\n    <el-table-column label="操作" width="180px">\n        <template slot-scope="scope">\n            \x3c!-- 修改 --\x3e\n            <el-button type="primary" icon="el-icon-edit" size=\'mini\'></el-button>\n            \x3c!-- 删除 --\x3e\n            <el-button type="danger" icon="el-icon-delete" size=\'mini\'></el-button>\n            \x3c!-- 分配角色 --\x3e\n            <el-tooltip class="item" effect="dark" content="分配角色" placement="top" :enterable="false">\n                <el-button type="warning" icon="el-icon-setting" size=\'mini\'></el-button>\n            </el-tooltip>\n        </template>\n    </el-table-column>\n</el-table>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n# 实现用户列表分页\n\na. 使用表格来展示用户列表数据，可以使用分页组件完成列表分页展示数据(复制分页组件代码，在element.js中导入组件pagination) b. 更改组件中的绑定数据\n\n\x3c!-- 分页导航区域 \n@size-change(pagesize改变时触发) \n@current-change(页码发生改变时触发)\n:current-page(设置当前页码)\n:page-size(设置每页的数据条数)\n:total(设置总页数) --\x3e\n            <el-pagination @size-change="handlesizechange" @current-change="handlecurrentchange" :current-page="queryinfo.pagenum" :page-sizes="[1, 2, 5, 10]" :page-size="queryinfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n            </el-pagination>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nc.添加两个事件的事件处理函数@size-change，@current-change\n\nhandlesizechange(newsize) {\n  //pagesize改变时触发，当pagesize发生改变的时候，我们应该\n  //以最新的pagesize来请求数据并展示数据\n  //   console.log(newsize)\n  this.queryinfo.pagesize = newsize;\n  //重新按照pagesize发送请求，请求最新的数据\n  this.getuserlist();  \n},\nhandlecurrentchange( current ) {\n  //页码发生改变时触发当current发生改变的时候，我们应该\n  //以最新的current页码来请求数据并展示数据\n  //   console.log(current)\n  this.queryinfo.pagenum = current;\n  //重新按照pagenum发送请求，请求最新的数据\n  this.getuserlist();  \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 实现更新用户状态\n\n当用户点击列表中的switch组件时，用户的状态应该跟随发生改变。 a.首先监听用户点击switch组件的事件，并将作用域插槽的数据当做事件参数进行传递\n\n<el-switch v-model="scope.row.mg_state" @change="userstatechanged(scope.row)"></el-switch>\n\n\n1\n\n\nb. 在事件中发送请求完成状态的更改\n\nasync userstatechanged(row) {\n  //发送请求进行状态修改\n  const { data: res } = await this.$http.put(\n    `users/${row.id}/state/${row.mg_state}`\n  )\n  //如果返回状态为异常状态则报错并返回\n  if (res.meta.status !== 200) {\n    row.mg_state = !row.mg_state\n    return this.$message.error(\'修改状态失败\')\n  }\n  this.$message.success(\'更新状态成功\')\n},\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 实现搜索功能\n\n添加数据绑定，添加搜索按钮的点击事件(当用户点击搜索按钮的时候，调用getuserlist方法根据文本框内容重新请求用户列表数据) 当我们在输入框中输入内容并点击搜索之后，会按照搜索关键字搜索，我们希望能够提供一个x删除搜索关键字并重新获取所有的用户列表数据，只需要给文本框添加clearable属性并添加clear事件，在clear事件中重新请求数据即可\n\n<el-col :span="7">\n    <el-input placeholder="请输入内容" v-model="queryinfo.query" clearable @clear="getuserlist">\n        <el-button slot="append" icon="el-icon-search" @click="getuserlist"></el-button>\n    </el-input>\n</el-col>\n\n\n1\n2\n3\n4\n5\n\n\n\n# 添加用户\n\na.当我们点击添加用户按钮的时候，弹出一个对话框来实现添加用户的功能，首先我们需要复制对话框组件的代码并在element.js文件中引入dialog组件\n\nb.接下来我们要为“添加用户”按钮添加点击事件，在事件中将adddialogvisible设置为true，即显示对话框\n\nc.更改dialog组件中的内容\n\n\x3c!-- 对话框组件  :visible.sync(设置是否显示对话框) width(设置对话框的宽度)\n:before-close(在对话框关闭前触发的事件) --\x3e\n<el-dialog title="添加用户" :visible.sync="adddialogvisible" width="50%">\n    \x3c!-- 对话框主体区域 --\x3e\n    <el-form :model="addform" :rules="addformrules" ref="addformref" label-width="70px">\n        <el-form-item label="用户名" prop="username">\n            <el-input v-model="addform.username"></el-input>\n        </el-form-item>\n        <el-form-item label="密码" prop="password">\n            <el-input v-model="addform.password"></el-input>\n        </el-form-item>\n        <el-form-item label="邮箱" prop="email">\n            <el-input v-model="addform.email"></el-input>\n        </el-form-item>\n        <el-form-item label="电话" prop="mobile">\n            <el-input v-model="addform.mobile"></el-input>\n        </el-form-item>\n    </el-form>\n    \x3c!-- 对话框底部区域 --\x3e\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="adddialogvisible = false">取 消</el-button>\n        <el-button type="primary" @click="adddialogvisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\nd.添加数据绑定和校验规则：\n\ndata() {\n  //验证邮箱的规则\n  var checkemail = (rule, value, cb) => {\n    const regemail = /^\\w+@\\w+(\\.\\w+)+$/\n    if (regemail.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new error(\'请输入合法的邮箱\'))\n  }\n  //验证手机号码的规则\n  var checkmobile = (rule, value, cb) => {\n    const regmobile = /^1[34578]\\d{9}$/\n    if (regmobile.test(value)) {\n      return cb()\n    }\n    //返回一个错误提示\n    cb(new error(\'请输入合法的手机号码\'))\n  }\n  return {\n    //获取查询用户信息的参数\n    queryinfo: {\n      // 查询的条件\n      query: \'\',\n      // 当前的页数，即页码\n      pagenum: 1,\n      // 每页显示的数据条数\n      pagesize: 2\n    },\n    //保存请求回来的用户列表数据\n    userlist: [],\n    total: 0,\n    //是否显示添加用户弹出窗\n    adddialogvisible: false,\n    // 添加用户的表单数据\n    addform: {\n      username: \'\',\n      password: \'\',\n      email: \'\',\n      mobile: \'\'\n    },\n    // 添加表单的验证规则对象\n    addformrules: {\n      username: [\n        { required: true, message: \'请输入用户名称\', trigger: \'blur\' },\n        {\n          min: 3,\n          max: 10,\n          message: \'用户名在3~10个字符之间\',\n          trigger: \'blur\'\n        }\n      ],\n      password: [\n        { required: true, message: \'请输入密码\', trigger: \'blur\' },\n        {\n          min: 6,\n          max: 15,\n          message: \'用户名在6~15个字符之间\',\n          trigger: \'blur\'\n        }\n      ],\n      email: [\n          { required: true, message: \'请输入邮箱\', trigger: \'blur\' },\n          { validator:checkemail, message: \'邮箱格式不正确，请重新输入\', trigger: \'blur\'}\n      ],\n      mobile: [\n          { required: true, message: \'请输入手机号码\', trigger: \'blur\' },\n          { validator:checkmobile, message: \'手机号码不正确，请重新输入\', trigger: \'blur\'}\n      ]\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\ne.当关闭对话框时，重置表单 给el-dialog添加@close事件，在事件中添加重置表单的代码\n\nmethods:{\n  ....\n  adddialogclosed(){\n      //对话框关闭之后，重置表达\n      this.$refs.addformref.resetfields();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nf.点击对话框中的确定按钮，发送请求完成添加用户的操作 首先给确定按钮添加点击事件，在点击事件中完成业务逻辑代码\n\nmethods:{\n  ....\n  adduser(){\n      //点击确定按钮，添加新用户\n      //调用validate进行表单验证\n      this.$refs.addformref.validate( async valid => {\n          if(!valid) return this.$message.error("请填写完整用户信息");\n          //发送请求完成添加用户的操作\n          const {data:res} = await this.$http.post("users",this.addform)\n          //判断如果添加失败，就做提示\n          if (res.meta.status !== 200)\n              return this.$message.error(\'添加用户失败\')\n          //添加成功的提示\n          this.$message.success("添加用户成功")\n          //关闭对话框\n          this.adddialogvisible = false\n          //重新请求最新的数据\n          this.getuserlist()\n      })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n',charsets:{cjk:!0},lastUpdated:"2023/3/11",lastUpdatedTimestamp:1678548244e3},{title:"VUE Study Day10 - 实战4",frontmatter:{title:"VUE Study Day10 - 实战4",date:"2021-2-19",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第10天 vue实战-实现商品分类、参数管理"},{name:"keywords",content:"自学 vue 实战 电商平台 商品分类 参数"},{name:"twitter:title",content:"VUE Study Day10 - 实战4"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day10-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day10 - 实战4"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day10-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-19"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day10 - 实战4"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday10.html",summary:"不断学习，不断提升，日拱一卒，学习vue第10天",description:""},regularPath:"/article/vue/day10-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day10-电商.md",key:"v-6ad4e019",path:"/article/vue/studyvueday10.html",headers:[{level:2,title:"★今日目标",slug:"★今日目标",normalizedTitle:"★今日目标",charIndex:2},{level:2,title:"商品分类",slug:"商品分类",normalizedTitle:"商品分类",charIndex:15},{level:2,title:"参数管理",slug:"参数管理",normalizedTitle:"参数管理",charIndex:27}],headersStr:"★今日目标 商品分类 参数管理",content:'# ★今日目标\n\n 1. 完成商品分类\n\n 2. 完成参数管理\n\n\n# 商品分类\n\n# 创建子级路由\n\n创建categories子级路由组件并设置路由规则\n\nimport Cate from \'./components/goods/Cate.vue\'\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n    { path: "/welcome", component: Welcome },\n    { path: "/users", component: Users },\n    { path: "/rights", component: Rights },\n    { path: "/roles", component: Roles  },\n    { path: "/categories", component: Cate  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 添加组件基本布局\n\n在Cate.vue组件中添加面包屑导航以及卡片视图中的添加分类按钮\n\n<template>\n    <div>\n        <h3>商品分类</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品分类</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 添加分类按钮区域 --\x3e\n            <el-row>\n                <el-col>\n                    <el-button type="primary">添加分类</el-button>\n                </el-col>\n            </el-row>\n            \x3c!-- 分类表格  --\x3e\n\n            \x3c!-- 分页 --\x3e\n        </el-card>\n    </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# 请求分类数据\n\n请求分类数据并将数据保存在data中\n\n<script>\nexport default {\n  data() {\n    return {\n      // 商品分类数据列表\n      cateList: [],\n      //查询分类数据的条件\n      queryInfo: {\n        type: 3,\n        pagenum: 1,\n        pagesize: 5\n      },\n      //保存总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getCateList()\n  },\n  methods: {\n    async getCateList() {\n      //获取商品分类数据\n      const { data: res } = await this.$http.get(\'categories\', {\n        params: queryInfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品列表数据失败\')\n      }\n      //将数据列表赋值给cateList\n      this.cateList = res.data.result\n      //保存总数据条数\n      this.total = res.data.total\n      //   console.log(res.data);\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n# 使用插件展示数据\n\n使用第三方插件vue-table-with-tree-grid展示分类数据 1).在vue 控制台中点击依赖->安装依赖->运行依赖->输入vue-table-with-tree-gird->点击安装 2).打开main.js，导入vue-table-with-tree-grid\n\n    import TreeTable from \'vue-table-with-tree-grid\'\n    .....\n    Vue.config.productionTip = false\n\n\n1\n2\n3\n\n\n//全局注册组件\nVue.component(\'tree-table\', TreeTable)\n\n\n1\n2\n\n\n3).使用组件展示分类数据\n\n\x3c!-- 分类表格\n:data(设置数据源) :columns(设置表格中列配置信息) :selection-type(是否有复选框)\n:expand-type(是否展开数据) show-index(是否设置索引列) index-text(设置索引列头)\nborder(是否添加纵向边框) :show-row-hover(是否鼠标悬停高亮) --\x3e\n<tree-table :data="cateList" :columns="columns" :selection-type="false"\n:expand-type="false" show-index index-text="#" border :show-row-hover="false">\n\n</tree-table>\n\n在数据中添加columns:\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'}\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 自定义数据列\n\n使用vue-table-with-tree-grid定义模板列并添加自定义列\n\n//先在columns中添加一个列\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'},\n    //type:\'template\'(将该列设置为模板列)，template:\'isok\'(设置该列模板的名称为isok)\n    {label:\'是否有效\',prop:\'\',type:\'template\',template:\'isok\'},\n    {label:\'排序\',prop:\'\',type:\'template\',template:\'order\'},\n    {label:\'操作\',prop:\'\',type:\'template\',template:\'opt\'}\n]\n\n\x3c!-- 是否有效区域， 设置对应的模板列： slot="isok"(与columns中设置的template一致) --\x3e\n<template slot="isok" slot-scope="scope">\n  <i class="el-icon-success" v-if="scope.row.cat_deleted === false" style="color:lightgreen"></i>\n  <i class="el-icon-error" v-else style="color:red"></i>\n</template>\n\x3c!-- 排序 --\x3e\n<template slot="order" slot-scope="scope">\n  <el-tag size="mini" v-if="scope.row.cat_level===0">一级</el-tag>\n  <el-tag size="mini" type="success" v-else-if="scope.row.cat_level===1">二级</el-tag>\n  <el-tag size="mini" type="warning" v-else>三级</el-tag>\n</template>\n\n\x3c!-- 操作 --\x3e\n<template slot="opt" slot-scope="scope">\n  <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n  <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button> \n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 完成分页功能\n\n\x3c!-- 分页 --\x3e\n<el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n</el-pagination>\n\n//添加对应的事件函数\nmethods:{\n  .......\n  handleSizeChange(newSize){\n    //当pagesize发生改变时触发\n    this.queryInfo.pagesize = newSize;\n    this.getCateList();\n  },\n  handleCurrentChange(newPage){\n    //当pagenum发生改变时触发\n    this.queryInfo.pagenum = newPage;\n    this.getCateList();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 完成添加分类\n\n......\n\x3c!-- 添加分类按钮区域 --\x3e\n<el-row>\n  <el-col>\n    <el-button type="primary" @click="showAddCateDialog">添加分类</el-button>\n  </el-col>\n</el-row>\n......\n\x3c!-- 添加分类对话框 --\x3e\n<el-dialog title="添加分类" :visible.sync="addCateDialogVisible" width="50%"  @close="addCateDialogClosed">\n  \x3c!-- 添加分类表单 --\x3e\n  <el-form :model="addCateForm" :rules="addCateFormRules" ref="addCateFormRuleForm" label-width="100px">\n    <el-form-item label="分类名称" prop="cat_name">\n      <el-input v-model="addCateForm.cat_name"></el-input>\n    </el-form-item>\n    <el-form-item label="父级分类" prop="cat_pid">\n      \n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="addCateDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="addCate">确 定</el-button>\n  </span>\n</el-dialog>\n\n\n//用来显示或隐藏添加分类对话框\naddCateDialogVisible: false,\n//添加分类的表单数据对象\naddCateForm:{\n  //分类名称\n  cat_name:\'\',\n  //添加分类的父级id，0则表示父级为0.添加一级分类\n  cat_pid:0,\n  //添加分类的等级，0则表示添加一级分类\n  cat_level:0\n},\n//添加分类校验规则\naddCateFormRules:{\n  //验证规则\n  cat_name:[ {required:true , message:\'请输入分类名称\',trigger:\'blur\'} ]\n},\n//保存1,2级父级分类的列表\nparentCateList:[]\n.......\nshowAddCateDialog() {\n  //调用getParentCateList获取分类列表\n  this.getParentCateList()\n  //显示添加分类对话框\n  this.addCateDialogVisible = true\n},\nasync getParentCateList(){\n  //获取父级分类数据列表\n  const { data: res } = await this.$http.get(\'categories\', {\n    params: {type:2}\n  })\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'获取商品分类列表数据失败\')\n  }\n  this.parentCateList = res.data\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n# 显示父级分类\n\n先导入Cascader组件，并注册 然后添加使用级联菜单组件：\n\n<el-form-item label="父级分类" prop="cat_pid">\n  \x3c!-- expandTrigger=\'hover\'(鼠标悬停触发级联) v-model(设置级联菜单绑定数据) :options(指定级联菜单数据源)  :props(用来配置数据显示的规则) \n  clearable(提供“X”号完成删除文本功能) change-on-select(是否可以选中任意一级的菜单) --\x3e\n  <el-cascader expandTrigger=\'hover\' v-model="selectedKeys" :options="parentCateList" :props="cascaderProps" @change="parentCateChange" clearable change-on-select></el-cascader>\n</el-form-item>\n\n添加数据\n//配置级联菜单中数据如何展示\ncascaderProps:{\n  value:\'cat_id\',\n  label:\'cat_name\',\n  children:\'children\',\n  expandTrigger:\'hover\'\n},\n//绑定用户选择的分类值\nselectedKeys:[]\n.....\nmethods:{\n  .....\n  parentCateChange(){\n    //级联菜单中选择项发生变化时触发\n    console.log(this.selectedKeys)\n    //如果用户选择了父级分类\n    if(this.selectedKeys.length > 0){\n      //则将数组中的最后一项设置为父级分类\n      this.addCateForm.cat_pid = this.selectedKeys[this.selectedKeys.length - 1]\n      //level也要跟着发生变化\n      this.addCateForm.cat_level = this.selectedKeys.length\n      return\n    }else{\n      this.addCateForm.cat_pid = 0\n      this.addCateForm.cat_level = 0\n      return\n    }\n  },\n  addCateDialogClosed(){\n    //当关闭添加分类对话框时，重置表单\n    this.$refs.addCateFormRef.resetFields()\n    this.selectedKeys = [];\n    this.addCateForm.cat_pid = 0\n    this.addCateForm.cat_level = 0\n  },\n  addCate() {\n    //点击确定，完成添加分类\n    console.log(this.addCateForm)\n    this.$refs.addCateFormRef.validate(async valid => {\n      if (!valid) return\n      //发送请求完成添加分类\n      const { data: res } = await this.$http.post(\n        \'categories\',\n        this.addCateForm\n      )\n\n      if (res.meta.status !== 201) {\n        return this.$message.error(\'添加分类失败\')\n      }\n\n      this.$message.success(\'添加分类成功\')\n      this.getCateList()\n      this.addCateDialogVisible = false\n    })\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# 推送代码\n\n制作完添加分类之后，将代码提交到仓库，推送到码云,将goods_cate分支合并到master\n\ngit add .\ngit commit -m \'完成商品分类\'\ngit push\ngit checkout master\ngit merge goods_cate\n\n\n1\n2\n3\n4\n5\n\n\n\n# 参数管理\n\n只允许给三级分类内容设置参数，参数分为动态参数和静态参数属性\n\n# 添加子级组件\n\n添加Params.vue子组件，并在router.js中引入该组件并设置路由规则\n\nimport Params from \'./components/goods/Params.vue\'\n......\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 完成组件基本布局\n\n完成Params.vue组件的基本布局 其中警告提示信息使用了el-alert，在element.js引入该组件并注册\n\n<template>\n    <div>\n        <h3>分类参数</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>分类参数</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 警告区域 :closable="false"(是否展示“X”号) show-icon(显示图标) --\x3e\n            <el-alert title="注意：只允许为第三级分类设置相关参数" type="warning" :closable="false" show-icon>\n            </el-alert>\n\n            \x3c!-- 选择商品分类区域 --\x3e\n            <el-row class="cat_opt">\n                <el-col>\n                    <span>选择商品分类：</span>\n                    \x3c!-- 选择商品分类的级联选择框 --\x3e\n                </el-col>\n                <el-col></el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 完成级联选择框\n\n完成商品分类级联选择框\n\n\x3c!-- 选择商品分类区域 --\x3e\n<el-row class="cat_opt">\n    <el-col>\n        <span>选择商品分类：</span>\n        \x3c!-- 选择商品分类的级联选择框 --\x3e\n        <el-cascader expandTrigger=\'hover\' v-model="selectedCateKeys" :options="cateList" :props="cateProps" @change="handleChange" clearable></el-cascader>\n    </el-col>\n    <el-col></el-col>\n</el-row>\n......\n<script>\nexport default {\n  data() {\n    return {\n        //分类列表\n        cateList:[],\n        //用户在级联下拉菜单中选中的分类id\n        selectedCateKeys:[],\n        //配置级联菜单中数据如何展示\n        cateProps: {\n            value: \'cat_id\',\n            label: \'cat_name\',\n            children: \'children\'\n        }\n    }\n  },\n  created() {\n      this.getCateList()\n  },\n  methods: {\n      async getCateList(){\n        //获取所有的商品分类列表\n        const { data: res } = await this.$http.get(\'categories\')\n\n        if (res.meta.status !== 200) {\n            return this.$message.error(\'获取分类数据失败\')\n        }\n        //将数据列表赋值给cateList\n        this.cateList = res.data\n        // //保存总数据条数\n        // this.total = res.data.total\n        //   console.log(res.data);\n      },\n      handleChange(){\n        //当用户在级联菜单中选择内容改变时触发\n        console.log(this.selectedCateKeys);\n      }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n# 展示参数\n\n展示动态参数数据以及静态属性数据\n\n\x3c!-- tab页签区域 --\x3e\n<el-tabs v-model="activeName" @tab-click="handleTabClick">\n  \x3c!-- 添加动态参数的面板 将标签页改为many --\x3e\n  <el-tab-pane label="动态参数" name="many">\n    <el-button size="mini" type="primary" :disabled="isButtonDisabled">添加参数</el-button>\n    \x3c!-- 动态参数表格 --\x3e\n    <el-table :data="manyTableData" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="参数名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n  \x3c!-- 添加静态属性的面板 将标签页改为only --\x3e\n  <el-tab-pane label="静态属性" name="only">\n    <el-button size="mini" type="primary" :disabled="isButtonDisabled">添加属性</el-button>\n    \x3c!-- 静态属性表格 --\x3e\n    <el-table :data="onlyTableData" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="属性名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n\n</el-tabs>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      ......\n      //tab页签激活显示的页签项\n      activeName: \'many\',\n      //用来保存动态参数数据\n      manyTableData: [],\n      //用来保存静态属性数据\n      onlyTableData: []  \n    }\n  methods: {\n    .......\n    async handleChange() {\n      //当用户在级联菜单中选择内容改变时触发\n      console.log(this.selectedCateKeys)\n      //发送请求，根据用户选择的三级分类和面板获取参数数据\n      const { data: res } = await this.$http.get(\n        `categories/${this.cateId}/attributes`,\n        { params: { sel: this.activeName } }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数列表数据失败\')\n      }\n\n      console.log(res.data)\n      if (this.activeName === \'many\') {\n        //获取的是动态参数\n        this.manyTableData = res.data\n      } else if (this.activeName === \'only\') {\n        //获取的是静态属性\n        this.onlyTableData = res.data\n      }\n    },\n    handleTabClick() {\n      console.log(this.activeName)\n      this.handleChange()\n    }\n  },\n  computed: {\n    //添加计算属性用来获取按钮禁用与否\n    isButtonDisabled() {\n      return this.selectedCateKeys.length !== 3\n    },\n    //获取选中的三级分类id\n    cateId() {\n      if (this.selectedCateKeys.length === 3) {\n        return this.selectedCateKeys[this.selectedCateKeys.length - 1]\n      }\n      return null\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n# 添加参数\n\n完成添加参数或属性\n\n\x3c!-- 添加参数或属性对话框 --\x3e\n<el-dialog :title="\'添加\'+titleText" :visible.sync="addDialogVisible" width="50%" @close="addDialogClosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="addForm" :rules="addFormRules" ref="addFormRef" label-width="100px">\n    <el-form-item :label="titleText" prop="attr_name">\n      <el-input v-model="addForm.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="addDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="addParams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制添加参数.属性对话框的显示或隐藏\n      addDialogVisible: false,\n      //添加参数的表单数据对象\n      addForm: {\n        attr_name: \'\'\n      },\n      //添加表单验证规则\n      addFormRules: {\n        attr_name: [{ required: true, message: \'请输入名称\', trigger: \'blur\' }]\n      }\n    }\n  },methods: {\n    .......\n    addParams() {\n      //当用户点击对话框中的确定时，校验表单\n      this.$refs.addFormRef.validate(async valid => {\n        //校验不通过，return\n        if (!valid) return\n        //校验通过，发送请求完成添加参数或者属性\n        const { data: res } = this.$http.post(`categories/${this.cateId}/attributes`,\n          { \n            attr_name: this.addForm.attr_name, \n            attr_sel: this.activeName,\n            attr_vals: "a,b,c" \n          }\n        )\n\n        console.log(res)\n        if (res.meta.status !== 201) {\n          return this.$message.error(\'添加\' + this.titleText + \'数据失败\')\n        }\n        this.$message.success(\'添加\' + this.titleText + \'数据成功\')\n        this.addDialogVisible = false\n        this.getCateList()\n      })\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n# 编辑参数\n\n完成编辑参数或属性\n\n\x3c!-- 修改参数或属性对话框 --\x3e\n<el-dialog :title="\'修改\'+titleText" :visible.sync="editDialogVisible" width="50%" @close="editDialogClosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="editForm" :rules="editFormRules" ref="editFormRef" label-width="100px">\n    <el-form-item :label="titleText" prop="attr_name">\n      <el-input v-model="editForm.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="editDialogVisible = false">取 消</el-button>\n    <el-button type="primary" @click="editParams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制修改参数.属性对话框的显示或隐藏\n      editDialogVisible:false,\n      //修改参数.属性对话框中的表单\n      editForm:{\n        attr_name:\'\'\n      },\n      //修改表单的验证规则\n      editFormRules:{\n        attr_name:[\n          { required: true, message: \'请输入名称\', trigger: \'blur\' }\n        ]\n      }\n    }\n  },methods: {\n    .......\n    async showEditDialog(attr_id){\n      //发起请求获取需要修改的那个参数数据\n      const {data:res} = await this.$http.get(`categories/${this.cateId}/attributes/${attr_id}`,\n      {params:{ attr_sel:this.activeName }})\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数数据失败\')\n      }\n      this.editForm = res.data;\n      //显示修改参数.属性对话框\n      this.editDialogVisible = true;\n    },\n    editDialogClosed(){\n      //当关闭修改参数.属性对话框时\n      this.$refs.editFormRef.resetFields()\n    },\n    editParams(){\n      //验证表单\n      this.$refs.editFormRef.validate(async valid => {\n        if(!valid) return;\n\n        //发送请求完成修改\n        const {data:res} = await this.$http.put(`categories/${this.cateId}/attributes/${this.editForm.attr_id}`,\n        {attr_name:this.editForm.attr_name,attr_sel:this.activeName})\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取参数数据失败\')\n        }\n        this.$message.success(\'修改\' + this.titleText + \'数据成功\')\n        this.editDialogVisible = false\n        this.handleChange();\n      })\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n# 删除参数\n\n删除参数或属性\n\n给两个删除按钮添加事件\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removeParams(scope.row.attr_id)">删除</el-button>\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removeParams(scope.row.attr_id)">删除</el-button>\n\n添加对应的事件处理函数\nasync removeParams(attr_id){\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmResult = await this.$confirm(\n    \'请问是否要删除该\'+this.titleText,\n    \'删除提示\',\n    {\n      confirmButtonText: \'确认删除\',\n      cancelButtonText: \'取消\',\n      type: \'warning\'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmResult 为\'confirm\'\n  //如果用户点击取消, 则confirmResult获取的就是catch的错误消息\'cancel\'\n  if (confirmResult != \'confirm\') {\n    return this.$message.info(\'已经取消删除\')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`categories/${this.cateId}/attributes/${attr_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'删除参数数据失败\')\n  }\n  this.$message.success(\'删除\' + this.titleText + \'数据成功\')\n  this.handleChange()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',normalizedContent:'# ★今日目标\n\n 1. 完成商品分类\n\n 2. 完成参数管理\n\n\n# 商品分类\n\n# 创建子级路由\n\n创建categories子级路由组件并设置路由规则\n\nimport cate from \'./components/goods/cate.vue\'\n\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n    { path: "/welcome", component: welcome },\n    { path: "/users", component: users },\n    { path: "/rights", component: rights },\n    { path: "/roles", component: roles  },\n    { path: "/categories", component: cate  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 添加组件基本布局\n\n在cate.vue组件中添加面包屑导航以及卡片视图中的添加分类按钮\n\n<template>\n    <div>\n        <h3>商品分类</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>商品分类</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 添加分类按钮区域 --\x3e\n            <el-row>\n                <el-col>\n                    <el-button type="primary">添加分类</el-button>\n                </el-col>\n            </el-row>\n            \x3c!-- 分类表格  --\x3e\n\n            \x3c!-- 分页 --\x3e\n        </el-card>\n    </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n# 请求分类数据\n\n请求分类数据并将数据保存在data中\n\n<script>\nexport default {\n  data() {\n    return {\n      // 商品分类数据列表\n      catelist: [],\n      //查询分类数据的条件\n      queryinfo: {\n        type: 3,\n        pagenum: 1,\n        pagesize: 5\n      },\n      //保存总数据条数\n      total: 0\n    }\n  },\n  created() {\n    this.getcatelist()\n  },\n  methods: {\n    async getcatelist() {\n      //获取商品分类数据\n      const { data: res } = await this.$http.get(\'categories\', {\n        params: queryinfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取商品列表数据失败\')\n      }\n      //将数据列表赋值给catelist\n      this.catelist = res.data.result\n      //保存总数据条数\n      this.total = res.data.total\n      //   console.log(res.data);\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n# 使用插件展示数据\n\n使用第三方插件vue-table-with-tree-grid展示分类数据 1).在vue 控制台中点击依赖->安装依赖->运行依赖->输入vue-table-with-tree-gird->点击安装 2).打开main.js，导入vue-table-with-tree-grid\n\n    import treetable from \'vue-table-with-tree-grid\'\n    .....\n    vue.config.productiontip = false\n\n\n1\n2\n3\n\n\n//全局注册组件\nvue.component(\'tree-table\', treetable)\n\n\n1\n2\n\n\n3).使用组件展示分类数据\n\n\x3c!-- 分类表格\n:data(设置数据源) :columns(设置表格中列配置信息) :selection-type(是否有复选框)\n:expand-type(是否展开数据) show-index(是否设置索引列) index-text(设置索引列头)\nborder(是否添加纵向边框) :show-row-hover(是否鼠标悬停高亮) --\x3e\n<tree-table :data="catelist" :columns="columns" :selection-type="false"\n:expand-type="false" show-index index-text="#" border :show-row-hover="false">\n\n</tree-table>\n\n在数据中添加columns:\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'}\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 自定义数据列\n\n使用vue-table-with-tree-grid定义模板列并添加自定义列\n\n//先在columns中添加一个列\ncolumns: [\n    {label:\'分类名称\',prop:\'cat_name\'},\n    //type:\'template\'(将该列设置为模板列)，template:\'isok\'(设置该列模板的名称为isok)\n    {label:\'是否有效\',prop:\'\',type:\'template\',template:\'isok\'},\n    {label:\'排序\',prop:\'\',type:\'template\',template:\'order\'},\n    {label:\'操作\',prop:\'\',type:\'template\',template:\'opt\'}\n]\n\n\x3c!-- 是否有效区域， 设置对应的模板列： slot="isok"(与columns中设置的template一致) --\x3e\n<template slot="isok" slot-scope="scope">\n  <i class="el-icon-success" v-if="scope.row.cat_deleted === false" style="color:lightgreen"></i>\n  <i class="el-icon-error" v-else style="color:red"></i>\n</template>\n\x3c!-- 排序 --\x3e\n<template slot="order" slot-scope="scope">\n  <el-tag size="mini" v-if="scope.row.cat_level===0">一级</el-tag>\n  <el-tag size="mini" type="success" v-else-if="scope.row.cat_level===1">二级</el-tag>\n  <el-tag size="mini" type="warning" v-else>三级</el-tag>\n</template>\n\n\x3c!-- 操作 --\x3e\n<template slot="opt" slot-scope="scope">\n  <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n  <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button> \n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 完成分页功能\n\n\x3c!-- 分页 --\x3e\n<el-pagination @size-change="handlesizechange" @current-change="handlecurrentchange" :current-page="queryinfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryinfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n</el-pagination>\n\n//添加对应的事件函数\nmethods:{\n  .......\n  handlesizechange(newsize){\n    //当pagesize发生改变时触发\n    this.queryinfo.pagesize = newsize;\n    this.getcatelist();\n  },\n  handlecurrentchange(newpage){\n    //当pagenum发生改变时触发\n    this.queryinfo.pagenum = newpage;\n    this.getcatelist();\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 完成添加分类\n\n......\n\x3c!-- 添加分类按钮区域 --\x3e\n<el-row>\n  <el-col>\n    <el-button type="primary" @click="showaddcatedialog">添加分类</el-button>\n  </el-col>\n</el-row>\n......\n\x3c!-- 添加分类对话框 --\x3e\n<el-dialog title="添加分类" :visible.sync="addcatedialogvisible" width="50%"  @close="addcatedialogclosed">\n  \x3c!-- 添加分类表单 --\x3e\n  <el-form :model="addcateform" :rules="addcateformrules" ref="addcateformruleform" label-width="100px">\n    <el-form-item label="分类名称" prop="cat_name">\n      <el-input v-model="addcateform.cat_name"></el-input>\n    </el-form-item>\n    <el-form-item label="父级分类" prop="cat_pid">\n      \n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="addcatedialogvisible = false">取 消</el-button>\n    <el-button type="primary" @click="addcate">确 定</el-button>\n  </span>\n</el-dialog>\n\n\n//用来显示或隐藏添加分类对话框\naddcatedialogvisible: false,\n//添加分类的表单数据对象\naddcateform:{\n  //分类名称\n  cat_name:\'\',\n  //添加分类的父级id，0则表示父级为0.添加一级分类\n  cat_pid:0,\n  //添加分类的等级，0则表示添加一级分类\n  cat_level:0\n},\n//添加分类校验规则\naddcateformrules:{\n  //验证规则\n  cat_name:[ {required:true , message:\'请输入分类名称\',trigger:\'blur\'} ]\n},\n//保存1,2级父级分类的列表\nparentcatelist:[]\n.......\nshowaddcatedialog() {\n  //调用getparentcatelist获取分类列表\n  this.getparentcatelist()\n  //显示添加分类对话框\n  this.addcatedialogvisible = true\n},\nasync getparentcatelist(){\n  //获取父级分类数据列表\n  const { data: res } = await this.$http.get(\'categories\', {\n    params: {type:2}\n  })\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'获取商品分类列表数据失败\')\n  }\n  this.parentcatelist = res.data\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n# 显示父级分类\n\n先导入cascader组件，并注册 然后添加使用级联菜单组件：\n\n<el-form-item label="父级分类" prop="cat_pid">\n  \x3c!-- expandtrigger=\'hover\'(鼠标悬停触发级联) v-model(设置级联菜单绑定数据) :options(指定级联菜单数据源)  :props(用来配置数据显示的规则) \n  clearable(提供“x”号完成删除文本功能) change-on-select(是否可以选中任意一级的菜单) --\x3e\n  <el-cascader expandtrigger=\'hover\' v-model="selectedkeys" :options="parentcatelist" :props="cascaderprops" @change="parentcatechange" clearable change-on-select></el-cascader>\n</el-form-item>\n\n添加数据\n//配置级联菜单中数据如何展示\ncascaderprops:{\n  value:\'cat_id\',\n  label:\'cat_name\',\n  children:\'children\',\n  expandtrigger:\'hover\'\n},\n//绑定用户选择的分类值\nselectedkeys:[]\n.....\nmethods:{\n  .....\n  parentcatechange(){\n    //级联菜单中选择项发生变化时触发\n    console.log(this.selectedkeys)\n    //如果用户选择了父级分类\n    if(this.selectedkeys.length > 0){\n      //则将数组中的最后一项设置为父级分类\n      this.addcateform.cat_pid = this.selectedkeys[this.selectedkeys.length - 1]\n      //level也要跟着发生变化\n      this.addcateform.cat_level = this.selectedkeys.length\n      return\n    }else{\n      this.addcateform.cat_pid = 0\n      this.addcateform.cat_level = 0\n      return\n    }\n  },\n  addcatedialogclosed(){\n    //当关闭添加分类对话框时，重置表单\n    this.$refs.addcateformref.resetfields()\n    this.selectedkeys = [];\n    this.addcateform.cat_pid = 0\n    this.addcateform.cat_level = 0\n  },\n  addcate() {\n    //点击确定，完成添加分类\n    console.log(this.addcateform)\n    this.$refs.addcateformref.validate(async valid => {\n      if (!valid) return\n      //发送请求完成添加分类\n      const { data: res } = await this.$http.post(\n        \'categories\',\n        this.addcateform\n      )\n\n      if (res.meta.status !== 201) {\n        return this.$message.error(\'添加分类失败\')\n      }\n\n      this.$message.success(\'添加分类成功\')\n      this.getcatelist()\n      this.addcatedialogvisible = false\n    })\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n\n\n# 推送代码\n\n制作完添加分类之后，将代码提交到仓库，推送到码云,将goods_cate分支合并到master\n\ngit add .\ngit commit -m \'完成商品分类\'\ngit push\ngit checkout master\ngit merge goods_cate\n\n\n1\n2\n3\n4\n5\n\n\n\n# 参数管理\n\n只允许给三级分类内容设置参数，参数分为动态参数和静态参数属性\n\n# 添加子级组件\n\n添加params.vue子组件，并在router.js中引入该组件并设置路由规则\n\nimport params from \'./components/goods/params.vue\'\n......\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: welcome },\n  { path: "/users", component: users },\n  { path: "/rights", component: rights },\n  { path: "/roles", component: roles  },\n  { path: "/categories", component: cate  },\n  { path: "/params", component: params  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# 完成组件基本布局\n\n完成params.vue组件的基本布局 其中警告提示信息使用了el-alert，在element.js引入该组件并注册\n\n<template>\n    <div>\n        <h3>分类参数</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n            <el-breadcrumb-item>分类参数</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 警告区域 :closable="false"(是否展示“x”号) show-icon(显示图标) --\x3e\n            <el-alert title="注意：只允许为第三级分类设置相关参数" type="warning" :closable="false" show-icon>\n            </el-alert>\n\n            \x3c!-- 选择商品分类区域 --\x3e\n            <el-row class="cat_opt">\n                <el-col>\n                    <span>选择商品分类：</span>\n                    \x3c!-- 选择商品分类的级联选择框 --\x3e\n                </el-col>\n                <el-col></el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n# 完成级联选择框\n\n完成商品分类级联选择框\n\n\x3c!-- 选择商品分类区域 --\x3e\n<el-row class="cat_opt">\n    <el-col>\n        <span>选择商品分类：</span>\n        \x3c!-- 选择商品分类的级联选择框 --\x3e\n        <el-cascader expandtrigger=\'hover\' v-model="selectedcatekeys" :options="catelist" :props="cateprops" @change="handlechange" clearable></el-cascader>\n    </el-col>\n    <el-col></el-col>\n</el-row>\n......\n<script>\nexport default {\n  data() {\n    return {\n        //分类列表\n        catelist:[],\n        //用户在级联下拉菜单中选中的分类id\n        selectedcatekeys:[],\n        //配置级联菜单中数据如何展示\n        cateprops: {\n            value: \'cat_id\',\n            label: \'cat_name\',\n            children: \'children\'\n        }\n    }\n  },\n  created() {\n      this.getcatelist()\n  },\n  methods: {\n      async getcatelist(){\n        //获取所有的商品分类列表\n        const { data: res } = await this.$http.get(\'categories\')\n\n        if (res.meta.status !== 200) {\n            return this.$message.error(\'获取分类数据失败\')\n        }\n        //将数据列表赋值给catelist\n        this.catelist = res.data\n        // //保存总数据条数\n        // this.total = res.data.total\n        //   console.log(res.data);\n      },\n      handlechange(){\n        //当用户在级联菜单中选择内容改变时触发\n        console.log(this.selectedcatekeys);\n      }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\n# 展示参数\n\n展示动态参数数据以及静态属性数据\n\n\x3c!-- tab页签区域 --\x3e\n<el-tabs v-model="activename" @tab-click="handletabclick">\n  \x3c!-- 添加动态参数的面板 将标签页改为many --\x3e\n  <el-tab-pane label="动态参数" name="many">\n    <el-button size="mini" type="primary" :disabled="isbuttondisabled">添加参数</el-button>\n    \x3c!-- 动态参数表格 --\x3e\n    <el-table :data="manytabledata" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="参数名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n  \x3c!-- 添加静态属性的面板 将标签页改为only --\x3e\n  <el-tab-pane label="静态属性" name="only">\n    <el-button size="mini" type="primary" :disabled="isbuttondisabled">添加属性</el-button>\n    \x3c!-- 静态属性表格 --\x3e\n    <el-table :data="onlytabledata" border stripe>\n      \x3c!-- 展开行 --\x3e\n      <el-table-column type="expand"></el-table-column>\n      \x3c!-- 索引列 --\x3e\n      <el-table-column type="index"></el-table-column>\n      <el-table-column label="属性名称" prop="attr_name"></el-table-column>\n      <el-table-column label="操作">\n        <template slot-scope="scope">\n          <el-button size="mini" type="primary" icon="el-icon-edit">编辑</el-button>\n          <el-button size="mini" type="danger" icon="el-icon-delete">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-tab-pane>\n\n</el-tabs>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      ......\n      //tab页签激活显示的页签项\n      activename: \'many\',\n      //用来保存动态参数数据\n      manytabledata: [],\n      //用来保存静态属性数据\n      onlytabledata: []  \n    }\n  methods: {\n    .......\n    async handlechange() {\n      //当用户在级联菜单中选择内容改变时触发\n      console.log(this.selectedcatekeys)\n      //发送请求，根据用户选择的三级分类和面板获取参数数据\n      const { data: res } = await this.$http.get(\n        `categories/${this.cateid}/attributes`,\n        { params: { sel: this.activename } }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数列表数据失败\')\n      }\n\n      console.log(res.data)\n      if (this.activename === \'many\') {\n        //获取的是动态参数\n        this.manytabledata = res.data\n      } else if (this.activename === \'only\') {\n        //获取的是静态属性\n        this.onlytabledata = res.data\n      }\n    },\n    handletabclick() {\n      console.log(this.activename)\n      this.handlechange()\n    }\n  },\n  computed: {\n    //添加计算属性用来获取按钮禁用与否\n    isbuttondisabled() {\n      return this.selectedcatekeys.length !== 3\n    },\n    //获取选中的三级分类id\n    cateid() {\n      if (this.selectedcatekeys.length === 3) {\n        return this.selectedcatekeys[this.selectedcatekeys.length - 1]\n      }\n      return null\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n# 添加参数\n\n完成添加参数或属性\n\n\x3c!-- 添加参数或属性对话框 --\x3e\n<el-dialog :title="\'添加\'+titletext" :visible.sync="adddialogvisible" width="50%" @close="adddialogclosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="addform" :rules="addformrules" ref="addformref" label-width="100px">\n    <el-form-item :label="titletext" prop="attr_name">\n      <el-input v-model="addform.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="adddialogvisible = false">取 消</el-button>\n    <el-button type="primary" @click="addparams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制添加参数.属性对话框的显示或隐藏\n      adddialogvisible: false,\n      //添加参数的表单数据对象\n      addform: {\n        attr_name: \'\'\n      },\n      //添加表单验证规则\n      addformrules: {\n        attr_name: [{ required: true, message: \'请输入名称\', trigger: \'blur\' }]\n      }\n    }\n  },methods: {\n    .......\n    addparams() {\n      //当用户点击对话框中的确定时，校验表单\n      this.$refs.addformref.validate(async valid => {\n        //校验不通过，return\n        if (!valid) return\n        //校验通过，发送请求完成添加参数或者属性\n        const { data: res } = this.$http.post(`categories/${this.cateid}/attributes`,\n          { \n            attr_name: this.addform.attr_name, \n            attr_sel: this.activename,\n            attr_vals: "a,b,c" \n          }\n        )\n\n        console.log(res)\n        if (res.meta.status !== 201) {\n          return this.$message.error(\'添加\' + this.titletext + \'数据失败\')\n        }\n        this.$message.success(\'添加\' + this.titletext + \'数据成功\')\n        this.adddialogvisible = false\n        this.getcatelist()\n      })\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n# 编辑参数\n\n完成编辑参数或属性\n\n\x3c!-- 修改参数或属性对话框 --\x3e\n<el-dialog :title="\'修改\'+titletext" :visible.sync="editdialogvisible" width="50%" @close="editdialogclosed">\n  \x3c!-- 添加表单 --\x3e\n  <el-form :model="editform" :rules="editformrules" ref="editformref" label-width="100px">\n    <el-form-item :label="titletext" prop="attr_name">\n      <el-input v-model="editform.attr_name"></el-input>\n    </el-form-item>\n  </el-form>\n  <span slot="footer" class="dialog-footer">\n    <el-button @click="editdialogvisible = false">取 消</el-button>\n    <el-button type="primary" @click="editparams">确 定</el-button>\n  </span>\n</el-dialog>\n\nexport default {\n  data() {\n    return {\n      .......\n      //控制修改参数.属性对话框的显示或隐藏\n      editdialogvisible:false,\n      //修改参数.属性对话框中的表单\n      editform:{\n        attr_name:\'\'\n      },\n      //修改表单的验证规则\n      editformrules:{\n        attr_name:[\n          { required: true, message: \'请输入名称\', trigger: \'blur\' }\n        ]\n      }\n    }\n  },methods: {\n    .......\n    async showeditdialog(attr_id){\n      //发起请求获取需要修改的那个参数数据\n      const {data:res} = await this.$http.get(`categories/${this.cateid}/attributes/${attr_id}`,\n      {params:{ attr_sel:this.activename }})\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取参数数据失败\')\n      }\n      this.editform = res.data;\n      //显示修改参数.属性对话框\n      this.editdialogvisible = true;\n    },\n    editdialogclosed(){\n      //当关闭修改参数.属性对话框时\n      this.$refs.editformref.resetfields()\n    },\n    editparams(){\n      //验证表单\n      this.$refs.editformref.validate(async valid => {\n        if(!valid) return;\n\n        //发送请求完成修改\n        const {data:res} = await this.$http.put(`categories/${this.cateid}/attributes/${this.editform.attr_id}`,\n        {attr_name:this.editform.attr_name,attr_sel:this.activename})\n\n        if (res.meta.status !== 200) {\n          return this.$message.error(\'获取参数数据失败\')\n        }\n        this.$message.success(\'修改\' + this.titletext + \'数据成功\')\n        this.editdialogvisible = false\n        this.handlechange();\n      })\n    }\n  }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n# 删除参数\n\n删除参数或属性\n\n给两个删除按钮添加事件\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removeparams(scope.row.attr_id)">删除</el-button>\n<el-button size="mini" type="danger" icon="el-icon-delete" @click="removeparams(scope.row.attr_id)">删除</el-button>\n\n添加对应的事件处理函数\nasync removeparams(attr_id){\n  //根据id删除对应的参数或属性\n  //弹窗提示用户是否要删除\n  const confirmresult = await this.$confirm(\n    \'请问是否要删除该\'+this.titletext,\n    \'删除提示\',\n    {\n      confirmbuttontext: \'确认删除\',\n      cancelbuttontext: \'取消\',\n      type: \'warning\'\n    }\n  ).catch(err => err)\n  //如果用户点击确认，则confirmresult 为\'confirm\'\n  //如果用户点击取消, 则confirmresult获取的就是catch的错误消息\'cancel\'\n  if (confirmresult != \'confirm\') {\n    return this.$message.info(\'已经取消删除\')\n  }\n\n  //没有取消就是要删除，发送请求完成删除\n  const {data:res} = await this.$http.delete(`categories/${this.cateid}/attributes/${attr_id}`)\n\n  if (res.meta.status !== 200) {\n    return this.$message.error(\'删除参数数据失败\')\n  }\n  this.$message.success(\'删除\' + this.titletext + \'数据成功\')\n  this.handlechange()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day12 - 实战-6",frontmatter:{title:"VUE Study Day12 - 实战-6",date:"2021-2-23",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第12天 vue实战-完成数据展示"},{name:"keywords",content:"自学 vue 实战 电商平台 数据统计展示"},{name:"image",content:"https://www.yangxiaokang.com/previewPath"},{name:"twitter:title",content:"VUE Study Day12 - 实战-6"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/previewPath"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day12-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day12 - 实战-6"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/previewPath"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day12-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-23"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day12 - 实战-6"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/previewPath"}],feed:{enable:!0},permalink:"/article/vue/studyvueday12.html",description:""},regularPath:"/article/vue/day12-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day12-电商.md",key:"v-7248ae1d",path:"/article/vue/studyvueday12.html",headers:[{level:2,title:"今日目标★",slug:"今日目标★",normalizedTitle:"今日目标★",charIndex:2},{level:2,title:"添加商品",slug:"添加商品",normalizedTitle:"添加商品",charIndex:48},{level:2,title:"订单列表",slug:"订单列表",normalizedTitle:"订单列表",charIndex:26},{level:2,title:"数据统计",slug:"数据统计",normalizedTitle:"数据统计",charIndex:37}],headersStr:"今日目标★ 添加商品 订单列表 数据统计",content:'# 今日目标★\n\n 1. 完成商品添加\n 2. 完成订单列表\n 3. 完成数据统计展示\n\n\n# 添加商品\n\n# 完成图片上传\n\n使用upload组件完成图片上传 在element.js中引入upload组件，并注册 因为upload组件进行图片上传的时候并不是使用axios发送请求 所以，我们需要手动为上传图片的请求添加token，即为upload组件添加headers属性\n\n//在页面中添加upload组件，并设置对应的事件和属性\n<el-tab-pane label="商品图片" name="3">\n  \x3c!-- 商品图片上传\n  action:指定图片上传api接口\n  :on-preview ： 当点击图片时会触发该事件进行预览操作,处理图片预览\n  :on-remove : 当用户点击图片右上角的X号时触发执行\n  :on-success：当用户点击上传图片并成功上传时触发\n  list-type ：设置预览图片的方式\n  :headers ：设置上传图片的请求头 --\x3e\n  <el-upload :action="uploadURL" :on-preview="handlePreview" :on-remove="handleRemove" :on-success="handleSuccess" list-type="picture" :headers="headerObj">\n    <el-button size="small" type="primary">点击上传</el-button>\n  </el-upload>\n</el-tab-pane>\n//在el-card卡片视图下面添加对话框用来预览图片\n\x3c!-- 预览图片对话框 --\x3e\n<el-dialog title="图片预览" :visible.sync="previewVisible" width="50%">\n  <img :src="previewPath" class="previewImg" />\n</el-dialog>\n\n//在data中添加数据\ndata(){\n  return {\n    ......\n    //添加商品的表单数据对象\n    addForm: {\n      goods_name: \'\',\n      goods_price: 0,\n      goods_weight: 0,\n      goods_number: 0,\n      goods_cat: [],\n      //上传图片数组\n      pics: []\n    },\n    //上传图片的url地址\n    uploadURL: \'http://127.0.0.1:8888/api/private/v1/upload\',\n    //图片上传组件的headers请求头对象\n    headerObj: { Authorization: window.sessionStorage.getItem(\'token\') },\n    //保存预览图片的url地址\n    previewPath: \'\',\n    //控制预览图片对话框的显示和隐藏\n    previewVisible:false\n  }\n},\n//在methods中添加事件处理函数\nmethods:{\n  .......\n  handlePreview(file) {\n    //当用户点击图片进行预览时执行，处理图片预览\n    //形参file就是用户预览的那个文件\n    this.previewPath = file.response.data.url\n    //显示预览图片对话框\n    this.previewVisible = true\n  },\n  handleRemove(file) {\n    //当用户点击X号删除时执行\n    //形参file就是用户点击删除的文件\n    //获取用户点击删除的那个图片的临时路径\n    const filePath = file.response.data.tmp_path\n    //使用findIndex来查找符合条件的索引\n    const index = this.addForm.pics.findIndex(item => item.pic === filePath)\n    //移除索引对应的图片\n    this.addForm.pics.splice(index, 1)\n  },\n  handleSuccess(response) {\n    //当上传成功时触发执行\n    //形参response就是上传成功之后服务器返回的结果\n    //将服务器返回的临时路径保存到addForm表单的pics数组中\n    this.addForm.pics.push({ pic: response.data.tmp_path })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\n# 使用富文本插件\n\n想要使用富文本插件vue-quill-editor，就必须先从依赖安装该插件 引入并注册vue-quill-editor，打开main.js，编写如下代码\n\n//导入vue-quill-editor（富文本编辑器）\nimport VueQuillEditor from \'vue-quill-editor\'\n//导入vue-quill-editor的样式\nimport \'quill/dist/quill.core.css\'\nimport \'quill/dist/quill.snow.css\'\nimport \'quill/dist/quill.bubble.css\'\n......\n\n//全局注册富文本组件\nVue.use(VueQuillEditor)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n使用富文本插件vue-quill-editor\n\n\x3c!-- 富文本编辑器组件 --\x3e\n<el-tab-pane label="商品内容" name="4">\n  \x3c!-- 富文本编辑器组件 --\x3e\n  <quill-editor v-model="addForm.goods_introduce"></quill-editor>\n  \x3c!-- 添加商品按钮 --\x3e\n  <el-button type="primary" class="btnAdd">添加商品</el-button>\n</el-tab-pane>\n\n//在数据中添加goods_introduce\n//添加商品的表单数据对象\naddForm: {\n  goods_name: \'\',\n  goods_price: 0,\n  goods_weight: 0,\n  goods_number: 0,\n  goods_cat: [],\n  //上传图片数组\n  pics: [],\n  //商品的详情介绍\n  goods_introduce:\'\'\n}\n//在global.css样式中添加富文本编辑器的最小高度\n.ql-editor{\n    min-height: 300px;\n}\n//给添加商品按钮添加间距\n.btnAdd{\n  margin-top:15px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# 完成商品添加\n\n完成添加商品的操作 在添加商品之前，为了避免goods_cat数组转换字符串之后导致级联选择器报错，我们需要打开vue控制条，点击依赖，安装lodash，把addForm进行深拷贝\n\n//打开Add.vue，导入lodash\n<script>\n//官方推荐将lodash导入为_\nimport _ from \'lodash\'\n\n//给添加商品按钮绑定点击事件\n\x3c!-- 添加商品按钮 --\x3e\n<el-button type="primary" class="btnAdd" @click="add">添加商品</el-button>\n//编写点击事件完成商品添加\nadd(){\n  this.$refs.addFormRef.validate(async valid=>{\n    if(!valid) return this.$message.error("请填写必要的表单项!")\n\n    //将addForm进行深拷贝，避免goods_cat数组转换字符串之后导致级联选择器报错\n    const form = _.cloneDeep(this.addForm)\n    //将goods_cat从数组转换为"1,2,3"字符串形式\n    form.goods_cat = form.goods_cat.join(",")\n    //处理attrs数组，数组中需要包含商品的动态参数和静态属性\n    //将manyTableData（动态参数）处理添加到attrs\n    this.manyTableData.forEach(item=>{\n      form.attrs.push({ attr_id:item.attr_id, attr_value:item.attr_vals.join(" ") }) \n    })\n    //将onlyTableData（静态属性）处理添加到attrs\n    this.onlyTableData.forEach(item=>{\n      form.attrs.push({ attr_id:item.attr_id, attr_value:item.attr_vals }) \n    })\n\n    //发送请求完成商品的添加,商品名称必须是唯一的\n    const {data:res} = await this.$http.post(\'goods\',form)\n    if(res.meta.status !== 201){\n      return this.$message.error(\'添加商品失败\')\n    }\n    this.$message.success(\'添加商品成功\')\n    //编程式导航跳转到商品列表\n    this.$router.push(\'/goods\')\n  })\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n推送代码\n\n推送goods_list分支到码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成商品功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将goods_list分支代码合并到master: git merge goods_list\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 订单列表\n\n创建分支\n\n创建order子分支并推送到码云\n创建order子分支: git checkout -b order\n将order分支推送到码云： git push -u origin order\n\n\n1\n2\n3\n\n\n# 创建路由\n\n创建订单列表路由组件并添加路由规则\n\n//在components中新建order文件夹，新建Order.vue组件，组件中添加代码如下\n<template>\n    <div>\n        <h3>订单列表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>订单管理</el-breadcrumb-item>\n            <el-breadcrumb-item>订单列表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 搜索栏 --\x3e\n            <el-row :gutter="20">\n                <el-col :span="8">\n                    <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable>\n                        <el-button slot="append" icon="el-icon-search" ></el-button>\n                    </el-input>\n                </el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n        //查询条件\n        queryInfo:{\n            query:\'\',\n            pagenum:1,\n            pagesize:10\n        }\n    }\n  },\n  created() {\n      \n  },\n  methods: {\n      \n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n\n</style>\n\n//打开router.js导入Order.vue并添加规则\nimport Order from \'./components/order/Order.vue\'\n\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  },\n  { path: "/goods/add", component: GoodAdd  },\n  { path: "/orders", component: Order  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n# 实现数据展示及分页\n\n\x3c!-- 卡片视图区域 --\x3e\n<el-card>\n    \x3c!-- 搜索栏 --\x3e\n    <el-row :gutter="20">\n        <el-col :span="8">\n            <el-input placeholder="请输入内容" v-model="queryInfo.query" clearable>\n                <el-button slot="append" icon="el-icon-search"></el-button>\n            </el-input>\n        </el-col>\n    </el-row>\n\n    \x3c!-- 订单表格 --\x3e\n    <el-table :data="orderList" border stripe>\n        <el-table-column type="index"></el-table-column>\n        <el-table-column label="订单编号" prop="order_number"></el-table-column>\n        <el-table-column label="订单价格" prop="order_price"></el-table-column>\n        <el-table-column label="是否付款" prop="pay_status">\n            <template slot-scope="scope">\n                <el-tag type="success" v-if="scope.row.pay_status === \'1\'">已付款</el-tag>\n                <el-tag type="danger" v-else>未付款</el-tag>\n            </template>\n        </el-table-column>\n        <el-table-column label="是否发货" prop="is_send"></el-table-column>\n        <el-table-column label="下单时间" prop="create_time">\n            <template slot-scope="scope">\n                {{scope.row.create_time | dateFormat}}\n            </template>\n        </el-table-column>\n        <el-table-column label="操作" width="125px">\n            <template slot-scope="scope">\n                <el-button size="mini" type="primary" icon="el-icon-edit"></el-button>\n                <el-button size="mini" type="success" icon="el-icon-location"></el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n\n    \x3c!-- 分页 --\x3e\n    <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange" :current-page="queryInfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryInfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n    </el-pagination>\n</el-card>\n\n<script>\nexport default {\n  data() {\n    return {\n      //查询条件\n      queryInfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 10\n      },\n      //订单列表数据\n      orderList: [],\n      //数据总条数\n      total: 0\n    }\n  },\n  created() {\n    this.getOrderList()\n  },\n  methods: {\n    async getOrderList() {\n      const { data: res } = await this.$http.get(\'orders\', {\n        params: this.queryInfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取订单列表数据失败!\')\n      }\n\n      this.total = res.data.total\n      this.orderList = res.data.goods\n    },\n    handleSizeChange(newSize){\n        this.queryInfo.pagesize = newSize\n        this.getOrderList()\n    },\n    handleCurrentChange(newPage){\n        this.queryInfo.pagenum = newPage\n        this.getOrderList()\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n\n\n# 制作省市区县联动\n\n打开今天的资料，找到素材文件夹，复制citydata.js文件到components/order文件夹中 然后导入citydata.js文件\n\n<script>\n  import cityData from "./citydata.js"\n<\/script>\n\n\n1\n2\n3\n\n\n具体代码如下：\n\n//给修改地址按钮添加点击事件\n<el-button size="mini" type="primary" icon="el-icon-edit" @click="showEditAddress"></el-button>\n//添加修改地址对话框,在卡片视图下方添加\n\x3c!-- 修改地址对话框 --\x3e\n<el-dialog title="修改收货地址" :visible.sync="addressVisible" width="50%" @close="addressDialogClosed">\n    \x3c!-- 添加表单 --\x3e\n    <el-form :model="addressForm" :rules="addressFormRules" ref="addressFormRef" label-width="100px">\n        <el-form-item label="省市区县" prop="address1">\n            <el-cascader :options="cityData" v-model="addressForm.address1"></el-cascader>\n        </el-form-item>\n        <el-form-item label="详细地址" prop="address2">\n            <el-input v-model="addressForm.address2"></el-input>\n        </el-form-item>\n    </el-form>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="addressVisible = false">取 消</el-button>\n        <el-button type="primary" @click="addressVisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n//js部分的代码\n<script>\nimport cityData from "./citydata.js"\nexport default {\n  data() {\n    return {\n      ......\n      //控制修改地址对话框的显示和隐藏\n      addressVisible:false,\n      //修改收货地址的表单\n      addressForm:{\n          address1:[],\n          address2:\'\'\n      },\n      addressFormRules:{\n          address1:[{ required: true, message: \'请选择省市区县\', trigger: \'blur\' }],\n          address2:[{ required: true, message: \'请输入详细地址\', trigger: \'blur\' }],\n      },\n      //将导入的cityData数据保存起来\n      cityData:cityData\n      }\n  },methods: {\n    ......\n    showEditAddress() {\n      //当用户点击修改收货地址按钮时触发\n      this.addressVisible = true;\n    },\n    addressDialogClosed(){\n        this.$refs.addressFormRef.resetFields()\n    }\n  }\n}\n<\/script>\n<style lang="less" scoped>\n.el-cascader{\n    width: 100%;\n}\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n# 制作物流进度对话框\n\n因为我们使用的是element-ui中提供的Timeline组件，所以需要导入并注册组件 打开element.js,编写代码会进行导入和注册\n\nimport {\n    Timeline,TimelineItem\n} from \'element-ui\'\n\nVue.use(Timeline)\nVue.use(TimelineItem)\n\n\n1\n2\n3\n4\n5\n6\n\n\n打开Order.vue文件，添加代码实现物流进度对话框\n\n\x3c!-- 物流信息进度对话框 --\x3e\n<el-dialog title="物流进度" :visible.sync="progressVisible" width="50%">\n    \x3c!-- 时间线组件  --\x3e\n    <el-timeline>\n        <el-timeline-item v-for="(activity, index) in progressInfo" \n        :key="index" :timestamp="activity.time">\n            {{activity.context}}\n        </el-timeline-item>\n    </el-timeline>\n</el-dialog>\n\n<script>\nimport cityData from \'./citydata.js\'\nexport default {\n  data() {\n    return {\n      ......\n      //控制物流进度对话框的显示和隐藏\n      progressVisible: false,\n      //保存物流信息\n      progressInfo: []\n      }\n  },methods: {\n    ......\n    async showProgress() {\n      //发送请求获取物流数据\n      const { data: res } = await this.$http.get(\'/kuaidi/804909574412544580\')\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取物流进度失败!\')\n      }\n      this.progressInfo = res.data\n      //显示对话框\n      this.progressVisible = true\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n推送代码\n\n将order分支代码推送至码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成订单列表功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将goods_list分支代码合并到master: git merge order\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 数据统计\n\n创建子分支\n\n创建report子分支并推送到码云\n创建report子分支: git checkout -b report\n将report分支推送到码云： git push -u origin report\n\n\n1\n2\n3\n\n\n# 创建路由\n\n 1. 创建数据统计路由组件并添加路由规则\n\n//在components中新建report文件夹，新建Report.vue组件，组件中添加代码如下\n<template>\n    <div>\n        <h3>数据报表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>数据统计</el-breadcrumb-item>\n            <el-breadcrumb-item>数据报表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card></el-card>\n    </div>\n</template>\n    \n<script>\nexport default {\n  data() {\n    return {\n\n    }\n  },created(){\n\n  },methods:{\n\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n 2. 打开router.js，导入Report.vue并设置路由规则\n\nimport Report from \'./components/report/Report.vue\'\npath: \'/home\', component: Home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: Welcome },\n  { path: "/users", component: Users },\n  { path: "/rights", component: Rights },\n  { path: "/roles", component: Roles  },\n  { path: "/categories", component: Cate  },\n  { path: "/params", component: Params  },\n  { path: "/goods", component: GoodList  },\n  { path: "/goods/add", component: GoodAdd  },\n  { path: "/orders", component: Order  },\n  { path: "/reports", component: Report  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 导入ECharts并使用\n\n<template>\n    <div>\n        <h3>数据报表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>数据统计</el-breadcrumb-item>\n            <el-breadcrumb-item>数据报表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            <div id="main" style="width:750px;height:400px;"></div>\n        </el-card>\n    </div>\n</template>\n    \n<script>\n//导入echarts\nimport echarts from \'echarts\'\n//导入lodash\nimport _ from \'lodash\'\nexport default {\n  data() {\n    return {\n      //需要跟请求的折线图数据合并的options\n      options: {\n        title: {\n          text: \'用户来源\'\n        },\n        tooltip: {\n          trigger: \'axis\',\n          axisPointer: {\n            type: \'cross\',\n            label: {\n              backgroundColor: \'#E9EEF3\'\n            }\n          }\n        },\n        grid: {\n          left: \'3%\',\n          right: \'4%\',\n          bottom: \'3%\',\n          containLabel: true\n        },\n        xAxis: [\n          {\n            boundaryGap: false\n          }\n        ],\n        yAxis: [\n          {\n            type: \'value\'\n          }\n        ]\n      }\n    }\n  },\n  created() {},\n  async mounted() {\n    //在页面dom元素加载完毕之后执行的钩子函数mounted\n    // 基于准备好的dom，初始化echarts实例\n    var myChart = echarts.init(document.getElementById(\'main\'))\n    //准备数据和配置项\n    //发送请求获取折线图数据\n    const { data: res } = await this.$http.get(\'reports/type/1\')\n\n    if (res.meta.status !== 200) {\n      return this.$message.error(\'获取折线图数据失败\')\n    }\n\n    //合并res.data和this.options\n    const result = _.merge(res.data,this.options)\n\n    // 使用获取的数据展示图表\n    myChart.setOption(result)\n  },\n  methods: {}\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n\n\n推送代码\n\n推送report分支到码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成数据报表功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将report分支代码合并到master: git merge report\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n',normalizedContent:'# 今日目标★\n\n 1. 完成商品添加\n 2. 完成订单列表\n 3. 完成数据统计展示\n\n\n# 添加商品\n\n# 完成图片上传\n\n使用upload组件完成图片上传 在element.js中引入upload组件，并注册 因为upload组件进行图片上传的时候并不是使用axios发送请求 所以，我们需要手动为上传图片的请求添加token，即为upload组件添加headers属性\n\n//在页面中添加upload组件，并设置对应的事件和属性\n<el-tab-pane label="商品图片" name="3">\n  \x3c!-- 商品图片上传\n  action:指定图片上传api接口\n  :on-preview ： 当点击图片时会触发该事件进行预览操作,处理图片预览\n  :on-remove : 当用户点击图片右上角的x号时触发执行\n  :on-success：当用户点击上传图片并成功上传时触发\n  list-type ：设置预览图片的方式\n  :headers ：设置上传图片的请求头 --\x3e\n  <el-upload :action="uploadurl" :on-preview="handlepreview" :on-remove="handleremove" :on-success="handlesuccess" list-type="picture" :headers="headerobj">\n    <el-button size="small" type="primary">点击上传</el-button>\n  </el-upload>\n</el-tab-pane>\n//在el-card卡片视图下面添加对话框用来预览图片\n\x3c!-- 预览图片对话框 --\x3e\n<el-dialog title="图片预览" :visible.sync="previewvisible" width="50%">\n  <img :src="previewpath" class="previewimg" />\n</el-dialog>\n\n//在data中添加数据\ndata(){\n  return {\n    ......\n    //添加商品的表单数据对象\n    addform: {\n      goods_name: \'\',\n      goods_price: 0,\n      goods_weight: 0,\n      goods_number: 0,\n      goods_cat: [],\n      //上传图片数组\n      pics: []\n    },\n    //上传图片的url地址\n    uploadurl: \'http://127.0.0.1:8888/api/private/v1/upload\',\n    //图片上传组件的headers请求头对象\n    headerobj: { authorization: window.sessionstorage.getitem(\'token\') },\n    //保存预览图片的url地址\n    previewpath: \'\',\n    //控制预览图片对话框的显示和隐藏\n    previewvisible:false\n  }\n},\n//在methods中添加事件处理函数\nmethods:{\n  .......\n  handlepreview(file) {\n    //当用户点击图片进行预览时执行，处理图片预览\n    //形参file就是用户预览的那个文件\n    this.previewpath = file.response.data.url\n    //显示预览图片对话框\n    this.previewvisible = true\n  },\n  handleremove(file) {\n    //当用户点击x号删除时执行\n    //形参file就是用户点击删除的文件\n    //获取用户点击删除的那个图片的临时路径\n    const filepath = file.response.data.tmp_path\n    //使用findindex来查找符合条件的索引\n    const index = this.addform.pics.findindex(item => item.pic === filepath)\n    //移除索引对应的图片\n    this.addform.pics.splice(index, 1)\n  },\n  handlesuccess(response) {\n    //当上传成功时触发执行\n    //形参response就是上传成功之后服务器返回的结果\n    //将服务器返回的临时路径保存到addform表单的pics数组中\n    this.addform.pics.push({ pic: response.data.tmp_path })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n\n\n# 使用富文本插件\n\n想要使用富文本插件vue-quill-editor，就必须先从依赖安装该插件 引入并注册vue-quill-editor，打开main.js，编写如下代码\n\n//导入vue-quill-editor（富文本编辑器）\nimport vuequilleditor from \'vue-quill-editor\'\n//导入vue-quill-editor的样式\nimport \'quill/dist/quill.core.css\'\nimport \'quill/dist/quill.snow.css\'\nimport \'quill/dist/quill.bubble.css\'\n......\n\n//全局注册富文本组件\nvue.use(vuequilleditor)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n使用富文本插件vue-quill-editor\n\n\x3c!-- 富文本编辑器组件 --\x3e\n<el-tab-pane label="商品内容" name="4">\n  \x3c!-- 富文本编辑器组件 --\x3e\n  <quill-editor v-model="addform.goods_introduce"></quill-editor>\n  \x3c!-- 添加商品按钮 --\x3e\n  <el-button type="primary" class="btnadd">添加商品</el-button>\n</el-tab-pane>\n\n//在数据中添加goods_introduce\n//添加商品的表单数据对象\naddform: {\n  goods_name: \'\',\n  goods_price: 0,\n  goods_weight: 0,\n  goods_number: 0,\n  goods_cat: [],\n  //上传图片数组\n  pics: [],\n  //商品的详情介绍\n  goods_introduce:\'\'\n}\n//在global.css样式中添加富文本编辑器的最小高度\n.ql-editor{\n    min-height: 300px;\n}\n//给添加商品按钮添加间距\n.btnadd{\n  margin-top:15px;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n# 完成商品添加\n\n完成添加商品的操作 在添加商品之前，为了避免goods_cat数组转换字符串之后导致级联选择器报错，我们需要打开vue控制条，点击依赖，安装lodash，把addform进行深拷贝\n\n//打开add.vue，导入lodash\n<script>\n//官方推荐将lodash导入为_\nimport _ from \'lodash\'\n\n//给添加商品按钮绑定点击事件\n\x3c!-- 添加商品按钮 --\x3e\n<el-button type="primary" class="btnadd" @click="add">添加商品</el-button>\n//编写点击事件完成商品添加\nadd(){\n  this.$refs.addformref.validate(async valid=>{\n    if(!valid) return this.$message.error("请填写必要的表单项!")\n\n    //将addform进行深拷贝，避免goods_cat数组转换字符串之后导致级联选择器报错\n    const form = _.clonedeep(this.addform)\n    //将goods_cat从数组转换为"1,2,3"字符串形式\n    form.goods_cat = form.goods_cat.join(",")\n    //处理attrs数组，数组中需要包含商品的动态参数和静态属性\n    //将manytabledata（动态参数）处理添加到attrs\n    this.manytabledata.foreach(item=>{\n      form.attrs.push({ attr_id:item.attr_id, attr_value:item.attr_vals.join(" ") }) \n    })\n    //将onlytabledata（静态属性）处理添加到attrs\n    this.onlytabledata.foreach(item=>{\n      form.attrs.push({ attr_id:item.attr_id, attr_value:item.attr_vals }) \n    })\n\n    //发送请求完成商品的添加,商品名称必须是唯一的\n    const {data:res} = await this.$http.post(\'goods\',form)\n    if(res.meta.status !== 201){\n      return this.$message.error(\'添加商品失败\')\n    }\n    this.$message.success(\'添加商品成功\')\n    //编程式导航跳转到商品列表\n    this.$router.push(\'/goods\')\n  })\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n推送代码\n\n推送goods_list分支到码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成商品功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将goods_list分支代码合并到master: git merge goods_list\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 订单列表\n\n创建分支\n\n创建order子分支并推送到码云\n创建order子分支: git checkout -b order\n将order分支推送到码云： git push -u origin order\n\n\n1\n2\n3\n\n\n# 创建路由\n\n创建订单列表路由组件并添加路由规则\n\n//在components中新建order文件夹，新建order.vue组件，组件中添加代码如下\n<template>\n    <div>\n        <h3>订单列表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>订单管理</el-breadcrumb-item>\n            <el-breadcrumb-item>订单列表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            \x3c!-- 搜索栏 --\x3e\n            <el-row :gutter="20">\n                <el-col :span="8">\n                    <el-input placeholder="请输入内容" v-model="queryinfo.query" clearable>\n                        <el-button slot="append" icon="el-icon-search" ></el-button>\n                    </el-input>\n                </el-col>\n            </el-row>\n        </el-card>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n        //查询条件\n        queryinfo:{\n            query:\'\',\n            pagenum:1,\n            pagesize:10\n        }\n    }\n  },\n  created() {\n      \n  },\n  methods: {\n      \n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n\n</style>\n\n//打开router.js导入order.vue并添加规则\nimport order from \'./components/order/order.vue\'\n\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: welcome },\n  { path: "/users", component: users },\n  { path: "/rights", component: rights },\n  { path: "/roles", component: roles  },\n  { path: "/categories", component: cate  },\n  { path: "/params", component: params  },\n  { path: "/goods", component: goodlist  },\n  { path: "/goods/add", component: goodadd  },\n  { path: "/orders", component: order  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n\n\n# 实现数据展示及分页\n\n\x3c!-- 卡片视图区域 --\x3e\n<el-card>\n    \x3c!-- 搜索栏 --\x3e\n    <el-row :gutter="20">\n        <el-col :span="8">\n            <el-input placeholder="请输入内容" v-model="queryinfo.query" clearable>\n                <el-button slot="append" icon="el-icon-search"></el-button>\n            </el-input>\n        </el-col>\n    </el-row>\n\n    \x3c!-- 订单表格 --\x3e\n    <el-table :data="orderlist" border stripe>\n        <el-table-column type="index"></el-table-column>\n        <el-table-column label="订单编号" prop="order_number"></el-table-column>\n        <el-table-column label="订单价格" prop="order_price"></el-table-column>\n        <el-table-column label="是否付款" prop="pay_status">\n            <template slot-scope="scope">\n                <el-tag type="success" v-if="scope.row.pay_status === \'1\'">已付款</el-tag>\n                <el-tag type="danger" v-else>未付款</el-tag>\n            </template>\n        </el-table-column>\n        <el-table-column label="是否发货" prop="is_send"></el-table-column>\n        <el-table-column label="下单时间" prop="create_time">\n            <template slot-scope="scope">\n                {{scope.row.create_time | dateformat}}\n            </template>\n        </el-table-column>\n        <el-table-column label="操作" width="125px">\n            <template slot-scope="scope">\n                <el-button size="mini" type="primary" icon="el-icon-edit"></el-button>\n                <el-button size="mini" type="success" icon="el-icon-location"></el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n\n    \x3c!-- 分页 --\x3e\n    <el-pagination @size-change="handlesizechange" @current-change="handlecurrentchange" :current-page="queryinfo.pagenum" :page-sizes="[3, 5, 10, 15]" :page-size="queryinfo.pagesize" layout="total, sizes, prev, pager, next, jumper" :total="total">\n    </el-pagination>\n</el-card>\n\n<script>\nexport default {\n  data() {\n    return {\n      //查询条件\n      queryinfo: {\n        query: \'\',\n        pagenum: 1,\n        pagesize: 10\n      },\n      //订单列表数据\n      orderlist: [],\n      //数据总条数\n      total: 0\n    }\n  },\n  created() {\n    this.getorderlist()\n  },\n  methods: {\n    async getorderlist() {\n      const { data: res } = await this.$http.get(\'orders\', {\n        params: this.queryinfo\n      })\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取订单列表数据失败!\')\n      }\n\n      this.total = res.data.total\n      this.orderlist = res.data.goods\n    },\n    handlesizechange(newsize){\n        this.queryinfo.pagesize = newsize\n        this.getorderlist()\n    },\n    handlecurrentchange(newpage){\n        this.queryinfo.pagenum = newpage\n        this.getorderlist()\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n\n\n# 制作省市区县联动\n\n打开今天的资料，找到素材文件夹，复制citydata.js文件到components/order文件夹中 然后导入citydata.js文件\n\n<script>\n  import citydata from "./citydata.js"\n<\/script>\n\n\n1\n2\n3\n\n\n具体代码如下：\n\n//给修改地址按钮添加点击事件\n<el-button size="mini" type="primary" icon="el-icon-edit" @click="showeditaddress"></el-button>\n//添加修改地址对话框,在卡片视图下方添加\n\x3c!-- 修改地址对话框 --\x3e\n<el-dialog title="修改收货地址" :visible.sync="addressvisible" width="50%" @close="addressdialogclosed">\n    \x3c!-- 添加表单 --\x3e\n    <el-form :model="addressform" :rules="addressformrules" ref="addressformref" label-width="100px">\n        <el-form-item label="省市区县" prop="address1">\n            <el-cascader :options="citydata" v-model="addressform.address1"></el-cascader>\n        </el-form-item>\n        <el-form-item label="详细地址" prop="address2">\n            <el-input v-model="addressform.address2"></el-input>\n        </el-form-item>\n    </el-form>\n    <span slot="footer" class="dialog-footer">\n        <el-button @click="addressvisible = false">取 消</el-button>\n        <el-button type="primary" @click="addressvisible = false">确 定</el-button>\n    </span>\n</el-dialog>\n\n//js部分的代码\n<script>\nimport citydata from "./citydata.js"\nexport default {\n  data() {\n    return {\n      ......\n      //控制修改地址对话框的显示和隐藏\n      addressvisible:false,\n      //修改收货地址的表单\n      addressform:{\n          address1:[],\n          address2:\'\'\n      },\n      addressformrules:{\n          address1:[{ required: true, message: \'请选择省市区县\', trigger: \'blur\' }],\n          address2:[{ required: true, message: \'请输入详细地址\', trigger: \'blur\' }],\n      },\n      //将导入的citydata数据保存起来\n      citydata:citydata\n      }\n  },methods: {\n    ......\n    showeditaddress() {\n      //当用户点击修改收货地址按钮时触发\n      this.addressvisible = true;\n    },\n    addressdialogclosed(){\n        this.$refs.addressformref.resetfields()\n    }\n  }\n}\n<\/script>\n<style lang="less" scoped>\n.el-cascader{\n    width: 100%;\n}\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n\n\n# 制作物流进度对话框\n\n因为我们使用的是element-ui中提供的timeline组件，所以需要导入并注册组件 打开element.js,编写代码会进行导入和注册\n\nimport {\n    timeline,timelineitem\n} from \'element-ui\'\n\nvue.use(timeline)\nvue.use(timelineitem)\n\n\n1\n2\n3\n4\n5\n6\n\n\n打开order.vue文件，添加代码实现物流进度对话框\n\n\x3c!-- 物流信息进度对话框 --\x3e\n<el-dialog title="物流进度" :visible.sync="progressvisible" width="50%">\n    \x3c!-- 时间线组件  --\x3e\n    <el-timeline>\n        <el-timeline-item v-for="(activity, index) in progressinfo" \n        :key="index" :timestamp="activity.time">\n            {{activity.context}}\n        </el-timeline-item>\n    </el-timeline>\n</el-dialog>\n\n<script>\nimport citydata from \'./citydata.js\'\nexport default {\n  data() {\n    return {\n      ......\n      //控制物流进度对话框的显示和隐藏\n      progressvisible: false,\n      //保存物流信息\n      progressinfo: []\n      }\n  },methods: {\n    ......\n    async showprogress() {\n      //发送请求获取物流数据\n      const { data: res } = await this.$http.get(\'/kuaidi/804909574412544580\')\n\n      if (res.meta.status !== 200) {\n        return this.$message.error(\'获取物流进度失败!\')\n      }\n      this.progressinfo = res.data\n      //显示对话框\n      this.progressvisible = true\n    }\n  }\n}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n推送代码\n\n将order分支代码推送至码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成订单列表功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将goods_list分支代码合并到master: git merge order\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 数据统计\n\n创建子分支\n\n创建report子分支并推送到码云\n创建report子分支: git checkout -b report\n将report分支推送到码云： git push -u origin report\n\n\n1\n2\n3\n\n\n# 创建路由\n\n 1. 创建数据统计路由组件并添加路由规则\n\n//在components中新建report文件夹，新建report.vue组件，组件中添加代码如下\n<template>\n    <div>\n        <h3>数据报表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>数据统计</el-breadcrumb-item>\n            <el-breadcrumb-item>数据报表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card></el-card>\n    </div>\n</template>\n    \n<script>\nexport default {\n  data() {\n    return {\n\n    }\n  },created(){\n\n  },methods:{\n\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n 2. 打开router.js，导入report.vue并设置路由规则\n\nimport report from \'./components/report/report.vue\'\npath: \'/home\', component: home, redirect: \'/welcome\', children: [\n  { path: "/welcome", component: welcome },\n  { path: "/users", component: users },\n  { path: "/rights", component: rights },\n  { path: "/roles", component: roles  },\n  { path: "/categories", component: cate  },\n  { path: "/params", component: params  },\n  { path: "/goods", component: goodlist  },\n  { path: "/goods/add", component: goodadd  },\n  { path: "/orders", component: order  },\n  { path: "/reports", component: report  }\n]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n# 导入echarts并使用\n\n<template>\n    <div>\n        <h3>数据报表</h3>\n        \x3c!-- 面包屑导航 --\x3e\n        <el-breadcrumb separator="/">\n            <el-breadcrumb-item :to="{ path: \'/home\' }">首页</el-breadcrumb-item>\n            <el-breadcrumb-item>数据统计</el-breadcrumb-item>\n            <el-breadcrumb-item>数据报表</el-breadcrumb-item>\n        </el-breadcrumb>\n        \x3c!-- 卡片视图区域 --\x3e\n        <el-card>\n            <div id="main" style="width:750px;height:400px;"></div>\n        </el-card>\n    </div>\n</template>\n    \n<script>\n//导入echarts\nimport echarts from \'echarts\'\n//导入lodash\nimport _ from \'lodash\'\nexport default {\n  data() {\n    return {\n      //需要跟请求的折线图数据合并的options\n      options: {\n        title: {\n          text: \'用户来源\'\n        },\n        tooltip: {\n          trigger: \'axis\',\n          axispointer: {\n            type: \'cross\',\n            label: {\n              backgroundcolor: \'#e9eef3\'\n            }\n          }\n        },\n        grid: {\n          left: \'3%\',\n          right: \'4%\',\n          bottom: \'3%\',\n          containlabel: true\n        },\n        xaxis: [\n          {\n            boundarygap: false\n          }\n        ],\n        yaxis: [\n          {\n            type: \'value\'\n          }\n        ]\n      }\n    }\n  },\n  created() {},\n  async mounted() {\n    //在页面dom元素加载完毕之后执行的钩子函数mounted\n    // 基于准备好的dom，初始化echarts实例\n    var mychart = echarts.init(document.getelementbyid(\'main\'))\n    //准备数据和配置项\n    //发送请求获取折线图数据\n    const { data: res } = await this.$http.get(\'reports/type/1\')\n\n    if (res.meta.status !== 200) {\n      return this.$message.error(\'获取折线图数据失败\')\n    }\n\n    //合并res.data和this.options\n    const result = _.merge(res.data,this.options)\n\n    // 使用获取的数据展示图表\n    mychart.setoption(result)\n  },\n  methods: {}\n}\n<\/script>\n\n<style lang="less" scoped>\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n\n\n推送代码\n\n推送report分支到码云\n将代码添加到暂存区：  git add .\n将代码提交到本地仓库： git commit -m "完成数据报表功能开发"\n将代码推送到码云：  git push\n切换到master主分支： git checkout master\n将report分支代码合并到master: git merge report\n将master推送到码云：  git push\n\n\n1\n2\n3\n4\n5\n6\n7\n',charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day13 - 实战-7",frontmatter:{title:"VUE Study Day13 - 实战-7",date:"2021-2-25",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第13天 vue实战-项目上线"},{name:"keywords",content:"自学 vue 实战 电商平台 上线"},{name:"twitter:title",content:"VUE Study Day13 - 实战-7"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day13-%E7%94%B5%E5%95%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day13 - 实战-7"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day13-%E7%94%B5%E5%95%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-25"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day13 - 实战-7"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday13.html",description:""},regularPath:"/article/vue/day13-%E7%94%B5%E5%95%86.html",relativePath:"article/vue/day13-电商.md",key:"v-13fad5c2",path:"/article/vue/studyvueday13.html",headers:[{level:2,title:"今日目标★",slug:"今日目标★",normalizedTitle:"今日目标★",charIndex:2},{level:2,title:"项目优化",slug:"项目优化",normalizedTitle:"项目优化",charIndex:15},{level:2,title:"项目上线",slug:"项目上线",normalizedTitle:"项目上线",charIndex:26}],headersStr:"今日目标★ 项目优化 项目上线",content:"# 今日目标★\n\n 1. 完成项目优化\n 2. 完成项目上线\n\n\n# 项目优化\n\n实现步骤： A.生成打包报告，根据报告优化项目 B.第三方库启用CDN C.Element-UI组件按需加载 D.路由懒加载 E.首页内容定制\n\n# 添加进度条\n\n给项目添加进度条效果，先打开项目控制台，打开依赖，安装nprogress 打开main.js，编写如下代码\n\n//导入进度条插件\nimport NProgress from 'nprogress'\n//导入进度条样式\nimport 'nprogress/nprogress.css'\n.....\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  NProgress.start()\n  //为请求头对象，添加token验证的Authorization字段\n  config.headers.Authorization = window.sessionStorage.getItem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  NProgress.done()\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# 根据报错修改代码\n\n根据ESLint的警告提示更改对应的代码 在.prettierrc文件中更改设置\"printWidth\":200, 将每行代码的文字数量更改为200\n\n{\n    \"semi\":false,\n    \"singleQuote\":true,\n    \"printWidth\":200\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 执行build\n\n安装一个插件（babel-plugin-transform-remove-console）在项目build阶段移除所有的console信息 打开项目控制台，点击依赖->开发依赖，输入babel-plugin-transform-remove-console，安装 打开babel.config.js，编辑代码如下：\n\n//项目发布阶段需要用到的babel插件\nconst productPlugins = []\n\n//判断是开发还是发布阶段\nif(process.env.NODE_ENV === 'production'){\n  //发布阶段\n  productPlugins.push(\"transform-remove-console\")\n}\n\nmodule.exports = {\n  \"presets\": [\n    \"@vue/app\"\n  ],\n  \"plugins\": [\n    [\n      \"component\",\n      {\n        \"libraryName\": \"element-ui\",\n        \"styleLibraryName\": \"theme-chalk\"\n      }\n    ],\n    ...productPlugins\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 生成打包报告\n\n 1. 命令行形式生成打包报告 vue-cli-service build --report\n 2. 在vue控制台生成打包报告 点击“任务”=>“build”=>“运行” 运行完毕之后点击右侧“分析”，“控制台”面板查看报告\n\n# 修改webpack的默认配置\n\n默认情况下，vue-cli 3.0生成的项目，隐藏了webpack配置项，如果我们需要配置webpack,需要通过vue.config.js来配置。 在项目根目录中创建vue.config.js文件，\n\nmodule.exports = {\n    chainWebpack:config=>{\n        //发布模式\n        config.when(process.env.NODE_ENV === 'production',config=>{\n            //entry找到默认的打包入口，调用clear则是删除默认的打包入口\n            //add添加新的打包入口\n            config.entry('app').clear().add('./src/main-prod.js')\n        })\n        //开发模式\n        config.when(process.env.NODE_ENV === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n补充： chainWebpack可以通过链式编程的形式，修改webpack配置 configureWebpack可以通过操作对象的形式，修改webpack配置\n\n# 加载外部CDN\n\n默认情况下，依赖项的所有第三方包都会被打包到js/chunk-vendors.******.js文件中，导致该js文件过大 那么我们可以通过externals排除这些包，使它们不被打包到js/chunk-vendors.******.js文件中\n\nmodule.exports = {\n    chainWebpack:config=>{\n        //发布模式\n        config.when(process.env.NODE_ENV === 'production',config=>{\n            //entry找到默认的打包入口，调用clear则是删除默认的打包入口\n            //add添加新的打包入口\n            config.entry('app').clear().add('./src/main-prod.js')\n\n            //使用externals设置排除项\n            config.set('externals',{\n                vue:'Vue',\n                'vue-router':'VueRouter',\n                axios:'axios',\n                lodash:'_',\n                echarts:'echarts',\n                nprogress:'NProgress',\n                'vue-quill-editor':'VueQuillEditor'\n            })\n        })\n        //开发模式\n        config.when(process.env.NODE_ENV === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n设置好排除之后，为了使我们可以使用vue，axios等内容，我们需要加载外部CDN的形式解决引入依赖项。 打开开发入口文件main-prod.js,删除掉默认的引入代码\n\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\n// import './plugins/element.js'\n//导入字体图标\nimport './assets/fonts/iconfont.css'\n//导入全局样式\nimport './assets/css/global.css'\n//导入第三方组件vue-table-with-tree-grid\nimport TreeTable from 'vue-table-with-tree-grid'\n//导入进度条插件\nimport NProgress from 'nprogress'\n//导入进度条样式\n// import 'nprogress/nprogress.css'\n// //导入axios\nimport axios from 'axios'\n// //导入vue-quill-editor（富文本编辑器）\nimport VueQuillEditor from 'vue-quill-editor'\n// //导入vue-quill-editor的样式\n// import 'quill/dist/quill.core.css'\n// import 'quill/dist/quill.snow.css'\n// import 'quill/dist/quill.bubble.css'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8888/api/private/v1/'\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  NProgress.start()\n  //为请求头对象，添加token验证的Authorization字段\n  config.headers.Authorization = window.sessionStorage.getItem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  NProgress.done()\n  return config\n})\nVue.prototype.$http = axios\n\nVue.config.productionTip = false\n\n//全局注册组件\nVue.component('tree-table', TreeTable)\n//全局注册富文本组件\nVue.use(VueQuillEditor)\n\n//创建过滤器将秒数过滤为年月日，时分秒\nVue.filter('dateFormat',function(originVal){\n  const dt = new Date(originVal)\n  const y = dt.getFullYear()\n  const m = (dt.getMonth()+1+'').padStart(2,'0')\n  const d = (dt.getDate()+'').padStart(2,'0')\n\n  const hh = (dt.getHours()+'').padStart(2,'0')\n  const mm = (dt.getMinutes()+'').padStart(2,'0')\n  const ss = (dt.getSeconds()+'').padStart(2,'0')\n\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n然后打开public/index.html添加外部cdn引入代码\n\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n    <link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\">\n    <title>电商后台管理系统</title>\n\n    \x3c!-- nprogress 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css\" />\n    \x3c!-- 富文本编辑器 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.core.min.css\" />\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.snow.min.css\" />\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.bubble.min.css\" />\n    \x3c!-- element-ui 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/element-ui/2.8.2/theme-chalk/index.css\" />\n\n    <script src=\"https://cdn.staticfile.org/vue/2.5.22/vue.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/vue-router/3.0.1/vue-router.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/axios/0.18.0/axios.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/lodash.js/4.17.11/lodash.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/echarts/4.1.0/echarts.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js\"><\/script>\n    \x3c!-- 富文本编辑器的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/quill/1.3.4/quill.min.js\"><\/script>\n    <script src=\"https://cdn.jsdelivr.net/npm/vue-quill-editor@3.0.4/dist/vue-quill-editor.js\"><\/script>\n\n    \x3c!-- element-ui 的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/element-ui/2.8.2/index.js\"><\/script>\n\n  </head>\n  <body>\n    <noscript>\n      <strong>We're sorry but vue_shop doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>\n    </noscript>\n    <div id=\"app\"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n# 定制首页内容\n\n开发环境的首页和发布环境的首页展示内容的形式有所不同 如开发环境中使用的是import加载第三方包，而发布环境则是使用CDN，那么首页也需根据环境不同来进行不同的实现 我们可以通过插件的方式来定制首页内容，打开vue.config.js，编写代码如下：\n\nmodule.exports = {\n    chainWebpack:config=>{\n        config.when(process.env.NODE_ENV === 'production',config=>{\n            ......\n            \n            //使用插件\n            config.plugin('html').tap(args=>{\n                //添加参数isProd\n                args[0].isProd = true\n                return args\n            })\n        })\n\n        config.when(process.env.NODE_ENV === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n\n            //使用插件\n            config.plugin('html').tap(args=>{\n                //添加参数isProd\n                args[0].isProd = false\n                return args\n            })\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n然后在public/index.html中使用插件判断是否为发布环境并定制首页内容\n\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n    <link rel=\"icon\" href=\"<%= BASE_URL %>favicon.ico\">\n    <title><%= htmlWebpackPlugin.options.isProd ? '' : 'dev - ' %>电商后台管理系统</title>\n\n    <% if(htmlWebpackPlugin.options.isProd){ %>\n    \x3c!-- nprogress 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css\" />\n    ........\n    \x3c!-- element-ui 的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/element-ui/2.8.2/index.js\"><\/script>\n    <% } %>\n  </head>\n  .......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 路由懒加载\n\n当路由被访问时才加载对应的路由文件，就是路由懒加载。 路由懒加载实现步骤：\n\n 1. 安装 @babel/plugin-syntax-dynamic-import 打开vue控制台，点击依赖->安装依赖->开发依赖->搜索@babel/plugin-syntax-dynamic-import点击安装。\n\n 2. 在babel.config.js中声明该插件，打开babel.config.js\n\n//项目发布阶段需要用到的babel插件\nconst productPlugins = []\n\n//判断是开发还是发布阶段\nif(process.env.NODE_ENV === 'production'){\n  //发布阶段\n  productPlugins.push(\"transform-remove-console\")\n}\n\nmodule.exports = {\n  \"presets\": [\n    \"@vue/app\"\n  ],\n  \"plugins\": [\n    [\n      \"component\",\n      {\n        \"libraryName\": \"element-ui\",\n        \"styleLibraryName\": \"theme-chalk\"\n      }\n    ],\n    ...productPlugins,\n    //配置路由懒加载插件\n    \"@babel/plugin-syntax-dynamic-import\"\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 3. 将路由更改为按需加载的形式，打开router.js，更改引入组件代码如下：\n\nimport Vue from 'vue'\nimport Router from 'vue-router'\nconst Login = () => import(/* webpackChunkName:\"login_home_welcome\" */ './components/Login.vue')\n// import Login from './components/Login.vue'\nconst Home = () => import(/* webpackChunkName:\"login_home_welcome\" */ './components/Home.vue')\n// import Home from './components/Home.vue'\nconst Welcome = () => import(/* webpackChunkName:\"login_home_welcome\" */ './components/Welcome.vue')\n// import Welcome from './components/Welcome.vue'\nconst Users = () => import(/* webpackChunkName:\"user\" */ './components/user/Users.vue')\n// import Users from './components/user/Users.vue'\nconst Rights = () => import(/* webpackChunkName:\"power\" */ './components/power/Rights.vue')\n// import Rights from './components/power/Rights.vue'\nconst Roles = () => import(/* webpackChunkName:\"power\" */ './components/power/Roles.vue')\n// import Roles from './components/power/Roles.vue'\nconst Cate = () => import(/* webpackChunkName:\"goods\" */ './components/goods/Cate.vue')\n// import Cate from './components/goods/Cate.vue'\nconst Params = () => import(/* webpackChunkName:\"goods\" */ './components/goods/Params.vue')\n// import Params from './components/goods/Params.vue'\nconst GoodList = () => import(/* webpackChunkName:\"goods\" */ './components/goods/List.vue')\n// import GoodList from './components/goods/List.vue'\nconst GoodAdd = () => import(/* webpackChunkName:\"goods\" */ './components/goods/Add.vue')\n// import GoodAdd from './components/goods/Add.vue'\nconst Order = () => import(/* webpackChunkName:\"order\" */ './components/order/Order.vue')\n// import Order from './components/order/Order.vue'\nconst Report = () => import(/* webpackChunkName:\"report\" */ './components/report/Report.vue')\n// import Report from './components/report/Report.vue'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 项目上线\n\n# 通过node创建服务器\n\n在vue_shop同级创建一个文件夹vue_shop_server存放node服务器 使用终端打开vue_shop_server文件夹，输入命令npm init -y 初始化包之后，输入命令npm i express -S 打开vue_shop目录，复制dist文件夹，粘贴到vue_shop_server中 在vue_shop_server文件夹中创建app.js文件,编写代码如下：\n\nconst express = require('express')\n\nconst app = express()\n\napp.use(express.static('./dist'))\n\napp.listen(8998,()=>{\n    console.log(\"server running at http://127.0.0.1:8998\")\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n然后再次在终端中输入 node app.js\n\n# 开启gzip压缩\n\n打开vue_shop_server文件夹的终端，输入命令：npm i compression -D 打开app.js,编写代码：\n\nconst express = require('express')\n\nconst compression = require('compression')\n\nconst app = express()\n\napp.use(compression())\napp.use(express.static('./dist'))\n\napp.listen(8998,()=>{\n    console.log(\"server running at http://127.0.0.1:8998\")\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 使用pm2管理应用\n\n打开vue_shop_server文件夹的终端，输入命令：npm i pm2 -g 使用pm2启动项目，在终端中输入命令：pm2 start app.js --name自定义名称\n\n查看项目列表命令：pm2 ls\n重启项目：pm2 restart 自定义名称\n停止项目：pm2 stop 自定义名称\n删除项目：pm2 delete 自定义名称\n\n\n1\n2\n3\n4\n",normalizedContent:"# 今日目标★\n\n 1. 完成项目优化\n 2. 完成项目上线\n\n\n# 项目优化\n\n实现步骤： a.生成打包报告，根据报告优化项目 b.第三方库启用cdn c.element-ui组件按需加载 d.路由懒加载 e.首页内容定制\n\n# 添加进度条\n\n给项目添加进度条效果，先打开项目控制台，打开依赖，安装nprogress 打开main.js，编写如下代码\n\n//导入进度条插件\nimport nprogress from 'nprogress'\n//导入进度条样式\nimport 'nprogress/nprogress.css'\n.....\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  nprogress.start()\n  //为请求头对象，添加token验证的authorization字段\n  config.headers.authorization = window.sessionstorage.getitem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  nprogress.done()\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n# 根据报错修改代码\n\n根据eslint的警告提示更改对应的代码 在.prettierrc文件中更改设置\"printwidth\":200, 将每行代码的文字数量更改为200\n\n{\n    \"semi\":false,\n    \"singlequote\":true,\n    \"printwidth\":200\n}\n\n\n1\n2\n3\n4\n5\n\n\n# 执行build\n\n安装一个插件（babel-plugin-transform-remove-console）在项目build阶段移除所有的console信息 打开项目控制台，点击依赖->开发依赖，输入babel-plugin-transform-remove-console，安装 打开babel.config.js，编辑代码如下：\n\n//项目发布阶段需要用到的babel插件\nconst productplugins = []\n\n//判断是开发还是发布阶段\nif(process.env.node_env === 'production'){\n  //发布阶段\n  productplugins.push(\"transform-remove-console\")\n}\n\nmodule.exports = {\n  \"presets\": [\n    \"@vue/app\"\n  ],\n  \"plugins\": [\n    [\n      \"component\",\n      {\n        \"libraryname\": \"element-ui\",\n        \"stylelibraryname\": \"theme-chalk\"\n      }\n    ],\n    ...productplugins\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n# 生成打包报告\n\n 1. 命令行形式生成打包报告 vue-cli-service build --report\n 2. 在vue控制台生成打包报告 点击“任务”=>“build”=>“运行” 运行完毕之后点击右侧“分析”，“控制台”面板查看报告\n\n# 修改webpack的默认配置\n\n默认情况下，vue-cli 3.0生成的项目，隐藏了webpack配置项，如果我们需要配置webpack,需要通过vue.config.js来配置。 在项目根目录中创建vue.config.js文件，\n\nmodule.exports = {\n    chainwebpack:config=>{\n        //发布模式\n        config.when(process.env.node_env === 'production',config=>{\n            //entry找到默认的打包入口，调用clear则是删除默认的打包入口\n            //add添加新的打包入口\n            config.entry('app').clear().add('./src/main-prod.js')\n        })\n        //开发模式\n        config.when(process.env.node_env === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n补充： chainwebpack可以通过链式编程的形式，修改webpack配置 configurewebpack可以通过操作对象的形式，修改webpack配置\n\n# 加载外部cdn\n\n默认情况下，依赖项的所有第三方包都会被打包到js/chunk-vendors.******.js文件中，导致该js文件过大 那么我们可以通过externals排除这些包，使它们不被打包到js/chunk-vendors.******.js文件中\n\nmodule.exports = {\n    chainwebpack:config=>{\n        //发布模式\n        config.when(process.env.node_env === 'production',config=>{\n            //entry找到默认的打包入口，调用clear则是删除默认的打包入口\n            //add添加新的打包入口\n            config.entry('app').clear().add('./src/main-prod.js')\n\n            //使用externals设置排除项\n            config.set('externals',{\n                vue:'vue',\n                'vue-router':'vuerouter',\n                axios:'axios',\n                lodash:'_',\n                echarts:'echarts',\n                nprogress:'nprogress',\n                'vue-quill-editor':'vuequilleditor'\n            })\n        })\n        //开发模式\n        config.when(process.env.node_env === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n设置好排除之后，为了使我们可以使用vue，axios等内容，我们需要加载外部cdn的形式解决引入依赖项。 打开开发入口文件main-prod.js,删除掉默认的引入代码\n\nimport vue from 'vue'\nimport app from './app.vue'\nimport router from './router'\n// import './plugins/element.js'\n//导入字体图标\nimport './assets/fonts/iconfont.css'\n//导入全局样式\nimport './assets/css/global.css'\n//导入第三方组件vue-table-with-tree-grid\nimport treetable from 'vue-table-with-tree-grid'\n//导入进度条插件\nimport nprogress from 'nprogress'\n//导入进度条样式\n// import 'nprogress/nprogress.css'\n// //导入axios\nimport axios from 'axios'\n// //导入vue-quill-editor（富文本编辑器）\nimport vuequilleditor from 'vue-quill-editor'\n// //导入vue-quill-editor的样式\n// import 'quill/dist/quill.core.css'\n// import 'quill/dist/quill.snow.css'\n// import 'quill/dist/quill.bubble.css'\n\naxios.defaults.baseurl = 'http://127.0.0.1:8888/api/private/v1/'\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  nprogress.start()\n  //为请求头对象，添加token验证的authorization字段\n  config.headers.authorization = window.sessionstorage.getitem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  nprogress.done()\n  return config\n})\nvue.prototype.$http = axios\n\nvue.config.productiontip = false\n\n//全局注册组件\nvue.component('tree-table', treetable)\n//全局注册富文本组件\nvue.use(vuequilleditor)\n\n//创建过滤器将秒数过滤为年月日，时分秒\nvue.filter('dateformat',function(originval){\n  const dt = new date(originval)\n  const y = dt.getfullyear()\n  const m = (dt.getmonth()+1+'').padstart(2,'0')\n  const d = (dt.getdate()+'').padstart(2,'0')\n\n  const hh = (dt.gethours()+'').padstart(2,'0')\n  const mm = (dt.getminutes()+'').padstart(2,'0')\n  const ss = (dt.getseconds()+'').padstart(2,'0')\n\n  return `${y}-${m}-${d} ${hh}:${mm}:${ss}`\n})\n\nnew vue({\n  router,\n  render: h => h(app)\n}).$mount('#app')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n\n\n然后打开public/index.html添加外部cdn引入代码\n\n<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n    <link rel=\"icon\" href=\"<%= base_url %>favicon.ico\">\n    <title>电商后台管理系统</title>\n\n    \x3c!-- nprogress 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css\" />\n    \x3c!-- 富文本编辑器 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.core.min.css\" />\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.snow.min.css\" />\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/quill/1.3.4/quill.bubble.min.css\" />\n    \x3c!-- element-ui 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/element-ui/2.8.2/theme-chalk/index.css\" />\n\n    <script src=\"https://cdn.staticfile.org/vue/2.5.22/vue.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/vue-router/3.0.1/vue-router.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/axios/0.18.0/axios.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/lodash.js/4.17.11/lodash.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/echarts/4.1.0/echarts.min.js\"><\/script>\n    <script src=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js\"><\/script>\n    \x3c!-- 富文本编辑器的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/quill/1.3.4/quill.min.js\"><\/script>\n    <script src=\"https://cdn.jsdelivr.net/npm/vue-quill-editor@3.0.4/dist/vue-quill-editor.js\"><\/script>\n\n    \x3c!-- element-ui 的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/element-ui/2.8.2/index.js\"><\/script>\n\n  </head>\n  <body>\n    <noscript>\n      <strong>we're sorry but vue_shop doesn't work properly without javascript enabled. please enable it to continue.</strong>\n    </noscript>\n    <div id=\"app\"></div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n# 定制首页内容\n\n开发环境的首页和发布环境的首页展示内容的形式有所不同 如开发环境中使用的是import加载第三方包，而发布环境则是使用cdn，那么首页也需根据环境不同来进行不同的实现 我们可以通过插件的方式来定制首页内容，打开vue.config.js，编写代码如下：\n\nmodule.exports = {\n    chainwebpack:config=>{\n        config.when(process.env.node_env === 'production',config=>{\n            ......\n            \n            //使用插件\n            config.plugin('html').tap(args=>{\n                //添加参数isprod\n                args[0].isprod = true\n                return args\n            })\n        })\n\n        config.when(process.env.node_env === 'development',config=>{\n            config.entry('app').clear().add('./src/main-dev.js')\n\n            //使用插件\n            config.plugin('html').tap(args=>{\n                //添加参数isprod\n                args[0].isprod = false\n                return args\n            })\n        })\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n然后在public/index.html中使用插件判断是否为发布环境并定制首页内容\n\n<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\">\n    <link rel=\"icon\" href=\"<%= base_url %>favicon.ico\">\n    <title><%= htmlwebpackplugin.options.isprod ? '' : 'dev - ' %>电商后台管理系统</title>\n\n    <% if(htmlwebpackplugin.options.isprod){ %>\n    \x3c!-- nprogress 的样式表文件 --\x3e\n    <link rel=\"stylesheet\" href=\"https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css\" />\n    ........\n    \x3c!-- element-ui 的 js 文件 --\x3e\n    <script src=\"https://cdn.staticfile.org/element-ui/2.8.2/index.js\"><\/script>\n    <% } %>\n  </head>\n  .......\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n# 路由懒加载\n\n当路由被访问时才加载对应的路由文件，就是路由懒加载。 路由懒加载实现步骤：\n\n 1. 安装 @babel/plugin-syntax-dynamic-import 打开vue控制台，点击依赖->安装依赖->开发依赖->搜索@babel/plugin-syntax-dynamic-import点击安装。\n\n 2. 在babel.config.js中声明该插件，打开babel.config.js\n\n//项目发布阶段需要用到的babel插件\nconst productplugins = []\n\n//判断是开发还是发布阶段\nif(process.env.node_env === 'production'){\n  //发布阶段\n  productplugins.push(\"transform-remove-console\")\n}\n\nmodule.exports = {\n  \"presets\": [\n    \"@vue/app\"\n  ],\n  \"plugins\": [\n    [\n      \"component\",\n      {\n        \"libraryname\": \"element-ui\",\n        \"stylelibraryname\": \"theme-chalk\"\n      }\n    ],\n    ...productplugins,\n    //配置路由懒加载插件\n    \"@babel/plugin-syntax-dynamic-import\"\n  ]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n 3. 将路由更改为按需加载的形式，打开router.js，更改引入组件代码如下：\n\nimport vue from 'vue'\nimport router from 'vue-router'\nconst login = () => import(/* webpackchunkname:\"login_home_welcome\" */ './components/login.vue')\n// import login from './components/login.vue'\nconst home = () => import(/* webpackchunkname:\"login_home_welcome\" */ './components/home.vue')\n// import home from './components/home.vue'\nconst welcome = () => import(/* webpackchunkname:\"login_home_welcome\" */ './components/welcome.vue')\n// import welcome from './components/welcome.vue'\nconst users = () => import(/* webpackchunkname:\"user\" */ './components/user/users.vue')\n// import users from './components/user/users.vue'\nconst rights = () => import(/* webpackchunkname:\"power\" */ './components/power/rights.vue')\n// import rights from './components/power/rights.vue'\nconst roles = () => import(/* webpackchunkname:\"power\" */ './components/power/roles.vue')\n// import roles from './components/power/roles.vue'\nconst cate = () => import(/* webpackchunkname:\"goods\" */ './components/goods/cate.vue')\n// import cate from './components/goods/cate.vue'\nconst params = () => import(/* webpackchunkname:\"goods\" */ './components/goods/params.vue')\n// import params from './components/goods/params.vue'\nconst goodlist = () => import(/* webpackchunkname:\"goods\" */ './components/goods/list.vue')\n// import goodlist from './components/goods/list.vue'\nconst goodadd = () => import(/* webpackchunkname:\"goods\" */ './components/goods/add.vue')\n// import goodadd from './components/goods/add.vue'\nconst order = () => import(/* webpackchunkname:\"order\" */ './components/order/order.vue')\n// import order from './components/order/order.vue'\nconst report = () => import(/* webpackchunkname:\"report\" */ './components/report/report.vue')\n// import report from './components/report/report.vue'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 项目上线\n\n# 通过node创建服务器\n\n在vue_shop同级创建一个文件夹vue_shop_server存放node服务器 使用终端打开vue_shop_server文件夹，输入命令npm init -y 初始化包之后，输入命令npm i express -s 打开vue_shop目录，复制dist文件夹，粘贴到vue_shop_server中 在vue_shop_server文件夹中创建app.js文件,编写代码如下：\n\nconst express = require('express')\n\nconst app = express()\n\napp.use(express.static('./dist'))\n\napp.listen(8998,()=>{\n    console.log(\"server running at http://127.0.0.1:8998\")\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n然后再次在终端中输入 node app.js\n\n# 开启gzip压缩\n\n打开vue_shop_server文件夹的终端，输入命令：npm i compression -d 打开app.js,编写代码：\n\nconst express = require('express')\n\nconst compression = require('compression')\n\nconst app = express()\n\napp.use(compression())\napp.use(express.static('./dist'))\n\napp.listen(8998,()=>{\n    console.log(\"server running at http://127.0.0.1:8998\")\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n# 使用pm2管理应用\n\n打开vue_shop_server文件夹的终端，输入命令：npm i pm2 -g 使用pm2启动项目，在终端中输入命令：pm2 start app.js --name自定义名称\n\n查看项目列表命令：pm2 ls\n重启项目：pm2 restart 自定义名称\n停止项目：pm2 stop 自定义名称\n删除项目：pm2 delete 自定义名称\n\n\n1\n2\n3\n4\n",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day14 - vuex",frontmatter:{title:"VUE Study Day14 - vuex",date:"2021-2-27",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第14天 vuex"},{name:"keywords",content:"自学 vue vuex 共享存储"},{name:"twitter:title",content:"VUE Study Day14 - vuex"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day14-vuex.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day14 - vuex"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day14-vuex.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-27"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day14 - vuex"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/studyvueday14.html",description:""},regularPath:"/article/vue/day14-vuex.html",relativePath:"article/vue/day14-vuex.md",key:"v-0db59754",path:"/article/vue/studyvueday14.html",headers:[{level:2,title:"state",slug:"state",normalizedTitle:"state",charIndex:2},{level:3,title:"定义",slug:"定义",normalizedTitle:"定义",charIndex:12},{level:3,title:"使用",slug:"使用",normalizedTitle:"使用",charIndex:253},{level:3,title:"全局调用",slug:"全局调用",normalizedTitle:"全局调用",charIndex:366},{level:3,title:"mapState(常用)",slug:"mapstate-常用",normalizedTitle:"mapstate(常用)",charIndex:917},{level:2,title:"getters",slug:"getters",normalizedTitle:"getters",charIndex:1856},{level:3,title:"getters语法",slug:"getters语法",normalizedTitle:"getters语法",charIndex:2081},{level:3,title:"访问getters",slug:"访问getters",normalizedTitle:"访问getters",charIndex:2532},{level:3,title:"mapGetters 辅助函数",slug:"mapgetters-辅助函数",normalizedTitle:"mapgetters 辅助函数",charIndex:3023},{level:2,title:"Mutations",slug:"mutations",normalizedTitle:"mutations",charIndex:3491},{level:3,title:"payload",slug:"payload",normalizedTitle:"payload",charIndex:3784},{level:3,title:"以对象形式调用mutations",slug:"以对象形式调用mutations",normalizedTitle:"以对象形式调用mutations",charIndex:4076},{level:3,title:"响应式更新",slug:"响应式更新",normalizedTitle:"响应式更新",charIndex:4353},{level:3,title:"mapMutations",slug:"mapmutations",normalizedTitle:"mapmutations",charIndex:4582},{level:2,title:"Actions",slug:"actions",normalizedTitle:"actions",charIndex:5201},{level:3,title:"触发Action",slug:"触发action",normalizedTitle:"触发action",charIndex:5914}],headersStr:"state 定义 使用 全局调用 mapState(常用) getters getters语法 访问getters mapGetters 辅助函数 Mutations payload 以对象形式调用mutations 响应式更新 mapMutations Actions 触发Action",content:"# state\n\n\n# 定义\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment (state) {\n      state.count++\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 使用\n\nstore.commit('increment') //触发mutations的increment更新\n\nconsole.log(store.state.count) // -> 1 ，调用\n\n\n1\n2\n3\n\n\n\n# 全局调用\n\nVuex 通过 store 选项，提供了一种机制将状态从根组件“注入”到每一个子组件中（需调用 Vue.use(Vuex)）：\n\nconst app = new Vue({\n  el: '#app',\n  // 把 store 对象提供给 “store” 选项，这可以把 store 的实例注入所有的子组件\n  store,\n  components: { Counter },\n  template: `\n    <div class=\"app\">\n      <counter></counter>\n    </div>\n  `\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n通过在根实例中注册 store 选项，该 store 实例会注入到根组件下的所有子组件中，且子组件能通过 this.$store 访问到。让我们更新下 Counter 的实现：\n\nconst Counter = {\n  template: `<div>{{ count }}</div>`,\n  computed: {\n    count () {\n      return this.$store.state.count\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# mapState(常用)\n\nmapState作用：同时将多个状态声明为计算属性\n\n// 当计算属性名称与state子节点名称相同时，可以直接传字符串数组\n  computed: {\n    ...mapState(\"d2admin/user\", [\n      \"info\"\n    ]),\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\n * 当state有多个modules时，可以按需导入\n   \n   \n   computed: {\n       ...mapState(\"d2admin/user\", [\n         \"info\"\n       ]),\n     },\n     \n     \n   比如2层结构：\n   -------------------------------\n   import d2admin from './modules/d2admin'\n   //首先向store暴露d2admin\n   export default new Vuex.Store({\n       modules: {\n           d2admin,\n        }\n   })\n   \n   cat ./modules/d2admin/modules/user.js\n   // 其次d2admin的子modules包含user.js，里面包含info属性\n   export default {\n     namespaced: true,\n     state: {\n       // 用户信息\n       info: {}\n     },\n   }\n   // 所以层级为\"d2admin/user\"，最后得到一个同名的this.info(映射为)\n   \n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   \n\n\n# getters\n\n通俗讲就是对state的加工，如同计算属性，举个例子：\n\ncomputed: {\n  doneTodosCount () {\n    return this.$store.state.todos.filter(todo => todo.done).length\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n如果有多个组件需要用到此属性，我们要么复制这个函数，或者抽取到一个共享函数然后在多处导入它——无论哪种方式都不是很理想。\n\n\n# getters语法\n\nconst store = new Vuex.Store({\n  state: {\n    todos: [\n      { id: 1, text: '...', done: true },\n      { id: 2, text: '...', done: false }\n    ]\n  },\n  getters: {\n    doneTodos: state => {\n      return state.todos.filter(todo => todo.done)\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nGetter 也可以接受其他 getter 作为第二个参数：\n\ngetters: {\n  // ...\n  doneTodosCount: (state, getters) => {\n    return getters.doneTodos.length\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 访问getters\n\n属性访问\n\n此时有缓存\n\nstore.getters.doneTodos // -> [{ id: 1, text: '...', done: true }]`\n\n// 在计算属性中调用\ncomputed: {\n  doneTodosCount () {\n    return this.$store.getters.doneTodosCount\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n通过方法访问\n\n此时无缓存\n\n你也可以通过让 getter 返回一个函数，来实现给 getter 传参。在你对 store 里的数组进行查询时非常有用。\n\ngetters: {\n  // ...\n  getTodoById: (state) => (id) => {\n    return state.todos.find(todo => todo.id === id)\n  }\n}\nstore.getters.getTodoById(2) // -> { id: 2, text: '...', done: false }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# mapGetters 辅助函数\n\nmapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性：\n\nimport { mapGetters } from 'vuex'\n\nexport default {\n  // ...\n  computed: {\n  // 使用对象展开运算符将 getter 混入 computed 对象中\n    ...mapGetters([\n      'doneTodosCount',\n      'anotherGetter',\n      // ...\n    ])\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n如果你想将一个 getter 属性另取一个名字，使用对象形式：\n\n...mapGetters({\n  // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`\n  doneCount: 'doneTodosCount'\n})\n\n\n1\n2\n3\n4\n\n\n\n# Mutations\n\nmutations必须是同步函数，否则将无法追踪。\n\nstate不能直接修改，需要定义相应的mutations来调用。如：\n\nconst store = new Vuex.Store({\n  state: {\n    count: 1\n  },\n  mutations: {\n    increment (state) {\n      // 变更状态\n      state.count++\n    }\n  }\n})\n\n// 调用\nstore.commit('increment')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# payload\n\n调用时可以传参，如：\n\nmutations: {\n  increment (state, n) {\n    state.count += n\n  }\n}\nstore.commit('increment', 10)\n\n\n1\n2\n3\n4\n5\n6\n\n\n以对象形式传参\n\nmutations: {\n  increment (state, payload) {\n    state.count += payload.amount\n  }\n}\nstore.commit('increment', {\n  amount: 10\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 以对象形式调用mutations\n\n提交 mutation 的另一种方式是直接使用包含 type 属性的对象：\n\nstore.commit({\n  type: 'increment',\n  amount: 10\n})\n\n\n1\n2\n3\n4\n\n\n当使用对象风格的提交方式，整个对象都作为载荷传给 mutation 函数，因此 handler 保持不变：\n\nmutations: {\n  increment (state, payload) {\n    state.count += payload.amount\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 响应式更新\n\n注意事项：\n\n 1. 最好提前在你的 store 中初始化好所有所需属性。\n\n 2. 当需要在对象上添加新属性时，你应该\n    \n    * 使用 Vue.set(obj, 'newProp', 123), 或者\n    \n    * 以新对象替换老对象。例如，利用对象展开运算符 (opens new window)我们可以这样写：\n\nstate.obj = { ...state.obj, newProp: 123 }\n\n\n1\n\n\n\n# mapMutations\n\n你可以在组件中使用 this.$store.commit('xxx') 提交 mutation，或者使用 mapMutations 辅助函数将组件中的 methods 映射为 store.commit 调用（需要在根节点注入 store）。\n\n如：\n\nimport { mapMutations } from 'vuex'\n\nexport default {\n  // ...\n  methods: {\n    ...mapMutations([\n      'increment', // 将 `this.increment()` 映射为 `this.$store.commit('increment')`\n\n      // `mapMutations` 也支持载荷：\n      'incrementBy' // 将 `this.incrementBy(amount)` 映射为 `this.$store.commit('incrementBy', amount)`\n    ]),\n    ...mapMutations({\n      add: 'increment' // 将 `this.add()` 映射为 `this.$store.commit('increment')`\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# Actions\n\nAction 类似于 mutation，不同在于：\n\n * Action 提交的是 mutation，而不是直接变更状态。\n * Action 可以包含任意异步操作。\n\ndemo:\n\nconst store = new Vuex.Store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment (state) {\n      state.count++\n    }\n  },\n  actions: {\n    increment (context) {\n      context.commit('increment')\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nAction 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 context.commit 提交一个 mutation，或者通过 context.state 和 context.getters 来获取 state 和 getters。当我们在之后介绍到 Modules 时，你就知道 context 对象为什么不是 store 实例本身了。\n\n实践中，我们会经常用到 ES2015 的 参数解构 (opens new window)来简化代码（特别是我们需要调用 commit 很多次的时候）：\n\nactions: {\n  increment ({ commit }) {\n    commit('increment')\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 触发Action\n\n# 分类Action\n\nAction 通过 store.dispatch 方法触发：\n\nstore.dispatch('increment')\n\n\n1\n\n\n// 以载荷形式分发\nstore.dispatch('incrementAsync', {\n  amount: 10\n})\n\n// 以对象形式分发\nstore.dispatch({\n  type: 'incrementAsync',\n  amount: 10\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# mapActions\n\nimport { mapActions } from 'vuex'\n\nexport default {\n  // ...\n  methods: {\n    ...mapActions([\n      'increment', // 将 `this.increment()` 映射为 `this.$store.dispatch('increment')`\n\n      // `mapActions` 也支持载荷：\n      'incrementBy' // 将 `this.incrementBy(amount)` 映射为 `this.$store.dispatch('incrementBy', amount)`\n    ]),\n    ...mapActions({\n      add: 'increment' // 将 `this.add()` 映射为 `this.$store.dispatch('increment')`\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 组合action\n\n如果我们利用 async / await (opens new window)，我们可以如下组合 action：\n\n// 假设 getData() 和 getOtherData() 返回的是 Promise\n\nactions: {\n  async actionA ({ commit }) {\n    commit('gotData', await getData())\n  },\n  async actionB ({ dispatch, commit }) {\n    await dispatch('actionA') // 等待 actionA 完成\n    commit('gotOtherData', await getOtherData())\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n",normalizedContent:"# state\n\n\n# 定义\n\nimport vue from 'vue'\nimport vuex from 'vuex'\n\nvue.use(vuex)\n\nconst store = new vuex.store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment (state) {\n      state.count++\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 使用\n\nstore.commit('increment') //触发mutations的increment更新\n\nconsole.log(store.state.count) // -> 1 ，调用\n\n\n1\n2\n3\n\n\n\n# 全局调用\n\nvuex 通过 store 选项，提供了一种机制将状态从根组件“注入”到每一个子组件中（需调用 vue.use(vuex)）：\n\nconst app = new vue({\n  el: '#app',\n  // 把 store 对象提供给 “store” 选项，这可以把 store 的实例注入所有的子组件\n  store,\n  components: { counter },\n  template: `\n    <div class=\"app\">\n      <counter></counter>\n    </div>\n  `\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n通过在根实例中注册 store 选项，该 store 实例会注入到根组件下的所有子组件中，且子组件能通过 this.$store 访问到。让我们更新下 counter 的实现：\n\nconst counter = {\n  template: `<div>{{ count }}</div>`,\n  computed: {\n    count () {\n      return this.$store.state.count\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# mapstate(常用)\n\nmapstate作用：同时将多个状态声明为计算属性\n\n// 当计算属性名称与state子节点名称相同时，可以直接传字符串数组\n  computed: {\n    ...mapstate(\"d2admin/user\", [\n      \"info\"\n    ]),\n  },\n\n\n1\n2\n3\n4\n5\n6\n\n\n * 当state有多个modules时，可以按需导入\n   \n   \n   computed: {\n       ...mapstate(\"d2admin/user\", [\n         \"info\"\n       ]),\n     },\n     \n     \n   比如2层结构：\n   -------------------------------\n   import d2admin from './modules/d2admin'\n   //首先向store暴露d2admin\n   export default new vuex.store({\n       modules: {\n           d2admin,\n        }\n   })\n   \n   cat ./modules/d2admin/modules/user.js\n   // 其次d2admin的子modules包含user.js，里面包含info属性\n   export default {\n     namespaced: true,\n     state: {\n       // 用户信息\n       info: {}\n     },\n   }\n   // 所以层级为\"d2admin/user\"，最后得到一个同名的this.info(映射为)\n   \n   \n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   22\n   23\n   24\n   25\n   26\n   27\n   28\n   29\n   30\n   \n\n\n# getters\n\n通俗讲就是对state的加工，如同计算属性，举个例子：\n\ncomputed: {\n  donetodoscount () {\n    return this.$store.state.todos.filter(todo => todo.done).length\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n如果有多个组件需要用到此属性，我们要么复制这个函数，或者抽取到一个共享函数然后在多处导入它——无论哪种方式都不是很理想。\n\n\n# getters语法\n\nconst store = new vuex.store({\n  state: {\n    todos: [\n      { id: 1, text: '...', done: true },\n      { id: 2, text: '...', done: false }\n    ]\n  },\n  getters: {\n    donetodos: state => {\n      return state.todos.filter(todo => todo.done)\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\ngetter 也可以接受其他 getter 作为第二个参数：\n\ngetters: {\n  // ...\n  donetodoscount: (state, getters) => {\n    return getters.donetodos.length\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 访问getters\n\n属性访问\n\n此时有缓存\n\nstore.getters.donetodos // -> [{ id: 1, text: '...', done: true }]`\n\n// 在计算属性中调用\ncomputed: {\n  donetodoscount () {\n    return this.$store.getters.donetodoscount\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n通过方法访问\n\n此时无缓存\n\n你也可以通过让 getter 返回一个函数，来实现给 getter 传参。在你对 store 里的数组进行查询时非常有用。\n\ngetters: {\n  // ...\n  gettodobyid: (state) => (id) => {\n    return state.todos.find(todo => todo.id === id)\n  }\n}\nstore.getters.gettodobyid(2) // -> { id: 2, text: '...', done: false }\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# mapgetters 辅助函数\n\nmapgetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性：\n\nimport { mapgetters } from 'vuex'\n\nexport default {\n  // ...\n  computed: {\n  // 使用对象展开运算符将 getter 混入 computed 对象中\n    ...mapgetters([\n      'donetodoscount',\n      'anothergetter',\n      // ...\n    ])\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n如果你想将一个 getter 属性另取一个名字，使用对象形式：\n\n...mapgetters({\n  // 把 `this.donecount` 映射为 `this.$store.getters.donetodoscount`\n  donecount: 'donetodoscount'\n})\n\n\n1\n2\n3\n4\n\n\n\n# mutations\n\nmutations必须是同步函数，否则将无法追踪。\n\nstate不能直接修改，需要定义相应的mutations来调用。如：\n\nconst store = new vuex.store({\n  state: {\n    count: 1\n  },\n  mutations: {\n    increment (state) {\n      // 变更状态\n      state.count++\n    }\n  }\n})\n\n// 调用\nstore.commit('increment')\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# payload\n\n调用时可以传参，如：\n\nmutations: {\n  increment (state, n) {\n    state.count += n\n  }\n}\nstore.commit('increment', 10)\n\n\n1\n2\n3\n4\n5\n6\n\n\n以对象形式传参\n\nmutations: {\n  increment (state, payload) {\n    state.count += payload.amount\n  }\n}\nstore.commit('increment', {\n  amount: 10\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 以对象形式调用mutations\n\n提交 mutation 的另一种方式是直接使用包含 type 属性的对象：\n\nstore.commit({\n  type: 'increment',\n  amount: 10\n})\n\n\n1\n2\n3\n4\n\n\n当使用对象风格的提交方式，整个对象都作为载荷传给 mutation 函数，因此 handler 保持不变：\n\nmutations: {\n  increment (state, payload) {\n    state.count += payload.amount\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 响应式更新\n\n注意事项：\n\n 1. 最好提前在你的 store 中初始化好所有所需属性。\n\n 2. 当需要在对象上添加新属性时，你应该\n    \n    * 使用 vue.set(obj, 'newprop', 123), 或者\n    \n    * 以新对象替换老对象。例如，利用对象展开运算符 (opens new window)我们可以这样写：\n\nstate.obj = { ...state.obj, newprop: 123 }\n\n\n1\n\n\n\n# mapmutations\n\n你可以在组件中使用 this.$store.commit('xxx') 提交 mutation，或者使用 mapmutations 辅助函数将组件中的 methods 映射为 store.commit 调用（需要在根节点注入 store）。\n\n如：\n\nimport { mapmutations } from 'vuex'\n\nexport default {\n  // ...\n  methods: {\n    ...mapmutations([\n      'increment', // 将 `this.increment()` 映射为 `this.$store.commit('increment')`\n\n      // `mapmutations` 也支持载荷：\n      'incrementby' // 将 `this.incrementby(amount)` 映射为 `this.$store.commit('incrementby', amount)`\n    ]),\n    ...mapmutations({\n      add: 'increment' // 将 `this.add()` 映射为 `this.$store.commit('increment')`\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# actions\n\naction 类似于 mutation，不同在于：\n\n * action 提交的是 mutation，而不是直接变更状态。\n * action 可以包含任意异步操作。\n\ndemo:\n\nconst store = new vuex.store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment (state) {\n      state.count++\n    }\n  },\n  actions: {\n    increment (context) {\n      context.commit('increment')\n    }\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\naction 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你可以调用 context.commit 提交一个 mutation，或者通过 context.state 和 context.getters 来获取 state 和 getters。当我们在之后介绍到 modules 时，你就知道 context 对象为什么不是 store 实例本身了。\n\n实践中，我们会经常用到 es2015 的 参数解构 (opens new window)来简化代码（特别是我们需要调用 commit 很多次的时候）：\n\nactions: {\n  increment ({ commit }) {\n    commit('increment')\n  }\n}\n\n\n1\n2\n3\n4\n5\n\n\n\n# 触发action\n\n# 分类action\n\naction 通过 store.dispatch 方法触发：\n\nstore.dispatch('increment')\n\n\n1\n\n\n// 以载荷形式分发\nstore.dispatch('incrementasync', {\n  amount: 10\n})\n\n// 以对象形式分发\nstore.dispatch({\n  type: 'incrementasync',\n  amount: 10\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n# mapactions\n\nimport { mapactions } from 'vuex'\n\nexport default {\n  // ...\n  methods: {\n    ...mapactions([\n      'increment', // 将 `this.increment()` 映射为 `this.$store.dispatch('increment')`\n\n      // `mapactions` 也支持载荷：\n      'incrementby' // 将 `this.incrementby(amount)` 映射为 `this.$store.dispatch('incrementby', amount)`\n    ]),\n    ...mapactions({\n      add: 'increment' // 将 `this.add()` 映射为 `this.$store.dispatch('increment')`\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n# 组合action\n\n如果我们利用 async / await (opens new window)，我们可以如下组合 action：\n\n// 假设 getdata() 和 getotherdata() 返回的是 promise\n\nactions: {\n  async actiona ({ commit }) {\n    commit('gotdata', await getdata())\n  },\n  async actionb ({ dispatch, commit }) {\n    await dispatch('actiona') // 等待 actiona 完成\n    commit('gototherdata', await getotherdata())\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"VUE Study Day15 - vue-cli",frontmatter:{title:"VUE Study Day15 - vue-cli",date:"2021-2-28",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"从0学vue 第15天 vue-cli"},{name:"keywords",content:"自学 vue vue-cli"},{name:"image",content:"https://www.yangxiaokang.com/assets/1616227273366.png"},{name:"twitter:title",content:"VUE Study Day15 - vue-cli"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/assets/1616227273366.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/day15-vue-cli3.html"},{property:"og:type",content:"article"},{property:"og:title",content:"VUE Study Day15 - vue-cli"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/assets/1616227273366.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/day15-vue-cli3.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-2-28"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"VUE Study Day15 - vue-cli"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/assets/1616227273366.png"}],feed:{enable:!0},permalink:"/article/vue/studyvueday15.html",description:""},regularPath:"/article/vue/day15-vue-cli3.html",relativePath:"article/vue/day15-vue-cli3.md",key:"v-1e630588",path:"/article/vue/studyvueday15.html",headers:[{level:2,title:"安装vue脚手架",slug:"安装vue脚手架",normalizedTitle:"安装vue脚手架",charIndex:2},{level:2,title:"使用vue ui新建项目",slug:"使用vue-ui新建项目",normalizedTitle:"使用vue ui新建项目",charIndex:334},{level:2,title:"初始化项目",slug:"初始化项目",normalizedTitle:"初始化项目",charIndex:636},{level:2,title:"安装插件",slug:"安装插件",normalizedTitle:"安装插件",charIndex:990},{level:2,title:"安装依赖",slug:"安装依赖",normalizedTitle:"安装依赖",charIndex:1041},{level:3,title:"运行依赖",slug:"运行依赖",normalizedTitle:"运行依赖",charIndex:1050},{level:3,title:"开发依赖",slug:"开发依赖",normalizedTitle:"开发依赖",charIndex:1954},{level:2,title:"安装其他组件",slug:"安装其他组件",normalizedTitle:"安装其他组件",charIndex:2065}],headersStr:"安装vue脚手架 使用vue ui新建项目 初始化项目 安装插件 安装依赖 运行依赖 开发依赖 安装其他组件",content:"# 安装vue脚手架\n\n安装3.x版本的Vue脚手架： npm install -g @vue/cli\n\n分析Vue脚手架生成的项目结构\n    node_modules:依赖包目录\n    public：静态资源目录\n    src：源码目录\n    src/assets:资源目录\n    src/components：组件目录\n    src/views:视图组件目录\n    src/App.vue:根组件\n    src/main.js:入口js\n    src/router.js:路由js\n    babel.config.js:babel配置文件\n    .eslintrc.js:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 使用vue ui新建项目\n\n * 执行vue ui进入dashboard\n\n * 选择Vue项目管理器\n\n * 创建\n\n * 选择项目存放目录\n\n * 创建项目\n\n * 详情：包管理器选择npm，项目名随意，git commit信息随意\n\n * 预设：第一次可以选择手动配置，如果以前配置过也可以选择模板\n\n * 功能：将babel、vuex、router、linter/formatter、使用配置文件(use config)、choose vue version(低版本没有)打开\n\n * 配置:选择eslint + standard config，其他按需\n\n * 是否存取预设：按需即可\n\n\n# 初始化项目\n\n * 清空app.vue，做基本 配置\n   \n   <template>\n     <div>HELLO world</div>\n   </template>\n   \n   <script>\n   export default {\n     data () {\n       return {}\n     }\n   }\n   <\/script>\n   \n   <style lang=\"less\" scoped>\n   </style>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   \n\n * 删除src/components/HelloWorld.vue\n\n\n# 安装插件\n\n# elementui\n\n选择插件-安装插件\n\n#\n\n修改配置，改为按需导入\n\n\n\n\n# 安装依赖\n\n\n# 运行依赖\n\n# axios\n\n依赖-安装依赖-运行依赖\n\n\n\n安装后配置main.js\n\nimport axios from 'axios'\n// 默认接口地址 \naxios.defaults.baseURL = 'http://127.0.0.1:8888/api/private/v1/'\n// 注册为全局组件\nVue.prototype.$http = axios\n\n\n1\n2\n3\n4\n5\n\n\n# 树形数据展示\n\nvue-table-with-tree-grid\n\n使用第三方插件vue-table-with-tree-grid展示分类数据，见day10\n\n# 进度条\n\n先打开项目控制台，打开依赖，安装nprogress 打开main.js，编写如下代码\n\n\n\n//导入进度条插件\nimport NProgress from 'nprogress'\n//导入进度条样式\nimport 'nprogress/nprogress.css'\n.....\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  NProgress.start()\n  //为请求头对象，添加token验证的Authorization字段\n  config.headers.Authorization = window.sessionStorage.getItem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  NProgress.done()\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 开发依赖\n\n# less-loader\n\n不能安装8.0.0版本，会有报错，手动命令行安装7.3.0版本\n\nnpm install less-loader@7.3.0\n\n# less\n\n\n\n安装后需要重新编译项目\n\n\n# 安装其他组件\n\n# 字体\n\n具体见day7电商\n\n# 富文本插件\n\n见day12\n\n# 图标插件\n\n见day13",normalizedContent:"# 安装vue脚手架\n\n安装3.x版本的vue脚手架： npm install -g @vue/cli\n\n分析vue脚手架生成的项目结构\n    node_modules:依赖包目录\n    public：静态资源目录\n    src：源码目录\n    src/assets:资源目录\n    src/components：组件目录\n    src/views:视图组件目录\n    src/app.vue:根组件\n    src/main.js:入口js\n    src/router.js:路由js\n    babel.config.js:babel配置文件\n    .eslintrc.js:\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 使用vue ui新建项目\n\n * 执行vue ui进入dashboard\n\n * 选择vue项目管理器\n\n * 创建\n\n * 选择项目存放目录\n\n * 创建项目\n\n * 详情：包管理器选择npm，项目名随意，git commit信息随意\n\n * 预设：第一次可以选择手动配置，如果以前配置过也可以选择模板\n\n * 功能：将babel、vuex、router、linter/formatter、使用配置文件(use config)、choose vue version(低版本没有)打开\n\n * 配置:选择eslint + standard config，其他按需\n\n * 是否存取预设：按需即可\n\n\n# 初始化项目\n\n * 清空app.vue，做基本 配置\n   \n   <template>\n     <div>hello world</div>\n   </template>\n   \n   <script>\n   export default {\n     data () {\n       return {}\n     }\n   }\n   <\/script>\n   \n   <style lang=\"less\" scoped>\n   </style>\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   \n\n * 删除src/components/helloworld.vue\n\n\n# 安装插件\n\n# elementui\n\n选择插件-安装插件\n\n#\n\n修改配置，改为按需导入\n\n\n\n\n# 安装依赖\n\n\n# 运行依赖\n\n# axios\n\n依赖-安装依赖-运行依赖\n\n\n\n安装后配置main.js\n\nimport axios from 'axios'\n// 默认接口地址 \naxios.defaults.baseurl = 'http://127.0.0.1:8888/api/private/v1/'\n// 注册为全局组件\nvue.prototype.$http = axios\n\n\n1\n2\n3\n4\n5\n\n\n# 树形数据展示\n\nvue-table-with-tree-grid\n\n使用第三方插件vue-table-with-tree-grid展示分类数据，见day10\n\n# 进度条\n\n先打开项目控制台，打开依赖，安装nprogress 打开main.js，编写如下代码\n\n\n\n//导入进度条插件\nimport nprogress from 'nprogress'\n//导入进度条样式\nimport 'nprogress/nprogress.css'\n.....\n//请求在到达服务器之前，先会调用use中的这个回调函数来添加请求头信息\naxios.interceptors.request.use(config => {\n  //当进入request拦截器，表示发送了请求，我们就开启进度条\n  nprogress.start()\n  //为请求头对象，添加token验证的authorization字段\n  config.headers.authorization = window.sessionstorage.getitem(\"token\")\n  //必须返回config\n  return config\n})\n//在response拦截器中，隐藏进度条\naxios.interceptors.response.use(config =>{\n  //当进入response拦截器，表示请求已经结束，我们就结束进度条\n  nprogress.done()\n  return config\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 开发依赖\n\n# less-loader\n\n不能安装8.0.0版本，会有报错，手动命令行安装7.3.0版本\n\nnpm install less-loader@7.3.0\n\n# less\n\n\n\n安装后需要重新编译项目\n\n\n# 安装其他组件\n\n# 字体\n\n具体见day7电商\n\n# 富文本插件\n\n见day12\n\n# 图标插件\n\n见day13",charsets:{cjk:!0},lastUpdated:"2023/3/12",lastUpdatedTimestamp:1678592504e3},{title:"elementUI2.X 代码片",frontmatter:{title:"elementUI2.X 代码片",date:"2021-3-02",categories:["前端"],tags:["vue","elementUI","学习提升"],meta:[{name:"description",content:"elementUI2.X使用技巧"},{name:"keywords",content:"vue elementUI"},{name:"image",content:"https://www.yangxiaokang.com/elementUI.assets/image-20220316175815147.png"},{name:"twitter:title",content:"elementUI2.X 代码片"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.yangxiaokang.com/elementUI.assets/image-20220316175815147.png"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/elementUI-skill.html"},{property:"og:type",content:"article"},{property:"og:title",content:"elementUI2.X 代码片"},{property:"og:description",content:""},{property:"og:image",content:"https://www.yangxiaokang.com/elementUI.assets/image-20220316175815147.png"},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/elementUI-skill.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-3-02"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"elementUI"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"elementUI2.X 代码片"},{itemprop:"description",content:""},{itemprop:"image",content:"https://www.yangxiaokang.com/elementUI.assets/image-20220316175815147.png"}],feed:{enable:!0},permalink:"/article/vue/elementuiskill.html",description:""},regularPath:"/article/vue/elementUI-skill.html",relativePath:"article/vue/elementUI-skill.md",key:"v-3ddebbee",path:"/article/vue/elementuiskill.html",headers:[{level:3,title:"El-tooltip 文字提示",slug:"el-tooltip-文字提示",normalizedTitle:"el-tooltip 文字提示",charIndex:2},{level:3,title:"form表单",slug:"form表单",normalizedTitle:"form表单",charIndex:565},{level:3,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:1136}],headersStr:"El-tooltip 文字提示 form表单 参考",content:'# El-tooltip 文字提示\n\n# 问号图标提示\n\n通过插槽的方式实现\n\n代码：\n\n        <el-tab-pane name="ordinary">\n          <span slot="label"><i class="el-icon-bicycle"></i>普通\n            <el-tooltip placement="top">\n              <div slot="content">\n                <span>注意</span><br>\n                <div >\n                  1、单个工单最多支持选择50个集群<br>\n                  2、如果存在未完成的上线会导致扩容失败\n                </div>\n              </div>\n              <i class="el-icon-question" />\n            </el-tooltip>\n          </span>\n          </el-tab-pane>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n效果图：\n\n\n\n\n# form表单\n\n# 表单验证\n\nvalidator部分可自定义验证规则。可把validator段直接定义一个变量，引用变量代码更清晰。\n\n        percent: [\n          { type: \'number\', required: true, message: \'请输入百分比，扩容需要大于100，缩容需要小于100\', trigger: \'blur\' },\n          {\n            validator (rule, value, callback) {\n              if (value != 100) {\n                callback();\n              } else {\n                callback(new Error("请输入不等于100的数字"));\n              }\n            },\n          },\n          { type: \'number\', min: 50, max: 200, message: \'百分比范围：50-200\', trigger: \'blur\' },\n        ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 参考\n\n * [1] element-ui tooltip文字提示\n * [2] element input表单验证数字类型方法大全',normalizedContent:'# el-tooltip 文字提示\n\n# 问号图标提示\n\n通过插槽的方式实现\n\n代码：\n\n        <el-tab-pane name="ordinary">\n          <span slot="label"><i class="el-icon-bicycle"></i>普通\n            <el-tooltip placement="top">\n              <div slot="content">\n                <span>注意</span><br>\n                <div >\n                  1、单个工单最多支持选择50个集群<br>\n                  2、如果存在未完成的上线会导致扩容失败\n                </div>\n              </div>\n              <i class="el-icon-question" />\n            </el-tooltip>\n          </span>\n          </el-tab-pane>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n效果图：\n\n\n\n\n# form表单\n\n# 表单验证\n\nvalidator部分可自定义验证规则。可把validator段直接定义一个变量，引用变量代码更清晰。\n\n        percent: [\n          { type: \'number\', required: true, message: \'请输入百分比，扩容需要大于100，缩容需要小于100\', trigger: \'blur\' },\n          {\n            validator (rule, value, callback) {\n              if (value != 100) {\n                callback();\n              } else {\n                callback(new error("请输入不等于100的数字"));\n              }\n            },\n          },\n          { type: \'number\', min: 50, max: 200, message: \'百分比范围：50-200\', trigger: \'blur\' },\n        ],\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 参考\n\n * [1] element-ui tooltip文字提示\n * [2] element input表单验证数字类型方法大全',charsets:{cjk:!0},lastUpdated:"2023/4/14",lastUpdatedTimestamp:1681431511e3},{title:"前端通用需求代码",frontmatter:{title:"前端通用需求代码",date:"2021-3-03",categories:["前端"],tags:["vue","学习提升"],meta:[{name:"description",content:"vue使用技巧"},{name:"keywords",content:"vue 学习提升"},{name:"twitter:title",content:"前端通用需求代码"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/vue-skill.html"},{property:"og:type",content:"article"},{property:"og:title",content:"前端通用需求代码"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/vue-skill.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-3-03"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"学习提升"},{itemprop:"name",content:"前端通用需求代码"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/vueskill.html",description:""},regularPath:"/article/vue/vue-skill.html",relativePath:"article/vue/vue-skill.md",key:"v-4edf6ea4",path:"/article/vue/vueskill.html",headersStr:null,content:"# 定时器使用\n\n# 前端通过定时器轮询发送请求\n\nhttps://www.cnblogs.com/aurora-ql/p/13471561.html)\n\ndata () {\nreturn {\n      pollingNum: 0,\n      isPolling: false\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 1. 页面created阶段确定是否开启定时器\n\n  created () {\n    // 实现轮询\n    this.getPollingEvent() // 业务逻辑，检查是否开启定时器\n    console.log(this.isPolling) \n    this.polling(3000) // 默认启动定时器，设置间隔，由定时器内部确认是否继续执行业务逻辑，受this.getPollingEvent()影响\n  }\n\n\n1\n2\n3\n4\n5\n6\n\n 2. 业务逻辑，检查是否开启定时器，如果是，则this.isPolling = true\n\n    async getPollingEvent () {\n      var querylist = []\n      const { data: res } = await this.$http.get('/rtc/workorder/job', {\n        params: { query: querylist },\n        paramsSerializer: params => {\n          return qs.stringify(params, { indices: false })\n        }\n      })\n      if (res.errNo !== 0) {\n        return this.$message.error('查询工单信息失败')\n      }\n      if (res.data.length === 0) {\n        return\n      }\n      this.workroderData = res.data\n      this.pollingNum = res.data.length\n      this.isPolling = true\n      console.log(res.data)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 3. 定时轮询主函数\n\n   \n   polling (interval) {\n      // 轮询获取更新过程中的信息\n      this.stopSetInterval() // 检查关闭未完成的定时器\n      this.timer = setInterval(() => {\n        // 判断是否执行定时器\n        if (this.isPolling) {\n          console.log('当前有' + this.pollingNum + '个任务待查询')\n          this.getJobStatus() // 业务主逻辑\n        }\n        // 业务逻辑达到某个状态时主动关闭定时器\n        if (this.pollingNum === 0) {\n          this.isPolling = false\n          this.stopSetInterval()\n        }\n      }, interval)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 4. 关闭定时器函数\n\n    stopSetInterval () {\n      if (this.timer) {\n        clearInterval(this.timer)\n        this.timer = null\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n 5. 切换到其他页面时停止定时器\n\n  destroyed () {\n    this.stopSetInterval()\n  }\n\n\n1\n2\n3\n\n\n参考\n\n * [1] vue项目中 正确的使用轮询setInterval 请求接口\n\n * [2] vue 通过定时器轮询获取后台数据](",normalizedContent:"# 定时器使用\n\n# 前端通过定时器轮询发送请求\n\nhttps://www.cnblogs.com/aurora-ql/p/13471561.html)\n\ndata () {\nreturn {\n      pollingnum: 0,\n      ispolling: false\n}\n}\n\n\n1\n2\n3\n4\n5\n6\n\n 1. 页面created阶段确定是否开启定时器\n\n  created () {\n    // 实现轮询\n    this.getpollingevent() // 业务逻辑，检查是否开启定时器\n    console.log(this.ispolling) \n    this.polling(3000) // 默认启动定时器，设置间隔，由定时器内部确认是否继续执行业务逻辑，受this.getpollingevent()影响\n  }\n\n\n1\n2\n3\n4\n5\n6\n\n 2. 业务逻辑，检查是否开启定时器，如果是，则this.ispolling = true\n\n    async getpollingevent () {\n      var querylist = []\n      const { data: res } = await this.$http.get('/rtc/workorder/job', {\n        params: { query: querylist },\n        paramsserializer: params => {\n          return qs.stringify(params, { indices: false })\n        }\n      })\n      if (res.errno !== 0) {\n        return this.$message.error('查询工单信息失败')\n      }\n      if (res.data.length === 0) {\n        return\n      }\n      this.workroderdata = res.data\n      this.pollingnum = res.data.length\n      this.ispolling = true\n      console.log(res.data)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 3. 定时轮询主函数\n\n   \n   polling (interval) {\n      // 轮询获取更新过程中的信息\n      this.stopsetinterval() // 检查关闭未完成的定时器\n      this.timer = setinterval(() => {\n        // 判断是否执行定时器\n        if (this.ispolling) {\n          console.log('当前有' + this.pollingnum + '个任务待查询')\n          this.getjobstatus() // 业务主逻辑\n        }\n        // 业务逻辑达到某个状态时主动关闭定时器\n        if (this.pollingnum === 0) {\n          this.ispolling = false\n          this.stopsetinterval()\n        }\n      }, interval)\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n 4. 关闭定时器函数\n\n    stopsetinterval () {\n      if (this.timer) {\n        clearinterval(this.timer)\n        this.timer = null\n      }\n    }\n\n\n1\n2\n3\n4\n5\n6\n\n 5. 切换到其他页面时停止定时器\n\n  destroyed () {\n    this.stopsetinterval()\n  }\n\n\n1\n2\n3\n\n\n参考\n\n * [1] vue项目中 正确的使用轮询setinterval 请求接口\n\n * [2] vue 通过定时器轮询获取后台数据](",charsets:{cjk:!0},lastUpdated:"2023/3/17",lastUpdatedTimestamp:1679053061e3},{title:"异常处理",frontmatter:{title:"异常处理",date:"2021-3-15",categories:["前端"],tags:["vue","elementUI","异常处理"],meta:[{name:"description",content:"前端开发过程中遇到的疑难杂症"},{name:"keywords",content:"前端报错 前端异常"},{name:"twitter:title",content:"异常处理"},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/article/vue/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"异常处理"},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/article/vue/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html"},{property:"og:site_name",content:"zicheqingluo"},{property:"article:published_time",content:"2021-3-15"},{property:"article:tag",content:"vue"},{property:"article:tag",content:"elementUI"},{property:"article:tag",content:"异常处理"},{itemprop:"name",content:"异常处理"},{itemprop:"description",content:""}],feed:{enable:!0},permalink:"/article/vue/bianque.html",description:""},regularPath:"/article/vue/%E5%89%8D%E7%AB%AF%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html",relativePath:"article/vue/前端异常处理.md",key:"v-3b089eba",path:"/article/vue/bianque.html",headers:[{level:3,title:"npm插件报错",slug:"npm插件报错",normalizedTitle:"npm插件报错",charIndex:2},{level:3,title:"npm问题",slug:"npm问题",normalizedTitle:"npm问题",charIndex:283},{level:3,title:"Elementui",slug:"elementui",normalizedTitle:"elementui",charIndex:420},{level:3,title:"未分类",slug:"未分类",normalizedTitle:"未分类",charIndex:1546}],headersStr:"npm插件报错 npm问题 Elementui 未分类",content:'# npm插件报错\n\n# saas-loader\n\n报错：Syntax Error: TypeError: this.getOptions is not a function\n\n原因：这是因为当前sass的版本太高，webpack编译时出现了错误，这个时候只需要换成低版本的就行，下面说一下修改方法，很简单，如下，找到package.json文件，里面的 "sass-loader"的版本更换掉 就行了。\n\n方法：\n\n1.npm uninstall less-loader\n\n2.npm install less-loader@7.3.0\n\n\n1\n2\n3\n\n\n\n# npm问题\n\n问题： 解决npm安装node-sass太慢及编译错误问题\n\n方法：切换国内镜像\n\n$ npm install -g mirror-config-china --registry=http://registry.npm.taobao.org\n\n\n1\n\n\n\n# Elementui\n\n# el-checkbox\n\n      <el-form-item label="任务边车" v-if="taskSidecar.length>0">\n        <el-checkbox-group v-model="form.taskSidecarSelected">\n          <el-checkbox v-for="(v, k) of taskSidecar" :key="k" :label="v">{{ v.label }}</el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n\n\n1\n2\n3\n4\n5\n\n\n问题： 使用el-checkbox时一直无法展示选项并且伴随报错\n\n报错： Cannot read property ‘length‘ of undefined\n\nTypeError: Cannot read property ‘length’ of undefined\nat VueComponent.isLimitDisabled (element-ui.common.js?ccbf:6452)\nat Watcher.get (vue.esm.js?efeb:4482)\nat Watcher.evaluate (vue.esm.js?efeb:4587)\nat VueComponent.computedGetter [as isLimitDisabled] (vue.esm.js?efeb:4839)\nat VueComponent.isDisabled (element-ui.common.js?ccbf:6455)\nat Watcher.get (vue.esm.js?efeb:4482)\nat Watcher.evaluate (vue.esm.js?efeb:4587)\nat VueComponent.computedGetter [as isDisabled] (vue.esm.js?efeb:4839)\nat Object.get (vue.esm.js?efeb:2104)\nat Proxy.checkboxvue_type_template_id_d0387074_render (element-ui.common.js?ccbf:6161)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n原因：用于checkbox的选项中间被重新赋值成了一个非数组类型如null，查出问题即可解决\n\n坑点：从报错看一直认为是taskSidecar的问题\n\n参考： 问题排查\n\n\n# 未分类\n\n# 前端重复请求\n\n现象：前端访问后端的ip端口如果不经过nginx直接写程序端口，则在writetimeout后，后端gin会断开与前端的链接，但是此时gin的业务逻辑还在执行，执行完后如无异常会日志会记录200状态码，但是因为链接断开无法将数据返回给前端，此时前端不会显示504而是显示network conn err，会重新发送一次请求。\n\n如果过了nginx，那同样的情况前端会收到504并切不会重新发送请求',normalizedContent:'# npm插件报错\n\n# saas-loader\n\n报错：syntax error: typeerror: this.getoptions is not a function\n\n原因：这是因为当前sass的版本太高，webpack编译时出现了错误，这个时候只需要换成低版本的就行，下面说一下修改方法，很简单，如下，找到package.json文件，里面的 "sass-loader"的版本更换掉 就行了。\n\n方法：\n\n1.npm uninstall less-loader\n\n2.npm install less-loader@7.3.0\n\n\n1\n2\n3\n\n\n\n# npm问题\n\n问题： 解决npm安装node-sass太慢及编译错误问题\n\n方法：切换国内镜像\n\n$ npm install -g mirror-config-china --registry=http://registry.npm.taobao.org\n\n\n1\n\n\n\n# elementui\n\n# el-checkbox\n\n      <el-form-item label="任务边车" v-if="tasksidecar.length>0">\n        <el-checkbox-group v-model="form.tasksidecarselected">\n          <el-checkbox v-for="(v, k) of tasksidecar" :key="k" :label="v">{{ v.label }}</el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n\n\n1\n2\n3\n4\n5\n\n\n问题： 使用el-checkbox时一直无法展示选项并且伴随报错\n\n报错： cannot read property ‘length‘ of undefined\n\ntypeerror: cannot read property ‘length’ of undefined\nat vuecomponent.islimitdisabled (element-ui.common.js?ccbf:6452)\nat watcher.get (vue.esm.js?efeb:4482)\nat watcher.evaluate (vue.esm.js?efeb:4587)\nat vuecomponent.computedgetter [as islimitdisabled] (vue.esm.js?efeb:4839)\nat vuecomponent.isdisabled (element-ui.common.js?ccbf:6455)\nat watcher.get (vue.esm.js?efeb:4482)\nat watcher.evaluate (vue.esm.js?efeb:4587)\nat vuecomponent.computedgetter [as isdisabled] (vue.esm.js?efeb:4839)\nat object.get (vue.esm.js?efeb:2104)\nat proxy.checkboxvue_type_template_id_d0387074_render (element-ui.common.js?ccbf:6161)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n原因：用于checkbox的选项中间被重新赋值成了一个非数组类型如null，查出问题即可解决\n\n坑点：从报错看一直认为是tasksidecar的问题\n\n参考： 问题排查\n\n\n# 未分类\n\n# 前端重复请求\n\n现象：前端访问后端的ip端口如果不经过nginx直接写程序端口，则在writetimeout后，后端gin会断开与前端的链接，但是此时gin的业务逻辑还在执行，执行完后如无异常会日志会记录200状态码，但是因为链接断开无法将数据返回给前端，此时前端不会显示504而是显示network conn err，会重新发送一次请求。\n\n如果过了nginx，那同样的情况前端会收到504并切不会重新发送请求',charsets:{cjk:!0},lastUpdated:"2023/3/17",lastUpdatedTimestamp:1679053061e3},{frontmatter:{layout:"Tags",title:"Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/",key:"v-b1564aac",path:"/tag/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"FrontmatterKey",title:"Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/",key:"v-ef9325c4",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"TimeLines",title:"Timeline",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/timeline/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/timeline/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/timeline/",key:"v-6319eb4e",path:"/timeline/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"算法 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E7%AE%97%E6%B3%95/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E7%AE%97%E6%B3%95/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E7%AE%97%E6%B3%95/",key:"v-89abd2d6",path:"/tag/算法/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"mysql Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/mysql/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/mysql/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/mysql/",key:"v-6ee7f212",path:"/tag/mysql/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"学习提升 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/",key:"v-606fb9f7",path:"/tag/学习提升/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"SRE Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/SRE/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/SRE/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/SRE/",key:"v-324b265a",path:"/tag/SRE/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"异常检测 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%B5%8B/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%B5%8B/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%B5%8B/",key:"v-fc7b3c66",path:"/tag/异常检测/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"go Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/go/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/go/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/go/",key:"v-e8d88546",path:"/tag/go/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"转载 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E8%BD%AC%E8%BD%BD/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E8%BD%AC%E8%BD%BD/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E8%BD%AC%E8%BD%BD/",key:"v-e66da3b6",path:"/tag/转载/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"问题排查 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/",key:"v-1e16d702",path:"/tag/问题排查/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"vscode Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/vscode/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/vscode/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/vscode/",key:"v-19ed615b",path:"/tag/vscode/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"IDE Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/IDE/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/IDE/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/IDE/",key:"v-3254a6e2",path:"/tag/IDE/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"vue Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/vue/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/vue/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/vue/",key:"v-322a45da",path:"/tag/vue/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"vuepress Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/vuepress/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/vuepress/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/vuepress/",key:"v-dfb71430",path:"/tag/vuepress/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"github Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/github/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/github/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/github/",key:"v-1f67da7c",path:"/tag/github/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"博客 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%8D%9A%E5%AE%A2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%8D%9A%E5%AE%A2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%8D%9A%E5%AE%A2/",key:"v-77988f74",path:"/tag/博客/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"vim Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/vim/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/vim/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/vim/",key:"v-322a9e02",path:"/tag/vim/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"elementUI Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/elementUI/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/elementUI/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/elementUI/",key:"v-50bf05c9",path:"/tag/elementUI/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"异常处理 Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/",key:"v-826f9e84",path:"/tag/异常处理/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"后端 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E5%90%8E%E7%AB%AF/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E5%90%8E%E7%AB%AF/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%90%8E%E7%AB%AF/",key:"v-12afc5a1",path:"/categories/后端/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"工具/平台 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E5%B7%A5%E5%85%B7/%E5%B9%B3%E5%8F%B0/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E5%B7%A5%E5%85%B7/%E5%B9%B3%E5%8F%B0/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%B7%A5%E5%85%B7/%E5%B9%B3%E5%8F%B0/",key:"v-021fd8b1",path:"/categories/工具/平台/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"db Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/db/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/db/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/db/",key:"v-35a59993",path:"/categories/db/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"运维 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E8%BF%90%E7%BB%B4/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E8%BF%90%E7%BB%B4/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E8%BF%90%E7%BB%B4/",key:"v-69174553",path:"/categories/运维/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"go Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/go/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/go/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/go/",key:"v-35a5a669",path:"/categories/go/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"大模型 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B/",key:"v-154bf3b1",path:"/categories/大模型/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"中间件 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/",key:"v-ab31fcde",path:"/categories/中间件/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"python Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/python/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/python/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/python/",key:"v-155fc016",path:"/categories/python/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"前端 Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E5%89%8D%E7%AB%AF/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E5%89%8D%E7%AB%AF/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%89%8D%E7%AB%AF/",key:"v-14bbbf36",path:"/categories/前端/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - 学习提升 | Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/2/",key:"v-4f0af034",path:"/tag/学习提升/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 3 - 学习提升 | Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/3/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/3/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/3/",key:"v-4f0aeff6",path:"/tag/学习提升/page/3/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 4 - 学习提升 | Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/4/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/4/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/%E5%AD%A6%E4%B9%A0%E6%8F%90%E5%8D%87/page/4/",key:"v-4f0aefb8",path:"/tag/学习提升/page/4/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - go | Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/go/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/go/page/2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/go/page/2/",key:"v-b7d5f480",path:"/tag/go/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - vue | Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/tag/vue/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/tag/vue/page/2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/vue/page/2/",key:"v-4762ed4a",path:"/tag/vue/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - go | Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/go/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/go/page/2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/go/page/2/",key:"v-f56dd198",path:"/categories/go/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - 前端 | Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.yangxiaokang.com/categories/%E5%89%8D%E7%AB%AF/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.yangxiaokang.com/categories/%E5%89%8D%E7%AB%AF/page/2/"},{property:"og:site_name",content:"zicheqingluo"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%89%8D%E7%AB%AF/page/2/",key:"v-260e2472",path:"/categories/前端/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}}],themeConfig:{author:"子车轻罗",logo:"/加菲猫.jpeg",authorAvatar:"/author.jpeg",type:"blog",search:!0,searchMaxSuggestions:10,lastUpdated:"Last Updated",feed:{canonical_base:"https://www.yangxiaokang.com"},mode:"light",nav:[{text:"首页",link:"/"},{text:"子车轻罗 的博客",items:[{text:"掘金",link:"https://juejin.cn/"},{text:"Github",link:"https://github.com/"}]}],subSidebar:"auto",displayAllHeaders:!0,sidebar:{"/article/diy/":["DIY主机-安装","DIY主机-选配","DIY主机-硬件调试","DIY主机-搞机"],"/article/toolplatform/":["blog","vim-go插件配置","vscode插件","安装go环境"],"/article/vue/":["day01-指令","day02-基本特性","day03-组件","day04-接口调用","day05-vue路由","day06-vue前端工程化","day07-电商","day08-电商","day09-电商","day10-电商","day11-电商","day12-电商","day13-电商","day14-vuex","day15-vue-cli3"],"/article/gostudy/":[["/article/toolplatform/安装go环境","安装go开发环境"],"day01-基本数据类型","day02-复合数据类型与流程控制","day03-函数","day04-结构体","day05-接口","day06-并发","day07-并发安全","day08-标准库","day09-单元测试","day10-中间件","day11-context","day12-go module和pprof","day13-网络编程"],"/article/llm/":["玩转AIGC-原理+实战","chatGLM","langchain-ChatGLM","pytorch","wsl","英伟达gpu环境","stable-diffusion","声音模拟"]},blogConfig:{category:{location:2,text:"分类"},tag:{location:3,text:"标签"}},vssueConfig:{platform:"github",owner:"zicheqingluo",repo:"blogs",clientId:"c9fc29781fac64b101d6",clientSecret:"17784edc3376b3813ef20b366ef73ced1088a6e4",autoCreateIssu:!0}},locales:{"/":{lang:"zh-CN",path:"/"}}};var te=e(26),ee={computed:{$recoPosts(){let n=this.$site.pages;return n=Object(te.a)(n,!1),Object(te.c)(n),n},$recoPostsForTimeline(){let n=this.$recoPosts;const t={},e=[];n=Object(te.a)(n,!0),this.pages=0==n.length?[]:n;for(let e=0,r=n.length;e<r;e++){const r=n[e],i=re(r.frontmatter.date,"year");t[i]?t[i].push(r):t[i]=[r]}for(const n in t){const r=t[n];Object(te.b)(r),e.unshift({year:n,data:r})}return e},$categoriesList(){return this.$categories.list.map(n=>(n.pages=n.pages.filter(n=>!1!==n.frontmatter.publish),n))},$tagesList(){return this.$tags.list.map(n=>(n.pages=n.pages.filter(n=>!1!==n.frontmatter.publish),n))},$showSubSideBar(){const{$themeConfig:{subSidebar:n,sidebar:t},$frontmatter:{subSidebar:e,sidebar:r}}=this,i=this.$page.headers||[];return!([e,r].indexOf(!1)>-1)&&([e,r].indexOf("auto")>-1&&i.length>0||[n,t].indexOf("auto")>-1&&i.length>0)}}};function re(n,t){n=function(n){var t=new Date(n).toJSON();return new Date(+new Date(t)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"").replace(/-/g,"/")}(n);const e=new Date(n),r=e.getFullYear(),i=e.getMonth()+1,o=e.getDate();return"year"==t?r:`${i}-${o}`}var ie={all:"全部",article:"文章",tag:"标签",category:"分类",friendLink:"友情链接",timeLine:"时间轴",timeLineMsg:"昨日重现！"},oe={all:"全部",article:"文章",tag:"標簽",category:"分類",friendLink:"友情鏈接",timeLine:"時間軸",timeLineMsg:"昨日重現！"},ae={all:"All",article:"Articles",tag:"Tags",category:"Categories",friendLink:"Friend Links",timeLine:"TimeLine",timeLineMsg:"Yesterday Once More!"},se={all:"全部",article:"文章",tag:"ラベル",category:"分類",friendLink:"友情リンク",timeLine:"タイムライン",timeLineMsg:"昨日また！"},le={all:"전체",article:"글",tag:"태그",category:"분류",friendLink:"링크 참조",timeLine:"타임 라인",timeLineMsg:"어제 또!"},ce={all:"Todas",article:"Artículos",tag:"Etiquetas",category:"Categorías",friendLink:"Páginas amigas",timeLine:"Cronología",timeLineMsg:"¡Ayer otra vez!"},ue={computed:{$recoLocales(){const n=this.$themeLocaleConfig.recoLocales||{};return/^zh\-(CN|SG)$/.test(this.$lang)?{...ie,...n}:/^zh\-(HK|MO|TW)$/.test(this.$lang)?{...oe,...n}:/^ja\-JP$/.test(this.$lang)?{...se,...n}:/^ko\-KR$/.test(this.$lang)?{...le,...n}:/^es(\-[A-Z]+)?$/.test(this.$lang)?{...ce,...n}:{...ae,...n}}}},pe=e(40);e(278);r.b.component("Badge",()=>Promise.all([e.e(0),e.e(10)]).then(e.bind(null,525)));e(279),e(284);const de={prev:"上一页",next:"下一页",go:"前往",jump:"跳转至"},me={prev:"上壹頁",next:"下壹頁",go:"前往",jump:"跳轉至"},he={prev:"Prev",next:"Next",go:"Go",jump:"Jump To"},ge={prev:"前のページ",next:"次のページ",go:"へ",jump:"ジャンプ"},fe={prev:"이전 페이지",next:"다음 페이지",go:"행",jump:"건너뛰기"};var ve={data:()=>({changePage:"",pageSize:10}),props:{total:{type:Number,default:10},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},computed:{pages(){return Math.ceil(this.total/this.pageSize)},efont:function(){return this.pages>7},indexes:function(){var n=1,t=this.pages,e=[];for(this.pages>=7&&(this.currentPage>5&&this.currentPage<this.pages-4?(n=Number(this.currentPage)-3,t=Number(this.currentPage)+3):this.currentPage<=5?(n=1,t=7):(t=this.pages,n=this.pages-6));n<=t;)e.push(n),n++;return e},pagationLocales(){return function(n){const{$lang:t,$recoLocales:{pagation:e}={}}=n;return e||(/^zh\-(CN|SG)$/.test(t)?de:/^zh\-(HK|MO|TW)$/.test(t)?me:/^ja\-JP$/.test(t)?ge:/^ko\-KR$/.test(t)?fe:he)}(this)},showStartFakePageNum:function(){return this.efont&&!this.indexes.includes(1)},showLastFakePageNum:function(){return this.efont&&!this.indexes.includes(this.pages)}},methods:{goPrev(){let n=this.currentPage;this.currentPage>1&&this.emit(--n)},goNext(){let n=this.currentPage;n<this.pages&&this.emit(++n)},jumpPage:function(n){const t=parseInt(n);t<=this.pages&&t>0?this.emit(t):alert(`请输入大于0，并且小于等于${this.pages}的页码！`)},emit(n){this.$emit("getCurrentPage",n)}}},ye=(e(285),Object(Lt.a)(ve,(function(){var n=this,t=n._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:n.pages>1,expression:"pages > 1"}],staticClass:"pagation"},[t("div",{staticClass:"pagation-list"},[t("span",{directives:[{name:"show",rawName:"v-show",value:n.currentPage>1,expression:"currentPage > 1"}],staticClass:"jump",attrs:{unselectable:"on"},on:{click:n.goPrev}},[n._v(n._s(n.pagationLocales.prev))]),n._v(" "),n.showStartFakePageNum?t("span",{staticClass:"jump",on:{click:function(t){return n.jumpPage(1)}}},[n._v("1")]):n._e(),n._v(" "),n.showStartFakePageNum&&n.indexes[0]>2?t("span",{staticClass:"ellipsis"},[n._v("...")]):n._e(),n._v(" "),n._l(n.indexes,(function(e){return t("span",{key:e,staticClass:"jump",class:{bgprimary:n.currentPage==e},on:{click:function(t){return n.jumpPage(e)}}},[n._v(n._s(e))])})),n._v(" "),n.showLastFakePageNum&&n.pages-n.indexes.at(-1)>1?t("span",{staticClass:"ellipsis"},[n._v("...")]):n._e(),n._v(" "),n.showLastFakePageNum?t("span",{staticClass:"jump",on:{click:function(t){return n.jumpPage(n.pages)}}},[n._v(n._s(n.pages))]):n._e(),n._v(" "),n.currentPage<n.pages?t("span",{staticClass:"jump",on:{click:n.goNext}},[n._v(n._s(n.pagationLocales.next))]):n._e(),n._v(" "),t("span",{staticClass:"jumppoint"},[n._v(n._s(n.pagationLocales.jump))]),n._v(" "),t("span",{staticClass:"jumpinp"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.changePage,expression:"changePage"}],attrs:{type:"text"},domProps:{value:n.changePage},on:{input:function(t){t.target.composing||(n.changePage=t.target.value)}}})]),n._v(" "),t("span",{staticClass:"jump gobtn",on:{click:function(t){return n.jumpPage(n.changePage)}}},[n._v(n._s(n.pagationLocales.go))])],2)])}),[],!1,null,"22b6649c",null).exports),be={name:"Valine",props:{options:{type:Object,default:()=>({})}},mounted:function(){this.initValine()},methods:{initValine(){new(e(286))({el:"#valine",placeholder:"just go go",notify:!1,verify:!1,avatar:"retro",visitor:!0,recordIP:!1,path:window.location.pathname,...this.options})}},watch:{$route(n,t){n.path!==t.path&&setTimeout(()=>{this.initValine()},300)}}},_e=(e(287),Object(Lt.a)(be,(function(){this._self._c;return this._m(0)}),[function(){var n=this._self._c;return n("div",{staticClass:"valine-wrapper"},[n("div",{attrs:{id:"valine"}})])}],!1,null,null,null).exports),we=e(2);function xe(n){return Object(we.a)((function(t,e){void 0===t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[e]=n||e)}))}function $e(n){return"function"!=typeof n||!n.managed&&!n.managedReactive}function ke(n){var t=function(){var e=this,r="function"==typeof n?n.call(this):n;for(var i in(r=Object.create(r||null))[Te]=Object.create(this[Te]||{}),t.managed)r[t.managed[i]]=this[i];var o=function(n){r[t.managedReactive[n]]=a[n],Object.defineProperty(r[Te],t.managedReactive[n],{enumerable:!0,configurable:!0,get:function(){return e[n]}})},a=this;for(var i in t.managedReactive)o(i);return r};return t.managed={},t.managedReactive={},t}var Te="__reactiveInject__";function Ee(n){Array.isArray(n.inject)||(n.inject=n.inject||{},n.inject[Te]={from:Te,default:{}})}var Ae="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function De(n,t,e){if(Ae&&!Array.isArray(n)&&"function"!=typeof n&&!n.hasOwnProperty("type")&&void 0===n.type){var r=Reflect.getMetadata("design:type",t,e);r!==Object&&(n.type=r)}}function Ce(n){return void 0===n&&(n={}),function(t,e){De(n,t,e),Object(we.a)((function(t,e){(t.props||(t.props={}))[e]=n}))(t,e)}}function Pe(n,t){void 0===t&&(t={});var e=t.deep,r=void 0!==e&&e,i=t.immediate,o=void 0!==i&&i;return Object(we.a)((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var i=t.watch;"object"!=typeof i[n]||Array.isArray(i[n])?void 0===i[n]&&(i[n]=[]):i[n]=[i[n]],i[n].push({handler:e,deep:r,immediate:o})}))}var Se=e(20);const Ie=n=>Object(Se.stringify)(n),je=(n,t)=>`${n}${Object(Se.stringify)(t,{addQueryPrefix:!0})}`,Oe=(n,t)=>`${n.replace(/\/$/,"")}/${t.replace(/^\//,"")}`;var Le=e(136),Me=e.n(Le);const Fe=n=>Me()(n,"YYYY-MM-DD HH:mm:ss"),ze=n=>(n.split("#")[0]||"").split("?")[0]||"",Re=n=>Object(Se.parse)(n,{ignoreQueryPrefix:!0})
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */;var Be=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],Ne=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ue(n,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+n),t&&console.warn(t.stack))}var Ve=Array.isArray;function Ge(n){return null!==n&&"object"==typeof n}function qe(n){return"string"==typeof n}var He=Object.prototype.toString;function We(n){return"[object Object]"===He.call(n)}function Ye(n){return null==n}function Xe(n){return"function"==typeof n}function Qe(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var e=null,r=null;return 1===n.length?Ge(n[0])||Ve(n[0])?r=n[0]:"string"==typeof n[0]&&(e=n[0]):2===n.length&&("string"==typeof n[0]&&(e=n[0]),(Ge(n[1])||Ve(n[1]))&&(r=n[1])),{locale:e,params:r}}function Je(n){return JSON.parse(JSON.stringify(n))}function Ke(n,t){return!!~n.indexOf(t)}var Ze=Object.prototype.hasOwnProperty;function nr(n,t){return Ze.call(n,t)}function tr(n){for(var t=arguments,e=Object(n),r=1;r<arguments.length;r++){var i=t[r];if(null!=i){var o=void 0;for(o in i)nr(i,o)&&(Ge(i[o])?e[o]=tr(e[o],i[o]):e[o]=i[o])}}return e}function er(n,t){if(n===t)return!0;var e=Ge(n),r=Ge(t);if(!e||!r)return!e&&!r&&String(n)===String(t);try{var i=Ve(n),o=Ve(t);if(i&&o)return n.length===t.length&&n.every((function(n,e){return er(n,t[e])}));if(i||o)return!1;var a=Object.keys(n),s=Object.keys(t);return a.length===s.length&&a.every((function(e){return er(n[e],t[e])}))}catch(n){return!1}}function rr(n){return null!=n&&Object.keys(n).forEach((function(t){"string"==typeof n[t]&&(n[t]=n[t].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),n}var ir={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(n,t){var e=t.data,r=t.parent,i=t.props,o=t.slots,a=r.$i18n;if(a){var s=i.path,l=i.locale,c=i.places,u=o(),p=a.i(s,l,function(n){var t;for(t in n)if("default"!==t)return!1;return Boolean(t)}(u)||c?function(n,t){var e=t?function(n){0;return Array.isArray(n)?n.reduce(ar,{}):Object.assign({},n)}(t):{};if(!n)return e;var r=(n=n.filter((function(n){return n.tag||""!==n.text.trim()}))).every(sr);0;return n.reduce(r?or:ar,e)}(u.default,c):u),d=i.tag&&!0!==i.tag||!1===i.tag?i.tag:"span";return d?n(d,e,p):p}}};function or(n,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(n[t.data.attrs.place]=t),n}function ar(n,t,e){return n[e]=t,n}function sr(n){return Boolean(n.data&&n.data.attrs&&n.data.attrs.place)}var lr,cr={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(n,t){var e=t.props,r=t.parent,i=t.data,o=r.$i18n;if(!o)return null;var a=null,s=null;qe(e.format)?a=e.format:Ge(e.format)&&(e.format.key&&(a=e.format.key),s=Object.keys(e.format).reduce((function(n,t){var r;return Ke(Be,t)?Object.assign({},n,((r={})[t]=e.format[t],r)):n}),null));var l=e.locale||o.locale,c=o._ntp(e.value,l,a,s),u=c.map((function(n,t){var e,r=i.scopedSlots&&i.scopedSlots[n.type];return r?r(((e={})[n.type]=n.value,e.index=t,e.parts=c,e)):n.value})),p=e.tag&&!0!==e.tag||!1===e.tag?e.tag:"span";return p?n(p,{attrs:i.attrs,class:i.class,staticClass:i.staticClass},u):u}};function ur(n,t,e){mr(n,e)&&hr(n,t,e)}function pr(n,t,e,r){if(mr(n,e)){var i=e.context.$i18n;(function(n,t){var e=t.context;return n._locale===e.$i18n.locale})(n,e)&&er(t.value,t.oldValue)&&er(n._localeMessage,i.getLocaleMessage(i.locale))||hr(n,t,e)}}function dr(n,t,e,r){if(e.context){var i=e.context.$i18n||{};t.modifiers.preserve||i.preserveDirectiveContent||(n.textContent=""),n._vt=void 0,delete n._vt,n._locale=void 0,delete n._locale,n._localeMessage=void 0,delete n._localeMessage}else Ue("Vue instance does not exists in VNode context")}function mr(n,t){var e=t.context;return e?!!e.$i18n||(Ue("VueI18n instance does not exists in Vue instance"),!1):(Ue("Vue instance does not exists in VNode context"),!1)}function hr(n,t,e){var r,i,o=function(n){var t,e,r,i;qe(n)?t=n:We(n)&&(t=n.path,e=n.locale,r=n.args,i=n.choice);return{path:t,locale:e,args:r,choice:i}}(t.value),a=o.path,s=o.locale,l=o.args,c=o.choice;if(a||s||l)if(a){var u=e.context;n._vt=n.textContent=null!=c?(r=u.$i18n).tc.apply(r,[a,c].concat(gr(s,l))):(i=u.$i18n).t.apply(i,[a].concat(gr(s,l))),n._locale=u.$i18n.locale,n._localeMessage=u.$i18n.getLocaleMessage(u.$i18n.locale)}else Ue("`path` is required in v-t directive");else Ue("value type not supported")}function gr(n,t){var e=[];return n&&e.push(n),t&&(Array.isArray(t)||We(t))&&e.push(t),e}function fr(n,t){void 0===t&&(t={bridge:!1}),fr.installed=!0;var e;(lr=n).version&&Number(lr.version.split(".")[0]);(e=lr).prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(n){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];var r=this.$i18n;return r._t.apply(r,[n,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(n,t){for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];var i=this.$i18n;return i._tc.apply(i,[n,i.locale,i._getMessages(),this,t].concat(e))},e.prototype.$te=function(n,t){var e=this.$i18n;return e._te(n,e.locale,e._getMessages(),t)},e.prototype.$d=function(n){for(var t,e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[n].concat(e))},e.prototype.$n=function(n){for(var t,e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[n].concat(e))},lr.mixin(function(n){function t(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===n&&(n=!1),n?{mounted:t}:{beforeCreate:function(){var n=this.$options;if(n.i18n=n.i18n||(n.__i18nBridge||n.__i18n?{}:null),n.i18n)if(n.i18n instanceof Ir){if(n.__i18nBridge||n.__i18n)try{var t=n.i18n&&n.i18n.messages?n.i18n.messages:{};(n.__i18nBridge||n.__i18n).forEach((function(n){t=tr(t,JSON.parse(n))})),Object.keys(t).forEach((function(e){n.i18n.mergeLocaleMessage(e,t[e])}))}catch(n){0}this._i18n=n.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(We(n.i18n)){var e=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ir?this.$root.$i18n:null;if(e&&(n.i18n.root=this.$root,n.i18n.formatter=e.formatter,n.i18n.fallbackLocale=e.fallbackLocale,n.i18n.formatFallbackMessages=e.formatFallbackMessages,n.i18n.silentTranslationWarn=e.silentTranslationWarn,n.i18n.silentFallbackWarn=e.silentFallbackWarn,n.i18n.pluralizationRules=e.pluralizationRules,n.i18n.preserveDirectiveContent=e.preserveDirectiveContent),n.__i18nBridge||n.__i18n)try{var r=n.i18n&&n.i18n.messages?n.i18n.messages:{};(n.__i18nBridge||n.__i18n).forEach((function(n){r=tr(r,JSON.parse(n))})),n.i18n.messages=r}catch(n){0}var i=n.i18n.sharedMessages;i&&We(i)&&(n.i18n.messages=tr(n.i18n.messages,i)),this._i18n=new Ir(n.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===n.i18n.sync||n.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),e&&e.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ir?this._i18n=this.$root.$i18n:n.parent&&n.parent.$i18n&&n.parent.$i18n instanceof Ir&&(this._i18n=n.parent.$i18n)},beforeMount:function(){var n=this.$options;n.i18n=n.i18n||(n.__i18nBridge||n.__i18n?{}:null),n.i18n?(n.i18n instanceof Ir||We(n.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Ir||n.parent&&n.parent.$i18n&&n.parent.$i18n instanceof Ir)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:t,beforeDestroy:function(){if(this._i18n){var n=this;this.$nextTick((function(){n._subscribing&&(n._i18n.unsubscribeDataChanging(n),delete n._subscribing),n._i18nWatcher&&(n._i18nWatcher(),n._i18n.destroyVM(),delete n._i18nWatcher),n._localeWatcher&&(n._localeWatcher(),delete n._localeWatcher)}))}}}}(t.bridge)),lr.directive("t",{bind:ur,update:pr,unbind:dr}),lr.component(ir.name,ir),lr.component(cr.name,cr),lr.config.optionMergeStrategies.i18n=function(n,t){return void 0===t?n:t}}var vr=function(){this._caches=Object.create(null)};vr.prototype.interpolate=function(n,t){if(!t)return[n];var e=this._caches[n];return e||(e=function(n){var t=[],e=0,r="";for(;e<n.length;){var i=n[e++];if("{"===i){r&&t.push({type:"text",value:r}),r="";var o="";for(i=n[e++];void 0!==i&&"}"!==i;)o+=i,i=n[e++];var a="}"===i,s=yr.test(o)?"list":a&&br.test(o)?"named":"unknown";t.push({value:o,type:s})}else"%"===i?"{"!==n[e]&&(r+=i):r+=i}return r&&t.push({type:"text",value:r}),t}(n),this._caches[n]=e),function(n,t){var e=[],r=0,i=Array.isArray(t)?"list":Ge(t)?"named":"unknown";if("unknown"===i)return e;for(;r<n.length;){var o=n[r];switch(o.type){case"text":e.push(o.value);break;case"list":e.push(t[parseInt(o.value,10)]);break;case"named":"named"===i&&e.push(t[o.value]);break;case"unknown":0}r++}return e}(e,t)};var yr=/^(?:\d)+/,br=/^(?:\w)+/;var _r=[];_r[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},_r[1]={ws:[1],".":[2],"[":[4],eof:[7]},_r[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},_r[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},_r[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},_r[5]={"'":[4,0],eof:8,else:[5,0]},_r[6]={'"':[4,0],eof:8,else:[6,0]};var wr=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xr(n){if(null==n)return"eof";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function $r(n){var t,e,r,i=n.trim();return("0"!==n.charAt(0)||!isNaN(n))&&(r=i,wr.test(r)?(e=(t=i).charCodeAt(0))!==t.charCodeAt(t.length-1)||34!==e&&39!==e?t:t.slice(1,-1):"*"+i)}var kr=function(){this._cache=Object.create(null)};kr.prototype.parsePath=function(n){var t=this._cache[n];return t||(t=function(n){var t,e,r,i,o,a,s,l=[],c=-1,u=0,p=0,d=[];function m(){var t=n[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,r="\\"+t,d[0](),!0}for(d[1]=function(){void 0!==e&&(l.push(e),e=void 0)},d[0]=function(){void 0===e?e=r:e+=r},d[2]=function(){d[0](),p++},d[3]=function(){if(p>0)p--,u=4,d[0]();else{if(p=0,void 0===e)return!1;if(!1===(e=$r(e)))return!1;d[1]()}};null!==u;)if(c++,"\\"!==(t=n[c])||!m()){if(i=xr(t),8===(o=(s=_r[u])[i]||s.else||8))return;if(u=o[0],(a=d[o[1]])&&(r=void 0===(r=o[2])?t:r,!1===a()))return;if(7===u)return l}}(n))&&(this._cache[n]=t),t||[]},kr.prototype.getPathValue=function(n,t){if(!Ge(n))return null;var e=this.parsePath(t);if(0===e.length)return null;for(var r=e.length,i=n,o=0;o<r;){var a=i[e[o]];if(null==a)return null;i=a,o++}return i};var Tr,Er=/<\/?[\w\s="/.':;#-\/]+>/,Ar=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Dr=/^@(?:\.([a-zA-Z]+))?:/,Cr=/[()]/g,Pr={upper:function(n){return n.toLocaleUpperCase()},lower:function(n){return n.toLocaleLowerCase()},capitalize:function(n){return""+n.charAt(0).toLocaleUpperCase()+n.substr(1)}},Sr=new vr,Ir=function(n){var t=this;void 0===n&&(n={}),!lr&&"undefined"!=typeof window&&window.Vue&&fr(window.Vue);var e=n.locale||"en-US",r=!1!==n.fallbackLocale&&(n.fallbackLocale||"en-US"),i=n.messages||{},o=n.dateTimeFormats||n.datetimeFormats||{},a=n.numberFormats||{};this._vm=null,this._formatter=n.formatter||Sr,this._modifiers=n.modifiers||{},this._missing=n.missing||null,this._root=n.root||null,this._sync=void 0===n.sync||!!n.sync,this._fallbackRoot=void 0===n.fallbackRoot||!!n.fallbackRoot,this._fallbackRootWithEmptyString=void 0===n.fallbackRootWithEmptyString||!!n.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==n.formatFallbackMessages&&!!n.formatFallbackMessages,this._silentTranslationWarn=void 0!==n.silentTranslationWarn&&n.silentTranslationWarn,this._silentFallbackWarn=void 0!==n.silentFallbackWarn&&!!n.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new kr,this._dataListeners=new Set,this._componentInstanceCreatedListener=n.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==n.preserveDirectiveContent&&!!n.preserveDirectiveContent,this.pluralizationRules=n.pluralizationRules||{},this._warnHtmlInMessage=n.warnHtmlInMessage||"off",this._postTranslation=n.postTranslation||null,this._escapeParameterHtml=n.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in n&&(this.__VUE_I18N_BRIDGE__=n.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(n,e){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(t,n,e);var i,o;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[n,e]):(i=n,o=e,i=Math.abs(i),2===o?i?i>1?1:0:1:i?Math.min(i,2):0)},this._exist=function(n,e){return!(!n||!e)&&(!Ye(t._path.getPathValue(n,e))||!!n[e])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(i).forEach((function(n){t._checkLocaleMessage(n,t._warnHtmlInMessage,i[n])})),this._initVM({locale:e,fallbackLocale:r,messages:i,dateTimeFormats:o,numberFormats:a})},jr={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Ir.prototype._checkLocaleMessage=function(n,t,e){var r=function(n,t,e,i){if(We(e))Object.keys(e).forEach((function(o){var a=e[o];We(a)?(i.push(o),i.push("."),r(n,t,a,i),i.pop(),i.pop()):(i.push(o),r(n,t,a,i),i.pop())}));else if(Ve(e))e.forEach((function(e,o){We(e)?(i.push("["+o+"]"),i.push("."),r(n,t,e,i),i.pop(),i.pop()):(i.push("["+o+"]"),r(n,t,e,i),i.pop())}));else if(qe(e)){if(Er.test(e)){var o="Detected HTML in message '"+e+"' of keypath '"+i.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===n?Ue(o):"error"===n&&function(n,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+n),t&&console.error(t.stack))}(o)}}};r(t,n,e,[])},Ir.prototype._initVM=function(n){var t=lr.config.silent;lr.config.silent=!0,this._vm=new lr({data:n,__VUE18N__INSTANCE__:!0}),lr.config.silent=t},Ir.prototype.destroyVM=function(){this._vm.$destroy()},Ir.prototype.subscribeDataChanging=function(n){this._dataListeners.add(n)},Ir.prototype.unsubscribeDataChanging=function(n){!function(n,t){if(n.delete(t));}(this._dataListeners,n)},Ir.prototype.watchI18nData=function(){var n=this;return this._vm.$watch("$data",(function(){for(var t,e,r=(t=n._dataListeners,e=[],t.forEach((function(n){return e.push(n)})),e),i=r.length;i--;)lr.nextTick((function(){r[i]&&r[i].$forceUpdate()}))}),{deep:!0})},Ir.prototype.watchLocale=function(n){if(n){if(!this.__VUE_I18N_BRIDGE__)return null;var t=this,e=this._vm;return this.vm.$watch("locale",(function(r){e.$set(e,"locale",r),t.__VUE_I18N_BRIDGE__&&n&&(n.locale.value=r),e.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(n){r.$set(r,"locale",n),r.$forceUpdate()}),{immediate:!0})},Ir.prototype.onComponentInstanceCreated=function(n){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(n,this)},jr.vm.get=function(){return this._vm},jr.messages.get=function(){return Je(this._getMessages())},jr.dateTimeFormats.get=function(){return Je(this._getDateTimeFormats())},jr.numberFormats.get=function(){return Je(this._getNumberFormats())},jr.availableLocales.get=function(){return Object.keys(this.messages).sort()},jr.locale.get=function(){return this._vm.locale},jr.locale.set=function(n){this._vm.$set(this._vm,"locale",n)},jr.fallbackLocale.get=function(){return this._vm.fallbackLocale},jr.fallbackLocale.set=function(n){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",n)},jr.formatFallbackMessages.get=function(){return this._formatFallbackMessages},jr.formatFallbackMessages.set=function(n){this._formatFallbackMessages=n},jr.missing.get=function(){return this._missing},jr.missing.set=function(n){this._missing=n},jr.formatter.get=function(){return this._formatter},jr.formatter.set=function(n){this._formatter=n},jr.silentTranslationWarn.get=function(){return this._silentTranslationWarn},jr.silentTranslationWarn.set=function(n){this._silentTranslationWarn=n},jr.silentFallbackWarn.get=function(){return this._silentFallbackWarn},jr.silentFallbackWarn.set=function(n){this._silentFallbackWarn=n},jr.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},jr.preserveDirectiveContent.set=function(n){this._preserveDirectiveContent=n},jr.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},jr.warnHtmlInMessage.set=function(n){var t=this,e=this._warnHtmlInMessage;if(this._warnHtmlInMessage=n,e!==n&&("warn"===n||"error"===n)){var r=this._getMessages();Object.keys(r).forEach((function(n){t._checkLocaleMessage(n,t._warnHtmlInMessage,r[n])}))}},jr.postTranslation.get=function(){return this._postTranslation},jr.postTranslation.set=function(n){this._postTranslation=n},jr.sync.get=function(){return this._sync},jr.sync.set=function(n){this._sync=n},Ir.prototype._getMessages=function(){return this._vm.messages},Ir.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Ir.prototype._getNumberFormats=function(){return this._vm.numberFormats},Ir.prototype._warnDefault=function(n,t,e,r,i,o){if(!Ye(e))return e;if(this._missing){var a=this._missing.apply(null,[n,t,r,i]);if(qe(a))return a}else 0;if(this._formatFallbackMessages){var s=Qe.apply(void 0,i);return this._render(t,o,s.params,t)}return t},Ir.prototype._isFallbackRoot=function(n){return(this._fallbackRootWithEmptyString?!n:Ye(n))&&!Ye(this._root)&&this._fallbackRoot},Ir.prototype._isSilentFallbackWarn=function(n){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(n):this._silentFallbackWarn},Ir.prototype._isSilentFallback=function(n,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||n!==this.fallbackLocale)},Ir.prototype._isSilentTranslationWarn=function(n){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(n):this._silentTranslationWarn},Ir.prototype._interpolate=function(n,t,e,r,i,o,a){if(!t)return null;var s,l=this._path.getPathValue(t,e);if(Ve(l)||We(l))return l;if(Ye(l)){if(!We(t))return null;if(!qe(s=t[e])&&!Xe(s))return null}else{if(!qe(l)&&!Xe(l))return null;s=l}return qe(s)&&(s.indexOf("@:")>=0||s.indexOf("@.")>=0)&&(s=this._link(n,t,s,r,"raw",o,a)),this._render(s,i,o,e)},Ir.prototype._link=function(n,t,e,r,i,o,a){var s=e,l=s.match(Ar);for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],p=u.match(Dr),d=p[0],m=p[1],h=u.replace(d,"").replace(Cr,"");if(Ke(a,h))return s;a.push(h);var g=this._interpolate(n,t,h,r,"raw"===i?"string":i,"raw"===i?void 0:o,a);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var f=this._root.$i18n;g=f._translate(f._getMessages(),f.locale,f.fallbackLocale,h,r,i,o)}g=this._warnDefault(n,h,g,r,Ve(o)?o:[o],i),this._modifiers.hasOwnProperty(m)?g=this._modifiers[m](g):Pr.hasOwnProperty(m)&&(g=Pr[m](g)),a.pop(),s=g?s.replace(u,g):s}return s},Ir.prototype._createMessageContext=function(n,t,e,r){var i=this,o=Ve(n)?n:[],a=Ge(n)?n:{},s=this._getMessages(),l=this.locale;return{list:function(n){return o[n]},named:function(n){return a[n]},values:n,formatter:t,path:e,messages:s,locale:l,linked:function(n){return i._interpolate(l,s[l]||{},n,null,r,void 0,[n])}}},Ir.prototype._render=function(n,t,e,r){if(Xe(n))return n(this._createMessageContext(e,this._formatter||Sr,r,t));var i=this._formatter.interpolate(n,e,r);return i||(i=Sr.interpolate(n,e,r)),"string"!==t||qe(i)?i:i.join("")},Ir.prototype._appendItemToChain=function(n,t,e){var r=!1;return Ke(n,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),n.push(t),e&&e[t]&&(r=e[t]))),r},Ir.prototype._appendLocaleToChain=function(n,t,e){var r,i=t.split("-");do{var o=i.join("-");r=this._appendItemToChain(n,o,e),i.splice(-1,1)}while(i.length&&!0===r);return r},Ir.prototype._appendBlockToChain=function(n,t,e){for(var r=!0,i=0;i<t.length&&"boolean"==typeof r;i++){var o=t[i];qe(o)&&(r=this._appendLocaleToChain(n,o,e))}return r},Ir.prototype._getLocaleChain=function(n,t){if(""===n)return[];this._localeChainCache||(this._localeChainCache={});var e=this._localeChainCache[n];if(!e){t||(t=this.fallbackLocale),e=[];for(var r,i=[n];Ve(i);)i=this._appendBlockToChain(e,i,t);(i=qe(r=Ve(t)?t:Ge(t)?t.default?t.default:null:t)?[r]:r)&&this._appendBlockToChain(e,i,null),this._localeChainCache[n]=e}return e},Ir.prototype._translate=function(n,t,e,r,i,o,a){for(var s,l=this._getLocaleChain(t,e),c=0;c<l.length;c++){var u=l[c];if(!Ye(s=this._interpolate(u,n[u],r,i,o,a,[r])))return s}return null},Ir.prototype._t=function(n,t,e,r){for(var i,o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];if(!n)return"";var s=Qe.apply(void 0,o);this._escapeParameterHtml&&(s.params=rr(s.params));var l=s.locale||t,c=this._translate(e,l,this.fallbackLocale,n,r,"string",s.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(i=this._root).$t.apply(i,[n].concat(o))}return c=this._warnDefault(l,n,c,r,o,"string"),this._postTranslation&&null!=c&&(c=this._postTranslation(c,n)),c},Ir.prototype.t=function(n){for(var t,e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return(t=this)._t.apply(t,[n,this.locale,this._getMessages(),null].concat(e))},Ir.prototype._i=function(n,t,e,r,i){var o=this._translate(e,t,this.fallbackLocale,n,r,"raw",i);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(n,t,i)}return this._warnDefault(t,n,o,r,[i],"raw")},Ir.prototype.i=function(n,t,e){return n?(qe(t)||(t=this.locale),this._i(n,t,this._getMessages(),null,e)):""},Ir.prototype._tc=function(n,t,e,r,i){for(var o,a=[],s=arguments.length-5;s-- >0;)a[s]=arguments[s+5];if(!n)return"";void 0===i&&(i=1);var l={count:i,n:i},c=Qe.apply(void 0,a);return c.params=Object.assign(l,c.params),a=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((o=this)._t.apply(o,[n,t,e,r].concat(a)),i)},Ir.prototype.fetchChoice=function(n,t){if(!n||!qe(n))return null;var e=n.split("|");return e[t=this.getChoiceIndex(t,e.length)]?e[t].trim():n},Ir.prototype.tc=function(n,t){for(var e,r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return(e=this)._tc.apply(e,[n,this.locale,this._getMessages(),null,t].concat(r))},Ir.prototype._te=function(n,t,e){for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=Qe.apply(void 0,r).locale||t;return this._exist(e[o],n)},Ir.prototype.te=function(n,t){return this._te(n,this.locale,this._getMessages(),t)},Ir.prototype.getLocaleMessage=function(n){return Je(this._vm.messages[n]||{})},Ir.prototype.setLocaleMessage=function(n,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(n,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,n,t)},Ir.prototype.mergeLocaleMessage=function(n,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(n,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,n,tr(void 0!==this._vm.messages[n]&&Object.keys(this._vm.messages[n]).length?Object.assign({},this._vm.messages[n]):{},t))},Ir.prototype.getDateTimeFormat=function(n){return Je(this._vm.dateTimeFormats[n]||{})},Ir.prototype.setDateTimeFormat=function(n,t){this._vm.$set(this._vm.dateTimeFormats,n,t),this._clearDateTimeFormat(n,t)},Ir.prototype.mergeDateTimeFormat=function(n,t){this._vm.$set(this._vm.dateTimeFormats,n,tr(this._vm.dateTimeFormats[n]||{},t)),this._clearDateTimeFormat(n,t)},Ir.prototype._clearDateTimeFormat=function(n,t){for(var e in t){var r=n+"__"+e;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Ir.prototype._localizeDateTime=function(n,t,e,r,i,o){for(var a=t,s=r[a],l=this._getLocaleChain(t,e),c=0;c<l.length;c++){var u=l[c];if(a=u,!Ye(s=r[u])&&!Ye(s[i]))break}if(Ye(s)||Ye(s[i]))return null;var p,d=s[i];if(o)p=new Intl.DateTimeFormat(a,Object.assign({},d,o));else{var m=a+"__"+i;(p=this._dateTimeFormatters[m])||(p=this._dateTimeFormatters[m]=new Intl.DateTimeFormat(a,d))}return p.format(n)},Ir.prototype._d=function(n,t,e,r){if(!e)return(r?new Intl.DateTimeFormat(t,r):new Intl.DateTimeFormat(t)).format(n);var i=this._localizeDateTime(n,t,this.fallbackLocale,this._getDateTimeFormats(),e,r);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(n,e,t)}return i||""},Ir.prototype.d=function(n){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];var r=this.locale,i=null,o=null;return 1===t.length?(qe(t[0])?i=t[0]:Ge(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(i=t[0].key)),o=Object.keys(t[0]).reduce((function(n,e){var r;return Ke(Ne,e)?Object.assign({},n,((r={})[e]=t[0][e],r)):n}),null)):2===t.length&&(qe(t[0])&&(i=t[0]),qe(t[1])&&(r=t[1])),this._d(n,r,i,o)},Ir.prototype.getNumberFormat=function(n){return Je(this._vm.numberFormats[n]||{})},Ir.prototype.setNumberFormat=function(n,t){this._vm.$set(this._vm.numberFormats,n,t),this._clearNumberFormat(n,t)},Ir.prototype.mergeNumberFormat=function(n,t){this._vm.$set(this._vm.numberFormats,n,tr(this._vm.numberFormats[n]||{},t)),this._clearNumberFormat(n,t)},Ir.prototype._clearNumberFormat=function(n,t){for(var e in t){var r=n+"__"+e;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Ir.prototype._getNumberFormatter=function(n,t,e,r,i,o){for(var a=t,s=r[a],l=this._getLocaleChain(t,e),c=0;c<l.length;c++){var u=l[c];if(a=u,!Ye(s=r[u])&&!Ye(s[i]))break}if(Ye(s)||Ye(s[i]))return null;var p,d=s[i];if(o)p=new Intl.NumberFormat(a,Object.assign({},d,o));else{var m=a+"__"+i;(p=this._numberFormatters[m])||(p=this._numberFormatters[m]=new Intl.NumberFormat(a,d))}return p},Ir.prototype._n=function(n,t,e,r){if(!Ir.availabilities.numberFormat)return"";if(!e)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).format(n);var i=this._getNumberFormatter(n,t,this.fallbackLocale,this._getNumberFormats(),e,r),o=i&&i.format(n);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(n,Object.assign({},{key:e,locale:t},r))}return o||""},Ir.prototype.n=function(n){for(var t=[],e=arguments.length-1;e-- >0;)t[e]=arguments[e+1];var r=this.locale,i=null,o=null;return 1===t.length?qe(t[0])?i=t[0]:Ge(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(i=t[0].key),o=Object.keys(t[0]).reduce((function(n,e){var r;return Ke(Be,e)?Object.assign({},n,((r={})[e]=t[0][e],r)):n}),null)):2===t.length&&(qe(t[0])&&(i=t[0]),qe(t[1])&&(r=t[1])),this._n(n,r,i,o)},Ir.prototype._ntp=function(n,t,e,r){if(!Ir.availabilities.numberFormat)return[];if(!e)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).formatToParts(n);var i=this._getNumberFormatter(n,t,this.fallbackLocale,this._getNumberFormats(),e,r),o=i&&i.formatToParts(n);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(n,t,e,r)}return o||[]},Object.defineProperties(Ir.prototype,jr),Object.defineProperty(Ir,"availabilities",{get:function(){if(!Tr){var n="undefined"!=typeof Intl;Tr={dateTimeFormat:n&&void 0!==Intl.DateTimeFormat,numberFormat:n&&void 0!==Intl.NumberFormat}}return Tr}}),Ir.install=fr,Ir.version="8.28.2";var Or=Ir;
/*!
 * vssue - A vue-powered issue-based comment plugin
 *
 * @version v1.4.8
 * @link https://vssue.js.org
 * @license MIT
 * @copyright 2018-2021 meteorlxy
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Lr(n,t,e,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(i=n[s])&&(a=(o<3?i(a):o>3?i(t,e,a):i(t,e))||a);return o>3&&a&&Object.defineProperty(t,e,a),a}var Mr=r.b.extend({name:"Iconfont"});function Fr(n,t,e,r,i,o,a,s,l,c){"boolean"!=typeof a&&(l=s,s=a,a=!1);const u="function"==typeof e?e.options:e;let p;if(n&&n.render&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),r&&(u._scopeId=r),o?(p=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(o)},u._ssrRegister=p):t&&(p=a?function(n){t.call(this,c(n,this.$root.$options.shadowRoot))}:function(n){t.call(this,s(n))}),p)if(u.functional){const n=u.render;u.render=function(t,e){return p.call(e),n(t,e)}}else{const n=u.beforeCreate;u.beforeCreate=n?[].concat(n,p):[p]}return e}"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const zr=Fr({render:function(n,t){var e=t._c;return e("svg",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e("symbol",{attrs:{id:"vssue-icon-bitbucket",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-gitea",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-gitee",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-github",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-gitlab",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-loading",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-like",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-unlike",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-heart",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-edit",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"}}),t._v(" "),e("path",{attrs:{d:"M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-delete",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-reply",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"}})]),t._v(" "),e("symbol",{attrs:{id:"vssue-icon-error",viewBox:"0 0 1024 1024"}},[e("path",{attrs:{d:"M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}}),t._v(" "),e("path",{attrs:{d:"M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"}}),t._v(" "),e("path",{attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"}})])])},staticRenderFns:[]},void 0,Mr,void 0,!0,void 0,!1,void 0,void 0,void 0);const Rr=Fr({},void 0,r.b.extend({name:"TransitionFade",functional:!0,props:{group:{type:Boolean,required:!1,default:!1},tag:{type:String,required:!1,default:"div"}},render:(n,{props:t,children:e})=>n(t.group?"TransitionGroup":"Transition",{props:{name:"fade",mode:"out-in",appear:!0,tag:t.tag}},e)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);const Br=Fr({},void 0,r.b.extend({name:"VssueIcon",functional:!0,props:{name:{type:String,required:!0},title:{type:String,required:!1,default:null}},render:(n,{props:t,data:e})=>n("svg",Object.assign(Object.assign({},e),{class:["vssue-icon","vssue-icon-"+t.name],attrs:{"aria-hidden":"true"}}),[n("title",t.title),n("use",{attrs:{"xlink:href":"#vssue-icon-"+t.name}})])}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let Nr=class extends r.b{constructor(){super(...arguments),this.editMode=!1,this.editContent=this.comment.contentRaw,this.creatingReactions=[],this.isPutingComment=!1,this.isDeletingComment=!1}get currentUser(){return this.vssue.user?this.vssue.user.username:null}get content(){return this.comment.content}get author(){return this.comment.author}get createdAt(){return Fe(this.comment.createdAt)}get updatedAt(){return Fe(this.comment.updatedAt)}get showReactions(){return Boolean(this.vssue.API&&this.vssue.API.platform.meta.reactable&&this.comment.reactions&&!this.editMode)}get reactionKeys(){return["heart","like","unlike"]}get editContentRows(){return this.editContent.split("\n").length-1}get editInputRows(){return this.editContentRows<3?5:this.editContentRows+2}async postReaction({reaction:n}){try{if(this.creatingReactions.includes(n))return;this.creatingReactions.push(n);await this.vssue.postCommentReaction({commentId:this.comment.id,reaction:n})||this.vssue.$emit("error",new Error(this.vssue.$t("reactionGiven",{reaction:this.vssue.$t(n)})));const t=await this.vssue.getCommentReactions({commentId:this.comment.id});t&&(this.comment.reactions=t)}finally{this.creatingReactions.splice(this.creatingReactions.findIndex(t=>t===n),1)}}enterEdit(){this.editMode=!0,this.$nextTick(()=>{this.$refs.input.focus()})}resetEdit(){this.editMode=!1,this.editContent=this.comment.contentRaw}async putComment(){try{if(this.vssue.isPending)return;if(this.editContent!==this.comment.contentRaw){this.isPutingComment=!0,this.vssue.isUpdatingComment=!0;const n=await this.vssue.putComment({commentId:this.comment.id,content:this.editContent});n&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(n=>n.id===this.comment.id),1,n)}this.editMode=!1}finally{this.isPutingComment=!1,this.vssue.isUpdatingComment=!1}}async deleteComment(){try{if(this.vssue.isPending)return;if(!window.confirm(this.vssue.$t("deleteConfirm")))return;this.isDeletingComment=!0,this.vssue.isUpdatingComment=!0;await this.vssue.deleteComment({commentId:this.comment.id})?(this.vssue.comments.count-=1,this.vssue.comments.data.length>1&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(n=>n.id===this.comment.id),1),this.vssue.query.page>1&&this.vssue.query.page>Math.ceil(this.vssue.comments.count/this.vssue.query.perPage)?this.vssue.query.page-=1:await this.vssue.getComments()):this.vssue.$emit("error",new Error(this.vssue.$t("deleteFailed")))}finally{this.isDeletingComment=!1,this.vssue.isUpdatingComment=!1}}};Lr([Ce({type:Object,required:!0})],Nr.prototype,"comment",void 0),Lr([xe()],Nr.prototype,"vssue",void 0),Nr=Lr([Object(we.b)({components:{VssueIcon:Br}})],Nr);const Ur=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vssue-comment",class:{"vssue-comment-edit-mode":n.editMode,"vssue-comment-disabled":n.isDeletingComment||n.isPutingComment}},[e("div",{staticClass:"vssue-comment-avatar"},[e("a",{attrs:{href:n.author.homepage,title:n.author.username,target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:n.author.avatar,alt:n.author.username}})])]),n._v(" "),e("div",{staticClass:"vssue-comment-body"},[n._t("body",[e("div",{staticClass:"vssue-comment-header"},[e("span",{staticClass:"vssue-comment-author"},[e("a",{attrs:{href:n.author.homepage,title:n.author.username,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n            "+n._s(n.author.username)+"\n          ")])]),n._v(" "),e("span",{staticClass:"vssue-comment-created-at"},[n._v("\n          "+n._s(n.createdAt)+"\n        ")])]),n._v(" "),e("div",{staticClass:"vssue-comment-main"},[n.editMode?e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.editContent,expression:"editContent"}],ref:"input",staticClass:"vssue-edit-comment-input",attrs:{rows:n.editInputRows},domProps:{value:n.editContent},on:{keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?n.putComment():null},input:function(t){t.target.composing||(n.editContent=t.target.value)}}}):e("article",{staticClass:"markdown-body",domProps:{innerHTML:n._s(n.content)}})]),n._v(" "),e("div",{staticClass:"vssue-comment-footer"},[n.editMode?e("span",{staticClass:"vssue-comment-hint"},[n._v("\n          "+n._s(n.vssue.$t("editMode"))+"\n        ")]):n._e(),n._v(" "),n.showReactions?e("span",{staticClass:"vssue-comment-reactions"},n._l(n.reactionKeys,(function(t){return e("span",{key:t,staticClass:"vssue-comment-reaction",attrs:{title:n.vssue.$t(n.creatingReactions.includes(t)?"loading":t)},on:{click:function(e){return n.postReaction({reaction:t})}}},[e("VssueIcon",{attrs:{name:n.creatingReactions.includes(t)?"loading":t,title:n.vssue.$t(n.creatingReactions.includes(t)?"loading":t)}}),n._v(" "),e("span",{staticClass:"vssue-comment-reaction-number"},[n._v("\n              "+n._s(n.comment.reactions[t])+"\n            ")])],1)})),0):n._e(),n._v(" "),e("span",{staticClass:"vssue-comment-operations"},[n.comment.author.username===n.currentUser&&n.editMode?e("span",{staticClass:"vssue-comment-operation",class:{"vssue-comment-operation-muted":n.isPutingComment},attrs:{title:n.vssue.$t(n.isPutingComment?"loading":"submit")},on:{click:function(t){return n.putComment()}}},[e("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:n.isPutingComment,expression:"isPutingComment"}],attrs:{name:"loading",title:n.vssue.$t("loading")}}),n._v("\n\n            "+n._s(n.vssue.$t("submit"))+"\n          ")],1):n._e(),n._v(" "),n.comment.author.username===n.currentUser&&n.editMode?e("span",{staticClass:"vssue-comment-operation vssue-comment-operation-muted",attrs:{title:n.vssue.$t("cancel")},on:{click:function(t){return n.resetEdit()}}},[n._v("\n            "+n._s(n.vssue.$t("cancel"))+"\n          ")]):n._e(),n._v(" "),n.comment.author.username===n.currentUser?e("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return n.enterEdit()}}},[e("VssueIcon",{attrs:{name:"edit",title:n.vssue.$t("edit")}})],1):n._e(),n._v(" "),n.comment.author.username===n.currentUser||n.vssue.isAdmin?e("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return n.deleteComment()}}},[e("VssueIcon",{attrs:{name:n.isDeletingComment?"loading":"delete",title:n.vssue.$t(n.isDeletingComment?"loading":"delete")}})],1):n._e(),n._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(t){return n.vssue.$emit("reply-comment",n.comment)}}},[e("VssueIcon",{attrs:{name:"reply",title:n.vssue.$t("reply")}})],1)])])])],2)])},staticRenderFns:[]},void 0,Nr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Vr=class extends r.b{get disabled(){return this.vssue.isPending}get pageCount(){const n=Math.ceil(this.vssue.comments.count/this.vssue.comments.perPage);return n>1?n:1}get perPageOptions(){const n=[5,10,20,50];return!n.includes(this.vssue.options.perPage)&&this.vssue.options.perPage<100&&n.push(this.vssue.options.perPage),n.sort((n,t)=>n-t)}get page(){return this.vssue.query.page>this.pageCount?this.pageCount:this.vssue.query.page}set page(n){n>0&&n<=this.pageCount&&(this.vssue.query.page=n)}get perPage(){return this.vssue.query.perPage}set perPage(n){this.perPageOptions.includes(n)&&(this.vssue.query.perPage=n)}};Lr([xe()],Vr.prototype,"vssue",void 0),Vr=Lr([Object(we.b)({components:{VssueIcon:Br}})],Vr);const Gr=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vssue-pagination"},[e("div",{staticClass:"vssue-pagination-per-page"},[e("label",[e("select",{directives:[{name:"model",rawName:"v-model",value:n.perPage,expression:"perPage"}],staticClass:"vssue-pagination-select",attrs:{disabled:n.disabled},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(n){return n.selected})).map((function(n){return"_value"in n?n._value:n.value}));n.perPage=t.target.multiple?e:e[0]}}},n._l(n.perPageOptions,(function(t){return e("option",{key:t,domProps:{value:t}},[n._v("\n          "+n._s(t)+"\n        ")])})),0),n._v(" "),e("span",[n._v("\n        "+n._s(n.vssue.$t("perPage"))+"\n      ")])]),n._v(" "),n.vssue.API.platform.meta.sortable?e("span",{class:{"vssue-pagination-link":!0,disabled:n.disabled},attrs:{title:n.vssue.$t("sort")},on:{click:function(t){n.vssue.query.sort="asc"===n.vssue.query.sort?"desc":"asc"}}},[n._v("\n      "+n._s("asc"===n.vssue.query.sort?"↑":"↓")+"\n    ")]):n._e()]),n._v(" "),e("div",{staticClass:"vssue-pagination-page"},[e("span",{class:{"vssue-pagination-link":!0,disabled:1===n.page||n.disabled},attrs:{title:n.vssue.$t("prev")},domProps:{textContent:n._s("<")},on:{click:function(t){n.page-=1}}}),n._v(" "),e("label",[e("span",[n._v("\n        "+n._s(n.vssue.$t("page"))+"\n      ")]),n._v(" "),e("select",{directives:[{name:"show",rawName:"v-show",value:n.pageCount>1,expression:"pageCount > 1"},{name:"model",rawName:"v-model",value:n.page,expression:"page"}],staticClass:"vssue-pagination-select",attrs:{disabled:n.disabled},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(n){return n.selected})).map((function(n){return"_value"in n?n._value:n.value}));n.page=t.target.multiple?e:e[0]}}},n._l(n.pageCount,(function(t){return e("option",{key:t,domProps:{value:t}},[n._v("\n          "+n._s(t)+"\n        ")])})),0),n._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:n.pageCount<2,expression:"pageCount < 2"}],domProps:{textContent:n._s(n.page)}}),n._v(" "),e("span",{domProps:{textContent:n._s(" / "+n.pageCount+" ")}})]),n._v(" "),e("span",{class:{"vssue-pagination-link":!0,disabled:n.page===n.pageCount||n.disabled},attrs:{title:n.vssue.$t("next")},domProps:{textContent:n._s(">")},on:{click:function(t){n.page+=1}}})])])},staticRenderFns:[]},void 0,Vr,void 0,!1,void 0,!1,void 0,void 0,void 0);let qr=class extends r.b{};Lr([xe()],qr.prototype,"vssue",void 0),qr=Lr([Object(we.b)({components:{TransitionFade:Rr,VssueComment:Ur,VssuePagination:Gr}})],qr);const Hr=Fr({render:function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"vssue-comments"},[t("VssuePagination"),this._v(" "),t("TransitionFade",{attrs:{group:""}},this._l(this.vssue.comments.data,(function(n){return t("VssueComment",{key:n.id,attrs:{comment:n}})})),1),this._v(" "),t("VssuePagination",{directives:[{name:"show",rawName:"v-show",value:this.vssue.comments.data.length>5,expression:"vssue.comments.data.length > 5"}]})],1)},staticRenderFns:[]},void 0,qr,void 0,!1,void 0,!1,void 0,void 0,void 0);const Wr=Fr({},void 0,r.b.extend({name:"VssueIcon",functional:!0,props:{type:{type:String,required:!1,default:"default"}},render:(n,{props:t,data:e,children:r})=>n("button",Object.assign(Object.assign({},e),{class:["vssue-button","vssue-button-"+t.type]}),r)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let Yr=class extends r.b{constructor(){super(...arguments),this.content=""}get user(){return this.vssue.user}get platform(){return this.vssue.API&&this.vssue.API.platform.name}get isInputDisabled(){return this.loading||null===this.user||null===this.vssue.issue}get isSubmitDisabled(){return""===this.content||this.vssue.isPending||null===this.vssue.issue}get loading(){return this.vssue.isCreatingComment}get contentRows(){return this.content.split("\n").length-1}get inputRows(){return this.contentRows<3?5:this.contentRows+2}created(){this.vssue.$on("reply-comment",n=>{const t=n.contentRaw.replace(/\n/g,"\n> "),e=`@${n.author.username}\n\n> ${t}\n\n`;this.content=this.content.concat(e),this.focus()})}beforeDestroy(){this.vssue.$off("reply-comment")}focus(){this.$refs.input.focus()}async submit(){this.isSubmitDisabled||(await this.vssue.postComment({content:this.content}),this.content="",await this.vssue.getComments())}};Lr([xe()],Yr.prototype,"vssue",void 0),Yr=Lr([Object(we.b)({components:{VssueButton:Wr,VssueIcon:Br}})],Yr);const Xr=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vssue-new-comment"},[e("div",{staticClass:"vssue-comment-avatar"},[n.user?e("a",{attrs:{href:n.user.homepage,title:n.user.username,target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:n.user.avatar,alt:n.user.username}})]):e("VssueIcon",{attrs:{name:n.platform.toLowerCase(),title:n.vssue.$t("loginToComment",{platform:n.platform})},on:{click:function(t){return n.vssue.login()}}})],1),n._v(" "),e("div",{staticClass:"vssue-new-comment-body"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content,expression:"content"}],ref:"input",staticClass:"vssue-new-comment-input",attrs:{rows:n.inputRows,disabled:n.isInputDisabled,placeholder:n.vssue.$t(n.user?"placeholder":"noLoginPlaceHolder"),spellcheck:!1,"aria-label":"leave a comment"},domProps:{value:n.content},on:{keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?n.submit():null},input:function(t){t.target.composing||(n.content=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"vssue-new-comment-footer"},[n.user?e("span",{staticClass:"vssue-current-user"},[e("span",[n._v(n._s(n.vssue.$t("currentUser"))+" - "+n._s(n.user.username)+" - ")]),n._v(" "),e("a",{staticClass:"vssue-logout",on:{click:function(t){return n.vssue.logout()}}},[n._v("\n        "+n._s(n.vssue.$t("logout"))+"\n      ")])]):e("span",{staticClass:"vssue-current-user"},[n._v("\n      "+n._s(n.vssue.$t("loginToComment",{platform:n.platform}))+"\n    ")]),n._v(" "),e("div",{staticClass:"vssue-new-comment-operations"},[n.user?e("VssueButton",{staticClass:"vssue-button-submit-comment",attrs:{type:"primary",disabled:n.isSubmitDisabled},on:{click:function(t){return n.submit()}}},[e("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:n.loading,expression:"loading"}],attrs:{name:"loading"}}),n._v("\n\n        "+n._s(n.vssue.$t(n.loading?"submitting":"submitComment"))+"\n      ")],1):e("VssueButton",{staticClass:"vssue-button-login",attrs:{type:"primary",title:n.vssue.$t("loginToComment",{platform:n.platform})},on:{click:function(t){return n.vssue.login()}}},[n._v("\n        "+n._s(n.vssue.$t("login",{platform:n.platform}))+"\n      ")])],1)])])},staticRenderFns:[]},void 0,Yr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Qr=class extends r.b{constructor(){super(...arguments),this.progress={show:!1,percent:0,timer:null,speed:200},this.alert={show:!1,message:null,timer:null}}onLoadingCommentsChange(n){this.vssue.comments&&(n?this.progressStart():this.progressDone())}created(){this.vssue.$on("error",n=>this.alertShow(n.message))}beforeDestroy(){this.vssue.$off("error"),null!==this.progress.timer&&window.clearTimeout(this.progress.timer),null!==this.alert.timer&&window.clearTimeout(this.alert.timer)}progressStart(){this.progress.show=!0,this.progress.percent=0,this.progress.timer=window.setInterval(()=>{this.progress.percent+=5,this.progress.percent>94&&null!==this.progress.timer&&window.clearInterval(this.progress.timer)},this.progress.speed)}progressDone(){this.progress.percent=100,null!==this.progress.timer&&window.clearTimeout(this.progress.timer),this.progress.timer=null,window.setTimeout(()=>{this.progress.show=!1},this.progress.speed)}alertShow(n){this.alert.show=!0,this.alert.message=n,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=window.setTimeout(()=>{this.alertHide()},3e3)}alertHide(){this.alert.show=!1,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=null}};Lr([xe()],Qr.prototype,"vssue",void 0),Lr([Pe("vssue.isLoadingComments")],Qr.prototype,"onLoadingCommentsChange",null),Qr=Lr([Object(we.b)({components:{TransitionFade:Rr}})],Qr);const Jr=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vssue-notice"},[e("div",{directives:[{name:"show",rawName:"v-show",value:n.progress.show,expression:"progress.show"}],staticClass:"vssue-progress",style:{width:n.progress.percent+"%",transition:"all "+n.progress.speed+"ms linear"}}),n._v(" "),e("TransitionFade",[e("div",{directives:[{name:"show",rawName:"v-show",value:n.alert.show,expression:"alert.show"}],staticClass:"vssue-alert",domProps:{textContent:n._s(n.alert.message)},on:{click:function(t){return n.alertHide()}}})])],1)},staticRenderFns:[]},void 0,Qr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Kr=class extends r.b{get status(){return this.vssue.isFailed?"failed":this.vssue.isInitializing?"initializing":this.vssue.isIssueNotCreated&&!this.vssue.isCreatingIssue?this.vssue.isAdmin||!this.vssue.isLogined?"issueNotCreated":"failed":this.vssue.isLoginRequired?"loginRequired":!this.vssue.comments||this.vssue.isCreatingIssue?"loadingComments":0===this.vssue.comments.data.length?"noComments":null}handleClick(){"issueNotCreated"===this.status?this.vssue.postIssue():"loginRequired"===this.status&&this.vssue.login()}};Lr([xe()],Kr.prototype,"vssue",void 0),Kr=Lr([Object(we.b)({components:{TransitionFade:Rr,VssueIcon:Br}})],Kr);const Zr=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("TransitionFade",[n.status?e("div",{key:n.status,staticClass:"vssue-status"},[["failed","loadingComments","initializing"].includes(n.status)?e("VssueIcon",{attrs:{name:"failed"===n.status?"error":"loading"}}):n._e(),n._v(" "),e("p",{staticClass:"vssue-status-info"},[e(["issueNotCreated","loginRequired"].includes(n.status)?"a":"span",{tag:"Component",on:{click:n.handleClick}},[n._v("\n        "+n._s(n.vssue.$t(n.status))+"\n      ")])],1)],1):n._e()])},staticRenderFns:[]},void 0,Kr,void 0,!1,void 0,!1,void 0,void 0,void 0);let ni=class extends r.b{};Lr([xe()],ni.prototype,"vssue",void 0),ni=Lr([Object(we.b)({components:{TransitionFade:Rr,VssueIcon:Br,VssueComments:Hr,VssueNewComment:Xr,VssueNotice:Jr,VssueStatus:Zr}})],ni);const ti=Fr({render:function(){var n=this.$createElement,t=this._self._c||n;return t("TransitionFade",[this.vssue.isInitializing?t("VssueStatus"):t("div",{staticClass:"vssue-body"},[this.vssue.API?t("VssueNewComment"):this._e(),this._v(" "),t("VssueNotice"),this._v(" "),t("TransitionFade",[this.vssue.comments&&this.vssue.comments.data.length>0?t("VssueComments"):t("VssueStatus")],1)],1)],1)},staticRenderFns:[]},void 0,ni,void 0,!1,void 0,!1,void 0,void 0,void 0);let ei=class extends r.b{};Lr([xe()],ei.prototype,"vssue",void 0),ei=Lr([we.b],ei);const ri=Fr({render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vssue-header"},[e("a",{staticClass:"vssue-header-comments-count",attrs:{href:n.vssue.issue?n.vssue.issue.link:null,target:"_blank",rel:"noopener noreferrer"}},[e("span",[n._v("\n      "+n._s(n.vssue.comments?n.vssue.$tc("comments",n.vssue.comments.count,{count:n.vssue.comments.count}):n.vssue.$tc("comments",0))+"\n    ")])]),n._v(" "),e("span",{staticClass:"vssue-header-powered-by"},[e("span",[n._v("Powered by")]),n._v(" "),n.vssue.API?e("span",[e("a",{attrs:{href:n.vssue.API.platform.link,title:n.vssue.API.platform.name+" API "+n.vssue.API.platform.version,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n        "+n._s(n.vssue.API.platform.name)+"\n      ")]),n._v(" "),e("span",[n._v("&")])]):n._e(),n._v(" "),e("a",{attrs:{href:"https://github.com/meteorlxy/vssue",title:"Vssue v"+n.vssue.version,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n      Vssue\n    ")])])])},staticRenderFns:[]},void 0,ei,void 0,!1,void 0,!1,void 0,void 0,void 0),ii={login:"Login with {platform}",logout:"Logout",currentUser:"Current User",loading:"Loading",submit:"Submit",submitting:"Submitting",submitComment:"Submit Comment",cancel:"Cancel",edit:"Edit",editMode:"Edit Mode",delete:"Delete",reply:"Reply",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comments per page",sort:"Click to change the sort direction",page:"Page",prev:"Previous Page",next:"Next Page",comments:"Comments | {count} Comment | {count} Comments",loginToComment:"Login with {platform} account to leave a comment",placeholder:"Leave a comment. Styling with Markdown is supported. Ctrl + Enter to submit.",noLoginPlaceHolder:"Login to leave a comment. Styling with Markdown is supported. ",failed:"Failed to load comments",initializing:"Initializing...",issueNotCreated:"Click to create issue",loadingComments:"Loading comments...",loginRequired:"Login to view comments",noComments:"No comments yet. Leave the first comment !",reactionGiven:"Already given '{reaction}' reaction",deleteConfirm:"Confirm to delete this comment ?",deleteFailed:"Failed to delete comment"},oi={login:"使用 {platform} 登录",logout:"退出登录",currentUser:"当前用户",loading:"加载中",submit:"提交",submitting:"发表中",submitComment:"发表评论",cancel:"取消",edit:"编辑",editMode:"编辑模式",delete:"删除",reply:"回复",heart:"喜欢",like:"赞",unlike:"踩",perPage:"每页评论数",sort:"点击改变排序方式",page:"页数",prev:"上一页",next:"下一页",comments:"评论 | {count} 条评论 | {count} 条评论",loginToComment:"使用 {platform} 帐号登录后发表评论",placeholder:"留下你的评论丨支持 Markdown 语法丨Ctrl + Enter 发表评论",noLoginPlaceHolder:"登录后才能发表评论丨支持 Markdown 语法",failed:"评论加载失败",initializing:"正在初始化...",issueNotCreated:"点击创建 Issue",loadingComments:"正在加载评论...",loginRequired:"登录后查看评论",noComments:"还没有评论，来发表第一条评论吧！",reactionGiven:"已经添加过 '{reaction}' 了",deleteConfirm:"确认要删除该评论吗？",deleteFailed:"评论删除失败"},ai={login:"Entrar com {platform}",logout:"Sair",currentUser:"Usuário Atual",loading:"Carregando",submit:"Enviar",submitting:"Enviando",submitComment:"Enviar Comentário",cancel:"Cancelar",edit:"Editar",editMode:"Modo de Edição",delete:"Apagar",reply:"Responder",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comentários por página",sort:"Clique para alterar a ordenação",page:"Página",prev:"Página Anterior",next:"Próxima Página",comments:"Comentários | {count} Comentário | {count} Comentários",loginToComment:"Entre com uma conta {platform} para deixar um comentário",placeholder:"Deixe um comentário. Estilos com Markdown suportados. Ctrl + Enter para enviar.",noLoginPlaceHolder:"Entre para deixar um comentário. Estilos com Markdown suportados. ",failed:"Falha ao carregar comentários",initializing:"Inicializando...",issueNotCreated:"Click to create issue",loadingComments:"Carregando comentários...",loginRequired:"Entrar para visualizar comentários",noComments:"Nenhum comentário. Deixe o primeiro comentário!",reactionGiven:"Já reagiu com '{reaction}'",deleteConfirm:"Apagar este comentário?",deleteFailed:"Falha ao apagar comentário"},si={login:"{platform} でログイン",logout:"ログアウト",currentUser:"現在のユーザー",loading:"読み込み中",submit:"送信",submitting:"送信中",submitComment:"コメントを送信",cancel:"キャンセル",edit:"編集",editMode:"編集モード",delete:"削除",reply:"返信",heart:"ハート",like:"高評価",unlike:"低評価",perPage:"コメント/ページ",sort:"並び順を変更するにはクリックしてください",page:"ページ",prev:"前のページ",next:"次のページ",comments:"コメント | {count} コメント | {count} コメント",loginToComment:"コメントを残すには {platform} アカウントでログインしてください。",placeholder:"コメントを残してください。Markdown 記法をサポートしています。 Ctrl + Enter で送信できます。",noLoginPlaceHolder:"コメントを残すにはログインしてください。マークダウン記法をサポートしています。",failed:"コメントの読み込みに失敗しました",initializing:"初期化中...",issueNotCreated:"Click to create issue",loadingComments:"コメントの読み込み中...",loginRequired:"コメントを見るにはログインしてください",noComments:"まだコメントがありません。最初のコメントを残しましょう！",reactionGiven:"既に '{reaction}' のリアクションをしています",deleteConfirm:"本当にコメントを削除してもいいですか？",deleteFailed:"コメントの削除に失敗しました"},li={login:"התחברו עם {platform}",logout:"התנתקו",currentUser:"משתמש/ת נוכחי/ת",loading:"טוען",submit:"שליחה",submitting:"שולח",submitComment:"שליחת תגובה",cancel:"ביטל",edit:"עריכה",editMode:"מצב עריכה",delete:"מחיקה",reply:"תשובה",heart:"לב",like:"לייק",unlike:"אנלייק",perPage:"תגובות לדף",sort:"לחצו כדי לשנות את כיוון המיון",page:"דף",prev:"הדף הקודם",next:"הדף הבא",comments:"תגובות | {count} תגובה | {count} תגובות",loginToComment:"התחברו עם חשבון {platform} כדי להשאיר תגובה",placeholder:"השאירו תגובה. יש תמיכה בעיצוב בעזרת Markdown. Ctrl + Enter כדי לשלוח.",noLoginPlaceHolder:"התחברו כדי להשאיר תגובה. יש תמיכה בעיצוב בעזרת Markdown. ",failed:"כשלון בטעינת התגובות",initializing:"מאתחל...",issueNotCreated:"לחצו ליצירת issue",loadingComments:"טוען תגובות...",loginRequired:"התחברו כדי לצפות בתגובות",noComments:"עדיין אין תגובות. השאירו תגובה ראשונה !",reactionGiven:"כבר ניתן חיווי '{reaction}'",deleteConfirm:"בטוחים במחיקת התגובה ?",deleteFailed:"כשלון במחיקת התגובה"};Object.prototype.hasOwnProperty.call(r.b,"$i18n")||r.b.use(Or);const ci=new Or({locale:"en",fallbackLocale:"en",messages:{en:ii,"en-US":ii,zh:oi,"zh-CN":oi,pt:ai,"pt-BR":ai,ja:si,"ja-JP":si,he:li,"he-IL":li}});let ui=class extends r.b{constructor(){super(...arguments),this.title=n=>`${n.prefix}${document.title}`,this.issueId=null,this.options=null,this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:10,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1}get version(){return"1.4.8"}get issueTitle(){return null===this.options?"":"function"==typeof this.title?this.title(this.options):`${this.options.prefix}${this.title}`}get isPending(){return this.isLoadingComments||this.isCreatingComment||this.isUpdatingComment}get isLogined(){return null!==this.accessToken&&null!==this.user}get isAdmin(){return null!==this.options&&null!==this.accessToken&&null!==this.user&&(this.user.username===this.options.owner||this.options.admins.includes(this.user.username))}get accessTokenKey(){return this.API?`Vssue.${this.API.platform.name.toLowerCase()}.access_token`:""}onQueryPerPageChange(){this.query.page=1,this.getComments()}onQueryChange(){this.getComments()}setOptions(n){this.options=Object.assign({labels:["Vssue"],state:"Vssue",prefix:"[Vssue]",admins:[],perPage:10,proxy:n=>"https://cors-anywhere.azm.workers.dev/"+n,issueContent:({url:n})=>n,autoCreateIssue:!1},n);const t=["api","owner","repo","clientId"];for(const n of t)this.options[n]||console.warn(`[Vssue] the option '${n}' is required`);if(this.options.locale)this.$i18n.locale=this.options.locale;else{const n=Object.keys(this.$i18n.messages),t=window.navigator.languages;this.$i18n.locale=t.filter(t=>n.includes(t)).shift()||"en"}}async init(){try{await this.initStore(),await this.initComments()}catch(n){n.response&&[401,403].includes(n.response.status)?this.isLoginRequired=!0:this.isFailed=!0,console.error(n)}}async initStore(){try{if(!this.options)throw new Error("Options are required to initialize Vssue");this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:this.options.perPage,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1;const n=this.options.api;this.API=new n({baseURL:this.options.baseURL,labels:this.options.labels,state:this.options.state,owner:this.options.owner,repo:this.options.repo,clientId:this.options.clientId,clientSecret:this.options.clientSecret,proxy:this.options.proxy}),await this.handleAuth()}finally{this.isInitializing=!1}}async initComments(){if(this.API&&this.options)if(this.issueId){const[n,t]=await Promise.all([this.API.getIssue({accessToken:this.accessToken,issueId:this.issueId}),this.API.getComments({accessToken:this.accessToken,issueId:this.issueId,query:this.query})]);this.issue=n,this.comments=t}else this.issue=await this.API.getIssue({accessToken:this.accessToken,issueTitle:this.issueTitle}),null===this.issue?(this.isIssueNotCreated=!0,this.options.autoCreateIssue&&await this.postIssue()):await this.getComments()}async postIssue(){if(this.API&&this.options&&!this.issue&&!this.issueId&&(this.isLogined||this.login(),this.isAdmin))try{this.isCreatingIssue=!0;const n=await this.API.postIssue({title:this.issueTitle,content:await this.options.issueContent({options:this.options,url:ze(window.location.href)}),accessToken:this.accessToken});this.issue=n,this.isIssueNotCreated=!1,await this.getComments()}catch(n){this.isFailed=!0}finally{this.isCreatingIssue=!1}}async getComments(){try{if(!this.API||!this.issue||this.isLoadingComments)return;this.isLoadingComments=!0;const n=await this.API.getComments({accessToken:this.accessToken,issueId:this.issue.id,query:this.query});return this.comments=n,this.query.page!==n.page&&(this.query.page=n.page),this.query.perPage!==n.perPage&&(this.query.perPage=n.perPage),n}catch(n){if(!n.response||![401,403].includes(n.response.status)||this.isLogined)throw this.$emit("error",n),n;this.isLoginRequired=!0}finally{this.isLoadingComments=!1}}async postComment({content:n}){try{if(!this.API||!this.issue||this.isCreatingComment)return;this.isCreatingComment=!0;return await this.API.postComment({accessToken:this.accessToken,content:n,issueId:this.issue.id})}catch(n){throw this.$emit("error",n),n}finally{this.isCreatingComment=!1}}async putComment({commentId:n,content:t}){try{if(!this.API||!this.issue)return;return await this.API.putComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:n,content:t})}catch(n){throw this.$emit("error",n),n}}async deleteComment({commentId:n}){try{if(!this.API||!this.issue)return;return await this.API.deleteComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:n})}catch(n){throw this.$emit("error",n),n}}async getCommentReactions({commentId:n}){try{if(!this.API||!this.issue)return;return await this.API.getCommentReactions({accessToken:this.accessToken,issueId:this.issue.id,commentId:n})}catch(n){throw this.$emit("error",n),n}}async postCommentReaction({commentId:n,reaction:t}){try{if(!this.API||!this.issue)return!1;return await this.API.postCommentReaction({accessToken:this.accessToken,issueId:this.issue.id,commentId:n,reaction:t})}catch(n){throw this.$emit("error",n),n}}login(){this.API&&this.API.redirectAuth()}logout(){this.setAccessToken(null),this.user=null}async handleAuth(){if(!this.API)return;const n=await this.API.handleAuth();n?(this.setAccessToken(n),this.user=await this.API.getUser({accessToken:n})):this.getAccessToken()?this.user=await this.API.getUser({accessToken:this.accessToken}):(this.setAccessToken(null),this.user=null)}getAccessToken(){return this.accessToken=window.localStorage.getItem(this.accessTokenKey),this.accessToken}setAccessToken(n){null===n?window.localStorage.removeItem(this.accessTokenKey):window.localStorage.setItem(this.accessTokenKey,n),this.accessToken=n}};Lr([Pe("query.perPage")],ui.prototype,"onQueryPerPageChange",null),Lr([Pe("query.page"),Pe("query.sort")],ui.prototype,"onQueryChange",null),ui=Lr([Object(we.b)({i18n:ci})],ui);var pi=ui;let di=class extends r.b{constructor(){super(...arguments),this.vssue=new pi}onOptionsChange(n){this.vssue.setOptions(n)}mounted(){null!==this.title&&(this.vssue.title=this.title),null!==this.issueId&&(this.vssue.issueId=this.issueId),this.vssue.setOptions(this.options),this.vssue.init()}};var mi;Lr([Ce({type:[String,Function],required:!1,default:null})],di.prototype,"title",void 0),Lr([Ce({type:[String,Number],required:!1,default:null})],di.prototype,"issueId",void 0),Lr([Ce({type:Object,required:!1,default:()=>({})})],di.prototype,"options",void 0),Lr([(mi="vssue",Object(we.a)((function(n,t){var e=n.provide;Ee(n),$e(e)&&(e=n.provide=ke(e)),e.managed[t]=mi||t})))],di.prototype,"vssue",void 0),Lr([Pe("options",{deep:!0})],di.prototype,"onOptionsChange",null),di=Lr([Object(we.b)({components:{Iconfont:zr,VssueBody:ti,VssueHeader:ri}})],di);const hi=Fr({render:function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"vssue"},[t("Iconfont"),this._v(" "),t("VssueHeader"),this._v(" "),t("VssueBody")],1)},staticRenderFns:[]},void 0,di,void 0,!1,void 0,!1,void 0,void 0,void 0);var gi=e(5),fi=e.n(gi);function vi(n){return{username:n.login,avatar:n.avatar_url,homepage:n.html_url}}function yi(n){return{id:n.number,title:n.title,content:n.body,link:n.html_url}}function bi(n){return{like:n["+1"],unlike:n[-1],heart:n.heart}}function _i(n){return{id:n.id,content:n.body_html,contentRaw:n.body,author:vi(n.user),createdAt:n.created_at,updatedAt:n.updated_at,reactions:bi(n.reactions)}}function wi(n){return"like"===n?"+1":"unlike"===n?"-1":n}class xi{constructor({baseURL:n="https://github.com",owner:t,repo:e,labels:r,clientId:i,clientSecret:o,state:a,proxy:s}){if(void 0===o||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V3");this.baseURL=n,this.owner=t,this.repo=e,this.labels=r,this.clientId=i,this.clientSecret=o,this.state=a,this.proxy=s,this.$http=fi.a.create({baseURL:"https://github.com"===n?"https://api.github.com":Oe(n,"api/v3"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(n=>n.data&&n.data.error?Promise.reject(new Error(n.data.error_description)):n,n=>(void 0===n.response&&"Network Error"===n.message&&(n.response={status:403}),Promise.reject(n)))}get platform(){return{name:"GitHub",link:this.baseURL,version:"v3",meta:{reactable:!0,sortable:!1}}}redirectAuth(){window.location.href=je(Oe(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const n=Re(window.location.search);if(n.code){if(n.state!==this.state)return null;const t=n.code;delete n.code,delete n.state;const e=je(ze(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",e);return await this.getAccessToken({code:t})}return null}async getAccessToken({code:n}){const t=Oe(this.baseURL,"login/oauth/access_token"),e="function"==typeof this.proxy?this.proxy(t):this.proxy,{data:r}=await this.$http.post(e,{client_id:this.clientId,client_secret:this.clientSecret,code:n},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:n}){const{data:t}=await this.$http.get("user",{headers:{Authorization:"token "+n}});return vi(t)}async getIssue({accessToken:n,issueId:t,issueTitle:e}){const r={};if(n&&(r.headers={Authorization:"token "+n}),!t){r.params={q:[`"${e}"`,"is:issue","in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(n=>"label:"+n)].join(" "),timestamp:Date.now()};const{data:n}=await this.$http.get("search/issues",r);return n.items.map(yi).find(n=>n.title===e)||null}try{r.params={timestamp:Date.now()};const{data:n}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${t}`,r);return yi(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:t,content:e}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:t,body:e,labels:this.labels},{headers:{Authorization:"token "+n}});return yi(r)}async getComments({accessToken:n,issueId:t,query:{page:e=1,perPage:r=10}={}}){const i={params:{timestamp:Date.now()}},o={params:{page:e,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}};n&&(i.headers={Authorization:"token "+n},o.headers.Authorization="token "+n);const[a,s]=await Promise.all([this.$http.get(`repos/${this.owner}/${this.repo}/issues/${t}`,i),this.$http.get(`repos/${this.owner}/${this.repo}/issues/${t}/comments`,o)]),l=s.headers.link||null,c=/rel="next"/.test(l)?Number(l.replace(/^.*[^_]page=(\d*).*rel="next".*$/,"$1"))-1:/rel="prev"/.test(l)?Number(l.replace(/^.*[^_]page=(\d*).*rel="prev".*$/,"$1"))+1:1,u=l?Number(l.replace(/^.*per_page=(\d*).*$/,"$1")):r;return{count:Number(a.data.comments),page:c,perPage:u,data:s.data.map(_i)}}async postComment({accessToken:n,issueId:t,content:e}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${t}/comments`,{body:e},{headers:{Authorization:"token "+n,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return _i(r)}async putComment({accessToken:n,commentId:t,content:e}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${t}`,{body:e},{headers:{Authorization:"token "+n,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return _i(r)}async deleteComment({accessToken:n,commentId:t}){const{status:e}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${t}`,{headers:{Authorization:"token "+n}});return 204===e}async getCommentReactions({accessToken:n,commentId:t}){const{data:e}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/comments/${t}`,{params:{timestamp:Date.now()},headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}});return bi(e.reactions)}async postCommentReaction({accessToken:n,commentId:t,reaction:e}){const r=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/comments/${t}/reactions`,{content:wi(e)},{headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}});return 200===r.status?this.deleteCommentReaction({accessToken:n,commentId:t,reactionId:r.data.id}):201===r.status}async deleteCommentReaction({accessToken:n,commentId:t,reactionId:e}){return 204===(await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${t}/reactions/${e}`,{headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}})).status}}function $i(n){return null===n?{username:"ghost",avatar:"https://avatars3.githubusercontent.com/u/10137?v=4",homepage:"https://github.com/ghost"}:{username:n.login,avatar:n.avatarUrl,homepage:n.url}}function ki(n){return{id:n.number,title:n.title,content:n.body,link:n.url}}function Ti(n){return{like:n.find(n=>"THUMBS_UP"===n.content).users.totalCount,unlike:n.find(n=>"THUMBS_DOWN"===n.content).users.totalCount,heart:n.find(n=>"HEART"===n.content).users.totalCount}}function Ei(n){return{id:n.id,content:n.bodyHTML,contentRaw:n.body,author:$i(n.author),createdAt:n.createdAt,updatedAt:n.updatedAt,reactions:Ti(n.reactionGroups)}}function Ai(n){return"like"===n?"THUMBS_UP":"unlike"===n?"THUMBS_DOWN":"heart"===n?"HEART":n}class Di{constructor({baseURL:n="https://github.com",owner:t,repo:e,labels:r,clientId:i,clientSecret:o,state:a,proxy:s}){if(void 0===o||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V4");this.baseURL=n,this.owner=t,this.repo=e,this.labels=r,this.clientId=i,this.clientSecret=o,this.state=a,this.proxy=s,this._pageInfo={page:1,startCursor:null,endCursor:null,sort:null,perPage:null},this._issueNodeId=null,this.$http=fi.a.create({baseURL:"https://github.com"===n?"https://api.github.com":Oe(n,"api"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(n=>n.data.error?Promise.reject(n.data.error_description):n.data.errors?Promise.reject(n.data.errors[0].message):n)}get platform(){return{name:"GitHub",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=je(Oe(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const n=Re(window.location.search);if(n.code){if(n.state!==this.state)return null;const t=n.code;delete n.code,delete n.state;const e=je(ze(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",e);return await this.getAccessToken({code:t})}return null}async getAccessToken({code:n}){const t=Oe(this.baseURL,"login/oauth/access_token"),e="function"==typeof this.proxy?this.proxy(t):this.proxy,{data:r}=await this.$http.post(e,{client_id:this.clientId,client_secret:this.clientSecret,code:n},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:n}){const{data:t}=await this.$http.post("graphql",{query:"query getUser {\n  viewer {\n    login\n    avatarUrl\n    url\n  }\n}"},{headers:{Authorization:"token "+n}});return $i(t.data.viewer)}async getIssue({accessToken:n,issueId:t,issueTitle:e}){const r={};if(n&&(r.headers={Authorization:"token "+n}),!t){const n=[`"${e}"`,"in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(n=>"label:"+n)].join(" "),{data:t}=await this.$http.post("graphql",{variables:{query:n},query:"query getIssueByTitle(\n  $query: String!\n) {\n  search(\n    query: $query\n    type: ISSUE\n    first: 20\n    ) {\n      nodes {\n      ... on Issue {\n        id\n        number\n        title\n        body\n        url\n      }\n    }\n  }\n}"},r),i=t.data.search.nodes.find(n=>n.title===e);return i?(this._issueNodeId=i.id,ki(i)):null}try{const{data:n}=await this.$http.post("graphql",{query:`query getIssueById {\n  repository(owner: "${this.owner}", name: "${this.repo}") {\n    issue (number: ${t}) {\n      id\n      number\n      title\n      body\n      url\n    }\n  }\n}`},r);return this._issueNodeId=n.data.repository.issue.id,ki(n.data.repository.issue)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:t,content:e}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:t,body:e,labels:this.labels},{headers:{Authorization:"token "+n}});return r.url=r.html_url,this._issueNodeId=r.node_id,ki(r)}async getComments({accessToken:n,issueId:t,query:{page:e=1,perPage:r=10,sort:i="desc"}={}}){const o={};n&&(o.headers={Authorization:"token "+n}),null!==this._pageInfo.sort&&i!==this._pageInfo.sort&&(e=1);const{firstOrLast:a,afterOrBefore:s,cursor:l}=this._getQueryParams({page:e,sort:i}),{data:c}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:t,perPage:r},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${a}: $perPage\n        ${null===s?"":`${s}: "${l}"`}\n      ) {\n        totalCount\n        pageInfo {\n          endCursor\n          startCursor\n        }\n        nodes {\n          id\n          body\n          bodyHTML\n          createdAt\n          updatedAt\n          author {\n            avatarUrl\n            login\n            url\n          }\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},o),u=c.data.repository.issue.comments;return"desc"===i&&u.nodes.reverse(),this._pageInfo={page:e,startCursor:u.pageInfo.startCursor,endCursor:u.pageInfo.endCursor,sort:i,perPage:r},{count:u.totalCount,page:e,perPage:r,data:u.nodes.map(Ei)}}async postComment({accessToken:n,content:t}){const{data:e}=await this.$http.post("graphql",{variables:{issueNodeId:this._issueNodeId,content:t},query:"mutation postComment(\n  $issueNodeId: ID!\n  $content: String!\n) {\n  addComment(\n    input: {\n      subjectId: $issueNodeId\n      body: $content\n    }\n  ) {\n    commentEdge {\n      node {\n        id\n        body\n        bodyHTML\n        createdAt\n        updatedAt\n        author {\n          avatarUrl\n          login\n          url\n        }\n        reactionGroups {\n          users (first: 0) {\n            totalCount\n          }\n          content\n        }\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+n}});return Ei(e.data.addComment.commentEdge.node)}async putComment({accessToken:n,commentId:t,content:e}){const{data:r}=await this.$http.post("graphql",{variables:{commentId:t,content:e},query:"mutation putComment(\n  $commentId: ID!,\n  $content: String!,\n) {\n  updateIssueComment(input: {\n    id: $commentId\n    body: $content\n  }) {\n    issueComment {\n      id\n      body\n      bodyHTML\n      createdAt\n      updatedAt\n      author {\n        avatarUrl\n        login\n        url\n      }\n      reactionGroups {\n        users (first: 0) {\n          totalCount\n        }\n        content\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+n}});return Ei(r.data.updateIssueComment.issueComment)}async deleteComment({accessToken:n,commentId:t}){return await this.$http.post("graphql",{variables:{commentId:t},query:"mutation deleteComment(\n  $commentId: ID!,\n) {\n  deleteIssueComment(input: {\n    id: $commentId\n  }) {\n    clientMutationId\n  }\n}"},{headers:{Authorization:"token "+n}}),!0}async getCommentReactions({accessToken:n,issueId:t,commentId:e}){const{firstOrLast:r,afterOrBefore:i,cursor:o}=this._getQueryParams(),{data:a}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:t,perPage:this._pageInfo.perPage},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${r}: $perPage\n        ${null===i?"":`${i}: "${o}"`}\n      ) {\n        nodes {\n          id\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},{headers:{Authorization:"token "+n}});return Ti(a.data.repository.issue.comments.nodes.find(n=>n.id===e).reactionGroups)}async postCommentReaction({accessToken:n,commentId:t,reaction:e}){return await this.$http.post("graphql",{variables:{commentId:t,content:Ai(e)},query:"mutation postCommentReaction(\n  $commentId: ID!,\n  $content: ReactionContent!,\n) {\n  addReaction(input: {\n    subjectId: $commentId\n    content: $content\n  }) {\n    reaction {\n      databaseId\n    }\n  }\n}"},{headers:{Authorization:"token "+n}}),!0}_getQueryParams({page:n=this._pageInfo.page,sort:t=this._pageInfo.sort}={}){let e,r,i;return 1===n?(e="asc"===t?"first":"last",r=null,i=null):"asc"===t?n>this._pageInfo.page?(e="first",r="after",i=this._pageInfo.endCursor):(e="last",r="before",i=this._pageInfo.startCursor):n>this._pageInfo.page?(e="last",r="before",i=this._pageInfo.startCursor):(e="first",r="after",i=this._pageInfo.endCursor),{firstOrLast:e,afterOrBefore:r,cursor:i}}}function Ci(n){return{username:n.username,avatar:n.avatar_url,homepage:n.web_url}}function Pi(n){return{id:n.iid,title:n.title,content:n.description,link:n.web_url}}function Si(n){return{id:n.id,content:n.body_html||"",contentRaw:n.body,author:Ci(n.author),createdAt:n.created_at,updatedAt:n.updated_at,reactions:n.reactions}}function Ii(n){return{like:n.filter(n=>"thumbsup"===n.name).length,unlike:n.filter(n=>"thumbsdown"===n.name).length,heart:n.filter(n=>"heart"===n.name).length}}function ji(n){return"like"===n?"thumbsup":"unlike"===n?"thumbsdown":n}class Oi{constructor({baseURL:n="https://gitlab.com",owner:t,repo:e,labels:r,clientId:i,state:o}){this.baseURL=n,this.owner=t,this.repo=e,this.labels=r,this.clientId=i,this.state=o,this._encodedRepo=encodeURIComponent(`${this.owner}/${this.repo}`),this.$http=fi.a.create({baseURL:Oe(n,"api/v4"),headers:{Accept:"application/json"}})}get platform(){return{name:"GitLab",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=je(Oe(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const n=Re(window.location.hash.slice(1));if(!n.access_token||n.state!==this.state)return null;const t=n.access_token;delete n.access_token,delete n.token_type,delete n.expires_in,delete n.state;const e=Ie(n),r=e?"#"+e:"",i=`${ze(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",i),t}async getUser({accessToken:n}){const{data:t}=await this.$http.get("user",{headers:{Authorization:"Bearer "+n}});return Ci(t)}async getIssue({accessToken:n,issueId:t,issueTitle:e}){const r={};if(n&&(r.headers={Authorization:"Bearer "+n}),!t){r.params={labels:this.labels.join(","),order_by:"created_at",sort:"asc",search:e};const{data:n}=await this.$http.get(`projects/${this._encodedRepo}/issues`,r);return n.map(Pi).find(n=>n.title===e)||null}try{const{data:n}=await this.$http.get(`projects/${this._encodedRepo}/issues/${t}`,r);return Pi(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:t,content:e}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues`,{title:t,description:e,labels:this.labels.join(",")},{headers:{Authorization:"Bearer "+n}});return Pi(r)}async getComments({accessToken:n,issueId:t,query:{page:e=1,perPage:r=10,sort:i="desc"}={}}){const o={params:{page:e,per_page:r,order_by:"created_at",sort:i}};n&&(o.headers={Authorization:"Bearer "+n});const a=await this.$http.get(`projects/${this._encodedRepo}/issues/${t}/notes`,o),s=a.data,l=[];for(const e of s)l.push((async()=>{e.body_html=await this.getMarkdownContent({accessToken:n,contentRaw:e.body})})()),l.push((async()=>{e.reactions=await this.getCommentReactions({accessToken:n,issueId:t,commentId:e.id})})());return await Promise.all(l),{count:Number(a.headers["x-total"]),page:Number(a.headers["x-page"]),perPage:Number(a.headers["x-per-page"]),data:s.map(Si)}}async postComment({accessToken:n,issueId:t,content:e}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues/${t}/notes`,{body:e},{headers:{Authorization:"Bearer "+n}});return Si(r)}async putComment({accessToken:n,issueId:t,commentId:e,content:r}){const{data:i}=await this.$http.put(`projects/${this._encodedRepo}/issues/${t}/notes/${e}`,{body:r},{headers:{Authorization:"Bearer "+n}}),[o,a]=await Promise.all([this.getMarkdownContent({accessToken:n,contentRaw:i.body}),this.getCommentReactions({accessToken:n,issueId:t,commentId:i.id})]);return i.body_html=o,i.reactions=a,Si(i)}async deleteComment({accessToken:n,issueId:t,commentId:e}){const{status:r}=await this.$http.delete(`projects/${this._encodedRepo}/issues/${t}/notes/${e}`,{headers:{Authorization:"Bearer "+n}});return 204===r}async getCommentReactions({accessToken:n,issueId:t,commentId:e}){const{data:r}=await this.$http.get(`projects/${this._encodedRepo}/issues/${t}/notes/${e}/award_emoji`,{headers:{Authorization:"Bearer "+n}});return Ii(r)}async postCommentReaction({issueId:n,commentId:t,reaction:e,accessToken:r}){try{return 201===(await this.$http.post(`projects/${this._encodedRepo}/issues/${n}/notes/${t}/award_emoji`,{name:ji(e)},{headers:{Authorization:"Bearer "+r}})).status}catch(n){if(n.response&&404===n.response.status)return!1;throw n}}async getMarkdownContent({accessToken:n,contentRaw:t}){const e={};n&&(e.headers={Authorization:"Bearer "+n});const{data:r}=await this.$http.post("markdown",{text:t,gfm:!0},e);return r.html}}function Li(n){return{username:n.nickname,avatar:n.links.avatar.href,homepage:n.links.html.href}}function Mi(n){return{id:n.id,title:n.title,content:n.content.raw,link:n.links.html.href}}function Fi(n){return{id:n.id,content:n.content.html,contentRaw:n.content.raw,author:Li(n.user),createdAt:n.created_on,updatedAt:n.updated_on,reactions:null}}class zi{constructor({baseURL:n="https://bitbucket.org",owner:t,repo:e,clientId:r,state:i}){this.baseURL=n,this.owner=t,this.repo=e,this.clientId=r,this.state=i,this.$http=fi.a.create({baseURL:"https://api.bitbucket.org/2.0",headers:{Accept:"application/json"}})}get platform(){return{name:"Bitbucket",link:this.baseURL,version:"v2",meta:{reactable:!1,sortable:!0}}}redirectAuth(){window.location.href=je(Oe(this.baseURL,"site/oauth2/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const n=Re(window.location.hash.slice(1));if(!n.access_token||n.state!==this.state)return null;const t=n.access_token;delete n.access_token,delete n.token_type,delete n.expires_in,delete n.state,delete n.scopes;const e=Ie(n),r=e?"#"+e:"",i=`${ze(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",i),t}async getUser({accessToken:n}){const{data:t}=await this.$http.get("user",{headers:{Authorization:"Bearer "+n}});return Li(t)}async getIssue({accessToken:n,issueId:t,issueTitle:e}){const r={};if(n&&(r.headers={Authorization:"Bearer "+n}),!t){r.params={sort:"created_on",q:`title="${e}"`,timestamp:Date.now()};const{data:n}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues`,r);return n.size>0?Mi(n.values[0]):null}try{r.params={timestamp:Date.now()};const{data:n}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${t}`,r);return Mi(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:t,content:e}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues`,{title:t,content:{raw:e},priority:"trivial",kind:"task"},{headers:{Authorization:"Bearer "+n}});return r.links.html={href:Oe(this.baseURL,`${this.owner}/${this.repo}/issues/${r.id}`)},Mi(r)}async getComments({accessToken:n,issueId:t,query:{page:e=1,perPage:r=10,sort:i="desc"}={}}){const o={params:{page:e,pagelen:r,sort:"desc"===i?"-created_on":"created_on",timestamp:Date.now()}};n&&(o.headers={Authorization:"Bearer "+n});const{data:a}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${t}/comments`,o);return{count:a.size,page:a.page,perPage:a.pagelen,data:a.values.filter(n=>null!==n.content.raw).map(Fi)}}async postComment({accessToken:n,issueId:t,content:e}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues/${t}/comments`,{content:{raw:e}},{headers:{Authorization:"Bearer "+n}});return Fi(r)}async putComment({accessToken:n,issueId:t,commentId:e,content:r}){const{data:i}=await this.$http.put(`repositories/${this.owner}/${this.repo}/issues/${t}/comments/${e}`,{content:{raw:r}},{headers:{Authorization:"Bearer "+n}});return Fi(i)}async deleteComment({accessToken:n,issueId:t,commentId:e}){const{status:r}=await this.$http.delete(`repositories/${this.owner}/${this.repo}/issues/${t}/comments/${e}`,{headers:{Authorization:"Bearer "+n}});return 204===r}async getCommentReactions(n){throw new Error("501 Not Implemented")}async postCommentReaction(n){throw new Error("501 Not Implemented")}}function Ri(n){return{username:n.login,avatar:n.avatar_url,homepage:n.html_url}}function Bi(n){return{id:n.number,title:n.title,content:n.body,link:n.html_url}}function Ni(n){return{id:n.id,content:n.body_html||"",contentRaw:n.body,author:Ri(n.user),createdAt:n.created_at,updatedAt:n.updated_at||"",reactions:null}}class Ui{constructor({baseURL:n="https://gitee.com",owner:t,repo:e,labels:r,clientId:i,clientSecret:o,state:a,proxy:s}){if(void 0===o||void 0===s)throw new Error("clientSecret and proxy is required for Gitee V5");this.baseURL=n,this.owner=t,this.repo=e,this.labels=r,this.clientId=i,this.clientSecret=o,this.state=a,this.proxy=s,this.$http=fi.a.create({baseURL:Oe(n,"api/v5")}),this.$http.interceptors.response.use(n=>n,n=>(n.response.data&&n.response.data.message&&(n.message=n.response.data.message),Promise.reject(n)))}get platform(){return{name:"Gitee",link:this.baseURL,version:"v5",meta:{reactable:!1,sortable:!1}}}redirectAuth(){window.location.href=je(Oe(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"user_info issues notes",response_type:"code",state:this.state})}async handleAuth(){const n=Re(window.location.search);if(n.code){if(n.state!==this.state)return null;const t=n.code;delete n.code,delete n.state;const e=je(ze(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",e);return await this.getAccessToken({code:t})}return null}async getAccessToken({code:n}){const t=Oe(this.baseURL,"oauth/token"),e="function"==typeof this.proxy?this.proxy(t):this.proxy,{data:r}=await this.$http.post(e,{client_id:this.clientId,client_secret:this.clientSecret,code:n,grant_type:"authorization_code",redirect_uri:window.location.href});return r.access_token}async getUser({accessToken:n}){const{data:t}=await this.$http.get("user",{params:{access_token:n}});return Ri(t)}async getIssue({accessToken:n,issueId:t,issueTitle:e}){const r={params:{timestamp:Date.now()}};if(n&&(r.params.access_token=n),!t){Object.assign(r.params,{q:e,repo:`${this.owner}/${this.repo}`,per_page:1});const{data:n}=await this.$http.get("search/issues",r);return n.map(Bi).find(n=>n.title===e)||null}try{const{data:n}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${t}`,r);return Bi(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:t,content:e}){const{data:r}=await this.$http.post(`repos/${this.owner}/issues`,{access_token:n,repo:this.repo,title:t,body:e,labels:this.labels.join(",")});return Bi(r)}async getComments({accessToken:n,issueId:t,query:{page:e=1,perPage:r=10}={}}){const i={params:{page:e,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.gitee.html+json"]}};n&&(i.params.access_token=n);const o=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${t}/comments`,i);return{count:Number(o.headers.total_count),page:e,perPage:r,data:o.data.map(Ni)}}async postComment({accessToken:n,issueId:t,content:e}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${t}/comments`,{body:e,access_token:n},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Ni(r)}async putComment({accessToken:n,commentId:t,content:e}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${t}`,{body:e,access_token:n},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Ni(r)}async deleteComment({accessToken:n,commentId:t}){const{status:e}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${t}`,{params:{access_token:n}});return 204===e}async getCommentReactions(n){throw new Error("501 Not Implemented")}async postCommentReaction(n){throw new Error("501 Not Implemented")}}e(331);var Vi={name:"Vssue",components:{VssueComponent:hi},props:{options:{type:Object,default:()=>({})}},data:()=>({key:"key",platformOptions:{github:xi,"github-v4":Di,gitlab:Oi,bitbucket:zi,gitee:Ui}}),computed:{vssueOptions(){const{platformOptions:n,options:t}=this,e=n[t.platform];return{...t,api:e}}},watch:{$route(n,t){n.path!==t.path&&setTimeout(()=>{this.key="reco-"+(new Date).getTime()},300)}}},Gi=(e(332),{components:{Valine:_e,Vssue:Object(Lt.a)(Vi,(function(){return(0,this._self._c)("VssueComponent",{key:this.key,staticClass:"vssue-wrapper",attrs:{options:this.vssueOptions}})}),[],!1,null,null,null).exports},props:{isShowComments:{type:Boolean,default:!0}},data:()=>({commentsOptions:{}}),computed:{solution(){const{commentsOptions:{solution:n},$themeConfig:{valineConfig:t,vssueConfig:e},$themeLocaleConfig:{valineConfig:r,vssueConfig:i}}=this;let o="";return void 0!==n?o=n:void 0!==r||void 0!==t?o="valine":void 0===i&&void 0===e||(o="vssue"),o},options(){const{commentsOptions:{options:n},$themeConfig:{valineConfig:t,vssueConfig:e},$themeLocaleConfig:{valineConfig:r,vssueConfig:i}}=this;return void 0!==n?n:void 0!==r||void 0!==t?r||t:void 0!==i||void 0!==e?i||e:null},componentName(){const n=this.solution;return"valine"===n?"Valine":"vssue"===n?"Vssue":""}},mounted(){this.$themeConfig.commentsSolution=this.solution}}),qi=Object(Lt.a)(Gi,(function(){var n=this._self._c;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowComments,expression:"isShowComments"}],staticClass:"comments-wrapper"},[n("ClientOnly",[n(this.componentName,{tag:"component",attrs:{options:this.options}})],1)],1)}),[],!1,null,null,null).exports,Hi={props:{idVal:String,numStyle:Object,flagTitle:{type:String,default:"Your Article Title"}},methods:{getIdVal(n){const t=this.$site.base;return t.slice(0,t.length-1)+n}}},Wi=Object(Lt.a)(Hi,(function(){var n=this._self._c;return n("span",{staticClass:"leancloud-visitors",attrs:{id:this.getIdVal(this.idVal),"data-flag-title":this.flagTitle}},[n("a",{staticClass:"leancloud-visitors-count",style:this.numStyle})])}),[],!1,null,null,null).exports,Yi=(e(333),{tags:{"算法":{key:"算法",scope:"tags",path:"/tag/算法/",pageKeys:["v-1636abee"]},mysql:{key:"mysql",scope:"tags",path:"/tag/mysql/",pageKeys:["v-ddb3964a"]},"学习提升":{key:"学习提升",scope:"tags",path:"/tag/学习提升/",pageKeys:["v-ddb3964a","v-7202fbaa","v-f0d32e98","v-d961dbe6","v-3be0ab5a","v-719f06b9","v-67ca7500","v-6c303cd8","v-f16e80a4","v-4bb32e94","v-688337c1","v-5993644e","v-8c1e76fa","v-40eb3134","v-279330ce","v-7967ef00","v-1e2c93b5","v-0eaa4d08","v-00b49c8d","v-2145a02a","v-232a4853","v-5b9068e2","v-116737e9","v-44220668","v-18db05ed","v-22e271ca","v-d5bdc22a","v-6ad4e019","v-7248ae1d","v-13fad5c2","v-0db59754","v-1e630588","v-3ddebbee","v-4edf6ea4"]},SRE:{key:"SRE",scope:"tags",path:"/tag/SRE/",pageKeys:["v-ef5daee6","v-d202a9e6"]},"异常检测":{key:"异常检测",scope:"tags",path:"/tag/异常检测/",pageKeys:["v-ef5daee6"]},go:{key:"go",scope:"tags",path:"/tag/go/",pageKeys:["v-7202fbaa","v-f0d32e98","v-d961dbe6","v-3be0ab5a","v-719f06b9","v-67ca7500","v-6c303cd8","v-f16e80a4","v-4bb32e94","v-688337c1","v-5993644e","v-8c1e76fa","v-40eb3134","v-05801c55","v-279330ce","v-99129e24","v-8016f312","v-4532a315"]},"转载":{key:"转载",scope:"tags",path:"/tag/转载/",pageKeys:["v-e06de964"]},"问题排查":{key:"问题排查",scope:"tags",path:"/tag/问题排查/",pageKeys:["v-d202a9e6"]},vscode:{key:"vscode",scope:"tags",path:"/tag/vscode/",pageKeys:["v-8016f312","v-87f23a76"]},IDE:{key:"IDE",scope:"tags",path:"/tag/IDE/",pageKeys:["v-8016f312","v-4532a315"]},vue:{key:"vue",scope:"tags",path:"/tag/vue/",pageKeys:["v-1e2c93b5","v-0eaa4d08","v-00b49c8d","v-2145a02a","v-232a4853","v-5b9068e2","v-116737e9","v-44220668","v-18db05ed","v-22e271ca","v-d5bdc22a","v-6ad4e019","v-7248ae1d","v-13fad5c2","v-0db59754","v-1e630588","v-3ddebbee","v-4edf6ea4","v-3b089eba"]},vuepress:{key:"vuepress",scope:"tags",path:"/tag/vuepress/",pageKeys:["v-22170670"]},github:{key:"github",scope:"tags",path:"/tag/github/",pageKeys:["v-22170670"]},"博客":{key:"博客",scope:"tags",path:"/tag/博客/",pageKeys:["v-22170670"]},vim:{key:"vim",scope:"tags",path:"/tag/vim/",pageKeys:["v-4532a315"]},elementUI:{key:"elementUI",scope:"tags",path:"/tag/elementUI/",pageKeys:["v-3ddebbee","v-3b089eba"]},"异常处理":{key:"异常处理",scope:"tags",path:"/tag/异常处理/",pageKeys:["v-3b089eba"]}},categories:{"后端":{key:"后端",scope:"categories",path:"/categories/后端/",pageKeys:["v-1636abee"]},"工具/平台":{key:"工具/平台",scope:"categories",path:"/categories/工具/平台/",pageKeys:["v-66f04632","v-204ad842","v-191778e0","v-1dcf4122","v-8016f312","v-39f88ac1","v-22170670","v-87f23a76","v-4532a315"]},db:{key:"db",scope:"categories",path:"/categories/db/",pageKeys:["v-ddb3964a"]},"运维":{key:"运维",scope:"categories",path:"/categories/运维/",pageKeys:["v-ef5daee6","v-cf177a80","v-d202a9e6","v-02097f33","v-084ca106","v-07e0d963"]},go:{key:"go",scope:"categories",path:"/categories/go/",pageKeys:["v-7202fbaa","v-f0d32e98","v-d961dbe6","v-3be0ab5a","v-719f06b9","v-67ca7500","v-6c303cd8","v-f16e80a4","v-4bb32e94","v-688337c1","v-5993644e","v-8c1e76fa","v-40eb3134","v-05801c55","v-279330ce","v-99129e24"]},"大模型":{key:"大模型",scope:"categories",path:"/categories/大模型/",pageKeys:["v-e06de964","v-61cfa864","v-5d9bfa4e","v-a38a6564","v-00b45ead","v-775ba0ae","v-70bfbfe6","v-6d08b87e","v-11f514a5"]},"中间件":{key:"中间件",scope:"categories",path:"/categories/中间件/",pageKeys:["v-7f9a1228","v-fe03593c"]},python:{key:"python",scope:"categories",path:"/categories/python/",pageKeys:["v-7967ef00"]},"前端":{key:"前端",scope:"categories",path:"/categories/前端/",pageKeys:["v-1e2c93b5","v-0eaa4d08","v-00b49c8d","v-2145a02a","v-232a4853","v-5b9068e2","v-116737e9","v-44220668","v-18db05ed","v-22e271ca","v-d5bdc22a","v-6ad4e019","v-7248ae1d","v-13fad5c2","v-0db59754","v-1e630588","v-3ddebbee","v-4edf6ea4","v-3b089eba"]}},timeline:{}});class Xi{constructor(n,t){this._metaMap=Object.assign({},n),Object.keys(this._metaMap).forEach(n=>{const{pageKeys:e}=this._metaMap[n];this._metaMap[n].pages=e.map(n=>function(n,t){for(let e=0;e<n.length;e++){const r=n[e];if(r.key===t)return r}return{path:"",frontmatter:{}}}(t,n))})}get length(){return Object.keys(this._metaMap).length}get map(){return this._metaMap}get pages(){return this.list}get list(){return this.toArray()}toArray(){const n=[];return Object.keys(this._metaMap).forEach(t=>{const{pages:e,path:r}=this._metaMap[t];n.push({name:t,pages:e,path:r})}),n}getItemByName(n){return this._metaMap[n]}}var Qi={tags:(n,t)=>{const r=e(122);return r(n.frontmatter.date)-r(t.frontmatter.date)>0?-1:1},categories:(n,t)=>{const r=e(122);return r(n.frontmatter.date)-r(t.frontmatter.date)>0?-1:1}},Ji={tags:function(n,t,e){const r=t;return["tags"].some(t=>{const e=n.frontmatter[t];return Array.isArray(e)?e.some(n=>n===r):e===r})},categories:function(n,t,e){const r=t;return["categories"].some(t=>{const e=n.frontmatter[t];return Array.isArray(e)?e.some(n=>n===r):e===r})}},Ki=[{pid:"tags",id:"算法",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/算法/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"mysql",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/mysql/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"学习提升",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/学习提升/",interval:[0,9]},{path:"/tag/学习提升/page/2/",interval:[10,19]},{path:"/tag/学习提升/page/3/",interval:[20,29]},{path:"/tag/学习提升/page/4/",interval:[30,34]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"SRE",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/SRE/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"异常检测",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/异常检测/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"go",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/go/",interval:[0,9]},{path:"/tag/go/page/2/",interval:[10,18]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"转载",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/转载/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"问题排查",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/问题排查/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"vscode",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/vscode/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"IDE",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/IDE/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"vue",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/vue/",interval:[0,9]},{path:"/tag/vue/page/2/",interval:[10,19]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"vuepress",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/vuepress/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"github",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/github/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"博客",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/博客/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"vim",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/vim/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"elementUI",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/elementUI/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"异常处理",filter:Ji.tags,sorter:Qi.tags,pages:[{path:"/tag/异常处理/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"后端",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/后端/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"工具/平台",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/工具/平台/",interval:[0,9]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"db",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/db/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"运维",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/运维/",interval:[0,6]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"go",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/go/",interval:[0,9]},{path:"/categories/go/page/2/",interval:[10,16]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"大模型",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/大模型/",interval:[0,9]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"中间件",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/中间件/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"python",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/python/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"前端",filter:Ji.categories,sorter:Qi.categories,pages:[{path:"/categories/前端/",interval:[0,9]},{path:"/categories/前端/page/2/",interval:[10,19]}],prevText:"Prev",nextText:"Next"}],Zi=e(137);const no=e.n(Zi)()("plugin-blog:pagination");class to{constructor(n,t,e){no("pagination",n);const{pages:r,prevText:i,nextText:o}=n,{path:a}=e;this._prevText=i,this._nextText=o;for(let n=0,t=r.length;n<t;n++){if(r[n].path===a){this.paginationIndex=n;break}}this.paginationIndex||(this.paginationIndex=0),this._paginationPages=r,this._currentPage=r[this.paginationIndex],this._matchedPages=t.filter(t=>n.filter(t,n.id,n.pid)).sort(n.sorter)}setIndexPage(n){this._indexPage=n}get length(){return this._paginationPages.length}get pages(){const[n,t]=this._currentPage.interval;return this._matchedPages.slice(n,t+1)}get hasPrev(){return 0!==this.paginationIndex}get prevLink(){return this.hasPrev?this.paginationIndex-1==0&&this._indexPage?this._indexPage:this._paginationPages[this.paginationIndex-1].path:null}get hasNext(){return this.paginationIndex!==this.length-1}get nextLink(){return this.hasNext?this._paginationPages[this.paginationIndex+1].path:null}get prevText(){return this._prevText}get nextText(){return this._nextText}getSpecificPageLink(n){return this._paginationPages[n].path}}const eo=new class{constructor(n){this.paginations=n}get pages(){return r.b.$vuepress.$get("siteData").pages}getPagination(n,t,e){no("id",t),no("pid",n);const r=this.paginations.filter(e=>e.id===t&&e.pid===n)[0];return new to(r,this.pages,e)}}(Ki);var ro={comment:{enabled:!1,service:""},email:{enabled:!1},feed:{rss:!1,atom:!1,json:!1}};e(336);function io(n){const t=document.documentElement.getBoundingClientRect(),e=n.getBoundingClientRect();return{x:e.left-t.left,y:e.top-t.top}}var oo={data:()=>({volumeKey:"reco-bgm-volume"}),methods:{setVolume(n){sessionStorage.setItem(this.volumeKey,n)},getVolume(){return sessionStorage.getItem(this.volumeKey)},removeVolume(){sessionStorage.removeItem(this.volumeKey)}}},ao={name:"ModuleTransition",props:{delay:{type:String,default:"0"},duration:{type:String,default:".25"},position:{type:String,default:"left"}},methods:{setStyle(n){n.style.transition=`all ${this.duration}s ease-in-out ${this.delay}s`,n.style.transform="right"===this.position?"translateX(20px)":"translateX(-20px)",n.style.opacity=0},unsetStyle(n){n.style.transform="translateX(0)",n.style.opacity=1}}},so=(e(337),Object(Lt.a)(ao,(function(){return(0,this._self._c)("transition",{attrs:{name:"module"},on:{enter:this.setStyle,"after-enter":this.unsetStyle,"before-leave":this.setStyle}},[this._t("default")],2)}),[],!1,null,"41bcba48",null).exports);let lo,co=0;var uo={mixins:[oo],components:{ModuleTransition:so},mounted(){"left"===this.floatPosition?this.floatStyle={...this.floatStyle,left:"0","border-top-right-radius":"20px","border-bottom-right-radius":"20px"}:this.floatStyle={...this.floatStyle,right:"0","border-top-left-radius":"20px","border-bottom-left-radius":"20px"},this.autoShrink&&this.changeBgmInfo(!0)},data:()=>({panelPosition:{left:"10px",bottom:"10px","z-index":"999999"},curIndex:0,curPlayStatus:"paused",audio:[{name:"只爱西经",artist:"林一",url:"/bgm/只爱西经-林一.mp3",cover:"https://img.18183.com/uploads/allimg/210927/379-21092GG645.jpg@!18183"},{name:"菊次郎的夏天",artist:"久石让",url:"/bgm/summer.mp3",cover:"https://p1.itc.cn/q_70/images03/20200810/197b7d24b5354097a1b9159a9a229ab6.jpeg"},{name:"星河不可及",artist:"轻缓音乐",url:"/bgm/星河不可及.mp3",cover:"https://y.qq.com/music/photo_new/T002R300x300M000002q0h264MfJOY_2.jpg?max_age=2592000"}],autoplay:!1,isFloat:!1,isMini:!1,firstLoad:!0,isMute:!1,isFault:!1,floatPosition:"left",floatStyle:{bottom:"20px","z-index":"999999"},autoShrink:!0,shrinkMode:"float"}),watch:{curPlayStatus:function(n){"playing"===n?lo=setInterval((function(){const n=document.querySelector(".reco-bgm-cover"),t=document.querySelector(".mini-operation"),e=document.querySelector(".falut-message");co+=1,n.style.transform="rotate("+co+"deg)",n.style.transition="0.1s linear",t.style.transform="rotate(-"+co+"deg)",t.style.transition="0.1s linear",e.style.transform="rotate(-"+co+"deg)",e.style.transition="0.1s linear"}),100):clearInterval(lo)}},methods:{changeBgmInfo(n){const t=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);t||"float"===this.shrinkMode?this.isFloat=n:t||"mini"!==this.shrinkMode||(this.isMini=n)},playReady(){if(this.firstLoad){if(this.getVolume()){const n=this.getVolume();this.$refs.vbar.style.width=100*n+"%",this.$refs.bgm.volume=n}else{const n=100*this.$refs.bgm.volume+"%";this.$refs.vbar.style.width=n}if(this.firstLoad=!1,this.autoplay){const n=this.$refs.bgm.play();void 0!==n&&n.then(n=>{console.log("vuepress-plugin-bgm-player: 自动播放成功"),this.curPlayStatus="playing"}).catch(n=>{console.log("vuepress-plugin-bgm-player: 自动播放失败"),window.addEventListener("click",this.pageClickHandle)})}}"playing"===this.curPlayStatus&&this.playBgm()},pageClickHandle(){this.autoplay&&this.playBgm(),window.removeEventListener("click",this.pageClickHandle)},pauseBgm(){this.$refs.bgm.pause(),this.curPlayStatus="paused"},playBgm(){const n=this.$refs.bgm.play();void 0!==n&&n.then(n=>{this.isFault&&(this.isFault=!1)}).catch(n=>{console.log(n),this.isFault=!0,this.pauseBgm()}),this.curPlayStatus="playing"},playNext(){this.$refs.pbar.style.width=0,this.isFault=!1,this.curIndex>=this.audio.length-1?this.curIndex=0:this.curIndex++},playLast(){this.$refs.pbar.style.width=0,this.isFault=!1,this.curIndex<=0?this.curIndex=this.audio.length-1:this.curIndex--},bgmEnded(){this.$refs.pbar.style.width=0,this.playNext()},timeUpdate(){const n=this.$refs.bgm.duration,t=this.$refs.bgm.currentTime/n*100+"%";this.$refs.pbar.style.width=t},progressJump(n){const t=this.$refs.bgm.duration,e=n.offsetX/150;isNaN(t)||(this.$refs.bgm.currentTime=e*t)},volumeJump(n){const t=n.offsetX/57;t>=0&&t<=1&&(this.isMute=!(t>0),this.$refs.vbar.style.width=100*t+"%",this.$refs.bgm.volume=t,this.setVolume(this.$refs.bgm.volume))},muteBgm(){this.isMute=!0,this.setVolume(this.$refs.bgm.volume),this.$refs.vbar.style.width=0,this.$refs.bgm.volume=0},unMuteBgm(){if(this.isMute=!1,this.getVolume()){const n=this.getVolume();this.$refs.vbar.style.width=100*n+"%",this.$refs.bgm.volume=n}else this.$refs.vbar.style.width="100%",this.$refs.bgm.volume=1}}},po=(e(338),Object(Lt.a)(uo,(function(){var n=this,t=n._self._c;return t("div",{staticClass:"reco-bgm-panel"},[t("audio",{ref:"bgm",attrs:{id:"bgm",src:n.audio[n.curIndex].url},on:{ended:n.bgmEnded,canplay:n.playReady,timeupdate:n.timeUpdate}}),n._v(" "),t("module-transition",{attrs:{position:n.floatPosition}},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.isFloat,expression:"isFloat"}],staticClass:"reco-float-box",style:n.floatStyle,on:{click:function(t){return n.changeBgmInfo(!1)}}},[t("img",{attrs:{src:n.audio[n.curIndex].cover}})])]),n._v(" "),t("module-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isFloat,expression:"!isFloat"}],staticClass:"reco-bgm-box",style:n.panelPosition},[t("div",{staticClass:"reco-bgm-cover",style:`background-image:url(${n.audio[n.curIndex].cover})`,on:{click:function(t){return n.changeBgmInfo(!1)}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.isMini,expression:"isMini"}],staticClass:"mini-operation"},[t("i",{directives:[{name:"show",rawName:"v-show",value:"playing"===this.curPlayStatus&&n.isMini,expression:"this.curPlayStatus === 'playing' && isMini"}],staticClass:"reco-bgm reco-bgm-pause",on:{click:function(t){return t.stopPropagation(),n.pauseBgm.apply(null,arguments)}}}),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:"paused"===this.curPlayStatus&&n.isMini,expression:"this.curPlayStatus === 'paused' && isMini"}],staticClass:"reco-bgm reco-bgm-play",on:{click:function(t){return t.stopPropagation(),n.playBgm.apply(null,arguments)}}})]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.isFault,expression:"isFault"}],staticClass:"falut-message"},[n._v("\n          播放失败\n        ")])]),n._v(" "),t("module-transition",{attrs:{duration:".15"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isMini,expression:"!isMini"}],staticClass:"reco-bgm-info"},[t("div",{staticClass:"info-box"},[t("i",{staticClass:"reco-bgm reco-bgm-music music"}),n._v(n._s(n.audio[n.curIndex].name))]),n._v(" "),t("div",{staticClass:"info-box"},[t("i",{staticClass:"reco-bgm reco-bgm-artist"}),n._v(n._s(n.audio[n.curIndex].artist))]),n._v(" "),t("div",{staticClass:"reco-bgm-progress"},[t("div",{staticClass:"progress-bar",on:{click:n.progressJump}},[t("div",{ref:"pbar",staticClass:"bar"})])]),n._v(" "),t("div",{staticClass:"reco-bgm-operation"},[t("i",{staticClass:"reco-bgm reco-bgm-last last",on:{click:n.playLast}}),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:"playing"===n.curPlayStatus,expression:"curPlayStatus === 'playing'"}],staticClass:"reco-bgm reco-bgm-pause pause",on:{click:n.pauseBgm}}),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:"paused"===n.curPlayStatus,expression:"curPlayStatus === 'paused'"}],ref:"play",staticClass:"reco-bgm reco-bgm-play play",on:{click:n.playBgm}}),n._v(" "),t("i",{staticClass:"reco-bgm reco-bgm-next next",on:{click:n.playNext}}),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:!n.isMute,expression:"!isMute"}],staticClass:"reco-bgm reco-bgm-volume1 volume",on:{click:n.muteBgm}}),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:n.isMute,expression:"isMute"}],staticClass:"reco-bgm reco-bgm-mute mute",on:{click:n.unMuteBgm}}),n._v(" "),t("div",{staticClass:"volume-bar",on:{click:n.volumeJump}},[t("div",{ref:"vbar",staticClass:"bar"})])])])]),n._v(" "),t("module-transition",{attrs:{duration:".15"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isMini,expression:"!isMini"}],staticClass:"reco-bgm-left-box",on:{click:function(t){return n.changeBgmInfo(!0)}}},[t("i",{staticClass:"reco-bgm reco-bgm-left"})])])],1)])],1)}),[],!1,null,"b1d3339e",null).exports);class mo{constructor(n,t,e,r,i,o,a){this.x=n,this.y=t,this.s=e,this.r=r,this.fn=i,this.that=o,this.img=a}draw(n){n.save();this.s;n.translate(this.x,this.y),n.rotate(this.r),n.drawImage(this.img,0,0,40*this.s,40*this.s),n.restore()}update(){this.x=this.fn.x(this.x,this.y),this.y=this.fn.y(this.y,this.y),this.r=this.fn.r(this.r),(this.x>window.innerWidth||this.x<0||this.y>window.innerHeight||this.y<0)&&(this.r=this.that.getRandom("fnr"),Math.random()>.4?(this.x=this.that.getRandom("x"),this.y=0,this.s=this.that.getRandom("s"),this.r=this.that.getRandom("r")):(this.x=window.innerWidth,this.y=this.that.getRandom("y"),this.s=this.that.getRandom("s"),this.r=this.that.getRandom("r")))}}class ho{constructor(){this.list=[]}push(n){this.list.push(n)}update(){for(var n=0,t=this.list.length;n<t;n++)this.list[n].update()}draw(n){for(var t=0,e=this.list.length;t<e;t++)this.list[t].draw(n)}get(n){return this.list[n]}size(){return this.list.length}}var go={name:"Sakura",data:()=>({staticx:!1,stop:null,num:3,show:!0,zIndex:-1}),mounted(){this.$nextTick(()=>{this.show&&this.startSakura()})},methods:{getRandom(n){var t,e;switch(n){case"x":t=Math.random()*window.innerWidth;break;case"y":t=Math.random()*window.innerHeight;break;case"s":t=Math.random();break;case"r":t=6*Math.random();break;case"fnx":e=1*Math.random()-.5,t=function(n,t){return n+.5*e-1.7};break;case"fny":e=1.5+.7*Math.random(),t=function(n,t){return t+e};break;case"fnr":e=.03*Math.random(),t=function(n){return n+e}}return t},startSakura(){let n=this;requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;var t=document.getElementById("canvas_sakura");this.staticx=!0,this.$refs.canvas_sakura.width=window.innerWidth,this.$refs.canvas_sakura.height=window.innerHeight;var r=this.$refs.canvas_sakura.getContext("2d"),i=new ho;const o=new Image;o.src=e(339);for(var a=0;a<n.num;a++){let n,t,e,a,s,l,c,u;t=this.getRandom("x"),e=this.getRandom("y"),s=this.getRandom("r"),a=this.getRandom("s"),l=this.getRandom("fnx"),c=this.getRandom("fny"),u=this.getRandom("fnr"),n=new mo(t,e,a,s,{x:l,y:c,r:u},this,o),n.draw(r),i.push(n)}this.stop=requestAnimationFrame((function e(){r.clearRect(0,0,t.width,t.height),i.update(),i.draw(r),n.stop=requestAnimationFrame(e)}))},stopp(){if(this.staticx){var n=document.getElementById("canvas_sakura");n.parentNode.removeChild(n),window.cancelAnimationFrame(this.stop),this.staticx=!1}else this.startSakura()}}},fo=(e(340),Object(Lt.a)(go,(function(){var n=this._self._c;return n("div",{staticClass:"Sakura"},[n("canvas",{ref:"canvas_sakura",style:{zIndex:this.zIndex},attrs:{id:"canvas_sakura"}})])}),[],!1,null,"248d85d6",null).exports),vo={props:{type:{type:String,default:""},title:{type:String,default:""},content:{type:String,default:""},blockStyle:{type:Object,default:null},titleStyle:{type:Object,default:null},contentStyle:{type:Object,default:null},changeTime:{type:String,default:"false"}},data:()=>({boxx:{},class_boxx:"",list:bo,type_boxx_list:yo,show_content:!0,show_title:!0,style_boxx:{},style_title:{},style_content:{},interval:{}}),mounted(){this.getContent(),this.checkTitleAndConten(),this.checkStyleWithTitleAndContenAndBlock(),this.getShowType(this.type),this.dynamicUpdateType(this.changeTime)},watch:{changeTime(n,t){this.dynamicUpdateType(n)}},methods:{getContent(){this.list.length>=100||(fi.a.get("https://v1.jinrishici.com/all.json").then(n=>{let t=" • <span style='font-size: 13px;'>"+n.data.author+"</span>";this.list.push({title:n.data.origin+t,content:n.data.content})}),fi.a.get("https://v1.hitokoto.cn").then(n=>{if(""==n.data.hitokoto||n.data.hitokoto.length>40)return;let t="";null!=n.data.from_who&&(t=" • <span style='font-size: 13px;'>"+n.data.from_who+"</span>"),this.list.push({title:n.data.from+t,content:n.data.hitokoto})}))},getShowType(n){n!=yo[2].type?n!=yo[1].type?this.class_boxx=yo[0].class:this.class_boxx=yo[1].class:this.class_boxx=yo[2].class},getboxx(){return this.boxx=bo[Math.floor(Math.random()*bo.length)]},checkTitleAndConten(){return""!=this.title&&""==this.content?(this.boxx.title=this.title,void(this.show_content=!1)):""==this.title&&""!=this.content?(this.boxx.content=this.content,this.style_content={"margin-top":"1rem","margin-bottom":"0.4rem"},void(this.show_title=!1)):void(""==this.title||""==this.content?this.getboxx():(this.boxx.title=this.title,this.boxx.content=this.content))},checkStyleWithTitleAndContenAndBlock(){null!=this.titleStyle&&(this.style_title=this.titleStyle),null!=this.contentStyle&&(this.style_content=this.contentStyle),null!=this.blockStyle&&(this.style_boxx=this.blockStyle)},dynamicUpdateType(n){if(this.getContent(),""!=n&&"false"!=n&&/^\d+$/.test(n)){var t=0;for(var e in yo)this.type==yo[e].type&&(t=e);clearInterval(this.interval),this.interval=setInterval(()=>{++t==yo.length&&(t=0),this.getShowType(yo[t].type),this.checkTitleAndConten()},n)}}}};const yo=[{type:"tip",class:"tip custom-block"},{type:"warning",class:"warning custom-block"},{type:"danger",class:"danger custom-block"}],bo=[{title:"佚名",content:"勇敢不是不害怕，而是害怕的时候你还能坚持去做"}];var _o=vo,wo=Object(Lt.a)(_o,(function(){var n=this,t=n._self._c;return t("div",{attrs:{id:"boxx"}},[t("div",{class:n.class_boxx,style:n.style_boxx},[t("p",{staticClass:"custom-block-title",style:n.style_title,attrs:{"v-if":n.show_title},domProps:{innerHTML:n._s(n.boxx.title)}}),n._v(" "),t("p",{style:n.style_content,attrs:{"v-if":n.show_content},domProps:{innerHTML:n._s(n.boxx.content)}})])])}),[],!1,null,"f4ca0dac",null).exports,xo={popupComponent:"LastReadingPopup",popupConfig:{"/":{message:"Go back to the last reading.",buttonText:"Go to"},"/zh/":{message:"继续上次阅读",buttonText:"前往"}},popupCountdown:1e4,popupCustom:void 0},$o={name:"LastReadingPopup",data:()=>({lastReading:null,show:!1}),computed:{popupConfig(){const n=xo.popupConfig;return n[`/${this.$lang.split("-")[0]}/`]||n[this.$localePath]||n},message(){const n=this.popupConfig;return n&&n.message||n["/"].message},buttonText(){const n=this.popupConfig;return n&&n.buttonText||n["/"].buttonText}},mounted(){window.ActiveXObject||"ActiveXObject"in window?window.addEventListener("load",this.init()):window.addEventListener("load",this.init)},methods:{init(){this.lastReading=JSON.parse(localStorage.getItem("lastReading")),this.lastReading&&(xo.popupCustom?xo.popupCustom.apply(this):this.$route.path===this.lastReading.path?this.goto():(this.show=!0,xo.popupCountdown&&setTimeout(this.clean,xo.popupCountdown)))},goto(){this.$route.path!==this.lastReading.path?this.$router.replace(this.lastReading.path).then(()=>{document.documentElement.scrollTop=this.lastReading.scrollTop,this.clean()}):this.$nextTick(()=>{document.documentElement.scrollTop=this.lastReading.scrollTop,this.clean()})},clean(){this.show=!1,localStorage.removeItem("lastReading")}}},ko=(e(341),Object(Lt.a)($o,(function(){var n=this,t=n._self._c;return t("transition",{attrs:{name:"sw-update-popup"}},[n._t("default",(function(){return[n.show?t("div",{staticClass:"sw-update-popup"},[n._v("\n      "+n._s(n.message)+"\n\n      "),t("br"),n._v(" "),t("button",{on:{click:n.goto}},[n._v("\n        "+n._s(n.buttonText)+"\n      ")])]):n._e()]}),{goto:n.goto,show:n.show,message:n.message,buttonText:n.buttonText})],2)}),[],!1,null,"e1398bba",null).exports),To={name:"KanBanNiang",data:()=>({isLoaded:!0,displayBanNiang:!1,isShowMessageBox:!1,isShowBtns:!1,messages:{message:"",welcome:"",home:"心里的花，我想要带你回家",theme:"好吧，希望你能喜欢我的其他小伙伴。",close:"再见哦"},currentTheme:"z16",myTheme:["z16","miku","koharu"],themeName:["blackCat","whiteCat","haru1","haru2","haruto","koharu","izumi","shizuku","wanko","miku","z16"],model:{blackCat:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-hijiki/assets/hijiki.model.json",whiteCat:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-tororo/assets/tororo.model.json",haru1:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-haru/01/assets/haru01.model.json",haru2:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-haru/02/assets/haru02.model.json",haruto:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-haruto/assets/haruto.model.json",koharu:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-koharu/assets/koharu.model.json",izumi:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-izumi/assets/izumi.model.json",shizuku:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-shizuku/assets/shizuku.model.json",wanko:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-wanko/assets/wanko.model.json",miku:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-miku/assets/miku.model.json",z16:"https://cdn.jsdelivr.net/gh/QiShaoXuan/live2DModel@1.0.0/live2d-widget-model-z16/assets/z16.model.json"},style:{width:150,height:300},modelStyle:{left:"70px",bottom:"-20px",opacity:"0.9"},messageStyle:{right:"68px",bottom:"190px"},btnStyle:{left:"10px",bottom:"65px"}}),mounted(){this.btnStyle={...this.btnStyle,height:this.myTheme.length>1?"120px":"100px"},this.initBanNiang()},methods:{hoverGoHome(){this.messages.message=this.messages.home},hoverChangeTheme(){this.messages.message=this.messages.theme},hoverMoreInfo(){this.messages.message="想知道关于我的更多信息吗？"},hoverCloseBanNiang(){this.messages.message=this.messages.close},resetMessage(){this.messages.message=this.messages.welocme},goHome(){"/"!==this.$route.path&&this.$router.push("/")},changeTheme(){const n=[];for(var t=0;t<this.myTheme.length;t++)this.myTheme[t]!=this.currentTheme&&n.push(this.myTheme[t]);const e=Math.floor(Math.random()*(this.myTheme.length-1));this.currentTheme=n[e],this.initBanNiang()},closeBanNiang(){this.isLoaded=!1,this.displayBanNiang=!0},showBanNiang(){this.isLoaded=!0,this.displayBanNiang=!1,this.initBanNiang()},initBanNiang(){if(-1===this.themeName.indexOf(this.currentTheme))return console.log("@vuepress-reco/vuepress-plugin-kan-ban-niang不支持主题"+this.currentTheme+", 请检查主题名, 或前往https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html 查看支持的主题"),void(document.querySelector(".kanbanniang").style.display="none");if(!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return this.isLoaded=!1,console.log("mobile do not load model");if(!window.loadlive2d){const n=document.createElement("script");n.innerHTML='!function(t){function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=4)}([function(t,i,e){"use strict";function r(){this.live2DModel=null,this.modelMatrix=null,this.eyeBlink=null,this.physics=null,this.pose=null,this.debugMode=!1,this.initialized=!1,this.updating=!1,this.alpha=1,this.accAlpha=0,this.lipSync=!1,this.lipSyncValue=0,this.accelX=0,this.accelY=0,this.accelZ=0,this.dragX=0,this.dragY=0,this.startTimeMSec=null,this.mainMotionManager=new h,this.expressionManager=new h,this.motions={},this.expressions={},this.isTexLoaded=!1}function o(){AMotion.prototype.constructor.call(this),this.paramList=new Array}function n(){this.id="",this.type=-1,this.value=null}function s(){this.nextBlinkTime=null,this.stateStartTime=null,this.blinkIntervalMsec=null,this.eyeState=g.STATE_FIRST,this.blinkIntervalMsec=4e3,this.closingMotionMsec=100,this.closedMotionMsec=50,this.openingMotionMsec=150,this.closeIfZero=!0,this.eyeID_L="PARAM_EYE_L_OPEN",this.eyeID_R="PARAM_EYE_R_OPEN"}function _(){this.tr=new Float32Array(16),this.identity()}function a(t,i){_.prototype.constructor.call(this),this.width=t,this.height=i}function h(){MotionQueueManager.prototype.constructor.call(this),this.currentPriority=null,this.reservePriority=null,this.super=MotionQueueManager.prototype}function l(){this.physicsList=new Array,this.startTimeMSec=UtSystem.getUserTimeMSec()}function $(){this.lastTime=0,this.lastModel=null,this.partsGroups=new Array}function u(t){this.paramIndex=-1,this.partsIndex=-1,this.link=null,this.id=t}function p(){this.EPSILON=.01,this.faceTargetX=0,this.faceTargetY=0,this.faceX=0,this.faceY=0,this.faceVX=0,this.faceVY=0,this.lastTimeSec=0}function f(){_.prototype.constructor.call(this),this.screenLeft=null,this.screenRight=null,this.screenTop=null,this.screenBottom=null,this.maxLeft=null,this.maxRight=null,this.maxTop=null,this.maxBottom=null,this.max=Number.MAX_VALUE,this.min=0}function c(){}var d=0;r.prototype.getModelMatrix=function(){return this.modelMatrix},r.prototype.setAlpha=function(t){t>.999&&(t=1),t<.001&&(t=0),this.alpha=t},r.prototype.getAlpha=function(){return this.alpha},r.prototype.isInitialized=function(){return this.initialized},r.prototype.setInitialized=function(t){this.initialized=t},r.prototype.isUpdating=function(){return this.updating},r.prototype.setUpdating=function(t){this.updating=t},r.prototype.getLive2DModel=function(){return this.live2DModel},r.prototype.setLipSync=function(t){this.lipSync=t},r.prototype.setLipSyncValue=function(t){this.lipSyncValue=t},r.prototype.setAccel=function(t,i,e){this.accelX=t,this.accelY=i,this.accelZ=e},r.prototype.setDrag=function(t,i){this.dragX=t,this.dragY=i},r.prototype.getMainMotionManager=function(){return this.mainMotionManager},r.prototype.getExpressionManager=function(){return this.expressionManager},r.prototype.loadModelData=function(t,i){var e=c.getPlatformManager();this.debugMode&&e.log("Load model : "+t);var r=this;e.loadLive2DModel(t,function(t){if(r.live2DModel=t,r.live2DModel.saveParam(),0!=Live2D.getError())return void console.error("Error : Failed to loadModelData().");r.modelMatrix=new a(r.live2DModel.getCanvasWidth(),r.live2DModel.getCanvasHeight()),r.modelMatrix.setWidth(2),r.modelMatrix.setCenterPosition(0,0),i(r.live2DModel)})},r.prototype.loadTexture=function(t,i,e){d++;var r=c.getPlatformManager();this.debugMode&&r.log("Load Texture : "+i);var o=this;r.loadTexture(this.live2DModel,t,i,function(){d--,0==d&&(o.isTexLoaded=!0),"function"==typeof e&&e()})},r.prototype.loadMotion=function(t,i,e){var r=c.getPlatformManager();this.debugMode&&r.log("Load Motion : "+i);var o=null,n=this;r.loadBytes(i,function(i){o=Live2DMotion.loadMotion(i),null!=t&&(n.motions[t]=o),e(o)})},r.prototype.loadExpression=function(t,i,e){var r=c.getPlatformManager();this.debugMode&&r.log("Load Expression : "+i);var n=this;r.loadBytes(i,function(i){null!=t&&(n.expressions[t]=o.loadJson(i)),"function"==typeof e&&e()})},r.prototype.loadPose=function(t,i){var e=c.getPlatformManager();this.debugMode&&e.log("Load Pose : "+t);var r=this;try{e.loadBytes(t,function(t){r.pose=$.load(t),"function"==typeof i&&i()})}catch(t){console.warn(t)}},r.prototype.loadPhysics=function(t){var i=c.getPlatformManager();this.debugMode&&i.log("Load Physics : "+t);var e=this;try{i.loadBytes(t,function(t){e.physics=l.load(t)})}catch(t){console.warn(t)}},r.prototype.hitTestSimple=function(t,i,e){if(null===this.live2DModel)return!1;var r=this.live2DModel.getDrawDataIndex(t);if(r<0)return!1;for(var o=this.live2DModel.getTransformedPoints(r),n=this.live2DModel.getCanvasWidth(),s=0,_=this.live2DModel.getCanvasHeight(),a=0,h=0;h<o.length;h+=2){var l=o[h],$=o[h+1];l<n&&(n=l),l>s&&(s=l),$<_&&(_=$),$>a&&(a=$)}var u=this.modelMatrix.invertTransformX(i),p=this.modelMatrix.invertTransformY(e);return n<=u&&u<=s&&_<=p&&p<=a},r.prototype.hitTestSimpleCustom=function(t,i,e,r){return null!==this.live2DModel&&t&&(e>=t[0]&&e<=i[0]&&r<=t[1]&&r>=i[1])},o.prototype=new AMotion,o.EXPRESSION_DEFAULT="DEFAULT",o.TYPE_SET=0,o.TYPE_ADD=1,o.TYPE_MULT=2,o.loadJson=function(t){var i=new o,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t);if(i.setFadeIn(parseInt(r.fade_in)>0?parseInt(r.fade_in):1e3),i.setFadeOut(parseInt(r.fade_out)>0?parseInt(r.fade_out):1e3),null==r.params)return i;var s=r.params,_=s.length;i.paramList=[];for(var a=0;a<_;a++){var h=s[a],l=h.id.toString(),$=parseFloat(h.val),u=o.TYPE_ADD,p=null!=h.calc?h.calc.toString():"add";if((u="add"===p?o.TYPE_ADD:"mult"===p?o.TYPE_MULT:"set"===p?o.TYPE_SET:o.TYPE_ADD)==o.TYPE_ADD){var f=null==h.def?0:parseFloat(h.def);$-=f}else if(u==o.TYPE_MULT){var f=null==h.def?1:parseFloat(h.def);0==f&&(f=1),$/=f}var d=new n;d.id=l,d.type=u,d.value=$,i.paramList.push(d)}return i},o.prototype.updateParamExe=function(t,i,e,r){for(var n=this.paramList.length-1;n>=0;--n){var s=this.paramList[n];s.type==o.TYPE_ADD?t.addToParamFloat(s.id,s.value,e):s.type==o.TYPE_MULT?t.multParamFloat(s.id,s.value,e):s.type==o.TYPE_SET&&t.setParamFloat(s.id,s.value,e)}},s.prototype.calcNextBlink=function(){return UtSystem.getUserTimeMSec()+Math.random()*(2*this.blinkIntervalMsec-1)},s.prototype.setInterval=function(t){this.blinkIntervalMsec=t},s.prototype.setEyeMotion=function(t,i,e){this.closingMotionMsec=t,this.closedMotionMsec=i,this.openingMotionMsec=e},s.prototype.updateParam=function(t){var i,e=UtSystem.getUserTimeMSec(),r=0;switch(this.eyeState){case g.STATE_CLOSING:r=(e-this.stateStartTime)/this.closingMotionMsec,r>=1&&(r=1,this.eyeState=g.STATE_CLOSED,this.stateStartTime=e),i=1-r;break;case g.STATE_CLOSED:r=(e-this.stateStartTime)/this.closedMotionMsec,r>=1&&(this.eyeState=g.STATE_OPENING,this.stateStartTime=e),i=0;break;case g.STATE_OPENING:r=(e-this.stateStartTime)/this.openingMotionMsec,r>=1&&(r=1,this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink()),i=r;break;case g.STATE_INTERVAL:this.nextBlinkTime<e&&(this.eyeState=g.STATE_CLOSING,this.stateStartTime=e),i=1;break;case g.STATE_FIRST:default:this.eyeState=g.STATE_INTERVAL,this.nextBlinkTime=this.calcNextBlink(),i=1}this.closeIfZero||(i=-i),t.setParamFloat(this.eyeID_L,i),t.setParamFloat(this.eyeID_R,i)};var g=function(){};g.STATE_FIRST="STATE_FIRST",g.STATE_INTERVAL="STATE_INTERVAL",g.STATE_CLOSING="STATE_CLOSING",g.STATE_CLOSED="STATE_CLOSED",g.STATE_OPENING="STATE_OPENING",_.mul=function(t,i,e){var r,o,n,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<4;r++)for(o=0;o<4;o++)for(n=0;n<4;n++)s[r+4*o]+=t[r+4*n]*i[n+4*o];for(r=0;r<16;r++)e[r]=s[r]},_.prototype.identity=function(){for(var t=0;t<16;t++)this.tr[t]=t%5==0?1:0},_.prototype.getArray=function(){return this.tr},_.prototype.getCopyMatrix=function(){return new Float32Array(this.tr)},_.prototype.setMatrix=function(t){if(null!=this.tr&&this.tr.length==this.tr.length)for(var i=0;i<16;i++)this.tr[i]=t[i]},_.prototype.getScaleX=function(){return this.tr[0]},_.prototype.getScaleY=function(){return this.tr[5]},_.prototype.transformX=function(t){return this.tr[0]*t+this.tr[12]},_.prototype.transformY=function(t){return this.tr[5]*t+this.tr[13]},_.prototype.invertTransformX=function(t){return(t-this.tr[12])/this.tr[0]},_.prototype.invertTransformY=function(t){return(t-this.tr[13])/this.tr[5]},_.prototype.multTranslate=function(t,i){var e=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1];_.mul(e,this.tr,this.tr)},_.prototype.translate=function(t,i){this.tr[12]=t,this.tr[13]=i},_.prototype.translateX=function(t){this.tr[12]=t},_.prototype.translateY=function(t){this.tr[13]=t},_.prototype.multScale=function(t,i){var e=[t,0,0,0,0,i,0,0,0,0,1,0,0,0,0,1];_.mul(e,this.tr,this.tr)},_.prototype.scale=function(t,i){this.tr[0]=t,this.tr[5]=i},a.prototype=new _,a.prototype.setPosition=function(t,i){this.translate(t,i)},a.prototype.setCenterPosition=function(t,i){var e=this.width*this.getScaleX(),r=this.height*this.getScaleY();this.translate(t-e/2,i-r/2)},a.prototype.top=function(t){this.setY(t)},a.prototype.bottom=function(t){var i=this.height*this.getScaleY();this.translateY(t-i)},a.prototype.left=function(t){this.setX(t)},a.prototype.right=function(t){var i=this.width*this.getScaleX();this.translateX(t-i)},a.prototype.centerX=function(t){var i=this.width*this.getScaleX();this.translateX(t-i/2)},a.prototype.centerY=function(t){var i=this.height*this.getScaleY();this.translateY(t-i/2)},a.prototype.setX=function(t){this.translateX(t)},a.prototype.setY=function(t){this.translateY(t)},a.prototype.setHeight=function(t){var i=t/this.height,e=-i;this.scale(i,e)},a.prototype.setWidth=function(t){var i=t/this.width,e=-i;this.scale(i,e)},h.prototype=new MotionQueueManager,h.prototype.getCurrentPriority=function(){return this.currentPriority},h.prototype.getReservePriority=function(){return this.reservePriority},h.prototype.reserveMotion=function(t){return!(this.reservePriority>=t)&&(!(this.currentPriority>=t)&&(this.reservePriority=t,!0))},h.prototype.setReservePriority=function(t){this.reservePriority=t},h.prototype.updateParam=function(t){var i=MotionQueueManager.prototype.updateParam.call(this,t);return this.isFinished()&&(this.currentPriority=0),i},h.prototype.startMotionPrio=function(t,i){return i==this.reservePriority&&(this.reservePriority=0),this.currentPriority=i,this.startMotion(t,!1)},l.load=function(t){for(var i=new l,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t),o=r.physics_hair,n=o.length,s=0;s<n;s++){var _=o[s],a=new PhysicsHair,h=_.setup,$=parseFloat(h.length),u=parseFloat(h.regist),p=parseFloat(h.mass);a.setup($,u,p);for(var f=_.src,d=f.length,g=0;g<d;g++){var y=f[g],m=y.id,T=PhysicsHair.Src.SRC_TO_X,P=y.ptype;"x"===P?T=PhysicsHair.Src.SRC_TO_X:"y"===P?T=PhysicsHair.Src.SRC_TO_Y:"angle"===P?T=PhysicsHair.Src.SRC_TO_G_ANGLE:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Src");var S=parseFloat(y.scale),v=parseFloat(y.weight);a.addSrcParam(T,m,S,v)}for(var L=_.targets,M=L.length,g=0;g<M;g++){var E=L[g],m=E.id,T=PhysicsHair.Target.TARGET_FROM_ANGLE,P=E.ptype;"angle"===P?T=PhysicsHair.Target.TARGET_FROM_ANGLE:"angle_v"===P?T=PhysicsHair.Target.TARGET_FROM_ANGLE_V:UtDebug.error("live2d","Invalid parameter:PhysicsHair.Target");var S=parseFloat(E.scale),v=parseFloat(E.weight);a.addTargetParam(T,m,S,v)}i.physicsList.push(a)}return i},l.prototype.updateParam=function(t){for(var i=UtSystem.getUserTimeMSec()-this.startTimeMSec,e=0;e<this.physicsList.length;e++)this.physicsList[e].update(t,i)},$.load=function(t){for(var i=new $,e=c.getPlatformManager(),r=e.jsonParseFromBytes(t),o=r.parts_visible,n=o.length,s=0;s<n;s++){for(var _=o[s],a=_.group,h=a.length,l=new Array,p=0;p<h;p++){var f=a[p],d=new u(f.id);if(l[p]=d,null!=f.link){var g=f.link,y=g.length;d.link=new Array;for(var m=0;m<y;m++){var T=new u(g[m]);d.link.push(T)}}}i.partsGroups.push(l)}return i},$.prototype.updateParam=function(t){if(null!=t){t!=this.lastModel&&this.initParam(t),this.lastModel=t;var i=UtSystem.getUserTimeMSec(),e=0==this.lastTime?0:(i-this.lastTime)/1e3;this.lastTime=i,e<0&&(e=0);for(var r=0;r<this.partsGroups.length;r++)this.normalizePartsOpacityGroup(t,this.partsGroups[r],e),this.copyOpacityOtherParts(t,this.partsGroups[r])}},$.prototype.initParam=function(t){if(null!=t)for(var i=0;i<this.partsGroups.length;i++)for(var e=this.partsGroups[i],r=0;r<e.length;r++){e[r].initIndex(t);var o=e[r].partsIndex,n=e[r].paramIndex;if(!(o<0)){var s=0!=t.getParamFloat(n);if(t.setPartsOpacity(o,s?1:0),t.setParamFloat(n,s?1:0),null!=e[r].link)for(var _=0;_<e[r].link.length;_++)e[r].link[_].initIndex(t)}}},$.prototype.normalizePartsOpacityGroup=function(t,i,e){for(var r=-1,o=1,n=0;n<i.length;n++){var s=i[n].partsIndex,_=i[n].paramIndex;if(!(s<0)&&0!=t.getParamFloat(_)){if(r>=0)break;r=n,o=t.getPartsOpacity(s),o+=e/.5,o>1&&(o=1)}}r<0&&(r=0,o=1);for(var n=0;n<i.length;n++){var s=i[n].partsIndex;if(!(s<0))if(r==n)t.setPartsOpacity(s,o);else{var a,h=t.getPartsOpacity(s);a=o<.5?-.5*o/.5+1:.5*(1-o)/.5;var l=(1-a)*(1-o);l>.15&&(a=1-.15/(1-o)),h>a&&(h=a),t.setPartsOpacity(s,h)}}},$.prototype.copyOpacityOtherParts=function(t,i){for(var e=0;e<i.length;e++){var r=i[e];if(null!=r.link&&!(r.partsIndex<0))for(var o=t.getPartsOpacity(r.partsIndex),n=0;n<r.link.length;n++){var s=r.link[n];s.partsIndex<0||t.setPartsOpacity(s.partsIndex,o)}}},u.prototype.initIndex=function(t){this.paramIndex=t.getParamIndex("VISIBLE:"+this.id),this.partsIndex=t.getPartsDataIndex(PartsDataID.getID(this.id)),t.setParamFloat(this.paramIndex,1)},p.FRAME_RATE=30,p.prototype.setPoint=function(t,i){this.faceTargetX=t,this.faceTargetY=i},p.prototype.getX=function(){return this.faceX},p.prototype.getY=function(){return this.faceY},p.prototype.update=function(){var t=40/7.5/p.FRAME_RATE;if(0==this.lastTimeSec)return void(this.lastTimeSec=UtSystem.getUserTimeMSec());var i=UtSystem.getUserTimeMSec(),e=(i-this.lastTimeSec)*p.FRAME_RATE/1e3;this.lastTimeSec=i;var r=.15*p.FRAME_RATE,o=e*t/r,n=this.faceTargetX-this.faceX,s=this.faceTargetY-this.faceY;if(!(Math.abs(n)<=this.EPSILON&&Math.abs(s)<=this.EPSILON)){var _=Math.sqrt(n*n+s*s),a=t*n/_,h=t*s/_,l=a-this.faceVX,$=h-this.faceVY,u=Math.sqrt(l*l+$*$);(u<-o||u>o)&&(l*=o/u,$*=o/u,u=o),this.faceVX+=l,this.faceVY+=$;var f=.5*(Math.sqrt(o*o+16*o*_-8*o*_)-o),c=Math.sqrt(this.faceVX*this.faceVX+this.faceVY*this.faceVY);c>f&&(this.faceVX*=f/c,this.faceVY*=f/c),this.faceX+=this.faceVX,this.faceY+=this.faceVY}},f.prototype=new _,f.prototype.getMaxScale=function(){return this.max},f.prototype.getMinScale=function(){return this.min},f.prototype.setMaxScale=function(t){this.max=t},f.prototype.setMinScale=function(t){this.min=t},f.prototype.isMaxScale=function(){return this.getScaleX()==this.max},f.prototype.isMinScale=function(){return this.getScaleX()==this.min},f.prototype.adjustTranslate=function(t,i){this.tr[0]*this.maxLeft+(this.tr[12]+t)>this.screenLeft&&(t=this.screenLeft-this.tr[0]*this.maxLeft-this.tr[12]),this.tr[0]*this.maxRight+(this.tr[12]+t)<this.screenRight&&(t=this.screenRight-this.tr[0]*this.maxRight-this.tr[12]),this.tr[5]*this.maxTop+(this.tr[13]+i)<this.screenTop&&(i=this.screenTop-this.tr[5]*this.maxTop-this.tr[13]),this.tr[5]*this.maxBottom+(this.tr[13]+i)>this.screenBottom&&(i=this.screenBottom-this.tr[5]*this.maxBottom-this.tr[13]);var e=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1];_.mul(e,this.tr,this.tr)},f.prototype.adjustScale=function(t,i,e){var r=e*this.tr[0];r<this.min?this.tr[0]>0&&(e=this.min/this.tr[0]):r>this.max&&this.tr[0]>0&&(e=this.max/this.tr[0]);var o=[1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1],n=[e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,-t,-i,0,1];_.mul(s,this.tr,this.tr),_.mul(n,this.tr,this.tr),_.mul(o,this.tr,this.tr)},f.prototype.setScreenRect=function(t,i,e,r){this.screenLeft=t,this.screenRight=i,this.screenTop=r,this.screenBottom=e},f.prototype.setMaxScreenRect=function(t,i,e,r){this.maxLeft=t,this.maxRight=i,this.maxTop=r,this.maxBottom=e},f.prototype.getScreenLeft=function(){return this.screenLeft},f.prototype.getScreenRight=function(){return this.screenRight},f.prototype.getScreenBottom=function(){return this.screenBottom},f.prototype.getScreenTop=function(){return this.screenTop},f.prototype.getMaxLeft=function(){return this.maxLeft},f.prototype.getMaxRight=function(){return this.maxRight},f.prototype.getMaxBottom=function(){return this.maxBottom},f.prototype.getMaxTop=function(){return this.maxTop},c.platformManager=null,c.getPlatformManager=function(){return c.platformManager},c.setPlatformManager=function(t){c.platformManager=t},t.exports={L2DTargetPoint:p,Live2DFramework:c,L2DViewMatrix:f,L2DPose:$,L2DPartsParam:u,L2DPhysics:l,L2DMotionManager:h,L2DModelMatrix:a,L2DMatrix44:_,EYE_STATE:g,L2DEyeBlink:s,L2DExpressionParam:n,L2DExpressionMotion:o,L2DBaseModel:r}},function(t,i,e){"use strict";var r={DEBUG_LOG:!1,DEBUG_MOUSE_LOG:!1,DEBUG_DRAW_HIT_AREA:!1,DEBUG_DRAW_ALPHA_MODEL:!1,VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2,PRIORITY_NONE:0,PRIORITY_IDLE:1,PRIORITY_SLEEPY:2,PRIORITY_NORMAL:3,PRIORITY_FORCE:4,MOTION_GROUP_IDLE:"idle",MOTION_GROUP_SLEEPY:"sleepy",MOTION_GROUP_TAP_BODY:"tap_body",MOTION_GROUP_FLICK_HEAD:"flick_head",MOTION_GROUP_PINCH_IN:"pinch_in",MOTION_GROUP_PINCH_OUT:"pinch_out",MOTION_GROUP_SHAKE:"shake",HIT_AREA_HEAD:"head",HIT_AREA_BODY:"body"};t.exports=r},function(t,i,e){"use strict";function r(t){n=t}function o(){return n}Object.defineProperty(i,"__esModule",{value:!0}),i.setContext=r,i.getContext=o;var n=void 0},function(t,i,e){"use strict";function r(){}r.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.depth=0,r.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.tmp=new Array(16),r.reset=function(){this.depth=0},r.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},r.push=function(){var t=(this.depth,16*(this.depth+1));this.matrixStack.length<t+16&&(this.matrixStack.length=t+16);for(var i=0;i<16;i++)this.matrixStack[t+i]=this.currentMatrix[i];this.depth++},r.pop=function(){--this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,i=0;i<16;i++)this.currentMatrix[i]=this.matrixStack[t+i]},r.getMatrix=function(){return this.currentMatrix},r.multMatrix=function(t){var i,e,r;for(i=0;i<16;i++)this.tmp[i]=0;for(i=0;i<4;i++)for(e=0;e<4;e++)for(r=0;r<4;r++)this.tmp[i+4*e]+=this.currentMatrix[i+4*r]*t[r+4*e];for(i=0;i<16;i++)this.currentMatrix[i]=this.tmp[i]},t.exports=r},function(t,i,e){t.exports=e(5)},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){C=document.getElementById(t),C.addEventListener&&(window.addEventListener("click",g),window.addEventListener("mousedown",g),window.addEventListener("mousemove",g),window.addEventListener("mouseup",g),document.addEventListener("mouseout",g),window.addEventListener("touchstart",y),window.addEventListener("touchend",y),window.addEventListener("touchmove",y))}function n(t){var i=C.width,e=C.height;N=new M.L2DTargetPoint;var r=e/i,o=w.default.VIEW_LOGICAL_LEFT,n=w.default.VIEW_LOGICAL_RIGHT,_=-r,h=r;if(window.Live2D.captureFrame=!1,B=new M.L2DViewMatrix,B.setScreenRect(o,n,_,h),B.setMaxScreenRect(w.default.VIEW_LOGICAL_MAX_LEFT,w.default.VIEW_LOGICAL_MAX_RIGHT,w.default.VIEW_LOGICAL_MAX_BOTTOM,w.default.VIEW_LOGICAL_MAX_TOP),B.setMaxScale(w.default.VIEW_MAX_SCALE),B.setMinScale(w.default.VIEW_MIN_SCALE),U=new M.L2DMatrix44,U.multScale(1,i/e),G=new M.L2DMatrix44,G.multTranslate(-i/2,-e/2),G.multScale(2/i,-2/i),F=v(),(0,D.setContext)(F),!F)return console.error("Failed to create WebGL context."),void(window.WebGLRenderingContext&&console.error("Your browser don\'t support WebGL, check https://get.webgl.org/ for futher information."));window.Live2D.setGL(F),F.clearColor(0,0,0,0),a(t),s()}function s(){b||(b=!0,function t(){_();var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;if(window.Live2D.captureFrame){window.Live2D.captureFrame=!1;var e=document.createElement("a");document.body.appendChild(e),e.setAttribute("type","hidden"),e.href=C.toDataURL(),e.download=window.Live2D.captureName||"live2d.png",e.click()}i(t,C)}())}function _(){O.default.reset(),O.default.loadIdentity(),N.update(),R.setDrag(N.getX(),N.getY()),F.clear(F.COLOR_BUFFER_BIT),O.default.multMatrix(U.getArray()),O.default.multMatrix(B.getArray()),O.default.push();for(var t=0;t<R.numModels();t++){var i=R.getModel(t);if(null==i)return;i.initialized&&!i.updating&&(i.update(),i.draw(F))}O.default.pop()}function a(t){R.reloadFlg=!0,R.count++,R.changeModel(F,t)}function h(t,i){return t.x*i.x+t.y*i.y}function l(t,i){var e=Math.sqrt(t*t+i*i);return{x:t/e,y:i/e}}function $(t,i,e){function r(t,i){return 180*Math.acos(h({x:0,y:1},l(t,i)))/Math.PI}if(i.x<e.left+e.width&&i.y<e.top+e.height&&i.x>e.left&&i.y>e.top)return i;var o=t.x-i.x,n=t.y-i.y,s=r(o,n);i.x<t.x&&(s=360-s);var _=360-r(e.left-t.x,-1*(e.top-t.y)),a=360-r(e.left-t.x,-1*(e.top+e.height-t.y)),$=r(e.left+e.width-t.x,-1*(e.top-t.y)),u=r(e.left+e.width-t.x,-1*(e.top+e.height-t.y)),p=n/o,f={};if(s<$){var c=e.top-t.y,d=c/p;f={y:t.y+c,x:t.x+d}}else if(s<u){var g=e.left+e.width-t.x,y=g*p;f={y:t.y+y,x:t.x+g}}else if(s<a){var m=e.top+e.height-t.y,T=m/p;f={y:t.y+m,x:t.x+T}}else if(s<_){var P=t.x-e.left,S=P*p;f={y:t.y-S,x:t.x-P}}else{var v=e.top-t.y,L=v/p;f={y:t.y+v,x:t.x+L}}return f}function u(t){Y=!0;var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),k=e,V=r,N.setPoint(n,s)}function p(t){Y=!0;var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseDown device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),k=e,V=r,R.tapEvent(n,s)}function f(t){var i=C.getBoundingClientRect(),e=P(t.clientX-i.left),r=S(t.clientY-i.top),o=$({x:i.left+i.width/2,y:i.top+i.height*X},{x:t.clientX,y:t.clientY},i),n=m(o.x-i.left),s=T(o.y-i.top);w.default.DEBUG_MOUSE_LOG&&console.log("onMouseMove device( x:"+t.clientX+" y:"+t.clientY+" ) view( x:"+n+" y:"+s+")"),Y&&(k=e,V=r,N.setPoint(n,s))}function c(){Y&&(Y=!1),N.setPoint(0,0)}function d(){w.default.DEBUG_LOG&&console.log("Set Session Storage."),sessionStorage.setItem("Sleepy","1")}function g(t){if("mousewheel"==t.type);else if("mousedown"==t.type)p(t);else if("mousemove"==t.type){var i=sessionStorage.getItem("Sleepy");"1"===i&&sessionStorage.setItem("Sleepy","0"),u(t)}else if("mouseup"==t.type){if("button"in t&&0!=t.button)return}else if("mouseout"==t.type){w.default.DEBUG_LOG&&console.log("Mouse out Window."),c();var e=sessionStorage.getItem("SleepyTimer");window.clearTimeout(e),e=window.setTimeout(d,5e4),sessionStorage.setItem("SleepyTimer",e)}}function y(t){var i=t.touches[0];"touchstart"==t.type?1==t.touches.length&&u(i):"touchmove"==t.type?f(i):"touchend"==t.type&&c()}function m(t){var i=G.transformX(t);return B.invertTransformX(i)}function T(t){var i=G.transformY(t);return B.invertTransformY(i)}function P(t){return G.transformX(t)}function S(t){return G.transformY(t)}function v(){for(var t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],i=0;i<t.length;i++)try{var e=C.getContext(t[i],{premultipliedAlpha:!0});if(e)return e}catch(t){}return null}function L(t,i,e){X=void 0===e?.5:e,o(t),n(i)}e(6);var M=e(0),E=e(8),A=r(E),I=e(1),w=r(I),x=e(3),O=r(x),D=e(2),R=(window.navigator.platform.toLowerCase(),new A.default),b=!1,F=null,C=null,N=null,B=null,U=null,G=null,Y=!1,k=0,V=0,X=.5;window.loadlive2d=L},function(t,i,e){"use strict";(function(t){!function(){function i(){At||(this._$MT=null,this._$5S=null,this._$NP=0,i._$42++,this._$5S=new Y(this))}function e(t){if(!At){this.clipContextList=new Array,this.glcontext=t.gl,this.dp_webgl=t,this.curFrameNo=0,this.firstError_clipInNotUpdate=!0,this.colorBuffer=0,this.isInitGLFBFunc=!1,this.tmpBoundsOnModel=new S,at.glContext.length>at.frameBuffers.length&&(this.curFrameNo=this.getMaskRenderTexture()),this.tmpModelToViewMatrix=new R,this.tmpMatrix2=new R,this.tmpMatrixForMask=new R,this.tmpMatrixForDraw=new R,this.CHANNEL_COLORS=new Array;var i=new A;i=new A,i.r=0,i.g=0,i.b=0,i.a=1,this.CHANNEL_COLORS.push(i),i=new A,i.r=1,i.g=0,i.b=0,i.a=0,this.CHANNEL_COLORS.push(i),i=new A,i.r=0,i.g=1,i.b=0,i.a=0,this.CHANNEL_COLORS.push(i),i=new A,i.r=0,i.g=0,i.b=1,i.a=0,this.CHANNEL_COLORS.push(i);for(var e=0;e<this.CHANNEL_COLORS.length;e++)this.dp_webgl.setChannelFlagAsColor(e,this.CHANNEL_COLORS[e])}}function r(t,i,e){this.clipIDList=new Array,this.clipIDList=e,this.clippingMaskDrawIndexList=new Array;for(var r=0;r<e.length;r++)this.clippingMaskDrawIndexList.push(i.getDrawDataIndex(e[r]));this.clippedDrawContextList=new Array,this.isUsing=!0,this.layoutChannelNo=0,this.layoutBounds=new S,this.allClippedDrawRect=new S,this.matrixForMask=new Float32Array(16),this.matrixForDraw=new Float32Array(16),this.owner=t}function o(t,i){this._$gP=t,this.drawDataIndex=i}function n(){At||(this.color=null)}function s(){At||(this._$dP=null,this._$eo=null,this._$V0=null,this._$dP=1e3,this._$eo=1e3,this._$V0=1,this._$a0())}function _(){}function a(){this._$r=null,this._$0S=null}function h(){At||(this.x=null,this.y=null,this.width=null,this.height=null)}function l(t){At||et.prototype.constructor.call(this,t)}function $(){}function u(t){At||et.prototype.constructor.call(this,t)}function p(){At||(this._$vo=null,this._$F2=null,this._$ao=400,this._$1S=400,p._$42++)}function f(){At||(this.p1=new c,this.p2=new c,this._$Fo=0,this._$Db=0,this._$L2=0,this._$M2=0,this._$ks=0,this._$9b=0,this._$iP=0,this._$iT=0,this._$lL=new Array,this._$qP=new Array,this.setup(.3,.5,.1))}function c(){this._$p=1,this.x=0,this.y=0,this.vx=0,this.vy=0,this.ax=0,this.ay=0,this.fx=0,this.fy=0,this._$s0=0,this._$70=0,this._$7L=0,this._$HL=0}function d(t,i,e){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=i,this._$V0=e}function g(t,i,e,r){d.prototype.constructor.call(this,i,e,r),this._$tL=null,this._$tL=t}function y(t,i,e){this._$wL=null,this.scale=null,this._$V0=null,this._$wL=t,this.scale=i,this._$V0=e}function T(t,i,e,r){y.prototype.constructor.call(this,i,e,r),this._$YP=null,this._$YP=t}function P(){At||(this._$fL=0,this._$gL=0,this._$B0=1,this._$z0=1,this._$qT=0,this.reflectX=!1,this.reflectY=!1)}function S(){At||(this.x=null,this.y=null,this.width=null,this.height=null)}function v(){}function L(){At||(this.x=null,this.y=null)}function M(){At||(this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null,this.clipID=null,this.clipIDList=new Array)}function E(){At||(this._$Eb=E._$ps,this._$lT=1,this._$C0=1,this._$tT=1,this._$WL=1,this.culling=!1,this.matrix4x4=new Float32Array(16),this.premultipliedAlpha=!1,this.anisotropy=0,this.clippingProcess=E.CLIPPING_PROCESS_NONE,this.clipBufPre_clipContextMask=null,this.clipBufPre_clipContextDraw=null,this.CHANNEL_COLORS=new Array)}function A(){At||(this.a=1,this.r=1,this.g=1,this.b=1,this.scale=1,this._$ho=1,this.blendMode=at.L2D_COLOR_BLEND_MODE_MULT)}function I(){At||(this._$kP=null,this._$dr=null,this._$Ai=!0,this._$mS=null)}function w(){}function x(){At||(this._$VP=0,this._$wL=null,this._$GP=null,this._$8o=x._$ds,this._$2r=-1,this._$O2=0,this._$ri=0)}function O(){}function D(){At||(this._$Ob=null)}function R(){this.m=new Float32Array(16),this.identity()}function b(t){At||et.prototype.constructor.call(this,t)}function F(){At||(this._$7=1,this._$f=0,this._$H=0,this._$g=1,this._$k=0,this._$w=0,this._$hi=STATE_IDENTITY,this._$Z=_$pS)}function C(){At||(s.prototype.constructor.call(this),this.motions=new Array,this._$7r=null,this._$7r=C._$Co++,this._$D0=30,this._$yT=0,this._$E=!0,this.loopFadeIn=!0,this._$AS=-1,_$a0())}function N(){this._$P=new Float32Array(100),this.size=0}function B(){this._$4P=null,this._$I0=null,this._$RP=null}function U(){}function G(){}function Y(t){At||(this._$QT=!0,this._$co=-1,this._$qo=0,this._$pb=new Array(Y._$is),this._$_2=new Float32Array(Y._$is),this._$vr=new Float32Array(Y._$is),this._$Rr=new Float32Array(Y._$is),this._$Or=new Float32Array(Y._$is),this._$fs=new Float32Array(Y._$is),this._$Js=new Array(Y._$is),this._$3S=new Array,this._$aS=new Array,this._$Bo=null,this._$F2=new Array,this._$db=new Array,this._$8b=new Array,this._$Hr=new Array,this._$Ws=null,this._$Vs=null,this._$Er=null,this._$Es=new Int16Array(U._$Qb),this._$ZP=new Float32Array(2*U._$1r),this._$Ri=t,this._$b0=Y._$HP++,this.clipManager=null,this.dp_webgl=null)}function k(){}function V(){At||(this._$12=null,this._$bb=null,this._$_L=null,this._$jo=null,this._$iL=null,this._$0L=null,this._$Br=null,this._$Dr=null,this._$Cb=null,this._$mr=null,this._$_L=wt.STATE_FIRST,this._$Br=4e3,this._$Dr=100,this._$Cb=50,this._$mr=150,this._$jo=!0,this._$iL="PARAM_EYE_L_OPEN",this._$0L="PARAM_EYE_R_OPEN")}function X(){At||(E.prototype.constructor.call(this),this._$sb=new Int32Array(X._$As),this._$U2=new Array,this.transform=null,this.gl=null,null==X._$NT&&(X._$NT=X._$9r(256),X._$vS=X._$9r(256),X._$no=X._$vb(256)))}function z(){At||(I.prototype.constructor.call(this),this._$GS=null,this._$Y0=null)}function H(t){_t.prototype.constructor.call(this,t),this._$8r=I._$ur,this._$Yr=null,this._$Wr=null}function W(){At||(M.prototype.constructor.call(this),this._$gP=null,this._$dr=null,this._$GS=null,this._$qb=null,this._$Lb=null,this._$mS=null)}function j(){At||(this._$NL=null,this._$3S=null,this._$aS=null,j._$42++)}function q(){At||(i.prototype.constructor.call(this),this._$zo=new X)}function J(){At||(s.prototype.constructor.call(this),this.motions=new Array,this._$o2=null,this._$7r=J._$Co++,this._$D0=30,this._$yT=0,this._$E=!1,this.loopFadeIn=!0,this._$rr=-1,this._$eP=0)}function Q(t,i){return String.fromCharCode(t.getUint8(i))}function N(){this._$P=new Float32Array(100),this.size=0}function B(){this._$4P=null,this._$I0=null,this._$RP=null}function Z(){At||(I.prototype.constructor.call(this),this._$o=0,this._$A=0,this._$GS=null,this._$Eo=null)}function K(t){_t.prototype.constructor.call(this,t),this._$8r=I._$ur,this._$Cr=null,this._$hr=null}function tt(){At||(this.visible=!0,this._$g0=!1,this._$NL=null,this._$3S=null,this._$aS=null,tt._$42++)}function it(t){this._$VS=null,this._$e0=null,this._$e0=t}function et(t){At||(this.id=t)}function rt(){}function ot(){At||(this._$4S=null)}function nt(t,i){this.canvas=t,this.context=i,this.viewport=new Array(0,0,t.width,t.height),this._$6r=1,this._$xP=0,this._$3r=1,this._$uP=0,this._$Qo=-1,this.cacheImages={}}function st(){At||(this._$TT=null,this._$LT=null,this._$FS=null,this._$wL=null)}function _t(t){At||(this._$e0=null,this._$IP=null,this._$JS=!1,this._$AT=!0,this._$e0=t,this.totalScale=1,this._$7s=1,this.totalOpacity=1)}function at(){}function ht(){}function lt(t){At||(this._$ib=t)}function $t(){At||(W.prototype.constructor.call(this),this._$LP=-1,this._$d0=0,this._$Yo=0,this._$JP=null,this._$5P=null,this._$BP=null,this._$Eo=null,this._$Qi=null,this._$6s=$t._$ms,this.culling=!0,this.gl_cacheImage=null,this.instanceNo=$t._$42++)}function ut(t){Mt.prototype.constructor.call(this,t),this._$8r=W._$ur,this._$Cr=null,this._$hr=null}function pt(){At||(this.x=null,this.y=null)}function ft(t){At||(i.prototype.constructor.call(this),this.drawParamWebGL=new mt(t),this.drawParamWebGL.setGL(at.getGL(t)))}function ct(){At||(this.motions=null,this._$eb=!1,this.motions=new Array)}function dt(){this._$w0=null,this._$AT=!0,this._$9L=!1,this._$z2=-1,this._$bs=-1,this._$Do=-1,this._$sr=null,this._$sr=dt._$Gs++}function gt(){this.m=new Array(1,0,0,0,1,0,0,0,1)}function yt(t){At||et.prototype.constructor.call(this,t)}function mt(t){At||(E.prototype.constructor.call(this),this.textures=new Array,this.transform=null,this.gl=null,this.glno=t,this.firstDraw=!0,this.anisotropyExt=null,this.maxAnisotropy=0,this._$As=32,this._$Gr=!1,this._$NT=null,this._$vS=null,this._$no=null,this.vertShader=null,this.fragShader=null,this.vertShaderOff=null,this.fragShaderOff=null)}function Tt(t,i,e){return null==i&&(i=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,e,t.DYNAMIC_DRAW),i}function Pt(t,i,e){return null==i&&(i=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.DYNAMIC_DRAW),i}function St(t){At||(this._$P=new Int8Array(8),this._$R0=new DataView(this._$P.buffer),this._$3i=new Int8Array(1e3),this._$hL=0,this._$v0=0,this._$S2=0,this._$Ko=new Array,this._$T=t,this._$F=0)}function vt(){}function Lt(){}function Mt(t){At||(this._$e0=null,this._$IP=null,this._$Us=null,this._$7s=null,this._$IS=[!1],this._$VS=null,this._$AT=!0,this.baseOpacity=1,this.clipBufPre_clipContext=null,this._$e0=t)}function Et(){}var At=!0;i._$0s=1,i._$4s=2,i._$42=0,i._$62=function(t,e){try{if(e instanceof ArrayBuffer&&(e=new DataView(e)),!(e instanceof DataView))throw new lt("_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer");var r,o=new St(e),n=o._$ST(),s=o._$ST(),a=o._$ST();if(109!=n||111!=s||99!=a)throw new lt("_$gi _$C _$li , _$Q0 _$P0.");if(r=o._$ST(),o._$gr(r),r>G._$T7){t._$NP|=i._$4s;throw new lt("_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : "+G._$T7+" < _$f0 : "+r+" )@_$SS#loadModel()\\n")}var h=o._$nP();if(r>=G._$s7){var l=o._$9T(),$=o._$9T();if(-30584!=l||-30584!=$)throw t._$NP|=i._$0s,new lt("_$gi _$C _$li , _$0 _$6 _$Ui.")}t._$KS(h);var u=t.getModelContext();u.setDrawParam(t.getDrawParam()),u.init()}catch(t){_._$Rb(t)}},i.prototype._$KS=function(t){this._$MT=t},i.prototype.getModelImpl=function(){return null==this._$MT&&(this._$MT=new p,this._$MT._$zP()),this._$MT},i.prototype.getCanvasWidth=function(){return null==this._$MT?0:this._$MT.getCanvasWidth()},i.prototype.getCanvasHeight=function(){return null==this._$MT?0:this._$MT.getCanvasHeight()},i.prototype.getParamFloat=function(t){return"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),this._$5S.getParamFloat(t)},i.prototype.setParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1-e)+i*e)},i.prototype.addToParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)+i*e)},i.prototype.multParamFloat=function(t,i,e){"number"!=typeof t&&(t=this._$5S.getParamIndex(u.getID(t))),arguments.length<3&&(e=1),this._$5S.setParamFloat(t,this._$5S.getParamFloat(t)*(1+(i-1)*e))},i.prototype.getParamIndex=function(t){return this._$5S.getParamIndex(u.getID(t))},i.prototype.loadParam=function(){this._$5S.loadParam()},i.prototype.saveParam=function(){this._$5S.saveParam()},i.prototype.init=function(){this._$5S.init()},i.prototype.update=function(){this._$5S.update()},i.prototype._$Rs=function(){return _._$li("_$60 _$PT _$Rs()"),-1},i.prototype._$Ds=function(t){_._$li("_$60 _$PT _$SS#_$Ds() \\n")},i.prototype._$K2=function(){},i.prototype.draw=function(){},i.prototype.getModelContext=function(){return this._$5S},i.prototype._$s2=function(){return this._$NP},i.prototype._$P7=function(t,i,e,r){var o=-1,n=0,s=this;if(0!=e)if(1==t.length){var _=t[0],a=0!=s.getParamFloat(_),h=i[0],l=s.getPartsOpacity(h),$=e/r;a?(l+=$)>1&&(l=1):(l-=$)<0&&(l=0),s.setPartsOpacity(h,l)}else{for(var u=0;u<t.length;u++){var _=t[u],p=0!=s.getParamFloat(_);if(p){if(o>=0)break;o=u;var h=i[u];n=s.getPartsOpacity(h),n+=e/r,n>1&&(n=1)}}o<0&&(console.log("No _$wi _$q0/ _$U default[%s]",t[0]),o=0,n=1,s.loadParam(),s.setParamFloat(t[o],n),s.saveParam());for(var u=0;u<t.length;u++){var h=i[u];if(o==u)s.setPartsOpacity(h,n);else{var f,c=s.getPartsOpacity(h);f=n<.5?-.5*n/.5+1:.5*(1-n)/.5;var d=(1-f)*(1-n);d>.15&&(f=1-.15/(1-n)),c>f&&(c=f),s.setPartsOpacity(h,c)}}}else for(var u=0;u<t.length;u++){var _=t[u],h=i[u],p=0!=s.getParamFloat(_);s.setPartsOpacity(h,p?1:0)}},i.prototype.setPartsOpacity=function(t,i){"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(l.getID(t))),this._$5S.setPartsOpacity(t,i)},i.prototype.getPartsDataIndex=function(t){return t instanceof l||(t=l.getID(t)),this._$5S.getPartsDataIndex(t)},i.prototype.getPartsOpacity=function(t){return"number"!=typeof t&&(t=this._$5S.getPartsDataIndex(l.getID(t))),t<0?0:this._$5S.getPartsOpacity(t)},i.prototype.getDrawParam=function(){},i.prototype.getDrawDataIndex=function(t){return this._$5S.getDrawDataIndex(b.getID(t))},i.prototype.getDrawData=function(t){return this._$5S.getDrawData(t)},i.prototype.getTransformedPoints=function(t){var i=this._$5S._$C2(t);return i instanceof ut?i.getTransformedPoints():null},i.prototype.getIndexArray=function(t){if(t<0||t>=this._$5S._$aS.length)return null;var i=this._$5S._$aS[t];return null!=i&&i.getType()==W._$wb&&i instanceof $t?i.getIndexArray():null},e.CHANNEL_COUNT=4,e.RENDER_TEXTURE_USE_MIPMAP=!1,e.NOT_USED_FRAME=-100,e.prototype._$L7=function(){if(this.tmpModelToViewMatrix&&(this.tmpModelToViewMatrix=null),this.tmpMatrix2&&(this.tmpMatrix2=null),this.tmpMatrixForMask&&(this.tmpMatrixForMask=null),this.tmpMatrixForDraw&&(this.tmpMatrixForDraw=null),this.tmpBoundsOnModel&&(this.tmpBoundsOnModel=null),this.CHANNEL_COLORS){for(var t=this.CHANNEL_COLORS.length-1;t>=0;--t)this.CHANNEL_COLORS.splice(t,1);this.CHANNEL_COLORS=[]}this.releaseShader()},e.prototype.releaseShader=function(){for(var t=at.frameBuffers.length,i=0;i<t;i++)this.gl.deleteFramebuffer(at.frameBuffers[i].framebuffer);at.frameBuffers=[],at.glContext=[]},e.prototype.init=function(t,i,e){for(var o=0;o<i.length;o++){var n=i[o].getClipIDList();if(null!=n){var s=this.findSameClip(n);null==s&&(s=new r(this,t,n),this.clipContextList.push(s));var _=i[o].getDrawDataID(),a=t.getDrawDataIndex(_);s.addClippedDrawData(_,a);e[o].clipBufPre_clipContext=s}}},e.prototype.getMaskRenderTexture=function(){var t=null;return t=this.dp_webgl.createFramebuffer(),at.frameBuffers[this.dp_webgl.glno]=t,this.dp_webgl.glno},e.prototype.setupClip=function(t,i){for(var e=0,r=0;r<this.clipContextList.length;r++){var o=this.clipContextList[r];this.calcClippedDrawTotalBounds(t,o),o.isUsing&&e++}if(e>0){var n=i.gl.getParameter(i.gl.FRAMEBUFFER_BINDING),s=new Array(4);s[0]=0,s[1]=0,s[2]=i.gl.canvas.width,s[3]=i.gl.canvas.height,i.gl.viewport(0,0,at.clippingMaskBufferSize,at.clippingMaskBufferSize),this.setupLayoutBounds(e),i.gl.bindFramebuffer(i.gl.FRAMEBUFFER,at.frameBuffers[this.curFrameNo].framebuffer),i.gl.clearColor(0,0,0,0),i.gl.clear(i.gl.COLOR_BUFFER_BIT);for(var r=0;r<this.clipContextList.length;r++){var o=this.clipContextList[r],_=o.allClippedDrawRect,a=(o.layoutChannelNo,o.layoutBounds);this.tmpBoundsOnModel._$jL(_),this.tmpBoundsOnModel.expand(.05*_.width,.05*_.height);var h=a.width/this.tmpBoundsOnModel.width,l=a.height/this.tmpBoundsOnModel.height;this.tmpMatrix2.identity(),this.tmpMatrix2.translate(-1,-1,0),this.tmpMatrix2.scale(2,2,1),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(h,l,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),this.tmpMatrix2.identity(),this.tmpMatrix2.translate(a.x,a.y,0),this.tmpMatrix2.scale(h,l,1),this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x,-this.tmpBoundsOnModel.y,0),this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m);for(var $=this.tmpMatrixForMask.getArray(),u=0;u<16;u++)o.matrixForMask[u]=$[u];for(var p=this.tmpMatrixForDraw.getArray(),u=0;u<16;u++)o.matrixForDraw[u]=p[u];for(var f=o.clippingMaskDrawIndexList.length,c=0;c<f;c++){var d=o.clippingMaskDrawIndexList[c],g=t.getDrawData(d),y=t._$C2(d);i.setClipBufPre_clipContextForMask(o),g.draw(i,t,y)}}i.gl.bindFramebuffer(i.gl.FRAMEBUFFER,n),i.setClipBufPre_clipContextForMask(null),i.gl.viewport(s[0],s[1],s[2],s[3])}},e.prototype.getColorBuffer=function(){return this.colorBuffer},e.prototype.findSameClip=function(t){for(var i=0;i<this.clipContextList.length;i++){var e=this.clipContextList[i],r=e.clipIDList.length;if(r==t.length){for(var o=0,n=0;n<r;n++)for(var s=e.clipIDList[n],_=0;_<r;_++)if(t[_]==s){o++;break}if(o==r)return e}}return null},e.prototype.calcClippedDrawTotalBounds=function(t,i){for(var e=t._$Ri.getModelImpl().getCanvasWidth(),r=t._$Ri.getModelImpl().getCanvasHeight(),o=e>r?e:r,n=o,s=o,_=0,a=0,h=i.clippedDrawContextList.length,l=0;l<h;l++){var $=i.clippedDrawContextList[l],u=$.drawDataIndex,p=t._$C2(u);if(p._$yo()){for(var f=p.getTransformedPoints(),c=f.length,d=[],g=[],y=0,m=U._$i2;m<c;m+=U._$No)d[y]=f[m],g[y]=f[m+1],y++;var T=Math.min.apply(null,d),P=Math.min.apply(null,g),S=Math.max.apply(null,d),v=Math.max.apply(null,g);T<n&&(n=T),P<s&&(s=P),S>_&&(_=S),v>a&&(a=v)}}if(n==o)i.allClippedDrawRect.x=0,i.allClippedDrawRect.y=0,i.allClippedDrawRect.width=0,i.allClippedDrawRect.height=0,i.isUsing=!1;else{var L=_-n,M=a-s;i.allClippedDrawRect.x=n,i.allClippedDrawRect.y=s,i.allClippedDrawRect.width=L,i.allClippedDrawRect.height=M,i.isUsing=!0}},e.prototype.setupLayoutBounds=function(t){var i=t/e.CHANNEL_COUNT,r=t%e.CHANNEL_COUNT;i=~~i,r=~~r;for(var o=0,n=0;n<e.CHANNEL_COUNT;n++){var s=i+(n<r?1:0);if(0==s);else if(1==s){var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=0,a.layoutBounds.y=0,a.layoutBounds.width=1,a.layoutBounds.height=1}else if(2==s)for(var h=0;h<s;h++){var l=h%2,$=0;l=~~l;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=.5*l,a.layoutBounds.y=0,a.layoutBounds.width=.5,a.layoutBounds.height=1}else if(s<=4)for(var h=0;h<s;h++){var l=h%2,$=h/2;l=~~l,$=~~$;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=.5*l,a.layoutBounds.y=.5*$,a.layoutBounds.width=.5,a.layoutBounds.height=.5}else if(s<=9)for(var h=0;h<s;h++){var l=h%3,$=h/3;l=~~l,$=~~$;var a=this.clipContextList[o++];a.layoutChannelNo=n,a.layoutBounds.x=l/3,a.layoutBounds.y=$/3,a.layoutBounds.width=1/3,a.layoutBounds.height=1/3}else _._$li("_$6 _$0P mask count : %d",s)}},r.prototype.addClippedDrawData=function(t,i){var e=new o(t,i);this.clippedDrawContextList.push(e)},s._$JT=function(t,i,e){var r=t/i,o=e/i,n=o,s=1-(1-o)*(1-o),_=1-(1-n)*(1-n),a=1/3*(1-o)*s+(n*(2/3)+1/3*(1-n))*(1-s),h=(n+2/3*(1-n))*_+(o*(1/3)+2/3*(1-o))*(1-_),l=1-3*h+3*a-0,$=3*h-6*a+0,u=3*a-0;if(r<=0)return 0;if(r>=1)return 1;var p=r,f=p*p;return l*(p*f)+$*f+u*p+0},s.prototype._$a0=function(){},s.prototype.setFadeIn=function(t){this._$dP=t},s.prototype.setFadeOut=function(t){this._$eo=t},s.prototype._$pT=function(t){this._$V0=t},s.prototype.getFadeOut=function(){return this._$eo},s.prototype._$4T=function(){return this._$eo},s.prototype._$mT=function(){return this._$V0},s.prototype.getDurationMSec=function(){return-1},s.prototype.getLoopDurationMSec=function(){return-1},s.prototype.updateParam=function(t,i){if(i._$AT&&!i._$9L){var e=w.getUserTimeMSec();if(i._$z2<0){i._$z2=e,i._$bs=e;var r=this.getDurationMSec();i._$Do<0&&(i._$Do=r<=0?-1:i._$z2+r)}var o=this._$V0;o=o*(0==this._$dP?1:ht._$r2((e-i._$bs)/this._$dP))*(0==this._$eo||i._$Do<0?1:ht._$r2((i._$Do-e)/this._$eo)),0<=o&&o<=1||console.log("### assert!! ### "),this.updateParamExe(t,e,o,i),i._$Do>0&&i._$Do<e&&(i._$9L=!0)}},s.prototype.updateParamExe=function(t,i,e,r){},_._$8s=0,_._$fT=new Object,_.start=function(t){var i=_._$fT[t];null==i&&(i=new a,i._$r=t,_._$fT[t]=i),i._$0S=w.getSystemTimeMSec()},_.dump=function(t){var i=_._$fT[t];if(null!=i){var e=w.getSystemTimeMSec(),r=e-i._$0S;return console.log(t+" : "+r+"ms"),r}return-1},_.end=function(t){var i=_._$fT[t];if(null!=i){return w.getSystemTimeMSec()-i._$0S}return-1},_._$li=function(t,i){console.log("_$li : "+t+"\\n",i)},_._$Ji=function(t,i){console.log(t,i)},_._$dL=function(t,i){console.log(t,i),console.log("\\n")},_._$KL=function(t,i){for(var e=0;e<i;e++)e%16==0&&e>0?console.log("\\n"):e%8==0&&e>0&&console.log("  "),console.log("%02X ",255&t[e]);console.log("\\n")},_._$nr=function(t,i,e){console.log("%s\\n",t);for(var r=i.length,o=0;o<r;++o)console.log("%5d",i[o]),console.log("%s\\n",e),console.log(",");console.log("\\n")},_._$Rb=function(t){console.log("dump exception : "+t),console.log("stack :: "+t.stack)},h.prototype._$8P=function(){return.5*(this.x+this.x+this.width)},h.prototype._$6P=function(){return.5*(this.y+this.y+this.height)},h.prototype._$EL=function(){return this.x+this.width},h.prototype._$5T=function(){return this.y+this.height},h.prototype._$jL=function(t,i,e,r){this.x=t,this.y=i,this.width=e,this.height=r},h.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},l.prototype=new et,l._$tP=new Object,l._$27=function(){l._$tP.clear()},l.getID=function(t){var i=l._$tP[t];return null==i&&(i=new l(t),l._$tP[t]=i),i},l.prototype._$3s=function(){return new l},u.prototype=new et,u._$tP=new Object,u._$27=function(){u._$tP.clear()},u.getID=function(t){var i=u._$tP[t];return null==i&&(i=new u(t),u._$tP[t]=i),i},u.prototype._$3s=function(){return new u},p._$42=0,p.prototype._$zP=function(){null==this._$vo&&(this._$vo=new ot),null==this._$F2&&(this._$F2=new Array)},p.prototype.getCanvasWidth=function(){return this._$ao},p.prototype.getCanvasHeight=function(){return this._$1S},p.prototype._$F0=function(t){this._$vo=t._$nP(),this._$F2=t._$nP(),this._$ao=t._$6L(),this._$1S=t._$6L()},p.prototype._$6S=function(t){this._$F2.push(t)},p.prototype._$Xr=function(){return this._$F2},p.prototype._$E2=function(){return this._$vo},f.prototype.setup=function(t,i,e){this._$ks=this._$Yb(),this.p2._$xT(),3==arguments.length&&(this._$Fo=t,this._$L2=i,this.p1._$p=e,this.p2._$p=e,this.p2.y=t,this.setup())},f.prototype.getPhysicsPoint1=function(){return this.p1},f.prototype.getPhysicsPoint2=function(){return this.p2},f.prototype._$qr=function(){return this._$Db},f.prototype._$pr=function(t){this._$Db=t},f.prototype._$5r=function(){return this._$M2},f.prototype._$Cs=function(){return this._$9b},f.prototype._$Yb=function(){return-180*Math.atan2(this.p1.x-this.p2.x,-(this.p1.y-this.p2.y))/Math.PI},f.prototype.addSrcParam=function(t,i,e,r){var o=new g(t,i,e,r);this._$lL.push(o)},f.prototype.addTargetParam=function(t,i,e,r){var o=new T(t,i,e,r);this._$qP.push(o)},f.prototype.update=function(t,i){if(0==this._$iP)return this._$iP=this._$iT=i,void(this._$Fo=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y)));var e=(i-this._$iT)/1e3;if(0!=e){for(var r=this._$lL.length-1;r>=0;--r){this._$lL[r]._$oP(t,this)}this._$oo(t,e),this._$M2=this._$Yb(),this._$9b=(this._$M2-this._$ks)/e,this._$ks=this._$M2}for(var r=this._$qP.length-1;r>=0;--r){this._$qP[r]._$YS(t,this)}this._$iT=i},f.prototype._$oo=function(t,i){i<.033&&(i=.033);var e=1/i;this.p1.vx=(this.p1.x-this.p1._$s0)*e,this.p1.vy=(this.p1.y-this.p1._$70)*e,this.p1.ax=(this.p1.vx-this.p1._$7L)*e,this.p1.ay=(this.p1.vy-this.p1._$HL)*e,this.p1.fx=this.p1.ax*this.p1._$p,this.p1.fy=this.p1.ay*this.p1._$p,this.p1._$xT();var r,o,n=-Math.atan2(this.p1.y-this.p2.y,this.p1.x-this.p2.x),s=Math.cos(n),_=Math.sin(n),a=9.8*this.p2._$p,h=this._$Db*Lt._$bS,l=a*Math.cos(n-h);r=l*_,o=l*s;var $=-this.p1.fx*_*_,u=-this.p1.fy*_*s,p=-this.p2.vx*this._$L2,f=-this.p2.vy*this._$L2;this.p2.fx=r+$+p,this.p2.fy=o+u+f,this.p2.ax=this.p2.fx/this.p2._$p,this.p2.ay=this.p2.fy/this.p2._$p,this.p2.vx+=this.p2.ax*i,this.p2.vy+=this.p2.ay*i,this.p2.x+=this.p2.vx*i,this.p2.y+=this.p2.vy*i;var c=Math.sqrt((this.p1.x-this.p2.x)*(this.p1.x-this.p2.x)+(this.p1.y-this.p2.y)*(this.p1.y-this.p2.y));this.p2.x=this.p1.x+this._$Fo*(this.p2.x-this.p1.x)/c,this.p2.y=this.p1.y+this._$Fo*(this.p2.y-this.p1.y)/c,this.p2.vx=(this.p2.x-this.p2._$s0)*e,this.p2.vy=(this.p2.y-this.p2._$70)*e,this.p2._$xT()},c.prototype._$xT=function(){this._$s0=this.x,this._$70=this.y,this._$7L=this.vx,this._$HL=this.vy},d.prototype._$oP=function(t,i){},g.prototype=new d,g.prototype._$oP=function(t,i){var e=this.scale*t.getParamFloat(this._$wL),r=i.getPhysicsPoint1();switch(this._$tL){default:case f.Src.SRC_TO_X:r.x=r.x+(e-r.x)*this._$V0;break;case f.Src.SRC_TO_Y:r.y=r.y+(e-r.y)*this._$V0;break;case f.Src.SRC_TO_G_ANGLE:var o=i._$qr();o+=(e-o)*this._$V0,i._$pr(o)}},y.prototype._$YS=function(t,i){},T.prototype=new y,T.prototype._$YS=function(t,i){switch(this._$YP){default:case f.Target.TARGET_FROM_ANGLE:t.setParamFloat(this._$wL,this.scale*i._$5r(),this._$V0);break;case f.Target.TARGET_FROM_ANGLE_V:t.setParamFloat(this._$wL,this.scale*i._$Cs(),this._$V0)}},f.Src=function(){},f.Src.SRC_TO_X="SRC_TO_X",f.Src.SRC_TO_Y="SRC_TO_Y",f.Src.SRC_TO_G_ANGLE="SRC_TO_G_ANGLE",f.Target=function(){},f.Target.TARGET_FROM_ANGLE="TARGET_FROM_ANGLE",f.Target.TARGET_FROM_ANGLE_V="TARGET_FROM_ANGLE_V",P.prototype.init=function(t){this._$fL=t._$fL,this._$gL=t._$gL,this._$B0=t._$B0,this._$z0=t._$z0,this._$qT=t._$qT,this.reflectX=t.reflectX,this.reflectY=t.reflectY},P.prototype._$F0=function(t){this._$fL=t._$_T(),this._$gL=t._$_T(),this._$B0=t._$_T(),this._$z0=t._$_T(),this._$qT=t._$_T(),t.getFormatVersion()>=G.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this.reflectX=t._$po(),this.reflectY=t._$po())},P.prototype._$e=function(){};var It=function(){};It._$ni=function(t,i,e,r,o,n,s,_,a){var h=s*n-_*o;if(0==h)return null;var l,$=((t-e)*n-(i-r)*o)/h;return l=0!=o?(t-e-$*s)/o:(i-r-$*_)/n,isNaN(l)&&(l=(t-e-$*s)/o,isNaN(l)&&(l=(i-r-$*_)/n),isNaN(l)&&(console.log("a is NaN @UtVector#_$ni() "),console.log("v1x : "+o),console.log("v1x != 0 ? "+(0!=o)))),null==a?new Array(l,$):(a[0]=l,a[1]=$,a)},S.prototype._$8P=function(){return this.x+.5*this.width},S.prototype._$6P=function(){return this.y+.5*this.height},S.prototype._$EL=function(){return this.x+this.width},S.prototype._$5T=function(){return this.y+this.height},S.prototype._$jL=function(t,i,e,r){this.x=t,this.y=i,this.width=e,this.height=r},S.prototype._$jL=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},S.prototype.contains=function(t,i){return this.x<=this.x&&this.y<=this.y&&this.x<=this.x+this.width&&this.y<=this.y+this.height},S.prototype.expand=function(t,i){this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i},v._$Z2=function(t,i,e,r){var o=i._$Q2(t,e),n=t._$vs(),s=t._$Tr();if(i._$zr(n,s,o),o<=0)return r[n[0]];if(1==o){var _=r[n[0]],a=r[n[1]],h=s[0];return _+(a-_)*h|0}if(2==o){var _=r[n[0]],a=r[n[1]],l=r[n[2]],$=r[n[3]],h=s[0],u=s[1],p=_+(a-_)*h|0,f=l+($-l)*h|0;return p+(f-p)*u|0}if(3==o){var c=r[n[0]],d=r[n[1]],g=r[n[2]],y=r[n[3]],m=r[n[4]],T=r[n[5]],P=r[n[6]],S=r[n[7]],h=s[0],u=s[1],v=s[2],_=c+(d-c)*h|0,a=g+(y-g)*h|0,l=m+(T-m)*h|0,$=P+(S-P)*h|0,p=_+(a-_)*u|0,f=l+($-l)*u|0;return p+(f-p)*v|0}if(4==o){var L=r[n[0]],M=r[n[1]],E=r[n[2]],A=r[n[3]],I=r[n[4]],w=r[n[5]],x=r[n[6]],O=r[n[7]],D=r[n[8]],R=r[n[9]],b=r[n[10]],F=r[n[11]],C=r[n[12]],N=r[n[13]],B=r[n[14]],U=r[n[15]],h=s[0],u=s[1],v=s[2],G=s[3],c=L+(M-L)*h|0,d=E+(A-E)*h|0,g=I+(w-I)*h|0,y=x+(O-x)*h|0,m=D+(R-D)*h|0,T=b+(F-b)*h|0,P=C+(N-C)*h|0,S=B+(U-B)*h|0,_=c+(d-c)*u|0,a=g+(y-g)*u|0,l=m+(T-m)*u|0,$=P+(S-P)*u|0,p=_+(a-_)*v|0,f=l+($-l)*v|0;return p+(f-p)*G|0}for(var Y=1<<o,k=new Float32Array(Y),V=0;V<Y;V++){for(var X=V,z=1,H=0;H<o;H++)z*=X%2==0?1-s[H]:s[H],X/=2;k[V]=z}for(var W=new Float32Array(Y),j=0;j<Y;j++)W[j]=r[n[j]];for(var q=0,j=0;j<Y;j++)q+=k[j]*W[j];return q+.5|0},v._$br=function(t,i,e,r){var o=i._$Q2(t,e),n=t._$vs(),s=t._$Tr();if(i._$zr(n,s,o),o<=0)return r[n[0]];if(1==o){var _=r[n[0]],a=r[n[1]],h=s[0];return _+(a-_)*h}if(2==o){var _=r[n[0]],a=r[n[1]],l=r[n[2]],$=r[n[3]],h=s[0],u=s[1];return(1-u)*(_+(a-_)*h)+u*(l+($-l)*h)}if(3==o){var p=r[n[0]],f=r[n[1]],c=r[n[2]],d=r[n[3]],g=r[n[4]],y=r[n[5]],m=r[n[6]],T=r[n[7]],h=s[0],u=s[1],P=s[2];return(1-P)*((1-u)*(p+(f-p)*h)+u*(c+(d-c)*h))+P*((1-u)*(g+(y-g)*h)+u*(m+(T-m)*h))}if(4==o){var S=r[n[0]],v=r[n[1]],L=r[n[2]],M=r[n[3]],E=r[n[4]],A=r[n[5]],I=r[n[6]],w=r[n[7]],x=r[n[8]],O=r[n[9]],D=r[n[10]],R=r[n[11]],b=r[n[12]],F=r[n[13]],C=r[n[14]],N=r[n[15]],h=s[0],u=s[1],P=s[2],B=s[3];return(1-B)*((1-P)*((1-u)*(S+(v-S)*h)+u*(L+(M-L)*h))+P*((1-u)*(E+(A-E)*h)+u*(I+(w-I)*h)))+B*((1-P)*((1-u)*(x+(O-x)*h)+u*(D+(R-D)*h))+P*((1-u)*(b+(F-b)*h)+u*(C+(N-C)*h)))}for(var U=1<<o,G=new Float32Array(U),Y=0;Y<U;Y++){for(var k=Y,V=1,X=0;X<o;X++)V*=k%2==0?1-s[X]:s[X],k/=2;G[Y]=V}for(var z=new Float32Array(U),H=0;H<U;H++)z[H]=r[n[H]];for(var W=0,H=0;H<U;H++)W+=G[H]*z[H];return W},v._$Vr=function(t,i,e,r,o,n,s,_){var a=i._$Q2(t,e),h=t._$vs(),l=t._$Tr();i._$zr(h,l,a);var $=2*r,u=s;if(a<=0){var p=h[0],f=o[p];if(2==_&&0==s)w._$jT(f,0,n,0,$);else for(var c=0;c<$;)n[u]=f[c++],n[u+1]=f[c++],u+=_}else if(1==a)for(var f=o[h[0]],d=o[h[1]],g=l[0],y=1-g,c=0;c<$;)n[u]=f[c]*y+d[c]*g,++c,n[u+1]=f[c]*y+d[c]*g,++c,u+=_;else if(2==a)for(var f=o[h[0]],d=o[h[1]],m=o[h[2]],T=o[h[3]],g=l[0],P=l[1],y=1-g,S=1-P,v=S*y,L=S*g,M=P*y,E=P*g,c=0;c<$;)n[u]=v*f[c]+L*d[c]+M*m[c]+E*T[c],++c,n[u+1]=v*f[c]+L*d[c]+M*m[c]+E*T[c],++c,u+=_;else if(3==a)for(var A=o[h[0]],I=o[h[1]],x=o[h[2]],O=o[h[3]],D=o[h[4]],R=o[h[5]],b=o[h[6]],F=o[h[7]],g=l[0],P=l[1],C=l[2],y=1-g,S=1-P,N=1-C,B=N*S*y,U=N*S*g,G=N*P*y,Y=N*P*g,k=C*S*y,V=C*S*g,X=C*P*y,z=C*P*g,c=0;c<$;)n[u]=B*A[c]+U*I[c]+G*x[c]+Y*O[c]+k*D[c]+V*R[c]+X*b[c]+z*F[c],++c,n[u+1]=B*A[c]+U*I[c]+G*x[c]+Y*O[c]+k*D[c]+V*R[c]+X*b[c]+z*F[c],++c,u+=_;else if(4==a)for(var H=o[h[0]],W=o[h[1]],j=o[h[2]],q=o[h[3]],J=o[h[4]],Q=o[h[5]],Z=o[h[6]],K=o[h[7]],tt=o[h[8]],it=o[h[9]],et=o[h[10]],rt=o[h[11]],ot=o[h[12]],nt=o[h[13]],st=o[h[14]],_t=o[h[15]],g=l[0],P=l[1],C=l[2],at=l[3],y=1-g,S=1-P,N=1-C,ht=1-at,lt=ht*N*S*y,$t=ht*N*S*g,ut=ht*N*P*y,pt=ht*N*P*g,ft=ht*C*S*y,ct=ht*C*S*g,dt=ht*C*P*y,gt=ht*C*P*g,yt=at*N*S*y,mt=at*N*S*g,Tt=at*N*P*y,Pt=at*N*P*g,St=at*C*S*y,vt=at*C*S*g,Lt=at*C*P*y,Mt=at*C*P*g,c=0;c<$;)n[u]=lt*H[c]+$t*W[c]+ut*j[c]+pt*q[c]+ft*J[c]+ct*Q[c]+dt*Z[c]+gt*K[c]+yt*tt[c]+mt*it[c]+Tt*et[c]+Pt*rt[c]+St*ot[c]+vt*nt[c]+Lt*st[c]+Mt*_t[c],++c,n[u+1]=lt*H[c]+$t*W[c]+ut*j[c]+pt*q[c]+ft*J[c]+ct*Q[c]+dt*Z[c]+gt*K[c]+yt*tt[c]+mt*it[c]+Tt*et[c]+Pt*rt[c]+St*ot[c]+vt*nt[c]+Lt*st[c]+Mt*_t[c],++c,u+=_;else{for(var Et=1<<a,At=new Float32Array(Et),It=0;It<Et;It++){for(var wt=It,xt=1,Ot=0;Ot<a;Ot++)xt*=wt%2==0?1-l[Ot]:l[Ot],wt/=2;At[It]=xt}for(var Dt=new Float32Array(Et),Rt=0;Rt<Et;Rt++)Dt[Rt]=o[h[Rt]];for(var c=0;c<$;){for(var bt=0,Ft=0,Ct=c+1,Rt=0;Rt<Et;Rt++)bt+=At[Rt]*Dt[Rt][c],Ft+=At[Rt]*Dt[Rt][Ct];c+=2,n[u]=bt,n[u+1]=Ft,u+=_}}},L.prototype._$HT=function(t,i){this.x=t,this.y=i},L.prototype._$HT=function(t){this.x=t.x,this.y=t.y},M._$ur=-2,M._$ES=500,M._$wb=2,M._$8S=3,M._$52=M._$ES,M._$R2=M._$ES,M._$or=function(){return M._$52},M._$Pr=function(){return M._$R2},M.prototype.convertClipIDForV2_11=function(t){var i=[];return null==t?null:0==t.length?null:/,/.test(t)?i=t.id.split(","):(i.push(t.id),i)},M.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=G._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=[],this._$MS(this._$Lb)},M.prototype.getClipIDList=function(){return this.clipIDList},M.prototype.init=function(t){},M.prototype._$Nr=function(t,i){if(i._$IS[0]=!1,i._$Us=v._$Z2(t,this._$GS,i._$IS,this._$Lb),at._$Zs);else if(i._$IS[0])return;i._$7s=v._$br(t,this._$GS,i._$IS,this._$mS)},M.prototype._$2b=function(t,i){},M.prototype.getDrawDataID=function(){return this._$gP},M.prototype._$j2=function(t){this._$gP=t},M.prototype.getOpacity=function(t,i){return i._$7s},M.prototype._$zS=function(t,i){return i._$Us},M.prototype._$MS=function(t){for(var i=t.length-1;i>=0;--i){var e=t[i];e<M._$52?M._$52=e:e>M._$R2&&(M._$R2=e)}},M.prototype.getTargetBaseDataID=function(){return this._$dr},M.prototype._$gs=function(t){this._$dr=t},M.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},M.prototype.preDraw=function(t,i,e){},M.prototype.draw=function(t,i,e){},M.prototype.getType=function(){},M.prototype._$B2=function(t,i,e){},E._$ps=32,E.CLIPPING_PROCESS_NONE=0,E.CLIPPING_PROCESS_OVERWRITE_ALPHA=1,E.CLIPPING_PROCESS_MULTIPLY_ALPHA=2,E.CLIPPING_PROCESS_DRAW=3,E.CLIPPING_PROCESS_CLEAR_ALPHA=4,E.prototype.setChannelFlagAsColor=function(t,i){this.CHANNEL_COLORS[t]=i},E.prototype.getChannelFlagAsColor=function(t){return this.CHANNEL_COLORS[t]},E.prototype._$ZT=function(){},E.prototype._$Uo=function(t,i,e,r,o,n,s){},E.prototype._$Rs=function(){return-1},E.prototype._$Ds=function(t){},E.prototype.setBaseColor=function(t,i,e,r){t<0?t=0:t>1&&(t=1),i<0?i=0:i>1&&(i=1),e<0?e=0:e>1&&(e=1),r<0?r=0:r>1&&(r=1),this._$lT=t,this._$C0=i,this._$tT=e,this._$WL=r},E.prototype._$WP=function(t){this.culling=t},E.prototype.setMatrix=function(t){for(var i=0;i<16;i++)this.matrix4x4[i]=t[i]},E.prototype._$IT=function(){return this.matrix4x4},E.prototype.setPremultipliedAlpha=function(t){this.premultipliedAlpha=t},E.prototype.isPremultipliedAlpha=function(){return this.premultipliedAlpha},E.prototype.setAnisotropy=function(t){this.anisotropy=t},E.prototype.getAnisotropy=function(){return this.anisotropy},E.prototype.getClippingProcess=function(){return this.clippingProcess},E.prototype.setClippingProcess=function(t){this.clippingProcess=t},E.prototype.setClipBufPre_clipContextForMask=function(t){this.clipBufPre_clipContextMask=t},E.prototype.getClipBufPre_clipContextMask=function(){return this.clipBufPre_clipContextMask},E.prototype.setClipBufPre_clipContextForDraw=function(t){this.clipBufPre_clipContextDraw=t},E.prototype.getClipBufPre_clipContextDraw=function(){return this.clipBufPre_clipContextDraw},I._$ur=-2,I._$c2=1,I._$_b=2,I.prototype._$F0=function(t){this._$kP=t._$nP(),this._$dr=t._$nP()},I.prototype.readV2_opacity=function(t){t.getFormatVersion()>=G.LIVE2D_FORMAT_VERSION_V2_10_SDK2&&(this._$mS=t._$Tb())},I.prototype.init=function(t){},I.prototype._$Nr=function(t,i){},I.prototype.interpolateOpacity=function(t,i,e,r){null==this._$mS?e.setInterpolatedOpacity(1):e.setInterpolatedOpacity(v._$br(t,i,r,this._$mS))},I.prototype._$2b=function(t,i){},I.prototype._$nb=function(t,i,e,r,o,n,s){},I.prototype.getType=function(){},I.prototype._$gs=function(t){this._$dr=t},I.prototype._$a2=function(t){this._$kP=t},I.prototype.getTargetBaseDataID=function(){return this._$dr},I.prototype.getBaseDataID=function(){return this._$kP},I.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},w._$W2=0,w._$CS=w._$W2,w._$Mo=function(){return!0},w._$XP=function(t){try{for(var i=getTimeMSec();getTimeMSec()-i<t;);}catch(t){t._$Rb()}},w.getUserTimeMSec=function(){return w._$CS==w._$W2?w.getSystemTimeMSec():w._$CS},w.setUserTimeMSec=function(t){w._$CS=t},w.updateUserTimeMSec=function(){return w._$CS=w.getSystemTimeMSec()},w.getTimeMSec=function(){return(new Date).getTime()},w.getSystemTimeMSec=function(){return(new Date).getTime()},w._$Q=function(t){},w._$jT=function(t,i,e,r,o){for(var n=0;n<o;n++)e[r+n]=t[i+n]},x._$ds=-2,x.prototype._$F0=function(t){this._$wL=t._$nP(),this._$VP=t._$6L(),this._$GP=t._$nP()},x.prototype.getParamIndex=function(t){return this._$2r!=t&&(this._$8o=x._$ds),this._$8o},x.prototype._$Pb=function(t,i){this._$8o=t,this._$2r=i},x.prototype.getParamID=function(){return this._$wL},x.prototype._$yP=function(t){this._$wL=t},x.prototype._$N2=function(){return this._$VP},x.prototype._$d2=function(){return this._$GP},x.prototype._$t2=function(t,i){this._$VP=t,this._$GP=i},x.prototype._$Lr=function(){return this._$O2},x.prototype._$wr=function(t){this._$O2=t},x.prototype._$SL=function(){return this._$ri},x.prototype._$AL=function(t){this._$ri=t},O.startsWith=function(t,i,e){var r=i+e.length;if(r>=t.length)return!1;for(var o=i;o<r;o++)if(O.getChar(t,o)!=e.charAt(o-i))return!1;return!0},O.getChar=function(t,i){return String.fromCharCode(t.getUint8(i))},O.createString=function(t,i,e){for(var r=new ArrayBuffer(2*e),o=new Uint16Array(r),n=0;n<e;n++)o[n]=t.getUint8(i+n);return String.fromCharCode.apply(null,o)},O._$LS=function(t,i,e,r){t instanceof ArrayBuffer&&(t=new DataView(t));var o=e,n=!1,s=!1,_=0,a=O.getChar(t,o);"-"==a&&(n=!0,o++);for(var h=!1;o<i;o++){switch(a=O.getChar(t,o)){case"0":_*=10;break;case"1":_=10*_+1;break;case"2":_=10*_+2;break;case"3":_=10*_+3;break;case"4":_=10*_+4;break;case"5":_=10*_+5;break;case"6":_=10*_+6;break;case"7":_=10*_+7;break;case"8":_=10*_+8;break;case"9":_=10*_+9;break;case".":s=!0,o++,h=!0;break;default:h=!0}if(h)break}if(s)for(var l=.1,$=!1;o<i;o++){switch(a=O.getChar(t,o)){case"0":break;case"1":_+=1*l;break;case"2":_+=2*l;break;case"3":_+=3*l;break;case"4":_+=4*l;break;case"5":_+=5*l;break;case"6":_+=6*l;break;case"7":_+=7*l;break;case"8":_+=8*l;break;case"9":_+=9*l;break;default:$=!0}if(l*=.1,$)break}return n&&(_=-_),r[0]=o,_},D.prototype._$zP=function(){this._$Ob=new Array},D.prototype._$F0=function(t){this._$Ob=t._$nP()},D.prototype._$Ur=function(t){if(t._$WS())return!0;for(var i=t._$v2(),e=this._$Ob.length-1;e>=0;--e){var r=this._$Ob[e].getParamIndex(i);if(r==x._$ds&&(r=t.getParamIndex(this._$Ob[e].getParamID())),t._$Xb(r))return!0}return!1},D.prototype._$Q2=function(t,i){for(var e,r,o=this._$Ob.length,n=t._$v2(),s=0,_=0;_<o;_++){var a=this._$Ob[_];if(e=a.getParamIndex(n),e==x._$ds&&(e=t.getParamIndex(a.getParamID()),a._$Pb(e,n)),e<0)throw new Exception("err 23242 : "+a.getParamID());var h=e<0?0:t.getParamFloat(e);r=a._$N2();var l,$,u=a._$d2(),p=-1,f=0;if(r<1);else if(1==r)l=u[0],l-U._$J<h&&h<l+U._$J?(p=0,f=0):(p=0,i[0]=!0);else if(l=u[0],h<l-U._$J)p=0,i[0]=!0;else if(h<l+U._$J)p=0;else{for(var c=!1,d=1;d<r;++d){if($=u[d],h<$+U._$J){$-U._$J<h?p=d:(p=d-1,f=(h-l)/($-l),s++),c=!0;break}l=$}c||(p=r-1,f=0,i[0]=!0)}a._$wr(p),a._$AL(f)}return s},D.prototype._$zr=function(t,i,e){var r=1<<e;r+1>U._$Qb&&console.log("err 23245\\n");for(var o=this._$Ob.length,n=1,s=1,_=0,a=0;a<r;++a)t[a]=0;for(var h=0;h<o;++h){var l=this._$Ob[h];if(0==l._$SL()){var $=l._$Lr()*n;if($<0&&at._$3T)throw new Exception("err 23246");for(var a=0;a<r;++a)t[a]+=$}else{for(var $=n*l._$Lr(),u=n*(l._$Lr()+1),a=0;a<r;++a)t[a]+=(a/s|0)%2==0?$:u;i[_++]=l._$SL(),s*=2}n*=l._$N2()}t[r]=65535,i[_]=-1},D.prototype._$h2=function(t,i,e){for(var r=new Float32Array(i),o=0;o<i;++o)r[o]=e[o];var n=new x;n._$yP(t),n._$t2(i,r),this._$Ob.push(n)},D.prototype._$J2=function(t){for(var i=t,e=this._$Ob.length,r=0;r<e;++r){var o=this._$Ob[r],n=o._$N2(),s=i%o._$N2(),_=o._$d2()[s];console.log("%s[%d]=%7.2f / ",o.getParamID(),s,_),i/=n}console.log("\\n")},D.prototype.getParamCount=function(){return this._$Ob.length},D.prototype._$zs=function(){return this._$Ob},R.prototype.identity=function(){for(var t=0;t<16;t++)this.m[t]=t%5==0?1:0},R.prototype.getArray=function(){return this.m},R.prototype.getCopyMatrix=function(){return new Float32Array(this.m)},R.prototype.setMatrix=function(t){if(null!=t&&16==t.length)for(var i=0;i<16;i++)this.m[i]=t[i]},R.prototype.mult=function(t,i,e){return null==i?null:(this==i?this.mult_safe(this.m,t.m,i.m,e):this.mult_fast(this.m,t.m,i.m,e),i)},R.prototype.mult_safe=function(t,i,e,r){if(t==e){var o=new Array(16);this.mult_fast(t,i,o,r);for(var n=15;n>=0;--n)e[n]=o[n]}else this.mult_fast(t,i,e,r)},R.prototype.mult_fast=function(t,i,e,r){r?(e[0]=t[0]*i[0]+t[4]*i[1]+t[8]*i[2],e[4]=t[0]*i[4]+t[4]*i[5]+t[8]*i[6],e[8]=t[0]*i[8]+t[4]*i[9]+t[8]*i[10],e[12]=t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],e[1]=t[1]*i[0]+t[5]*i[1]+t[9]*i[2],e[5]=t[1]*i[4]+t[5]*i[5]+t[9]*i[6],e[9]=t[1]*i[8]+t[5]*i[9]+t[9]*i[10],e[13]=t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],e[2]=t[2]*i[0]+t[6]*i[1]+t[10]*i[2],e[6]=t[2]*i[4]+t[6]*i[5]+t[10]*i[6],e[10]=t[2]*i[8]+t[6]*i[9]+t[10]*i[10],e[14]=t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],e[3]=e[7]=e[11]=0,e[15]=1):(e[0]=t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],e[4]=t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],e[8]=t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],e[12]=t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],e[1]=t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],e[5]=t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],e[9]=t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],e[13]=t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],e[2]=t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],e[6]=t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],e[10]=t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],e[14]=t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],e[3]=t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],e[7]=t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],e[11]=t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],e[15]=t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15])},R.prototype.translate=function(t,i,e){this.m[12]=this.m[0]*t+this.m[4]*i+this.m[8]*e+this.m[12],this.m[13]=this.m[1]*t+this.m[5]*i+this.m[9]*e+this.m[13],this.m[14]=this.m[2]*t+this.m[6]*i+this.m[10]*e+this.m[14],this.m[15]=this.m[3]*t+this.m[7]*i+this.m[11]*e+this.m[15]},R.prototype.scale=function(t,i,e){this.m[0]*=t,this.m[4]*=i,this.m[8]*=e,this.m[1]*=t,this.m[5]*=i,this.m[9]*=e,this.m[2]*=t,this.m[6]*=i,this.m[10]*=e,this.m[3]*=t,this.m[7]*=i,this.m[11]*=e},R.prototype.rotateX=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[4];this.m[4]=r*i+this.m[8]*e,this.m[8]=r*-e+this.m[8]*i,r=this.m[5],this.m[5]=r*i+this.m[9]*e,this.m[9]=r*-e+this.m[9]*i,r=this.m[6],this.m[6]=r*i+this.m[10]*e,this.m[10]=r*-e+this.m[10]*i,r=this.m[7],this.m[7]=r*i+this.m[11]*e,this.m[11]=r*-e+this.m[11]*i},R.prototype.rotateY=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[0];this.m[0]=r*i+this.m[8]*-e,this.m[8]=r*e+this.m[8]*i,r=this.m[1],this.m[1]=r*i+this.m[9]*-e,this.m[9]=r*e+this.m[9]*i,r=m[2],this.m[2]=r*i+this.m[10]*-e,this.m[10]=r*e+this.m[10]*i,r=m[3],this.m[3]=r*i+this.m[11]*-e,this.m[11]=r*e+this.m[11]*i},R.prototype.rotateZ=function(t){var i=Lt.fcos(t),e=Lt._$9(t),r=this.m[0];this.m[0]=r*i+this.m[4]*e,this.m[4]=r*-e+this.m[4]*i,r=this.m[1],this.m[1]=r*i+this.m[5]*e,this.m[5]=r*-e+this.m[5]*i,r=this.m[2],this.m[2]=r*i+this.m[6]*e,this.m[6]=r*-e+this.m[6]*i,r=this.m[3],this.m[3]=r*i+this.m[7]*e,this.m[7]=r*-e+this.m[7]*i},b.prototype=new et,b._$tP=new Object,b._$27=function(){b._$tP.clear()},b.getID=function(t){var i=b._$tP[t];return null==i&&(i=new b(t),b._$tP[t]=i),i},b.prototype._$3s=function(){return new b},F._$kS=-1,F._$pS=0,F._$hb=1,F.STATE_IDENTITY=0,F._$gb=1,F._$fo=2,F._$go=4,F.prototype.transform=function(t,i,e){var r,o,n,s,_,a,h=0,l=0;switch(this._$hi){default:return;case F._$go|F._$fo|F._$gb:for(r=this._$7,o=this._$H,n=this._$k,s=this._$f,_=this._$g,a=this._$w;--e>=0;){var $=t[h++],u=t[h++];i[l++]=r*$+o*u+n,i[l++]=s*$+_*u+a}return;case F._$go|F._$fo:for(r=this._$7,o=this._$H,s=this._$f,_=this._$g;--e>=0;){var $=t[h++],u=t[h++];i[l++]=r*$+o*u,i[l++]=s*$+_*u}return;case F._$go|F._$gb:for(o=this._$H,n=this._$k,s=this._$f,a=this._$w;--e>=0;){var $=t[h++];i[l++]=o*t[h++]+n,i[l++]=s*$+a}return;case F._$go:for(o=this._$H,s=this._$f;--e>=0;){var $=t[h++];i[l++]=o*t[h++],i[l++]=s*$}return;case F._$fo|F._$gb:for(r=this._$7,n=this._$k,_=this._$g,a=this._$w;--e>=0;)i[l++]=r*t[h++]+n,i[l++]=_*t[h++]+a;return;case F._$fo:for(r=this._$7,_=this._$g;--e>=0;)i[l++]=r*t[h++],i[l++]=_*t[h++];return;case F._$gb:for(n=this._$k,a=this._$w;--e>=0;)i[l++]=t[h++]+n,i[l++]=t[h++]+a;return;case F.STATE_IDENTITY:return void(t==i&&h==l||w._$jT(t,h,i,l,2*e))}},F.prototype.update=function(){0==this._$H&&0==this._$f?1==this._$7&&1==this._$g?0==this._$k&&0==this._$w?(this._$hi=F.STATE_IDENTITY,this._$Z=F._$pS):(this._$hi=F._$gb,this._$Z=F._$hb):0==this._$k&&0==this._$w?(this._$hi=F._$fo,this._$Z=F._$kS):(this._$hi=F._$fo|F._$gb,this._$Z=F._$kS):0==this._$7&&0==this._$g?0==this._$k&&0==this._$w?(this._$hi=F._$go,this._$Z=F._$kS):(this._$hi=F._$go|F._$gb,this._$Z=F._$kS):0==this._$k&&0==this._$w?(this._$hi=F._$go|F._$fo,this._$Z=F._$kS):(this._$hi=F._$go|F._$fo|F._$gb,this._$Z=F._$kS)},F.prototype._$RT=function(t){this._$IT(t);var i=t[0],e=t[2],r=t[1],o=t[3],n=Math.sqrt(i*i+r*r),s=i*o-e*r;0==n?at._$so&&console.log("affine._$RT() / rt==0"):(t[0]=n,t[1]=s/n,t[2]=(r*o+i*e)/s,t[3]=Math.atan2(r,i))},F.prototype._$ho=function(t,i,e,r){var o=new Float32Array(6),n=new Float32Array(6);t._$RT(o),i._$RT(n);var s=new Float32Array(6);s[0]=o[0]+(n[0]-o[0])*e,s[1]=o[1]+(n[1]-o[1])*e,s[2]=o[2]+(n[2]-o[2])*e,s[3]=o[3]+(n[3]-o[3])*e,s[4]=o[4]+(n[4]-o[4])*e,s[5]=o[5]+(n[5]-o[5])*e,r._$CT(s)},F.prototype._$CT=function(t){var i=Math.cos(t[3]),e=Math.sin(t[3]);this._$7=t[0]*i,this._$f=t[0]*e,this._$H=t[1]*(t[2]*i-e),this._$g=t[1]*(t[2]*e+i),this._$k=t[4],this._$w=t[5],this.update()},F.prototype._$IT=function(t){t[0]=this._$7,t[1]=this._$f,t[2]=this._$H,t[3]=this._$g,t[4]=this._$k,t[5]=this._$w},C.prototype=new s,C._$cs="VISIBLE:",C._$ar="LAYOUT:",C._$Co=0,C._$D2=[],C._$1T=1,C.loadMotion=function(t){var i=new C,e=[0],r=t.length;i._$yT=0;for(var o=0;o<r;++o){var n=255&t[o];if("\\n"!=n&&"\\r"!=n)if("#"!=n)if("$"!=n){if("a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"==n){for(var s=o,_=-1;o<r&&("\\r"!=(n=255&t[o])&&"\\n"!=n);++o)if("="==n){_=o;break}if(_>=0){var a=new B;O.startsWith(t,s,C._$cs)?(a._$RP=B._$hs,a._$4P=new String(t,s,_-s)):O.startsWith(t,s,C._$ar)?(a._$4P=new String(t,s+7,_-s-7),O.startsWith(t,s+7,"ANCHOR_X")?a._$RP=B._$xs:O.startsWith(t,s+7,"ANCHOR_Y")?a._$RP=B._$us:O.startsWith(t,s+7,"SCALE_X")?a._$RP=B._$qs:O.startsWith(t,s+7,"SCALE_Y")?a._$RP=B._$Ys:O.startsWith(t,s+7,"X")?a._$RP=B._$ws:O.startsWith(t,s+7,"Y")&&(a._$RP=B._$Ns)):(a._$RP=B._$Fr,a._$4P=new String(t,s,_-s)),i.motions.push(a);var h=0;for(C._$D2.clear(),o=_+1;o<r&&("\\r"!=(n=255&t[o])&&"\\n"!=n);++o)if(","!=n&&" "!=n&&"\\t"!=n){var l=O._$LS(t,r,o,e);if(e[0]>0){C._$D2.push(l),h++;var $=e[0];if($<o){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\\n");break}o=$}}a._$I0=C._$D2._$BL(),h>i._$yT&&(i._$yT=h)}}}else{for(var s=o,_=-1;o<r&&("\\r"!=(n=255&t[o])&&"\\n"!=n);++o)if("="==n){_=o;break}var u=!1;if(_>=0)for(_==s+4&&"f"==t[s+1]&&"p"==t[s+2]&&"s"==t[s+3]&&(u=!0),o=_+1;o<r&&("\\r"!=(n=255&t[o])&&"\\n"!=n);++o)if(","!=n&&" "!=n&&"\\t"!=n){var l=O._$LS(t,r,o,e);e[0]>0&&u&&5<l&&l<121&&(i._$D0=l),o=e[0]}for(;o<r&&("\\n"!=t[o]&&"\\r"!=t[o]);++o);}else for(;o<r&&("\\n"!=t[o]&&"\\r"!=t[o]);++o);}return i._$AS=1e3*i._$yT/i._$D0|0,i},C.prototype.getDurationMSec=function(){return this._$AS},C.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];console.log("_$wL[%s] [%d]. ",i._$4P,i._$I0.length);for(var e=0;e<i._$I0.length&&e<10;e++)console.log("%5.2f ,",i._$I0[e]);console.log("\\n")}},C.prototype.updateParamExe=function(t,i,e,r){for(var o=i-r._$z2,n=o*this._$D0/1e3,s=0|n,_=n-s,a=0;a<this.motions.length;a++){var h=this.motions[a],l=h._$I0.length,$=h._$4P;if(h._$RP==B._$hs){var u=h._$I0[s>=l?l-1:s];t.setParamFloat($,u)}else if(B._$ws<=h._$RP&&h._$RP<=B._$Ys);else{var p=t.getParamFloat($),f=h._$I0[s>=l?l-1:s],c=h._$I0[s+1>=l?l-1:s+1],d=f+(c-f)*_,g=p+(d-p)*e;t.setParamFloat($,g)}}s>=this._$yT&&(this._$E?(r._$z2=i,this.loopFadeIn&&(r._$bs=i)):r._$9L=!0)},C.prototype._$r0=function(){return this._$E},C.prototype._$aL=function(t){this._$E=t},C.prototype.isLoopFadeIn=function(){return this.loopFadeIn},C.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},N.prototype.clear=function(){this.size=0},N.prototype.add=function(t){if(this._$P.length<=this.size){var i=new Float32Array(2*this.size);w._$jT(this._$P,0,i,0,this.size),this._$P=i}this._$P[this.size++]=t},N.prototype._$BL=function(){var t=new Float32Array(this.size);return w._$jT(this._$P,0,t,0,this.size),t},B._$Fr=0,B._$hs=1,B._$ws=100,B._$Ns=101,B._$xs=102,B._$us=103,B._$qs=104,B._$Ys=105,U._$Ms=1,U._$Qs=2,U._$i2=0,U._$No=2,U._$do=U._$Ms,U._$Ls=!0,U._$1r=5,U._$Qb=65,U._$J=1e-4,U._$FT=.001,U._$Ss=3,G._$o7=6,G._$S7=7,G._$s7=8,G._$77=9,G.LIVE2D_FORMAT_VERSION_V2_10_SDK2=10,G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1=11,G._$T7=G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1,G._$Is=-2004318072,G._$h0=0,G._$4L=23,G._$7P=33,G._$uT=function(t){console.log("_$bo :: _$6 _$mo _$E0 : %d\\n",t)},G._$9o=function(t){if(t<40)return G._$uT(t),null;if(t<50)return G._$uT(t),null;if(t<60)return G._$uT(t),null;if(t<100)switch(t){case 65:return new Z;case 66:return new D;case 67:return new x;case 68:return new z;case 69:return new P;case 70:return new $t;default:return G._$uT(t),null}else if(t<150)switch(t){case 131:return new st;case 133:return new tt;case 136:return new p;case 137:return new ot;case 142:return new j}return G._$uT(t),null},Y._$HP=0,Y._$_0=!0;Y._$V2=-1,Y._$W0=-1,Y._$jr=!1,Y._$ZS=!0,Y._$tr=-1e6,Y._$lr=1e6,Y._$is=32,Y._$e=!1,Y.prototype.getDrawDataIndex=function(t){for(var i=this._$aS.length-1;i>=0;--i)if(null!=this._$aS[i]&&this._$aS[i].getDrawDataID()==t)return i;return-1},Y.prototype.getDrawData=function(t){if(t instanceof b){if(null==this._$Bo){this._$Bo=new Object;for(var i=this._$aS.length,e=0;e<i;e++){var r=this._$aS[e],o=r.getDrawDataID();null!=o&&(this._$Bo[o]=r)}}return this._$Bo[id]}return t<this._$aS.length?this._$aS[t]:null},Y.prototype.release=function(){this._$3S.clear(),this._$aS.clear(),this._$F2.clear(),null!=this._$Bo&&this._$Bo.clear(),this._$db.clear(),this._$8b.clear(),this._$Hr.clear()},Y.prototype.init=function(){this._$co++,this._$F2.length>0&&this.release();for(var t=this._$Ri.getModelImpl(),i=t._$Xr(),r=i.length,o=new Array,n=new Array,s=0;s<r;++s){var _=i[s];this._$F2.push(_),this._$Hr.push(_.init(this));for(var a=_.getBaseData(),h=a.length,l=0;l<h;++l)o.push(a[l]);for(var l=0;l<h;++l){var $=a[l].init(this);$._$l2(s),n.push($)}for(var u=_.getDrawData(),p=u.length,l=0;l<p;++l){var f=u[l],c=f.init(this);c._$IP=s,this._$aS.push(f),this._$8b.push(c)}}for(var d=o.length,g=yt._$2o();;){for(var y=!1,s=0;s<d;++s){var m=o[s];if(null!=m){var T=m.getTargetBaseDataID();(null==T||T==g||this.getBaseDataIndex(T)>=0)&&(this._$3S.push(m),this._$db.push(n[s]),o[s]=null,y=!0)}}if(!y)break}var P=t._$E2();if(null!=P){var S=P._$1s();if(null!=S)for(var v=S.length,s=0;s<v;++s){var L=S[s];null!=L&&this._$02(L.getParamID(),L.getDefaultValue(),L.getMinValue(),L.getMaxValue())}}this.clipManager=new e(this.dp_webgl),this.clipManager.init(this,this._$aS,this._$8b),this._$QT=!0},Y.prototype.update=function(){Y._$e&&_.start("_$zL");for(var t=this._$_2.length,i=0;i<t;i++)this._$_2[i]!=this._$vr[i]&&(this._$Js[i]=Y._$ZS,this._$vr[i]=this._$_2[i]);var e=this._$3S.length,r=this._$aS.length,o=W._$or(),n=W._$Pr(),s=n-o+1;(null==this._$Ws||this._$Ws.length<s)&&(this._$Ws=new Int16Array(s),this._$Vs=new Int16Array(s));for(var i=0;i<s;i++)this._$Ws[i]=Y._$V2,this._$Vs[i]=Y._$V2;(null==this._$Er||this._$Er.length<r)&&(this._$Er=new Int16Array(r));for(var i=0;i<r;i++)this._$Er[i]=Y._$W0;Y._$e&&_.dump("_$zL"),Y._$e&&_.start("_$UL");for(var a=null,h=0;h<e;++h){var l=this._$3S[h],$=this._$db[h];try{l._$Nr(this,$),l._$2b(this,$)}catch(t){null==a&&(a=t)}}null!=a&&Y._$_0&&_._$Rb(a),Y._$e&&_.dump("_$UL"),Y._$e&&_.start("_$DL");for(var u=null,p=0;p<r;++p){var f=this._$aS[p],c=this._$8b[p];try{if(f._$Nr(this,c),c._$u2())continue;f._$2b(this,c);var d,g=Math.floor(f._$zS(this,c)-o);try{d=this._$Vs[g]}catch(t){console.log("_$li :: %s / %s \\t\\t\\t\\t@@_$fS\\n",t.toString(),f.getDrawDataID().toString()),g=Math.floor(f._$zS(this,c)-o);continue}d==Y._$V2?this._$Ws[g]=p:this._$Er[d]=p,this._$Vs[g]=p}catch(t){null==u&&(u=t,at._$sT(at._$H7))}}null!=u&&Y._$_0&&_._$Rb(u),Y._$e&&_.dump("_$DL"),Y._$e&&_.start("_$eL");for(var i=this._$Js.length-1;i>=0;i--)this._$Js[i]=Y._$jr;return this._$QT=!1,Y._$e&&_.dump("_$eL"),!1},Y.prototype.preDraw=function(t){null!=this.clipManager&&(t._$ZT(),this.clipManager.setupClip(this,t))},Y.prototype.draw=function(t){if(null==this._$Ws)return void _._$li("call _$Ri.update() before _$Ri.draw() ");var i=this._$Ws.length;t._$ZT();for(var e=0;e<i;++e){var r=this._$Ws[e];if(r!=Y._$V2)for(;;){var o=this._$aS[r],n=this._$8b[r];if(n._$yo()){var s=n._$IP,a=this._$Hr[s];n._$VS=a.getPartsOpacity(),o.draw(t,this,n)}var h=this._$Er[r];if(h<=r||h==Y._$W0)break;r=h}}},Y.prototype.getParamIndex=function(t){for(var i=this._$pb.length-1;i>=0;--i)if(this._$pb[i]==t)return i;return this._$02(t,0,Y._$tr,Y._$lr)},Y.prototype._$BS=function(t){return this.getBaseDataIndex(t)},Y.prototype.getBaseDataIndex=function(t){for(var i=this._$3S.length-1;i>=0;--i)if(null!=this._$3S[i]&&this._$3S[i].getBaseDataID()==t)return i;return-1},Y.prototype._$UT=function(t,i){var e=new Float32Array(i);return w._$jT(t,0,e,0,t.length),e},Y.prototype._$02=function(t,i,e,r){if(this._$qo>=this._$pb.length){var o=this._$pb.length,n=new Array(2*o);w._$jT(this._$pb,0,n,0,o),this._$pb=n,this._$_2=this._$UT(this._$_2,2*o),this._$vr=this._$UT(this._$vr,2*o),this._$Rr=this._$UT(this._$Rr,2*o),this._$Or=this._$UT(this._$Or,2*o);var s=new Array;w._$jT(this._$Js,0,s,0,o),this._$Js=s}return this._$pb[this._$qo]=t,this._$_2[this._$qo]=i,this._$vr[this._$qo]=i,this._$Rr[this._$qo]=e,this._$Or[this._$qo]=r,this._$Js[this._$qo]=Y._$ZS,this._$qo++},Y.prototype._$Zo=function(t,i){this._$3S[t]=i},Y.prototype.setParamFloat=function(t,i){i<this._$Rr[t]&&(i=this._$Rr[t]),i>this._$Or[t]&&(i=this._$Or[t]),this._$_2[t]=i},Y.prototype.loadParam=function(){var t=this._$_2.length;t>this._$fs.length&&(t=this._$fs.length),w._$jT(this._$fs,0,this._$_2,0,t)},Y.prototype.saveParam=function(){var t=this._$_2.length;t>this._$fs.length&&(this._$fs=new Float32Array(t)),w._$jT(this._$_2,0,this._$fs,0,t)},Y.prototype._$v2=function(){return this._$co},Y.prototype._$WS=function(){return this._$QT},Y.prototype._$Xb=function(t){return this._$Js[t]==Y._$ZS},Y.prototype._$vs=function(){return this._$Es},Y.prototype._$Tr=function(){return this._$ZP},Y.prototype.getBaseData=function(t){return this._$3S[t]},Y.prototype.getParamFloat=function(t){return this._$_2[t]},Y.prototype.getParamMax=function(t){return this._$Or[t]},Y.prototype.getParamMin=function(t){return this._$Rr[t]},Y.prototype.setPartsOpacity=function(t,i){this._$Hr[t].setPartsOpacity(i)},Y.prototype.getPartsOpacity=function(t){return this._$Hr[t].getPartsOpacity()},Y.prototype.getPartsDataIndex=function(t){for(var i=this._$F2.length-1;i>=0;--i)if(null!=this._$F2[i]&&this._$F2[i]._$p2()==t)return i;return-1},Y.prototype._$q2=function(t){return this._$db[t]},Y.prototype._$C2=function(t){return this._$8b[t]},Y.prototype._$Bb=function(t){return this._$Hr[t]},Y.prototype._$5s=function(t,i){for(var e=this._$Ws.length,r=t,o=0;o<e;++o){var n=this._$Ws[o];if(n!=Y._$V2)for(;;){var s=this._$8b[n];s._$yo()&&(s._$GT()._$B2(this,s,r),r+=i);var _=this._$Er[n];if(_<=n||_==Y._$W0)break;n=_}}},Y.prototype.setDrawParam=function(t){this.dp_webgl=t},Y.prototype.getDrawParam=function(){return this.dp_webgl},k._$0T=function(t){return k._$0T(new _$5(t))},k._$0T=function(t){if(!t.exists())throw new _$ls(t._$3b());for(var i,e=t.length(),r=new Int8Array(e),o=new _$Xs(new _$kb(t),8192),n=0;(i=o.read(r,n,e-n))>0;)n+=i;return r},k._$C=function(t){var i=null,e=null;try{i=t instanceof Array?t:new _$Xs(t,8192),e=new _$js;for(var r,o=new Int8Array(1e3);(r=i.read(o))>0;)e.write(o,0,r);return e._$TS()}finally{null!=t&&t.close(),null!=e&&(e.flush(),e.close())}},V.prototype._$T2=function(){return w.getUserTimeMSec()+Math._$10()*(2*this._$Br-1)},V.prototype._$uo=function(t){this._$Br=t},V.prototype._$QS=function(t,i,e){this._$Dr=t,this._$Cb=i,this._$mr=e},V.prototype._$7T=function(t){var i,e=w.getUserTimeMSec(),r=0;switch(this._$_L){case STATE_CLOSING:r=(e-this._$bb)/this._$Dr,r>=1&&(r=1,this._$_L=wt.STATE_CLOSED,this._$bb=e),i=1-r;break;case STATE_CLOSED:r=(e-this._$bb)/this._$Cb,r>=1&&(this._$_L=wt.STATE_OPENING,this._$bb=e),i=0;break;case STATE_OPENING:r=(e-this._$bb)/this._$mr,r>=1&&(r=1,this._$_L=wt.STATE_INTERVAL,this._$12=this._$T2()),i=r;break;case STATE_INTERVAL:this._$12<e&&(this._$_L=wt.STATE_CLOSING,this._$bb=e),i=1;break;case STATE_FIRST:default:this._$_L=wt.STATE_INTERVAL,this._$12=this._$T2(),i=1}this._$jo||(i=-i),t.setParamFloat(this._$iL,i),t.setParamFloat(this._$0L,i)};var wt=function(){};wt.STATE_FIRST="STATE_FIRST",wt.STATE_INTERVAL="STATE_INTERVAL",wt.STATE_CLOSING="STATE_CLOSING",wt.STATE_CLOSED="STATE_CLOSED",wt.STATE_OPENING="STATE_OPENING",X.prototype=new E,X._$As=32,X._$Gr=!1,X._$NT=null,X._$vS=null,X._$no=null,X._$9r=function(t){return new Float32Array(t)},X._$vb=function(t){return new Int16Array(t)},X._$cr=function(t,i){return null==t||t._$yL()<i.length?(t=X._$9r(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},X._$mb=function(t,i){return null==t||t._$yL()<i.length?(t=X._$vb(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},X._$Hs=function(){return X._$Gr},X._$as=function(t){X._$Gr=t},X.prototype.setGL=function(t){this.gl=t},X.prototype.setTransform=function(t){this.transform=t},X.prototype._$ZT=function(){},X.prototype._$Uo=function(t,i,e,r,o,n,s,_){if(!(n<.01)){var a=this._$U2[t],h=n>.9?at.EXPAND_W:0;this.gl.drawElements(a,e,r,o,n,h,this.transform,_)}},X.prototype._$Rs=function(){throw new Error("_$Rs")},X.prototype._$Ds=function(t){throw new Error("_$Ds")},X.prototype._$K2=function(){for(var t=0;t<this._$sb.length;t++){0!=this._$sb[t]&&(this.gl._$Sr(1,this._$sb,t),this._$sb[t]=0)}},X.prototype.setTexture=function(t,i){this._$sb.length<t+1&&this._$nS(t),this._$sb[t]=i},X.prototype.setTexture=function(t,i){this._$sb.length<t+1&&this._$nS(t),this._$U2[t]=i},X.prototype._$nS=function(t){var i=Math.max(2*this._$sb.length,t+1+10),e=new Int32Array(i);w._$jT(this._$sb,0,e,0,this._$sb.length),this._$sb=e;var r=new Array;w._$jT(this._$U2,0,r,0,this._$U2.length),this._$U2=r},z.prototype=new I,z._$Xo=new Float32Array(2),z._$io=new Float32Array(2),z._$0o=new Float32Array(2),z._$Lo=new Float32Array(2),z._$To=new Float32Array(2),z._$Po=new Float32Array(2),z._$gT=new Array,z.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP(),this._$Y0=new Array},z.prototype.getType=function(){return I._$c2},z.prototype._$F0=function(t){I.prototype._$F0.call(this,t),this._$GS=t._$nP(),this._$Y0=t._$nP(),I.prototype.readV2_opacity.call(this,t)},z.prototype.init=function(t){var i=new H(this);return i._$Yr=new P,this._$32()&&(i._$Wr=new P),i},z.prototype._$Nr=function(t,i){this!=i._$GT()&&console.log("### assert!! ### ");var e=i;if(this._$GS._$Ur(t)){var r=z._$gT;r[0]=!1;var o=this._$GS._$Q2(t,r);i._$Ib(r[0]),this.interpolateOpacity(t,this._$GS,i,r);var n=t._$vs(),s=t._$Tr();if(this._$GS._$zr(n,s,o),o<=0){var _=this._$Y0[n[0]];e._$Yr.init(_)}else if(1==o){var _=this._$Y0[n[0]],a=this._$Y0[n[1]],h=s[0];e._$Yr._$fL=_._$fL+(a._$fL-_._$fL)*h,e._$Yr._$gL=_._$gL+(a._$gL-_._$gL)*h,e._$Yr._$B0=_._$B0+(a._$B0-_._$B0)*h,e._$Yr._$z0=_._$z0+(a._$z0-_._$z0)*h,e._$Yr._$qT=_._$qT+(a._$qT-_._$qT)*h}else if(2==o){var _=this._$Y0[n[0]],a=this._$Y0[n[1]],l=this._$Y0[n[2]],$=this._$Y0[n[3]],h=s[0],u=s[1],p=_._$fL+(a._$fL-_._$fL)*h,f=l._$fL+($._$fL-l._$fL)*h;e._$Yr._$fL=p+(f-p)*u,p=_._$gL+(a._$gL-_._$gL)*h,f=l._$gL+($._$gL-l._$gL)*h,e._$Yr._$gL=p+(f-p)*u,p=_._$B0+(a._$B0-_._$B0)*h,f=l._$B0+($._$B0-l._$B0)*h,e._$Yr._$B0=p+(f-p)*u,p=_._$z0+(a._$z0-_._$z0)*h,f=l._$z0+($._$z0-l._$z0)*h,e._$Yr._$z0=p+(f-p)*u,p=_._$qT+(a._$qT-_._$qT)*h,f=l._$qT+($._$qT-l._$qT)*h,e._$Yr._$qT=p+(f-p)*u}else if(3==o){var c=this._$Y0[n[0]],d=this._$Y0[n[1]],g=this._$Y0[n[2]],y=this._$Y0[n[3]],m=this._$Y0[n[4]],T=this._$Y0[n[5]],P=this._$Y0[n[6]],S=this._$Y0[n[7]],h=s[0],u=s[1],v=s[2],p=c._$fL+(d._$fL-c._$fL)*h,f=g._$fL+(y._$fL-g._$fL)*h,L=m._$fL+(T._$fL-m._$fL)*h,M=P._$fL+(S._$fL-P._$fL)*h;e._$Yr._$fL=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$gL+(d._$gL-c._$gL)*h,f=g._$gL+(y._$gL-g._$gL)*h,L=m._$gL+(T._$gL-m._$gL)*h,M=P._$gL+(S._$gL-P._$gL)*h,e._$Yr._$gL=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$B0+(d._$B0-c._$B0)*h,f=g._$B0+(y._$B0-g._$B0)*h,L=m._$B0+(T._$B0-m._$B0)*h,M=P._$B0+(S._$B0-P._$B0)*h,e._$Yr._$B0=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$z0+(d._$z0-c._$z0)*h,f=g._$z0+(y._$z0-g._$z0)*h,L=m._$z0+(T._$z0-m._$z0)*h,M=P._$z0+(S._$z0-P._$z0)*h,e._$Yr._$z0=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u),p=c._$qT+(d._$qT-c._$qT)*h,f=g._$qT+(y._$qT-g._$qT)*h,L=m._$qT+(T._$qT-m._$qT)*h,M=P._$qT+(S._$qT-P._$qT)*h,e._$Yr._$qT=(1-v)*(p+(f-p)*u)+v*(L+(M-L)*u)}else if(4==o){var E=this._$Y0[n[0]],A=this._$Y0[n[1]],I=this._$Y0[n[2]],w=this._$Y0[n[3]],x=this._$Y0[n[4]],O=this._$Y0[n[5]],D=this._$Y0[n[6]],R=this._$Y0[n[7]],b=this._$Y0[n[8]],F=this._$Y0[n[9]],C=this._$Y0[n[10]],N=this._$Y0[n[11]],B=this._$Y0[n[12]],U=this._$Y0[n[13]],G=this._$Y0[n[14]],Y=this._$Y0[n[15]],h=s[0],u=s[1],v=s[2],k=s[3],p=E._$fL+(A._$fL-E._$fL)*h,f=I._$fL+(w._$fL-I._$fL)*h,L=x._$fL+(O._$fL-x._$fL)*h,M=D._$fL+(R._$fL-D._$fL)*h,V=b._$fL+(F._$fL-b._$fL)*h,X=C._$fL+(N._$fL-C._$fL)*h,H=B._$fL+(U._$fL-B._$fL)*h,W=G._$fL+(Y._$fL-G._$fL)*h;e._$Yr._$fL=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$gL+(A._$gL-E._$gL)*h,f=I._$gL+(w._$gL-I._$gL)*h,L=x._$gL+(O._$gL-x._$gL)*h,M=D._$gL+(R._$gL-D._$gL)*h,V=b._$gL+(F._$gL-b._$gL)*h,X=C._$gL+(N._$gL-C._$gL)*h,H=B._$gL+(U._$gL-B._$gL)*h,W=G._$gL+(Y._$gL-G._$gL)*h,e._$Yr._$gL=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$B0+(A._$B0-E._$B0)*h,f=I._$B0+(w._$B0-I._$B0)*h,L=x._$B0+(O._$B0-x._$B0)*h,M=D._$B0+(R._$B0-D._$B0)*h,V=b._$B0+(F._$B0-b._$B0)*h,X=C._$B0+(N._$B0-C._$B0)*h,H=B._$B0+(U._$B0-B._$B0)*h,W=G._$B0+(Y._$B0-G._$B0)*h,e._$Yr._$B0=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$z0+(A._$z0-E._$z0)*h,f=I._$z0+(w._$z0-I._$z0)*h,L=x._$z0+(O._$z0-x._$z0)*h,M=D._$z0+(R._$z0-D._$z0)*h,V=b._$z0+(F._$z0-b._$z0)*h,X=C._$z0+(N._$z0-C._$z0)*h,H=B._$z0+(U._$z0-B._$z0)*h,W=G._$z0+(Y._$z0-G._$z0)*h,e._$Yr._$z0=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u)),p=E._$qT+(A._$qT-E._$qT)*h,f=I._$qT+(w._$qT-I._$qT)*h,L=x._$qT+(O._$qT-x._$qT)*h,M=D._$qT+(R._$qT-D._$qT)*h,V=b._$qT+(F._$qT-b._$qT)*h,X=C._$qT+(N._$qT-C._$qT)*h,H=B._$qT+(U._$qT-B._$qT)*h,W=G._$qT+(Y._$qT-G._$qT)*h,e._$Yr._$qT=(1-k)*((1-v)*(p+(f-p)*u)+v*(L+(M-L)*u))+k*((1-v)*(V+(X-V)*u)+v*(H+(W-H)*u))}else{for(var j=0|Math.pow(2,o),q=new Float32Array(j),J=0;J<j;J++){for(var Q=J,Z=1,K=0;K<o;K++)Z*=Q%2==0?1-s[K]:s[K],Q/=2;q[J]=Z}for(var tt=new Array,it=0;it<j;it++)tt[it]=this._$Y0[n[it]];for(var et=0,rt=0,ot=0,nt=0,st=0,it=0;it<j;it++)et+=q[it]*tt[it]._$fL,rt+=q[it]*tt[it]._$gL,ot+=q[it]*tt[it]._$B0,nt+=q[it]*tt[it]._$z0,st+=q[it]*tt[it]._$qT;e._$Yr._$fL=et,e._$Yr._$gL=rt,e._$Yr._$B0=ot,e._$Yr._$z0=nt,e._$Yr._$qT=st}var _=this._$Y0[n[0]];e._$Yr.reflectX=_.reflectX,e._$Yr.reflectY=_.reflectY}},z.prototype._$2b=function(t,i){this!=i._$GT()&&console.log("### assert!! ### ");var e=i;if(e._$hS(!0),this._$32()){var r=this.getTargetBaseDataID();if(e._$8r==I._$ur&&(e._$8r=t.getBaseDataIndex(r)),e._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",r),e._$hS(!1);else{var o=t.getBaseData(e._$8r);if(null!=o){var n=t._$q2(e._$8r),s=z._$Xo;s[0]=e._$Yr._$fL,s[1]=e._$Yr._$gL;var a=z._$io;a[0]=0,a[1]=-.1;n._$GT().getType()==I._$c2?a[1]=-10:a[1]=-.1;var h=z._$0o;this._$Jr(t,o,n,s,a,h);var l=Lt._$92(a,h);o._$nb(t,n,s,s,1,0,2),e._$Wr._$fL=s[0],e._$Wr._$gL=s[1],e._$Wr._$B0=e._$Yr._$B0,e._$Wr._$z0=e._$Yr._$z0,e._$Wr._$qT=e._$Yr._$qT-l*Lt._$NS;var $=n.getTotalScale();e.setTotalScale_notForClient($*e._$Wr._$B0);var u=n.getTotalOpacity();e.setTotalOpacity(u*e.getInterpolatedOpacity()),e._$Wr.reflectX=e._$Yr.reflectX,e._$Wr.reflectY=e._$Yr.reflectY,e._$hS(n._$yo())}else e._$hS(!1)}}else e.setTotalScale_notForClient(e._$Yr._$B0),e.setTotalOpacity(e.getInterpolatedOpacity())},z.prototype._$nb=function(t,i,e,r,o,n,s){this!=i._$GT()&&console.log("### assert!! ### ");for(var _,a,h=i,l=null!=h._$Wr?h._$Wr:h._$Yr,$=Math.sin(Lt._$bS*l._$qT),u=Math.cos(Lt._$bS*l._$qT),p=h.getTotalScale(),f=l.reflectX?-1:1,c=l.reflectY?-1:1,d=u*p*f,g=-$*p*c,y=$*p*f,m=u*p*c,T=l._$fL,P=l._$gL,S=o*s,v=n;v<S;v+=s)_=e[v],a=e[v+1],r[v]=d*_+g*a+T,r[v+1]=y*_+m*a+P},z.prototype._$Jr=function(t,i,e,r,o,n){i!=e._$GT()&&console.log("### assert!! ### ");var s=z._$Lo;z._$Lo[0]=r[0],z._$Lo[1]=r[1],i._$nb(t,e,s,s,1,0,2);for(var _=z._$To,a=z._$Po,h=1,l=0;l<10;l++){if(a[0]=r[0]+h*o[0],a[1]=r[1]+h*o[1],i._$nb(t,e,a,_,1,0,2),_[0]-=s[0],_[1]-=s[1],0!=_[0]||0!=_[1])return n[0]=_[0],void(n[1]=_[1]);if(a[0]=r[0]-h*o[0],a[1]=r[1]-h*o[1],i._$nb(t,e,a,_,1,0,2),_[0]-=s[0],_[1]-=s[1],0!=_[0]||0!=_[1])return _[0]=-_[0],_[0]=-_[0],n[0]=_[0],void(n[1]=_[1]);h*=.1}at._$so&&console.log("_$L0 to transform _$SP\\n")},H.prototype=new _t,W.prototype=new M,W._$ur=-2,W._$ES=500,W._$wb=2,W._$8S=3,W._$os=4,W._$52=W._$ES,W._$R2=W._$ES,W._$Sb=function(t){for(var i=t.length-1;i>=0;--i){var e=t[i];e<W._$52?W._$52=e:e>W._$R2&&(W._$R2=e)}},W._$or=function(){return W._$52},W._$Pr=function(){return W._$R2},W.prototype._$F0=function(t){this._$gP=t._$nP(),this._$dr=t._$nP(),this._$GS=t._$nP(),this._$qb=t._$6L(),this._$Lb=t._$cS(),this._$mS=t._$Tb(),t.getFormatVersion()>=G._$T7?(this.clipID=t._$nP(),this.clipIDList=this.convertClipIDForV2_11(this.clipID)):this.clipIDList=null,W._$Sb(this._$Lb)},W.prototype.getClipIDList=function(){return this.clipIDList},W.prototype._$Nr=function(t,i){if(i._$IS[0]=!1,i._$Us=v._$Z2(t,this._$GS,i._$IS,this._$Lb),at._$Zs);else if(i._$IS[0])return;i._$7s=v._$br(t,this._$GS,i._$IS,this._$mS)},W.prototype._$2b=function(t){},W.prototype.getDrawDataID=function(){return this._$gP},W.prototype._$j2=function(t){this._$gP=t},W.prototype.getOpacity=function(t,i){return i._$7s},W.prototype._$zS=function(t,i){return i._$Us},W.prototype.getTargetBaseDataID=function(){return this._$dr},W.prototype._$gs=function(t){this._$dr=t},W.prototype._$32=function(){return null!=this._$dr&&this._$dr!=yt._$2o()},W.prototype.getType=function(){},j._$42=0,j.prototype._$1b=function(){return this._$3S},j.prototype.getDrawDataList=function(){return this._$aS},j.prototype._$F0=function(t){this._$NL=t._$nP(),this._$aS=t._$nP(),this._$3S=t._$nP()},j.prototype._$kr=function(t){t._$Zo(this._$3S),t._$xo(this._$aS),this._$3S=null,this._$aS=null},q.prototype=new i,q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q.loadModel=function(t){var e=new q;return i._$62(e,t),e},q._$to=function(){return new q},q._$er=function(t){var i=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==i.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+i._$PL());for(var e=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],r=q.loadModel(i._$3b()),o=0;o<e.length;o++){var n=new _$5(e[o]);if(0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());r.setTexture(o,_$nL._$_o(t,n._$3b()))}return r},q.prototype.setGL=function(t){this._$zo.setGL(t)},q.prototype.setTransform=function(t){this._$zo.setTransform(t)},q.prototype.draw=function(){this._$5S.draw(this._$zo)},q.prototype._$K2=function(){this._$zo._$K2()},q.prototype.setTexture=function(t,i){null==this._$zo&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,i)},q.prototype.setTexture=function(t,i){null==this._$zo&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this._$zo.setTexture(t,i)},q.prototype._$Rs=function(){return this._$zo._$Rs()},q.prototype._$Ds=function(t){this._$zo._$Ds(t)},q.prototype.getDrawParam=function(){return this._$zo},J.prototype=new s,J._$cs="VISIBLE:",J._$ar="LAYOUT:",J.MTN_PREFIX_FADEIN="FADEIN:",J.MTN_PREFIX_FADEOUT="FADEOUT:",J._$Co=0,J._$1T=1,J.loadMotion=function(t){var i=k._$C(t);return J.loadMotion(i)},J.loadMotion=function(t){t instanceof ArrayBuffer&&(t=new DataView(t));var i=new J,e=[0],r=t.byteLength;i._$yT=0;for(var o=0;o<r;++o){var n=Q(t,o),s=n.charCodeAt(0);if("\\n"!=n&&"\\r"!=n)if("#"!=n)if("$"!=n){if(97<=s&&s<=122||65<=s&&s<=90||"_"==n){for(var _=o,a=-1;o<r&&("\\r"!=(n=Q(t,o))&&"\\n"!=n);++o)if("="==n){a=o;break}if(a>=0){var h=new B;O.startsWith(t,_,J._$cs)?(h._$RP=B._$hs,h._$4P=O.createString(t,_,a-_)):O.startsWith(t,_,J._$ar)?(h._$4P=O.createString(t,_+7,a-_-7),O.startsWith(t,_+7,"ANCHOR_X")?h._$RP=B._$xs:O.startsWith(t,_+7,"ANCHOR_Y")?h._$RP=B._$us:O.startsWith(t,_+7,"SCALE_X")?h._$RP=B._$qs:O.startsWith(t,_+7,"SCALE_Y")?h._$RP=B._$Ys:O.startsWith(t,_+7,"X")?h._$RP=B._$ws:O.startsWith(t,_+7,"Y")&&(h._$RP=B._$Ns)):(h._$RP=B._$Fr,h._$4P=O.createString(t,_,a-_)),i.motions.push(h);var l=0,$=[];for(o=a+1;o<r&&("\\r"!=(n=Q(t,o))&&"\\n"!=n);++o)if(","!=n&&" "!=n&&"\\t"!=n){var u=O._$LS(t,r,o,e);if(e[0]>0){$.push(u),l++;var p=e[0];if(p<o){console.log("_$n0 _$hi . @Live2DMotion loadMotion()\\n");break}o=p-1}}h._$I0=new Float32Array($),l>i._$yT&&(i._$yT=l)}}}else{for(var _=o,a=-1;o<r&&("\\r"!=(n=Q(t,o))&&"\\n"!=n);++o)if("="==n){a=o;break}var f=!1;if(a>=0)for(a==_+4&&"f"==Q(t,_+1)&&"p"==Q(t,_+2)&&"s"==Q(t,_+3)&&(f=!0),o=a+1;o<r&&("\\r"!=(n=Q(t,o))&&"\\n"!=n);++o)if(","!=n&&" "!=n&&"\\t"!=n){var u=O._$LS(t,r,o,e);e[0]>0&&f&&5<u&&u<121&&(i._$D0=u),o=e[0]}for(;o<r&&("\\n"!=Q(t,o)&&"\\r"!=Q(t,o));++o);}else for(;o<r&&("\\n"!=Q(t,o)&&"\\r"!=Q(t,o));++o);}return i._$rr=1e3*i._$yT/i._$D0|0,i},J.prototype.getDurationMSec=function(){return this._$E?-1:this._$rr},J.prototype.getLoopDurationMSec=function(){return this._$rr},J.prototype.dump=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];console.log("_$wL[%s] [%d]. ",i._$4P,i._$I0.length);for(var e=0;e<i._$I0.length&&e<10;e++)console.log("%5.2f ,",i._$I0[e]);console.log("\\n")}},J.prototype.updateParamExe=function(t,i,e,r){for(var o=i-r._$z2,n=o*this._$D0/1e3,s=0|n,_=n-s,a=0;a<this.motions.length;a++){var h=this.motions[a],l=h._$I0.length,$=h._$4P;if(h._$RP==B._$hs){var u=h._$I0[s>=l?l-1:s];t.setParamFloat($,u)}else if(B._$ws<=h._$RP&&h._$RP<=B._$Ys);else{var p,f=t.getParamIndex($),c=t.getModelContext(),d=c.getParamMax(f),g=c.getParamMin(f),y=.4*(d-g),m=c.getParamFloat(f),T=h._$I0[s>=l?l-1:s],P=h._$I0[s+1>=l?l-1:s+1];p=T<P&&P-T>y||T>P&&T-P>y?T:T+(P-T)*_;var S=m+(p-m)*e;t.setParamFloat($,S)}}s>=this._$yT&&(this._$E?(r._$z2=i,this.loopFadeIn&&(r._$bs=i)):r._$9L=!0),this._$eP=e},J.prototype._$r0=function(){return this._$E},J.prototype._$aL=function(t){this._$E=t},J.prototype._$S0=function(){return this._$D0},J.prototype._$U0=function(t){this._$D0=t},J.prototype.isLoopFadeIn=function(){return this.loopFadeIn},J.prototype.setLoopFadeIn=function(t){this.loopFadeIn=t},N.prototype.clear=function(){this.size=0},N.prototype.add=function(t){if(this._$P.length<=this.size){var i=new Float32Array(2*this.size);w._$jT(this._$P,0,i,0,this.size),this._$P=i}this._$P[this.size++]=t},N.prototype._$BL=function(){var t=new Float32Array(this.size);return w._$jT(this._$P,0,t,0,this.size),t},B._$Fr=0,B._$hs=1,B._$ws=100,B._$Ns=101,B._$xs=102,B._$us=103,B._$qs=104,B._$Ys=105,Z.prototype=new I,Z._$gT=new Array,Z.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP()},Z.prototype._$F0=function(t){I.prototype._$F0.call(this,t),this._$A=t._$6L(),this._$o=t._$6L(),this._$GS=t._$nP(),this._$Eo=t._$nP(),I.prototype.readV2_opacity.call(this,t)},Z.prototype.init=function(t){var i=new K(this),e=(this._$o+1)*(this._$A+1);return null!=i._$Cr&&(i._$Cr=null),i._$Cr=new Float32Array(2*e),null!=i._$hr&&(i._$hr=null),this._$32()?i._$hr=new Float32Array(2*e):i._$hr=null,i},Z.prototype._$Nr=function(t,i){var e=i;if(this._$GS._$Ur(t)){var r=this._$VT(),o=Z._$gT;o[0]=!1,v._$Vr(t,this._$GS,o,r,this._$Eo,e._$Cr,0,2),i._$Ib(o[0]),this.interpolateOpacity(t,this._$GS,i,o)}},Z.prototype._$2b=function(t,i){var e=i;if(e._$hS(!0),this._$32()){var r=this.getTargetBaseDataID();if(e._$8r==I._$ur&&(e._$8r=t.getBaseDataIndex(r)),e._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",r),e._$hS(!1);else{var o=t.getBaseData(e._$8r),n=t._$q2(e._$8r);if(null!=o&&n._$yo()){var s=n.getTotalScale();e.setTotalScale_notForClient(s);var a=n.getTotalOpacity();e.setTotalOpacity(a*e.getInterpolatedOpacity()),o._$nb(t,n,e._$Cr,e._$hr,this._$VT(),0,2),e._$hS(!0)}else e._$hS(!1)}}else e.setTotalOpacity(e.getInterpolatedOpacity())},Z.prototype._$nb=function(t,i,e,r,o,n,s){var _=i,a=null!=_._$hr?_._$hr:_._$Cr;Z.transformPoints_sdk2(e,r,o,n,s,a,this._$o,this._$A)},Z.transformPoints_sdk2=function(i,e,r,o,n,s,_,a){for(var h,l,$,u=r*n,p=0,f=0,c=0,d=0,g=0,y=0,m=!1,T=o;T<u;T+=n){var P,S,v,L;if(v=i[T],L=i[T+1],P=v*_,S=L*a,P<0||S<0||_<=P||a<=S){var M=_+1;if(!m){m=!0,p=.25*(s[2*(0+0*M)]+s[2*(_+0*M)]+s[2*(0+a*M)]+s[2*(_+a*M)]),f=.25*(s[2*(0+0*M)+1]+s[2*(_+0*M)+1]+s[2*(0+a*M)+1]+s[2*(_+a*M)+1]);var E=s[2*(_+a*M)]-s[2*(0+0*M)],A=s[2*(_+a*M)+1]-s[2*(0+0*M)+1],I=s[2*(_+0*M)]-s[2*(0+a*M)],w=s[2*(_+0*M)+1]-s[2*(0+a*M)+1];c=.5*(E+I),d=.5*(A+w),g=.5*(E-I),y=.5*(A-w),p-=.5*(c+g),f-=.5*(d+y)}if(-2<v&&v<3&&-2<L&&L<3)if(v<=0)if(L<=0){var x=s[2*(0+0*M)],O=s[2*(0+0*M)+1],D=p-2*c,R=f-2*d,b=p-2*g,F=f-2*y,C=p-2*c-2*g,N=f-2*d-2*y,B=.5*(v- -2),U=.5*(L- -2);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var b=s[2*(0+a*M)],F=s[2*(0+a*M)+1],C=p-2*c+1*g,N=f-2*d+1*y,x=p+3*g,O=f+3*y,D=p-2*c+3*g,R=f-2*d+3*y,B=.5*(v- -2),U=.5*(L-1);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else{var G=0|S;G==a&&(G=a-1);var B=.5*(v- -2),U=S-G,Y=G/a,k=(G+1)/a,b=s[2*(0+G*M)],F=s[2*(0+G*M)+1],x=s[2*(0+(G+1)*M)],O=s[2*(0+(G+1)*M)+1],C=p-2*c+Y*g,N=f-2*d+Y*y,D=p-2*c+k*g,R=f-2*d+k*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(1<=v)if(L<=0){var D=s[2*(_+0*M)],R=s[2*(_+0*M)+1],x=p+3*c,O=f+3*d,C=p+1*c-2*g,N=f+1*d-2*y,b=p+3*c-2*g,F=f+3*d-2*y,B=.5*(v-1),U=.5*(L- -2);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var C=s[2*(_+a*M)],N=s[2*(_+a*M)+1],b=p+3*c+1*g,F=f+3*d+1*y,D=p+1*c+3*g,R=f+1*d+3*y,x=p+3*c+3*g,O=f+3*d+3*y,B=.5*(v-1),U=.5*(L-1);B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else{var G=0|S;G==a&&(G=a-1);var B=.5*(v-1),U=S-G,Y=G/a,k=(G+1)/a,C=s[2*(_+G*M)],N=s[2*(_+G*M)+1],D=s[2*(_+(G+1)*M)],R=s[2*(_+(G+1)*M)+1],b=p+3*c+Y*g,F=f+3*d+Y*y,x=p+3*c+k*g,O=f+3*d+k*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L<=0){var V=0|P;V==_&&(V=_-1);var B=P-V,U=.5*(L- -2),X=V/_,z=(V+1)/_,D=s[2*(V+0*M)],R=s[2*(V+0*M)+1],x=s[2*(V+1+0*M)],O=s[2*(V+1+0*M)+1],C=p+X*c-2*g,N=f+X*d-2*y,b=p+z*c-2*g,F=f+z*d-2*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else if(L>=1){var V=0|P;V==_&&(V=_-1);var B=P-V,U=.5*(L-1),X=V/_,z=(V+1)/_,C=s[2*(V+a*M)],N=s[2*(V+a*M)+1],b=s[2*(V+1+a*M)],F=s[2*(V+1+a*M)+1],D=p+X*c+3*g,R=f+X*d+3*y,x=p+z*c+3*g,O=f+z*d+3*y;B+U<=1?(e[T]=C+(b-C)*B+(D-C)*U,e[T+1]=N+(F-N)*B+(R-N)*U):(e[T]=x+(D-x)*(1-B)+(b-x)*(1-U),e[T+1]=O+(R-O)*(1-B)+(F-O)*(1-U))}else t.err.printf("_$li calc : %.4f , %.4f\\t\\t\\t\\t\\t@@BDBoxGrid\\n",v,L);else e[T]=p+v*c+L*g,e[T+1]=f+v*d+L*y}else l=P-(0|P),$=S-(0|S),h=2*((0|P)+(0|S)*(_+1)),l+$<1?(e[T]=s[h]*(1-l-$)+s[h+2]*l+s[h+2*(_+1)]*$,e[T+1]=s[h+1]*(1-l-$)+s[h+3]*l+s[h+2*(_+1)+1]*$):(e[T]=s[h+2*(_+1)+2]*(l-1+$)+s[h+2*(_+1)]*(1-l)+s[h+2]*(1-$),e[T+1]=s[h+2*(_+1)+3]*(l-1+$)+s[h+2*(_+1)+1]*(1-l)+s[h+3]*(1-$))}},Z.prototype.transformPoints_sdk1=function(t,i,e,r,o,n,s){for(var _,a,h,l,$,u,p,f=i,c=this._$o,d=this._$A,g=o*s,y=null!=f._$hr?f._$hr:f._$Cr,m=n;m<g;m+=s)at._$ts?(_=e[m],a=e[m+1],_<0?_=0:_>1&&(_=1),a<0?a=0:a>1&&(a=1),_*=c,a*=d,h=0|_,l=0|a,h>c-1&&(h=c-1),l>d-1&&(l=d-1),u=_-h,p=a-l,$=2*(h+l*(c+1))):(_=e[m]*c,a=e[m+1]*d,u=_-(0|_),p=a-(0|a),$=2*((0|_)+(0|a)*(c+1))),u+p<1?(r[m]=y[$]*(1-u-p)+y[$+2]*u+y[$+2*(c+1)]*p,r[m+1]=y[$+1]*(1-u-p)+y[$+3]*u+y[$+2*(c+1)+1]*p):(r[m]=y[$+2*(c+1)+2]*(u-1+p)+y[$+2*(c+1)]*(1-u)+y[$+2]*(1-p),r[m+1]=y[$+2*(c+1)+3]*(u-1+p)+y[$+2*(c+1)+1]*(1-u)+y[$+3]*(1-p))},Z.prototype._$VT=function(){return(this._$o+1)*(this._$A+1)},Z.prototype.getType=function(){return I._$_b},K.prototype=new _t,tt._$42=0,tt.prototype._$zP=function(){this._$3S=new Array,this._$aS=new Array},tt.prototype._$F0=function(t){this._$g0=t._$8L(),this.visible=t._$8L(),this._$NL=t._$nP(),this._$3S=t._$nP(),this._$aS=t._$nP()},tt.prototype.init=function(t){var i=new it(this);return i.setPartsOpacity(this.isVisible()?1:0),i},tt.prototype._$6o=function(t){if(null==this._$3S)throw new Error("_$3S _$6 _$Wo@_$6o");this._$3S.push(t)},tt.prototype._$3o=function(t){if(null==this._$aS)throw new Error("_$aS _$6 _$Wo@_$3o");this._$aS.push(t)},tt.prototype._$Zo=function(t){this._$3S=t},tt.prototype._$xo=function(t){this._$aS=t},tt.prototype.isVisible=function(){return this.visible},tt.prototype._$uL=function(){return this._$g0},tt.prototype._$KP=function(t){this.visible=t},tt.prototype._$ET=function(t){this._$g0=t},tt.prototype.getBaseData=function(){return this._$3S},tt.prototype.getDrawData=function(){return this._$aS},tt.prototype._$p2=function(){return this._$NL},tt.prototype._$ob=function(t){this._$NL=t},tt.prototype.getPartsID=function(){return this._$NL},tt.prototype._$MP=function(t){this._$NL=t},it.prototype=new $,it.prototype.getPartsOpacity=function(){return this._$VS},it.prototype.setPartsOpacity=function(t){this._$VS=t},et._$L7=function(){u._$27(),yt._$27(),b._$27(),l._$27()},et.prototype.toString=function(){return this.id},rt.prototype._$F0=function(t){},ot.prototype._$1s=function(){return this._$4S},ot.prototype._$zP=function(){this._$4S=new Array},ot.prototype._$F0=function(t){this._$4S=t._$nP()},ot.prototype._$Ks=function(t){this._$4S.push(t)},nt.tr=new gt,nt._$50=new gt,nt._$Ti=new Array(0,0),nt._$Pi=new Array(0,0),nt._$B=new Array(0,0),nt.prototype._$lP=function(t,i,e,r){this.viewport=new Array(t,i,e,r)},nt.prototype._$bL=function(){this.context.save();var t=this.viewport;null!=t&&(this.context.beginPath(),this.context._$Li(t[0],t[1],t[2],t[3]),this.context.clip())},nt.prototype._$ei=function(){this.context.restore()},nt.prototype.drawElements=function(t,i,e,r,o,n,s,a){try{o!=this._$Qo&&(this._$Qo=o,this.context.globalAlpha=o);for(var h=i.length,l=t.width,$=t.height,u=this.context,p=this._$xP,f=this._$uP,c=this._$6r,d=this._$3r,g=nt.tr,y=nt._$Ti,m=nt._$Pi,T=nt._$B,P=0;P<h;P+=3){u.save();var S=i[P],v=i[P+1],L=i[P+2],M=p+c*e[2*S],E=f+d*e[2*S+1],A=p+c*e[2*v],I=f+d*e[2*v+1],w=p+c*e[2*L],x=f+d*e[2*L+1];s&&(s._$PS(M,E,T),M=T[0],E=T[1],s._$PS(A,I,T),A=T[0],I=T[1],s._$PS(w,x,T),w=T[0],x=T[1]);var O=l*r[2*S],D=$-$*r[2*S+1],R=l*r[2*v],b=$-$*r[2*v+1],F=l*r[2*L],C=$-$*r[2*L+1],N=Math.atan2(b-D,R-O),B=Math.atan2(I-E,A-M),U=A-M,G=I-E,Y=Math.sqrt(U*U+G*G),k=R-O,V=b-D,X=Math.sqrt(k*k+V*V),z=Y/X;It._$ni(F,C,O,D,R-O,b-D,-(b-D),R-O,y),It._$ni(w,x,M,E,A-M,I-E,-(I-E),A-M,m);var H=(m[0]-y[0])/y[1],W=Math.min(O,R,F),j=Math.max(O,R,F),q=Math.min(D,b,C),J=Math.max(D,b,C),Q=Math.floor(W),Z=Math.floor(q),K=Math.ceil(j),tt=Math.ceil(J);g.identity(),g.translate(M,E),g.rotate(B),g.scale(1,m[1]/y[1]),g.shear(H,0),g.scale(z,z),g.rotate(-N),g.translate(-O,-D),g.setContext(u);if(n||(n=1.2),at.IGNORE_EXPAND&&(n=0),at.USE_CACHED_POLYGON_IMAGE){var it=a._$e0;if(it.gl_cacheImage=it.gl_cacheImage||{},!it.gl_cacheImage[P]){var et=nt.createCanvas(K-Q,tt-Z);at.DEBUG_DATA.LDGL_CANVAS_MB=at.DEBUG_DATA.LDGL_CANVAS_MB||0,at.DEBUG_DATA.LDGL_CANVAS_MB+=(K-Q)*(tt-Z)*4;var rt=et.getContext("2d");rt.translate(-Q,-Z),nt.clip(rt,g,n,Y,O,D,R,b,F,C,M,E,A,I,w,x),rt.drawImage(t,0,0),it.gl_cacheImage[P]={cacheCanvas:et,cacheContext:rt}}u.drawImage(it.gl_cacheImage[P].cacheCanvas,Q,Z)}else at.IGNORE_CLIP||nt.clip(u,g,n,Y,O,D,R,b,F,C,M,E,A,I,w,x),at.USE_ADJUST_TRANSLATION&&(W=0,j=l,q=0,J=$),u.drawImage(t,W,q,j-W,J-q,W,q,j-W,J-q);u.restore()}}catch(t){_._$Rb(t)}},nt.clip=function(t,i,e,r,o,n,s,_,a,h,l,$,u,p,f,c){e>.02?nt.expandClip(t,i,e,r,l,$,u,p,f,c):nt.clipWithTransform(t,null,o,n,s,_,a,h)},nt.expandClip=function(t,i,e,r,o,n,s,_,a,h){var l=s-o,$=_-n,u=a-o,p=h-n,f=l*p-$*u>0?e:-e,c=-$,d=l,g=a-s,y=h-_,m=-y,T=g,P=Math.sqrt(g*g+y*y),S=-p,v=u,L=Math.sqrt(u*u+p*p),M=o-f*c/r,E=n-f*d/r,A=s-f*c/r,I=_-f*d/r,w=s-f*m/P,x=_-f*T/P,O=a-f*m/P,D=h-f*T/P,R=o+f*S/L,b=n+f*v/L,F=a+f*S/L,C=h+f*v/L,N=nt._$50;return null!=i._$P2(N)&&(nt.clipWithTransform(t,N,M,E,A,I,w,x,O,D,F,C,R,b),!0)},nt.clipWithTransform=function(t,i,e,r,o,n,s,a){if(arguments.length<7)return void _._$li("err : @LDGL.clip()");if(!(arguments[1]instanceof gt))return void _._$li("err : a[0] is _$6 LDTransform @LDGL.clip()");var h=nt._$B,l=i,$=arguments;if(t.beginPath(),l){l._$PS($[2],$[3],h),t.moveTo(h[0],h[1]);for(var u=4;u<$.length;u+=2)l._$PS($[u],$[u+1],h),t.lineTo(h[0],h[1])}else{t.moveTo($[2],$[3]);for(var u=4;u<$.length;u+=2)t.lineTo($[u],$[u+1])}t.clip()},nt.createCanvas=function(t,i){var e=document.createElement("canvas");return e.setAttribute("width",t),e.setAttribute("height",i),e||_._$li("err : "+e),e},nt.dumpValues=function(){for(var t="",i=0;i<arguments.length;i++)t+="["+i+"]= "+arguments[i].toFixed(3)+" , ";console.log(t)},st.prototype._$F0=function(t){this._$TT=t._$_T(),this._$LT=t._$_T(),this._$FS=t._$_T(),this._$wL=t._$nP()},st.prototype.getMinValue=function(){return this._$TT},st.prototype.getMaxValue=function(){return this._$LT},st.prototype.getDefaultValue=function(){return this._$FS},st.prototype.getParamID=function(){return this._$wL},_t.prototype._$yo=function(){return this._$AT&&!this._$JS},_t.prototype._$hS=function(t){this._$AT=t},_t.prototype._$GT=function(){return this._$e0},_t.prototype._$l2=function(t){this._$IP=t},_t.prototype.getPartsIndex=function(){return this._$IP},_t.prototype._$x2=function(){return this._$JS},_t.prototype._$Ib=function(t){this._$JS=t},_t.prototype.getTotalScale=function(){return this.totalScale},_t.prototype.setTotalScale_notForClient=function(t){this.totalScale=t},_t.prototype.getInterpolatedOpacity=function(){return this._$7s},_t.prototype.setInterpolatedOpacity=function(t){this._$7s=t},_t.prototype.getTotalOpacity=function(t){return this.totalOpacity},_t.prototype.setTotalOpacity=function(t){this.totalOpacity=t},at._$2s="2.1.00_1",at._$Kr=201001e3,at._$sP=!0,at._$so=!0,at._$cb=!1,at._$3T=!0,at._$Ts=!0,at._$fb=!0,at._$ts=!0,at.L2D_DEFORMER_EXTEND=!0,at._$Wb=!1;at._$yr=!1,at._$Zs=!1,at.L2D_NO_ERROR=0,at._$i7=1e3,at._$9s=1001,at._$es=1100,at._$r7=2e3,at._$07=2001,at._$b7=2002,at._$H7=4e3,at.L2D_COLOR_BLEND_MODE_MULT=0,at.L2D_COLOR_BLEND_MODE_ADD=1,at.L2D_COLOR_BLEND_MODE_INTERPOLATE=2,at._$6b=!0,at._$cT=0,at.clippingMaskBufferSize=256,at.glContext=new Array,at.frameBuffers=new Array,at.fTexture=new Array,at.IGNORE_CLIP=!1,at.IGNORE_EXPAND=!1,at.EXPAND_W=2,at.USE_ADJUST_TRANSLATION=!0,at.USE_CANVAS_TRANSFORM=!0,at.USE_CACHED_POLYGON_IMAGE=!1,at.DEBUG_DATA={},at.PROFILE_IOS_SPEED={PROFILE_NAME:"iOS Speed",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!0,EXPAND_W:4},at.PROFILE_IOS_QUALITY={PROFILE_NAME:"iOS HiQ",USE_ADJUST_TRANSLATION:!0,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_IOS_DEFAULT=at.PROFILE_IOS_QUALITY,at.PROFILE_ANDROID={PROFILE_NAME:"Android",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.PROFILE_DESKTOP={PROFILE_NAME:"Desktop",USE_ADJUST_TRANSLATION:!1,USE_CACHED_POLYGON_IMAGE:!1,EXPAND_W:2},at.initProfile=function(){Et.isIOS()?at.setupProfile(at.PROFILE_IOS_DEFAULT):Et.isAndroid()?at.setupProfile(at.PROFILE_ANDROID):at.setupProfile(at.PROFILE_DESKTOP)},at.setupProfile=function(t,i){if("number"==typeof t)switch(t){case 9901:t=at.PROFILE_IOS_SPEED;break;case 9902:t=at.PROFILE_IOS_QUALITY;break;case 9903:t=at.PROFILE_IOS_DEFAULT;break;case 9904:t=at.PROFILE_ANDROID;break;case 9905:t=at.PROFILE_DESKTOP;break;default:alert("profile _$6 _$Ui : "+t)}arguments.length<2&&(i=!0),i&&console.log("profile : "+t.PROFILE_NAME);for(var e in t)at[e]=t[e],i&&console.log("  ["+e+"] = "+t[e])},at.init=function(){if(at._$6b){console.log("Live2D %s",at._$2s),at._$6b=!1;!0,at.initProfile()}},at.getVersionStr=function(){return at._$2s},at.getVersionNo=function(){return at._$Kr},at._$sT=function(t){at._$cT=t},at.getError=function(){var t=at._$cT;return at._$cT=0,t},at.dispose=function(){at.glContext=[],at.frameBuffers=[],at.fTexture=[]},at.setGL=function(t,i){var e=i||0;at.glContext[e]=t},at.getGL=function(t){return at.glContext[t]},at.setClippingMaskBufferSize=function(t){at.clippingMaskBufferSize=t},at.getClippingMaskBufferSize=function(){return at.clippingMaskBufferSize},at.deleteBuffer=function(t){at.getGL(t).deleteFramebuffer(at.frameBuffers[t].framebuffer),delete at.frameBuffers[t],delete at.glContext[t]},ht._$r2=function(t){return t<0?0:t>1?1:.5-.5*Math.cos(t*Lt.PI_F)},lt._$fr=-1,lt.prototype.toString=function(){return this._$ib},$t.prototype=new W,$t._$42=0,$t._$Os=30,$t._$ms=0,$t._$ns=1,$t._$_s=2,$t._$gT=new Array,$t.prototype._$_S=function(t){this._$LP=t},$t.prototype.getTextureNo=function(){return this._$LP},$t.prototype._$ZL=function(){return this._$Qi},$t.prototype._$H2=function(){return this._$JP},$t.prototype.getNumPoints=function(){return this._$d0},$t.prototype.getType=function(){return W._$wb},$t.prototype._$B2=function(t,i,e){var r=i,o=null!=r._$hr?r._$hr:r._$Cr;switch(U._$do){default:case U._$Ms:throw new Error("_$L _$ro ");case U._$Qs:for(var n=this._$d0-1;n>=0;--n)o[n*U._$No+4]=e}},$t.prototype._$zP=function(){this._$GS=new D,this._$GS._$zP()},$t.prototype._$F0=function(t){W.prototype._$F0.call(this,t),this._$LP=t._$6L(),this._$d0=t._$6L(),this._$Yo=t._$6L();var i=t._$nP();this._$BP=new Int16Array(3*this._$Yo);for(var e=3*this._$Yo-1;e>=0;--e)this._$BP[e]=i[e];if(this._$Eo=t._$nP(),this._$Qi=t._$nP(),t.getFormatVersion()>=G._$s7){if(this._$JP=t._$6L(),0!=this._$JP){if(0!=(1&this._$JP)){var r=t._$6L();null==this._$5P&&(this._$5P=new Object),this._$5P._$Hb=parseInt(r)}0!=(this._$JP&$t._$Os)?this._$6s=(this._$JP&$t._$Os)>>1:this._$6s=$t._$ms,0!=(32&this._$JP)&&(this.culling=!1)}}else this._$JP=0},$t.prototype.init=function(t){var i=new ut(this),e=this._$d0*U._$No,r=this._$32();switch(null!=i._$Cr&&(i._$Cr=null),i._$Cr=new Float32Array(e),null!=i._$hr&&(i._$hr=null),i._$hr=r?new Float32Array(e):null,U._$do){default:case U._$Ms:if(U._$Ls)for(var o=this._$d0-1;o>=0;--o){var n=o<<1;this._$Qi[n+1]=1-this._$Qi[n+1]}break;case U._$Qs:for(var o=this._$d0-1;o>=0;--o){var n=o<<1,s=o*U._$No,_=this._$Qi[n],a=this._$Qi[n+1];i._$Cr[s]=_,i._$Cr[s+1]=a,i._$Cr[s+4]=0,r&&(i._$hr[s]=_,i._$hr[s+1]=a,i._$hr[s+4]=0)}}return i},$t.prototype._$Nr=function(t,i){var e=i;if(this!=e._$GT()&&console.log("### assert!! ### "),this._$GS._$Ur(t)&&(W.prototype._$Nr.call(this,t,e),!e._$IS[0])){var r=$t._$gT;r[0]=!1,v._$Vr(t,this._$GS,r,this._$d0,this._$Eo,e._$Cr,U._$i2,U._$No)}},$t.prototype._$2b=function(t,i){try{this!=i._$GT()&&console.log("### assert!! ### ");var e=!1;i._$IS[0]&&(e=!0);var r=i;if(!e&&(W.prototype._$2b.call(this,t),this._$32())){var o=this.getTargetBaseDataID();if(r._$8r==W._$ur&&(r._$8r=t.getBaseDataIndex(o)),r._$8r<0)at._$so&&_._$li("_$L _$0P _$G :: %s",o);else{var n=t.getBaseData(r._$8r),s=t._$q2(r._$8r);null==n||s._$x2()?r._$AT=!1:(n._$nb(t,s,r._$Cr,r._$hr,this._$d0,U._$i2,U._$No),r._$AT=!0),r.baseOpacity=s.getTotalOpacity()}}}catch(t){throw t}},$t.prototype.draw=function(t,i,e){if(this!=e._$GT()&&console.log("### assert!! ### "),!e._$IS[0]){var r=e,o=this._$LP;o<0&&(o=1);var n=this.getOpacity(i,r)*e._$VS*e.baseOpacity,s=null!=r._$hr?r._$hr:r._$Cr;t.setClipBufPre_clipContextForDraw(e.clipBufPre_clipContext),t._$WP(this.culling),t._$Uo(o,3*this._$Yo,this._$BP,s,this._$Qi,n,this._$6s,r)}},$t.prototype.dump=function(){console.log("  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \\n",this._$LP,this._$d0,this._$Yo),console.log("  _$Oi _$di = { ");for(var t=0;t<this._$BP.length;t++)console.log("%5d ,",this._$BP[t]);console.log("\\n  _$5i _$30");for(var t=0;t<this._$Eo.length;t++){console.log("\\n    _$30[%d] = ",t);for(var i=this._$Eo[t],e=0;e<i.length;e++)console.log("%6.2f, ",i[e])}console.log("\\n")},$t.prototype._$72=function(t){return null==this._$5P?null:this._$5P[t]},$t.prototype.getIndexArray=function(){return this._$BP},ut.prototype=new Mt,ut.prototype.getTransformedPoints=function(){return null!=this._$hr?this._$hr:this._$Cr},pt.prototype._$HT=function(t){this.x=t.x,this.y=t.y},pt.prototype._$HT=function(t,i){this.x=t,this.y=i},ft.prototype=new i,ft.loadModel=function(t){var e=new ft;return i._$62(e,t),e},ft.loadModel=function(t,e){var r=e||0,o=new ft(r);return i._$62(o,t),o},ft._$to=function(){return new ft},ft._$er=function(t){var i=new _$5("../_$_r/_$t0/_$Ri/_$_P._$d");if(0==i.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+i._$PL());for(var e=["../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1","../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1"],r=ft.loadModel(i._$3b()),o=0;o<e.length;o++){var n=new _$5(e[o]);if(0==n.exists())throw new _$ls("_$t0 _$_ _$6 _$Ui :: "+n._$PL());r.setTexture(o,_$nL._$_o(t,n._$3b()))}return r},ft.prototype.setGL=function(t){at.setGL(t)},ft.prototype.setTransform=function(t){this.drawParamWebGL.setTransform(t)},ft.prototype.update=function(){this._$5S.update(),this._$5S.preDraw(this.drawParamWebGL)},ft.prototype.draw=function(){this._$5S.draw(this.drawParamWebGL)},ft.prototype._$K2=function(){this.drawParamWebGL._$K2()},ft.prototype.setTexture=function(t,i){null==this.drawParamWebGL&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,i)},ft.prototype.setTexture=function(t,i){null==this.drawParamWebGL&&_._$li("_$Yi for QT _$ki / _$XS() is _$6 _$ui!!"),this.drawParamWebGL.setTexture(t,i)},ft.prototype._$Rs=function(){return this.drawParamWebGL._$Rs()},ft.prototype._$Ds=function(t){this.drawParamWebGL._$Ds(t)},ft.prototype.getDrawParam=function(){return this.drawParamWebGL},ft.prototype.setMatrix=function(t){this.drawParamWebGL.setMatrix(t)},ft.prototype.setPremultipliedAlpha=function(t){this.drawParamWebGL.setPremultipliedAlpha(t)},ft.prototype.isPremultipliedAlpha=function(){return this.drawParamWebGL.isPremultipliedAlpha()},ft.prototype.setAnisotropy=function(t){this.drawParamWebGL.setAnisotropy(t)},ft.prototype.getAnisotropy=function(){return this.drawParamWebGL.getAnisotropy()},ct.prototype._$tb=function(){return this.motions},ct.prototype.startMotion=function(t,i){for(var e=null,r=this.motions.length,o=0;o<r;++o)null!=(e=this.motions[o])&&(e._$qS(e._$w0.getFadeOut()),this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\\n",r,e._$sr));if(null==t)return-1;e=new dt,e._$w0=t,this.motions.push(e);var n=e._$sr;return this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\\n",r,n),n},ct.prototype.updateParam=function(t){try{for(var i=!1,e=0;e<this.motions.length;e++){var r=this.motions[e];if(null!=r){var o=r._$w0;null!=o?(o.updateParam(t,r),i=!0,r.isFinished()&&(this._$eb&&_._$Ji("MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\\n",this.motions.length-1,r._$sr),this.motions.splice(e,1),e--)):(this.motions=this.motions.splice(e,1),e--)}else this.motions.splice(e,1),e--}return i}catch(t){return _._$li(t),!0}},ct.prototype.isFinished=function(t){if(arguments.length>=1){for(var i=0;i<this.motions.length;i++){var e=this.motions[i];if(null!=e&&(e._$sr==t&&!e.isFinished()))return!1}return!0}for(var i=0;i<this.motions.length;i++){var e=this.motions[i];if(null!=e){if(null!=e._$w0){if(!e.isFinished())return!1}else this.motions.splice(i,1),i--}else this.motions.splice(i,1),i--}return!0},ct.prototype.stopAllMotions=function(){for(var t=0;t<this.motions.length;t++){var i=this.motions[t];if(null!=i){i._$w0;this.motions.splice(t,1),t--}else this.motions.splice(t,1),t--}},ct.prototype._$Zr=function(t){this._$eb=t},ct.prototype._$e=function(){console.log("-- _$R --\\n");for(var t=0;t<this.motions.length;t++){var i=this.motions[t],e=i._$w0;console.log("MotionQueueEnt[%d] :: %s\\n",this.motions.length,e.toString())}},dt._$Gs=0,dt.prototype.isFinished=function(){return this._$9L},dt.prototype._$qS=function(t){var i=w.getUserTimeMSec(),e=i+t;(this._$Do<0||e<this._$Do)&&(this._$Do=e)},dt.prototype._$Bs=function(){return this._$sr},gt.prototype.setContext=function(t){var i=this.m;t.transform(i[0],i[1],i[3],i[4],i[6],i[7])},gt.prototype.toString=function(){for(var t="LDTransform { ",i=0;i<9;i++)t+=this.m[i].toFixed(2)+" ,";return t+=" }"},gt.prototype.identity=function(){var t=this.m;t[0]=t[4]=t[8]=1,t[1]=t[2]=t[3]=t[5]=t[6]=t[7]=0},gt.prototype._$PS=function(t,i,e){null==e&&(e=new Array(0,0));var r=this.m;return e[0]=r[0]*t+r[3]*i+r[6],e[1]=r[1]*t+r[4]*i+r[7],e},gt.prototype._$P2=function(t){t||(t=new gt);var i=this.m,e=i[0],r=i[1],o=i[2],n=i[3],s=i[4],_=i[5],a=i[6],h=i[7],l=i[8],$=e*s*l+r*_*a+o*n*h-e*_*h-o*s*a-r*n*l;if(0==$)return null;var u=1/$;return t.m[0]=u*(s*l-h*_),t.m[1]=u*(h*o-r*l),t.m[2]=u*(r*_-s*o),t.m[3]=u*(a*_-n*l),t.m[4]=u*(e*l-a*o),t.m[5]=u*(n*o-e*_),t.m[6]=u*(n*h-a*s),t.m[7]=u*(a*r-e*h),t.m[8]=u*(e*s-n*r),t},gt.prototype.transform=function(t,i,e){null==e&&(e=new Array(0,0));var r=this.m;return e[0]=r[0]*t+r[3]*i+r[6],e[1]=r[1]*t+r[4]*i+r[7],e},gt.prototype.translate=function(t,i){var e=this.m;e[6]=e[0]*t+e[3]*i+e[6],e[7]=e[1]*t+e[4]*i+e[7],e[8]=e[2]*t+e[5]*i+e[8]},gt.prototype.scale=function(t,i){var e=this.m;e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=i,e[4]*=i,e[5]*=i},gt.prototype.shear=function(t,i){var e=this.m,r=e[0]+e[3]*i,o=e[1]+e[4]*i,n=e[2]+e[5]*i;e[3]=e[0]*t+e[3],e[4]=e[1]*t+e[4],e[5]=e[2]*t+e[5],e[0]=r,e[1]=o,e[2]=n},gt.prototype.rotate=function(t){var i=this.m,e=Math.cos(t),r=Math.sin(t),o=i[0]*e+i[3]*r,n=i[1]*e+i[4]*r,s=i[2]*e+i[5]*r;i[3]=-i[0]*r+i[3]*e,i[4]=-i[1]*r+i[4]*e,i[5]=-i[2]*r+i[5]*e,i[0]=o,i[1]=n,i[2]=s},gt.prototype.concatenate=function(t){var i=this.m,e=t.m,r=i[0]*e[0]+i[3]*e[1]+i[6]*e[2],o=i[1]*e[0]+i[4]*e[1]+i[7]*e[2],n=i[2]*e[0]+i[5]*e[1]+i[8]*e[2],s=i[0]*e[3]+i[3]*e[4]+i[6]*e[5],_=i[1]*e[3]+i[4]*e[4]+i[7]*e[5],a=i[2]*e[3]+i[5]*e[4]+i[8]*e[5],h=i[0]*e[6]+i[3]*e[7]+i[6]*e[8],l=i[1]*e[6]+i[4]*e[7]+i[7]*e[8],$=i[2]*e[6]+i[5]*e[7]+i[8]*e[8];m[0]=r,m[1]=o,m[2]=n,m[3]=s,m[4]=_,m[5]=a,m[6]=h,m[7]=l,m[8]=$},yt.prototype=new et,yt._$eT=null,yt._$tP=new Object,yt._$2o=function(){return null==yt._$eT&&(yt._$eT=yt.getID("DST_BASE")),yt._$eT},yt._$27=function(){yt._$tP.clear(),yt._$eT=null},yt.getID=function(t){var i=yt._$tP[t];return null==i&&(i=new yt(t),yt._$tP[t]=i),i},yt.prototype._$3s=function(){return new yt},mt.prototype=new E,mt._$9r=function(t){return new Float32Array(t)},mt._$vb=function(t){return new Int16Array(t)},mt._$cr=function(t,i){return null==t||t._$yL()<i.length?(t=mt._$9r(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},mt._$mb=function(t,i){return null==t||t._$yL()<i.length?(t=mt._$vb(2*i.length),t.put(i),t._$oT(0)):(t.clear(),t.put(i),t._$oT(0)),t},mt._$Hs=function(){return this._$Gr},mt._$as=function(t){this._$Gr=t},mt.prototype.getGL=function(){return this.gl},mt.prototype.setGL=function(t){this.gl=t},mt.prototype.setTransform=function(t){this.transform=t},mt.prototype._$ZT=function(){var t=this.gl;this.firstDraw&&(this.initShader(),this.firstDraw=!1,this.anisotropyExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.anisotropyExt&&(this.maxAnisotropy=t.getParameter(this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.DEPTH_TEST),t.frontFace(t.CW),t.enable(t.BLEND),t.colorMask(1,1,1,1),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},mt.prototype._$Uo=function(t,i,e,r,o,n,s,_){if(!(n<.01&&null==this.clipBufPre_clipContextMask)){var a=(n>.9&&at.EXPAND_W,this.gl);if(null==this.gl)throw new Error("gl is null");var h=1*this._$C0*n,l=1*this._$tT*n,$=1*this._$WL*n,u=this._$lT*n;if(null!=this.clipBufPre_clipContextMask){a.frontFace(a.CCW),a.useProgram(this.shaderProgram),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc),a.vertexAttribPointer(this.a_position_Loc,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc,1),a.enableVertexAttribArray(this.a_texCoord_Loc),a.vertexAttribPointer(this.a_texCoord_Loc,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_matrix_Loc,!1,this.getClipBufPre_clipContextMask().matrixForMask);var p=this.getClipBufPre_clipContextMask().layoutChannelNo,f=this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag,f.r,f.g,f.b,f.a);var c=this.getClipBufPre_clipContextMask().layoutBounds;a.uniform4f(this.u_baseColor_Loc,2*c.x-1,2*c.y-1,2*c._$EL()-1,2*c._$5T()-1),a.uniform1i(this.u_maskFlag_Loc,!0)}else if(null!=this.getClipBufPre_clipContextDraw()){a.useProgram(this.shaderProgramOff),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc_Off),a.vertexAttribPointer(this.a_position_Loc_Off,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc_Off,1),a.enableVertexAttribArray(this.a_texCoord_Loc_Off),a.vertexAttribPointer(this.a_texCoord_Loc_Off,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_clipMatrix_Loc_Off,!1,this.getClipBufPre_clipContextDraw().matrixForDraw),a.uniformMatrix4fv(this.u_matrix_Loc_Off,!1,this.matrix4x4),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,at.fTexture[this.glno]),a.uniform1i(this.s_texture1_Loc_Off,2);var p=this.getClipBufPre_clipContextDraw().layoutChannelNo,f=this.getChannelFlagAsColor(p);a.uniform4f(this.u_channelFlag_Loc_Off,f.r,f.g,f.b,f.a),a.uniform4f(this.u_baseColor_Loc_Off,h,l,$,u)}else a.useProgram(this.shaderProgram),this._$vS=Tt(a,this._$vS,r),this._$no=Pt(a,this._$no,e),a.enableVertexAttribArray(this.a_position_Loc),a.vertexAttribPointer(this.a_position_Loc,2,a.FLOAT,!1,0,0),this._$NT=Tt(a,this._$NT,o),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.textures[t]),a.uniform1i(this.s_texture0_Loc,1),a.enableVertexAttribArray(this.a_texCoord_Loc),a.vertexAttribPointer(this.a_texCoord_Loc,2,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.u_matrix_Loc,!1,this.matrix4x4),a.uniform4f(this.u_baseColor_Loc,h,l,$,u),a.uniform1i(this.u_maskFlag_Loc,!1);this.culling?this.gl.enable(a.CULL_FACE):this.gl.disable(a.CULL_FACE),this.gl.enable(a.BLEND);var d,g,y,m;if(null!=this.clipBufPre_clipContextMask)d=a.ONE,g=a.ONE_MINUS_SRC_ALPHA,y=a.ONE,m=a.ONE_MINUS_SRC_ALPHA;else switch(s){case $t._$ms:d=a.ONE,g=a.ONE_MINUS_SRC_ALPHA,y=a.ONE,m=a.ONE_MINUS_SRC_ALPHA;break;case $t._$ns:d=a.ONE,g=a.ONE,y=a.ZERO,m=a.ONE;break;case $t._$_s:d=a.DST_COLOR,g=a.ONE_MINUS_SRC_ALPHA,y=a.ZERO,m=a.ONE}a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(d,g,y,m),this.anisotropyExt&&a.texParameteri(a.TEXTURE_2D,this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,this.maxAnisotropy);var T=e.length;a.drawElements(a.TRIANGLES,T,a.UNSIGNED_SHORT,0),a.bindTexture(a.TEXTURE_2D,null)}},mt.prototype._$Rs=function(){throw new Error("_$Rs")},mt.prototype._$Ds=function(t){throw new Error("_$Ds")},mt.prototype._$K2=function(){for(var t=0;t<this.textures.length;t++){0!=this.textures[t]&&(this.gl._$K2(1,this.textures,t),this.textures[t]=null)}},mt.prototype.setTexture=function(t,i){this.textures[t]=i},mt.prototype.initShader=function(){var t=this.gl;this.loadShaders2(),this.a_position_Loc=t.getAttribLocation(this.shaderProgram,"a_position"),this.a_texCoord_Loc=t.getAttribLocation(this.shaderProgram,"a_texCoord"),this.u_matrix_Loc=t.getUniformLocation(this.shaderProgram,"u_mvpMatrix"),this.s_texture0_Loc=t.getUniformLocation(this.shaderProgram,"s_texture0"),this.u_channelFlag=t.getUniformLocation(this.shaderProgram,"u_channelFlag"),this.u_baseColor_Loc=t.getUniformLocation(this.shaderProgram,"u_baseColor"),this.u_maskFlag_Loc=t.getUniformLocation(this.shaderProgram,"u_maskFlag"),this.a_position_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_position"),this.a_texCoord_Loc_Off=t.getAttribLocation(this.shaderProgramOff,"a_texCoord"),this.u_matrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_mvpMatrix"),this.u_clipMatrix_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_ClipMatrix"),this.s_texture0_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture0"),this.s_texture1_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"s_texture1"),this.u_channelFlag_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_channelFlag"),this.u_baseColor_Loc_Off=t.getUniformLocation(this.shaderProgramOff,"u_baseColor")},mt.prototype.disposeShader=function(){var t=this.gl;this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=null),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=null)},mt.prototype.compileShader=function(t,i){var e=this.gl,r=i,o=e.createShader(t);if(null==o)return _._$Ji("_$L0 to create shader"),null;if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var n=e.getShaderInfoLog(o);return _._$Ji("_$L0 to compile shader : "+n),e.deleteShader(o),null}return o},mt.prototype.loadShaders2=function(){var t=this.gl;if(this.shaderProgram=t.createProgram(),!this.shaderProgram)return!1;if(this.shaderProgramOff=t.createProgram(),!this.shaderProgramOff)return!1;if(this.vertShader=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}"),!this.vertShader)return _._$Ji("Vertex shader compile _$li!"),!1;if(this.vertShaderOff=this.compileShader(t.VERTEX_SHADER,"attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}"),!this.vertShaderOff)return _._$Ji("OffVertex shader compile _$li!"),!1;if(this.fragShader=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}"),!this.fragShader)return _._$Ji("Fragment shader compile _$li!"),!1;if(this.fragShaderOff=this.compileShader(t.FRAGMENT_SHADER,"precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}"),!this.fragShaderOff)return _._$Ji("OffFragment shader compile _$li!"),!1;if(t.attachShader(this.shaderProgram,this.vertShader),t.attachShader(this.shaderProgram,this.fragShader),t.attachShader(this.shaderProgramOff,this.vertShaderOff),t.attachShader(this.shaderProgramOff,this.fragShaderOff),t.linkProgram(this.shaderProgram),t.linkProgram(this.shaderProgramOff),!t.getProgramParameter(this.shaderProgram,t.LINK_STATUS)){var i=t.getProgramInfoLog(this.shaderProgram);return _._$Ji("_$L0 to link program: "+i),this.vertShader&&(t.deleteShader(this.vertShader),this.vertShader=0),this.fragShader&&(t.deleteShader(this.fragShader),this.fragShader=0),this.shaderProgram&&(t.deleteProgram(this.shaderProgram),this.shaderProgram=0),this.vertShaderOff&&(t.deleteShader(this.vertShaderOff),this.vertShaderOff=0),this.fragShaderOff&&(t.deleteShader(this.fragShaderOff),this.fragShaderOff=0),this.shaderProgramOff&&(t.deleteProgram(this.shaderProgramOff),this.shaderProgramOff=0),!1}return!0},mt.prototype.createFramebuffer=function(){var t=this.gl,i=at.clippingMaskBufferSize,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,i,i),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r);var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),at.fTexture[this.glno]=o,{framebuffer:e,renderbuffer:r,texture:at.fTexture[this.glno]}},St.prototype._$fP=function(){var t,i,e,r=this._$ST();if(0==(128&r))return 255&r;if(0==(128&(t=this._$ST())))return(127&r)<<7|127&t;if(0==(128&(i=this._$ST())))return(127&r)<<14|(127&t)<<7|255&i;if(0==(128&(e=this._$ST())))return(127&r)<<21|(127&t)<<14|(127&i)<<7|255&e;throw new lt("_$L _$0P  _")},St.prototype.getFormatVersion=function(){return this._$S2},St.prototype._$gr=function(t){this._$S2=t},St.prototype._$3L=function(){return this._$fP()},St.prototype._$mP=function(){return this._$zT(),this._$F+=8,this._$T.getFloat64(this._$F-8)},St.prototype._$_T=function(){return this._$zT(),this._$F+=4,this._$T.getFloat32(this._$F-4)},St.prototype._$6L=function(){return this._$zT(),this._$F+=4,this._$T.getInt32(this._$F-4)},St.prototype._$ST=function(){return this._$zT(),this._$T.getInt8(this._$F++)},St.prototype._$9T=function(){return this._$zT(),this._$F+=2,this._$T.getInt16(this._$F-2)},St.prototype._$2T=function(){throw this._$zT(),this._$F+=8,new lt("_$L _$q read long")},St.prototype._$po=function(){return this._$zT(),0!=this._$T.getInt8(this._$F++)};var xt=!0;St.prototype._$bT=function(){this._$zT();var t=this._$3L(),i=null;if(xt)try{var e=new ArrayBuffer(2*t);i=new Uint16Array(e);for(var r=0;r<t;++r)i[r]=this._$T.getUint8(this._$F++);return String.fromCharCode.apply(null,i)}catch(t){xt=!1}try{var o=new Array;if(null==i)for(var r=0;r<t;++r)o[r]=this._$T.getUint8(this._$F++);else for(var r=0;r<t;++r)o[r]=i[r];return String.fromCharCode.apply(null,o)}catch(t){console.log("read utf8 / _$rT _$L0 !! : "+t)}},St.prototype._$cS=function(){this._$zT();for(var t=this._$3L(),i=new Int32Array(t),e=0;e<t;e++)i[e]=this._$T.getInt32(this._$F),this._$F+=4;return i},St.prototype._$Tb=function(){this._$zT();for(var t=this._$3L(),i=new Float32Array(t),e=0;e<t;e++)i[e]=this._$T.getFloat32(this._$F),this._$F+=4;return i},St.prototype._$5b=function(){this._$zT();for(var t=this._$3L(),i=new Float64Array(t),e=0;e<t;e++)i[e]=this._$T.getFloat64(this._$F),this._$F+=8;return i},St.prototype._$nP=function(){return this._$Jb(-1)},St.prototype._$Jb=function(t){if(this._$zT(),t<0&&(t=this._$3L()),t==G._$7P){var i=this._$6L();if(0<=i&&i<this._$Ko.length)return this._$Ko[i];throw new lt("_$sL _$4i @_$m0")}var e=this._$4b(t);return this._$Ko.push(e),e},St.prototype._$4b=function(t){if(0==t)return null;if(50==t){var i=this._$bT(),e=b.getID(i);return e}if(51==t){var i=this._$bT(),e=yt.getID(i);return e}if(134==t){var i=this._$bT(),e=l.getID(i);return e}if(60==t){var i=this._$bT(),e=u.getID(i);return e}if(t>=48){var r=G._$9o(t);return null!=r?(r._$F0(this),r):null}switch(t){case 1:return this._$bT();case 10:return new n(this._$6L(),!0);case 11:return new S(this._$mP(),this._$mP(),this._$mP(),this._$mP());case 12:return new S(this._$_T(),this._$_T(),this._$_T(),this._$_T());case 13:return new L(this._$mP(),this._$mP());case 14:return new L(this._$_T(),this._$_T());case 15:for(var o=this._$3L(),e=new Array(o),s=0;s<o;s++)e[s]=this._$nP();return e;case 17:var e=new F(this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP(),this._$mP());return e;case 21:return new h(this._$6L(),this._$6L(),this._$6L(),this._$6L());case 22:return new pt(this._$6L(),this._$6L());case 23:throw new Error("_$L _$ro ");case 16:case 25:return this._$cS();case 26:return this._$5b();case 27:return this._$Tb();case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 18:case 19:case 20:case 24:case 28:throw new lt("_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : "+t);default:throw new lt("_$6 _$q : _$nP() NO _$i : "+t)}},St.prototype._$8L=function(){return 0==this._$hL?this._$v0=this._$ST():8==this._$hL&&(this._$v0=this._$ST(),this._$hL=0),1==(this._$v0>>7-this._$hL++&1)},St.prototype._$zT=function(){0!=this._$hL&&(this._$hL=0)},vt.prototype._$wP=function(t,i,e){for(var r=0;r<e;r++){for(var o=0;o<i;o++){var n=2*(o+r*i);console.log("(% 7.3f , % 7.3f) , ",t[n],t[n+1])}console.log("\\n")}console.log("\\n")},Lt._$2S=Math.PI/180,Lt._$bS=Math.PI/180,Lt._$wS=180/Math.PI,Lt._$NS=180/Math.PI,Lt.PI_F=Math.PI,Lt._$kT=[0,.012368,.024734,.037097,.049454,.061803,.074143,.086471,.098786,.111087,.12337,.135634,.147877,.160098,.172295,.184465,.196606,.208718,.220798,.232844,.244854,.256827,.268761,.280654,.292503,.304308,.316066,.327776,.339436,.351044,.362598,.374097,.385538,.396921,.408243,.419502,.430697,.441826,.452888,.463881,.474802,.485651,.496425,.507124,.517745,.528287,.538748,.549126,.559421,.56963,.579752,.589785,.599728,.609579,.619337,.629,.638567,.648036,.657406,.666676,.675843,.684908,.693867,.70272,.711466,.720103,.72863,.737045,.745348,.753536,.76161,.769566,.777405,.785125,.792725,.800204,.807561,.814793,.821901,.828884,.835739,.842467,.849066,.855535,.861873,.868079,.874153,.880093,.885898,.891567,.897101,.902497,.907754,.912873,.917853,.922692,.92739,.931946,.936359,.940629,.944755,.948737,.952574,.956265,.959809,.963207,.966457,.96956,.972514,.97532,.977976,.980482,.982839,.985045,.987101,.989006,.990759,.992361,.993811,.995109,.996254,.997248,.998088,.998776,.999312,.999694,.999924,1],Lt._$92=function(t,i){var e=Math.atan2(t[1],t[0]),r=Math.atan2(i[1],i[0]);return Lt._$tS(e,r)},Lt._$tS=function(t,i){for(var e=t-i;e<-Math.PI;)e+=2*Math.PI;for(;e>Math.PI;)e-=2*Math.PI;return e},Lt._$9=function(t){return Math.sin(t)},Lt.fcos=function(t){return Math.cos(t)},Mt.prototype._$u2=function(){return this._$IS[0]},Mt.prototype._$yo=function(){return this._$AT&&!this._$IS[0]},Mt.prototype._$GT=function(){return this._$e0},Et._$W2=0,Et.SYSTEM_INFO=null,Et.USER_AGENT=navigator.userAgent,Et.isIPhone=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone},Et.isIOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad},Et.isAndroid=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isAndroid},Et.getOSVersion=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO.version},Et.getOS=function(){return Et.SYSTEM_INFO||Et.setup(),Et.SYSTEM_INFO._isIPhone||Et.SYSTEM_INFO._isIPad?"iOS":Et.SYSTEM_INFO._isAndroid?"Android":"_$Q0 OS"},Et.setup=function(){function t(t,i){for(var e=t.substring(i).split(/[ _,;\\.]/),r=0,o=0;o<=2&&!isNaN(e[o]);o++){var n=parseInt(e[o]);if(n<0||n>999){_._$li("err : "+n+" @UtHtml5.setup()"),r=0;break}r+=n*Math.pow(1e3,2-o)}return r}var i,e=Et.USER_AGENT,r=Et.SYSTEM_INFO={userAgent:e};if((i=e.indexOf("iPhone OS "))>=0)r.os="iPhone",r._isIPhone=!0,r.version=t(e,i+"iPhone OS ".length);else if((i=e.indexOf("iPad"))>=0){if((i=e.indexOf("CPU OS"))<0)return void _._$li(" err : "+e+" @UtHtml5.setup()");r.os="iPad",r._isIPad=!0,r.version=t(e,i+"CPU OS ".length)}else(i=e.indexOf("Android"))>=0?(r.os="Android",r._isAndroid=!0,r.version=t(e,i+"Android ".length)):(r.os="-",r.version=-1)},window.UtSystem=w,window.UtDebug=_,window.LDTransform=gt,window.LDGL=nt,window.Live2D=at,window.Live2DModelWebGL=ft,window.Live2DModelJS=q,window.Live2DMotion=J,window.MotionQueueManager=ct,window.PhysicsHair=f,window.AMotion=s,window.PartsDataID=l,window.DrawDataID=b,window.BaseDataID=yt,window.ParamID=u,at.init();var At=!1}()}).call(i,e(7))},function(t,i){t.exports={import:function(){throw new Error("System.import cannot be used indirectly")}}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){this.models=[],this.count=-1,this.reloadFlg=!1,Live2D.init(),n.Live2DFramework.setPlatformManager(new _.default)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=o;var n=e(0),s=e(9),_=r(s),a=e(10),h=r(a),l=e(1),$=r(l);o.prototype.createModel=function(){var t=new h.default;return this.models.push(t),t},o.prototype.changeModel=function(t,i){if(this.reloadFlg){this.reloadFlg=!1;this.releaseModel(0,t),this.createModel(),this.models[0].load(t,i)}},o.prototype.getModel=function(t){return t>=this.models.length?null:this.models[t]},o.prototype.releaseModel=function(t,i){this.models.length<=t||(this.models[t].release(i),delete this.models[t],this.models.splice(t,1))},o.prototype.numModels=function(){return this.models.length},o.prototype.setDrag=function(t,i){for(var e=0;e<this.models.length;e++)this.models[e].setDrag(t,i)},o.prototype.maxScaleEvent=function(){$.default.DEBUG_LOG&&console.log("Max scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_IN,$.default.PRIORITY_NORMAL)},o.prototype.minScaleEvent=function(){$.default.DEBUG_LOG&&console.log("Min scale event.");for(var t=0;t<this.models.length;t++)this.models[t].startRandomMotion($.default.MOTION_GROUP_PINCH_OUT,$.default.PRIORITY_NORMAL)},o.prototype.tapEvent=function(t,i){$.default.DEBUG_LOG&&console.log("tapEvent view x:"+t+" y:"+i);for(var e=0;e<this.models.length;e++)this.models[e].hitTest($.default.HIT_AREA_HEAD,t,i)?($.default.DEBUG_LOG&&console.log("Tap face."),this.models[e].setRandomExpression()):this.models[e].hitTest($.default.HIT_AREA_BODY,t,i)?($.default.DEBUG_LOG&&console.log("Tap body. models["+e+"]"),this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY,$.default.PRIORITY_NORMAL)):this.models[e].hitTestCustom("head",t,i)?($.default.DEBUG_LOG&&console.log("Tap face."),this.models[e].startRandomMotion($.default.MOTION_GROUP_FLICK_HEAD,$.default.PRIORITY_NORMAL)):this.models[e].hitTestCustom("body",t,i)&&($.default.DEBUG_LOG&&console.log("Tap body. models["+e+"]"),this.models[e].startRandomMotion($.default.MOTION_GROUP_TAP_BODY,$.default.PRIORITY_NORMAL));return!0}},function(t,i,e){"use strict";function r(){}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var o=e(2);r.prototype.loadBytes=function(t,i){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){switch(e.status){case 200:i(e.response);break;default:console.error("Failed to load ("+e.status+") : "+t)}},e.send(null)},r.prototype.loadString=function(t){this.loadBytes(t,function(t){return t})},r.prototype.loadLive2DModel=function(t,i){var e=null;this.loadBytes(t,function(t){e=Live2DModelWebGL.loadModel(t),i(e)})},r.prototype.loadTexture=function(t,i,e,r){var n=new Image;n.crossOrigin="Anonymous",n.src=e;n.onload=function(){var e=(0,o.getContext)(),s=e.createTexture();if(!s)return console.error("Failed to generate gl texture name."),-1;0==t.isPremultipliedAlpha()&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D),t.setTexture(i,s),s=null,"function"==typeof r&&r()},n.onerror=function(){console.error("Failed to load image : "+e)}},r.prototype.jsonParseFromBytes=function(t){var i,e=new Uint8Array(t,0,3);return i=239==e[0]&&187==e[1]&&191==e[2]?String.fromCharCode.apply(null,new Uint8Array(t,3)):String.fromCharCode.apply(null,new Uint8Array(t)),JSON.parse(i)},r.prototype.log=function(t){}},function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){n.L2DBaseModel.prototype.constructor.call(this),this.modelHomeDir="",this.modelSetting=null,this.tmpMatrix=[]}Object.defineProperty(i,"__esModule",{value:!0}),i.default=o;var n=e(0),s=e(11),_=r(s),a=e(1),h=r(a),l=e(3),$=r(l);o.prototype=new n.L2DBaseModel,o.prototype.load=function(t,i,e){this.setUpdating(!0),this.setInitialized(!1),this.modelHomeDir=i.substring(0,i.lastIndexOf("/")+1),this.modelSetting=new _.default;var r=this;this.modelSetting.loadModelSetting(i,function(){var t=r.modelHomeDir+r.modelSetting.getModelFile();r.loadModelData(t,function(t){for(var i=0;i<r.modelSetting.getTextureNum();i++){if(/^https?:\\/\\/|^\\/\\//i.test(r.modelSetting.getTextureFile(i)))var o=r.modelSetting.getTextureFile(i);else var o=r.modelHomeDir+r.modelSetting.getTextureFile(i);r.loadTexture(i,o,function(){if(r.isTexLoaded){if(r.modelSetting.getExpressionNum()>0){r.expressions={};for(var t=0;t<r.modelSetting.getExpressionNum();t++){var i=r.modelSetting.getExpressionName(t),o=r.modelHomeDir+r.modelSetting.getExpressionFile(t);r.loadExpression(i,o)}}else r.expressionManager=null,r.expressions={};if(r.eyeBlink,null!=r.modelSetting.getPhysicsFile()?r.loadPhysics(r.modelHomeDir+r.modelSetting.getPhysicsFile()):r.physics=null,null!=r.modelSetting.getPoseFile()?r.loadPose(r.modelHomeDir+r.modelSetting.getPoseFile(),function(){r.pose.updateParam(r.live2DModel)}):r.pose=null,null!=r.modelSetting.getLayout()){var n=r.modelSetting.getLayout();null!=n.width&&r.modelMatrix.setWidth(n.width),null!=n.height&&r.modelMatrix.setHeight(n.height),null!=n.x&&r.modelMatrix.setX(n.x),null!=n.y&&r.modelMatrix.setY(n.y),null!=n.center_x&&r.modelMatrix.centerX(n.center_x),null!=n.center_y&&r.modelMatrix.centerY(n.center_y),null!=n.top&&r.modelMatrix.top(n.top),null!=n.bottom&&r.modelMatrix.bottom(n.bottom),null!=n.left&&r.modelMatrix.left(n.left),null!=n.right&&r.modelMatrix.right(n.right)}if(null!=r.modelSetting.getHitAreasCustom()){var s=r.modelSetting.getHitAreasCustom();null!=s.head_x&&(h.default.hit_areas_custom_head_x=s.head_x),null!=s.head_y&&(h.default.hit_areas_custom_head_y=s.head_y),null!=s.body_x&&(h.default.hit_areas_custom_body_x=s.body_x),null!=s.body_y&&(h.default.hit_areas_custom_body_y=s.body_y)}for(var t=0;t<r.modelSetting.getInitParamNum();t++)r.live2DModel.setParamFloat(r.modelSetting.getInitParamID(t),r.modelSetting.getInitParamValue(t));for(var t=0;t<r.modelSetting.getInitPartsVisibleNum();t++)r.live2DModel.setPartsOpacity(r.modelSetting.getInitPartsVisibleID(t),r.modelSetting.getInitPartsVisibleValue(t));r.live2DModel.saveParam(),r.preloadMotionGroup(h.default.MOTION_GROUP_IDLE),r.preloadMotionGroup(h.default.MOTION_GROUP_SLEEPY),r.mainMotionManager.stopAllMotions(),r.setUpdating(!1),r.setInitialized(!0),"function"==typeof e&&e()}})}})})},o.prototype.release=function(t){var i=n.Live2DFramework.getPlatformManager();t.deleteTexture(i.texture)},o.prototype.preloadMotionGroup=function(t){for(var i=this,e=0;e<this.modelSetting.getMotionNum(t);e++){var r=this.modelSetting.getMotionFile(t,e);this.loadMotion(r,this.modelHomeDir+r,function(r){r.setFadeIn(i.modelSetting.getMotionFadeIn(t,e)),r.setFadeOut(i.modelSetting.getMotionFadeOut(t,e))})}},o.prototype.update=function(){if(null==this.live2DModel)return void(h.default.DEBUG_LOG&&console.error("Failed to update."));var t=UtSystem.getUserTimeMSec()-this.startTimeMSec,i=t/1e3,e=2*i*Math.PI;if(this.mainMotionManager.isFinished()){"1"===sessionStorage.getItem("Sleepy")?this.startRandomMotion(h.default.MOTION_GROUP_SLEEPY,h.default.PRIORITY_SLEEPY):this.startRandomMotion(h.default.MOTION_GROUP_IDLE,h.default.PRIORITY_IDLE)}this.live2DModel.loadParam(),this.mainMotionManager.updateParam(this.live2DModel)||null!=this.eyeBlink&&this.eyeBlink.updateParam(this.live2DModel),this.live2DModel.saveParam(),null==this.expressionManager||null==this.expressions||this.expressionManager.isFinished()||this.expressionManager.updateParam(this.live2DModel),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",30*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",30*this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",this.dragX*this.dragY*-30,1),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",10*this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_X",this.dragX,1),this.live2DModel.addToParamFloat("PARAM_EYE_BALL_Y",this.dragY,1),this.live2DModel.addToParamFloat("PARAM_ANGLE_X",Number(15*Math.sin(e/6.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Y",Number(8*Math.sin(e/3.5345)),.5),this.live2DModel.addToParamFloat("PARAM_ANGLE_Z",Number(10*Math.sin(e/5.5345)),.5),this.live2DModel.addToParamFloat("PARAM_BODY_ANGLE_X",Number(4*Math.sin(e/15.5345)),.5),this.live2DModel.setParamFloat("PARAM_BREATH",Number(.5+.5*Math.sin(e/3.2345)),1),null!=this.physics&&this.physics.updateParam(this.live2DModel),null==this.lipSync&&this.live2DModel.setParamFloat("PARAM_MOUTH_OPEN_Y",this.lipSyncValue),null!=this.pose&&this.pose.updateParam(this.live2DModel),this.live2DModel.update()},o.prototype.setRandomExpression=function(){var t=[];for(var i in this.expressions)t.push(i);var e=parseInt(Math.random()*t.length);this.setExpression(t[e])},o.prototype.startRandomMotion=function(t,i){var e=this.modelSetting.getMotionNum(t),r=parseInt(Math.random()*e);this.startMotion(t,r,i)},o.prototype.startMotion=function(t,i,e){var r=this.modelSetting.getMotionFile(t,i);if(null==r||""==r)return void(h.default.DEBUG_LOG&&console.error("Failed to motion."));if(e==h.default.PRIORITY_FORCE)this.mainMotionManager.setReservePriority(e);else if(!this.mainMotionManager.reserveMotion(e))return void(h.default.DEBUG_LOG&&console.log("Motion is running."));var o,n=this;null==this.motions[t]?this.loadMotion(null,this.modelHomeDir+r,function(r){o=r,n.setFadeInFadeOut(t,i,e,o)}):(o=this.motions[t],n.setFadeInFadeOut(t,i,e,o))},o.prototype.setFadeInFadeOut=function(t,i,e,r){var o=this.modelSetting.getMotionFile(t,i);if(r.setFadeIn(this.modelSetting.getMotionFadeIn(t,i)),r.setFadeOut(this.modelSetting.getMotionFadeOut(t,i)),h.default.DEBUG_LOG&&console.log("Start motion : "+o),null==this.modelSetting.getMotionSound(t,i))this.mainMotionManager.startMotionPrio(r,e);else{var n=this.modelSetting.getMotionSound(t,i),s=document.createElement("audio");s.src=this.modelHomeDir+n,h.default.DEBUG_LOG&&console.log("Start sound : "+n),s.play(),this.mainMotionManager.startMotionPrio(r,e)}},o.prototype.setExpression=function(t){var i=this.expressions[t];h.default.DEBUG_LOG&&console.log("Expression : "+t),this.expressionManager.startMotion(i,!1)},o.prototype.draw=function(t){$.default.push(),$.default.multMatrix(this.modelMatrix.getArray()),this.tmpMatrix=$.default.getMatrix(),this.live2DModel.setMatrix(this.tmpMatrix),this.live2DModel.draw(),$.default.pop()},o.prototype.hitTest=function(t,i,e){for(var r=this.modelSetting.getHitAreaNum(),o=0;o<r;o++)if(t==this.modelSetting.getHitAreaName(o)){var n=this.modelSetting.getHitAreaID(o);return this.hitTestSimple(n,i,e)}return!1},o.prototype.hitTestCustom=function(t,i,e){return"head"==t?this.hitTestSimpleCustom(h.default.hit_areas_custom_head_x,h.default.hit_areas_custom_head_y,i,e):"body"==t&&this.hitTestSimpleCustom(h.default.hit_areas_custom_body_x,h.default.hit_areas_custom_body_y,i,e)}},function(t,i,e){"use strict";function r(){this.NAME="name",this.ID="id",this.MODEL="model",this.TEXTURES="textures",this.HIT_AREAS="hit_areas",this.PHYSICS="physics",this.POSE="pose",this.EXPRESSIONS="expressions",this.MOTION_GROUPS="motions",this.SOUND="sound",this.FADE_IN="fade_in",this.FADE_OUT="fade_out",this.LAYOUT="layout",this.HIT_AREAS_CUSTOM="hit_areas_custom",this.INIT_PARAM="init_param",this.INIT_PARTS_VISIBLE="init_parts_visible",this.VALUE="val",this.FILE="file",this.json={}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=r;var o=e(0);r.prototype.loadModelSetting=function(t,i){var e=this;o.Live2DFramework.getPlatformManager().loadBytes(t,function(t){var r=String.fromCharCode.apply(null,new Uint8Array(t));e.json=JSON.parse(r),i()})},r.prototype.getTextureFile=function(t){return null==this.json[this.TEXTURES]||null==this.json[this.TEXTURES][t]?null:this.json[this.TEXTURES][t]},r.prototype.getModelFile=function(){return this.json[this.MODEL]},r.prototype.getTextureNum=function(){return null==this.json[this.TEXTURES]?0:this.json[this.TEXTURES].length},r.prototype.getHitAreaNum=function(){return null==this.json[this.HIT_AREAS]?0:this.json[this.HIT_AREAS].length},r.prototype.getHitAreaID=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.ID]},r.prototype.getHitAreaName=function(t){return null==this.json[this.HIT_AREAS]||null==this.json[this.HIT_AREAS][t]?null:this.json[this.HIT_AREAS][t][this.NAME]},r.prototype.getPhysicsFile=function(){return this.json[this.PHYSICS]},r.prototype.getPoseFile=function(){return this.json[this.POSE]},r.prototype.getExpressionNum=function(){return null==this.json[this.EXPRESSIONS]?0:this.json[this.EXPRESSIONS].length},r.prototype.getExpressionFile=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.FILE]},r.prototype.getExpressionName=function(t){return null==this.json[this.EXPRESSIONS]?null:this.json[this.EXPRESSIONS][t][this.NAME]},r.prototype.getLayout=function(){return this.json[this.LAYOUT]},r.prototype.getHitAreasCustom=function(){return this.json[this.HIT_AREAS_CUSTOM]},r.prototype.getInitParamNum=function(){return null==this.json[this.INIT_PARAM]?0:this.json[this.INIT_PARAM].length},r.prototype.getMotionNum=function(t){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]?0:this.json[this.MOTION_GROUPS][t].length},r.prototype.getMotionFile=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]?null:this.json[this.MOTION_GROUPS][t][i][this.FILE]},r.prototype.getMotionSound=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.SOUND]?null:this.json[this.MOTION_GROUPS][t][i][this.SOUND]},r.prototype.getMotionFadeIn=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]?1e3:this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]},r.prototype.getMotionFadeOut=function(t,i){return null==this.json[this.MOTION_GROUPS]||null==this.json[this.MOTION_GROUPS][t]||null==this.json[this.MOTION_GROUPS][t][i]||null==this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]?1e3:this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]},r.prototype.getInitParamID=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?null:this.json[this.INIT_PARAM][t][this.ID]},r.prototype.getInitParamValue=function(t){return null==this.json[this.INIT_PARAM]||null==this.json[this.INIT_PARAM][t]?NaN:this.json[this.INIT_PARAM][t][this.VALUE]},r.prototype.getInitPartsVisibleNum=function(){return null==this.json[this.INIT_PARTS_VISIBLE]?0:this.json[this.INIT_PARTS_VISIBLE].length},r.prototype.getInitPartsVisibleID=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?null:this.json[this.INIT_PARTS_VISIBLE][t][this.ID]},r.prototype.getInitPartsVisibleValue=function(t){return null==this.json[this.INIT_PARTS_VISIBLE]||null==this.json[this.INIT_PARTS_VISIBLE][t]?NaN:this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]}}]);\n',document.body.appendChild(n)}var n=new XMLHttpRequest;n.open("get",this.model[this.currentTheme]),n.send(),n.onreadystatechange=function(){200!==n.status&&(console.log("看板娘的CDN资源加载失败了，请稍后刷新页面重试！"),document.querySelector(".kanbanniang").style.display="none")},window.loadlive2d("banniang",this.model[this.currentTheme])}}},Eo=(e(342),Object(Lt.a)(To,(function(){var n=this,t=n._self._c;return t("div",{staticClass:"kanbanniang"},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.isLoaded,expression:"isLoaded"}],staticClass:"banniang-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.isShowMessageBox,expression:"isShowMessageBox"}],staticClass:"messageBox",style:n.messageStyle},[n._v("\n      "+n._s(n.messages.message||"欢迎来到 "+n.$site.title)+"\n    ")]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!n.isShowBtns,expression:"!isShowBtns"}],staticClass:"operation",style:n.btnStyle,on:{mouseenter:function(t){n.isShowMessageBox=!0},mouseleave:function(t){n.isShowMessageBox=!1}}},[t("i",{staticClass:"kbnfont kbn-ban-home ban-home",on:{click:n.goHome,mouseenter:n.hoverGoHome,mouseleave:n.resetMessage}}),n._v(" "),t("i",{staticClass:"kbnfont kbn-ban-message message"}),n._v(" "),t("i",{staticClass:"kbnfont kbn-ban-close close",on:{click:n.closeBanNiang,mouseenter:n.hoverCloseBanNiang,mouseleave:n.resetMessage}}),n._v(" "),t("a",{attrs:{target:"_blank",href:"https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html"}},[t("i",{staticClass:"kbnfont kbn-ban-info info",on:{mouseenter:n.hoverMoreInfo,mouseleave:n.resetMessage}})]),n._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:n.myTheme.length>1,expression:"myTheme.length > 1"}],staticClass:"kbnfont kbn-ban-theme skin",on:{click:n.changeTheme,mouseenter:n.hoverChangeTheme,mouseleave:n.resetMessage}})]),n._v(" "),t("canvas",{staticClass:"live2d",style:n.modelStyle,attrs:{id:"banniang",width:n.style.width,height:n.style.height}})]),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n.displayBanNiang,expression:"displayBanNiang"}],staticClass:"showBanNiang",on:{click:n.showBanNiang}},[n._v("\n    看板娘\n  ")])])}),[],!1,null,"5775ee02",null).exports),Ao={name:"GoTop",data:()=>({visibilityHeight:500,catStyle:"hide-cat"}),mounted(){window.addEventListener("scroll",this.handleScroll,!0)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.catStyle=this.getScrollTop()>this.visibilityHeight?"show-cat":"hide-cat"},getScrollTop:()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,goTop(){window.scrollTo({top:0,behavior:"smooth"}),this.scrollTop=0}}},Do=(e(343),Object(Lt.a)(Ao,(function(){return(0,this._self._c)("div",{class:this.catStyle,attrs:{id:"goTop"},on:{click:this.goTop}})}),[],!1,null,"bf92849a",null).exports),Co=[({Vue:n,siteData:t,isServer:e,router:r})=>{n.mixin(ee),n.mixin(ue),Object(pe.c)(r),Object(pe.a)(r)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},({Vue:n})=>{n.component("Pagation",ye)},({Vue:n})=>{n.mixin({computed:{$perPage:()=>10}})},({Vue:n})=>{n.component("Comments",qi),n.component("AccessNumber",Wi)},{},({Vue:n})=>{const t=Object.keys(Yi).map(n=>{const t=Yi[n],e="$"+n;return{[e](){const{pages:n}=this.$site;return new Xi(t,n)},["$current"+(n.charAt(0).toUpperCase()+n.slice(1))](){const n=this.$route.meta.id;return this[e].getItemByName(n)}}}).reduce((n,t)=>(Object.assign(n,t),n),{});t.$frontmatterKey=function(){const n=this["$"+this.$route.meta.id];return n||null},n.mixin({computed:t})},({Vue:n})=>{n.mixin({computed:{$pagination(){return this.$route.meta.pid&&this.$route.meta.id?this.$getPagination(this.$route.meta.pid,this.$route.meta.id):null}},methods:{$getPagination(n,t){return t=t||n,eo.getPagination(n,t,this.$route)}}})},({Vue:n})=>{const t={$service:()=>ro};n.mixin({computed:t})},({Vue:n,router:t})=>{t.options.scrollBehavior=(t,e,r)=>{if(r)return window.scrollTo({top:r.y,behavior:"smooth"});if(t.hash){if(n.$vuepress.$get("disableScrollBehavior"))return!1;const e=document.querySelector(t.hash);return!!e&&window.scrollTo({top:io(e).y,behavior:"smooth"})}return window.scrollTo({top:0,behavior:"smooth"})}},({Vue:n})=>{n.component("BgMusic",po)},({Vue:n})=>{n.component(fo.name,fo)},({Vue:n})=>{n.component("Boxx",wo)},({Vue:n})=>{n.component(ko.name,ko),n.mixin({mounted(){window.addEventListener("unload",this.saveLastReading)},methods:{saveLastReading(){localStorage.setItem("lastReading",JSON.stringify({path:this.$route.path,scrollTop:document.documentElement.scrollTop,timestamp:(new Date).getTime()}))}}})},({Vue:n})=>{n.component("KanBanNiang",Eo)},({Vue:n})=>{n.component("CodeCopy",Rt)},({Vue:n})=>{n.component("GoTop",Do)},({router:n})=>{"undefined"!=typeof window&&function(){var n=document.createElement("script"),t=window.location.protocol.split(":")[0];n.src="https"===t?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)}()}],Po=["BgMusic","Sakura","LastReadingPopup","KanBanNiang","GoTop"];class So extends class{constructor(){this.store=new r.b({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,t){r.b.set(this.store.state,n,t)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(So.prototype,{getPageAsyncComponent:ct,getLayoutAsyncComponent:ut,getAsyncComponent:pt,getVueComponent:dt});var Io={install(n){const t=new So;n.$vuepress=t,n.prototype.$vuepress=t}};function jo(n,t){const e=t.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===e)}var Oo={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const t=this.pageKey||this.$parent.$page.key;return ht("pageKey",t),r.b.component(t)||r.b.component(t,ct(t)),r.b.component(t)?n(t):n("")}},Lo={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:t,slots:e})=>n("div",{class:["content__"+t.slotKey]},e()[t.slotKey])},Mo={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Fo=(e(344),e(345),Object(Lt.a)(Mo,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),zo={functional:!0,render(n,{parent:t,children:e}){if(t._isMounted)return e;t.$once("hook:mounted",()=>{t.$forceUpdate()})}};r.b.config.productionTip=!1,r.b.use(Wn),r.b.use(Io),r.b.mixin(function(n,t,e=r.b){!function(n){n.locales&&Object.keys(n.locales).forEach(t=>{n.locales[t].path=t});Object.freeze(n)}(t),e.$vuepress.$set("siteData",t);const i=new(n(e.$vuepress.$get("siteData"))),o=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(i)),a={};return Object.keys(o).reduce((n,t)=>(t.startsWith("$")&&(n[t]=o[t].get),n),a),{computed:a}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let t,e;for(const r in n)"/"===r?e=n[r]:0===this.$page.path.indexOf(r)&&(t=n[r]);return t||e||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:t}=this.$page.frontmatter;if("string"==typeof t)return t;const e=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return e?r?r+" | "+e:e:r||"VuePress"}get $description(){const n=function(n){if(n){const t=n.filter(n=>"description"===n.name)[0];if(t)return t.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,t){for(let e=0;e<n.length;e++){const r=n[e];if(r.path.toLowerCase()===t.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},ne)),r.b.component("Content",Oo),r.b.component("ContentSlotsDistributor",Lo),r.b.component("OutboundLink",Fo),r.b.component("ClientOnly",zo),r.b.component("Layout",ut("Layout")),r.b.component("NotFound",ut("NotFound")),r.b.prototype.$withBase=function(n){const t=this.$site.base;return"/"===n.charAt(0)?t+n.slice(1):n},window.__VUEPRESS__={version:"1.9.9",hash:"5873886"},async function(n){const t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:ne.routerBase||ne.base,e=new Wn({base:t,mode:"history",fallback:!1,routes:Zt,scrollBehavior:(n,t,e)=>e||(n.hash?!r.b.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((t,e,r)=>{if(jo(n,t.path))r();else if(/(\/|\.html)$/.test(t.path))if(/\/$/.test(t.path)){const e=t.path.replace(/\/$/,"")+".html";jo(n,e)?r(e):r()}else r();else{const e=t.path+"/",i=t.path+".html";jo(n,i)?r(i):jo(n,e)?r(e):r()}})}(e);const i={};try{await Promise.all(Co.filter(n=>"function"==typeof n).map(t=>t({Vue:r.b,options:i,router:e,siteData:ne,isServer:n})))}catch(n){console.error(n)}return{app:new r.b(Object.assign(i,{router:e,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Po.map(t=>n(t)))])})),router:e}}(!1).then(({app:n,router:t})=>{t.onReady(()=>{n.$mount("#app")})})}]);